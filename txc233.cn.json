{"settings.rth":{"home":"home.php","time":1690562583},"404.html":"<!DOCTYPE html>\n<html><head>\n<title>404 Not Found</title>\n</head><body>\n<h1>网页被天天抢走了!</h1>\n<p>可能输入了错误的网址或网站已被管理者删除</p>\n<br><a href=\"http://txc233.cn\">回到主页</a>","gz.html":"<body bgcolor=\"fffdb7\">\r\n<meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\">\r\n<meta charset=\"utf-8\"/>\r\n<meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\">\r\n<body bgcolor=\"fffdb7\">\r\n<head>\r\n\t<title>TXC团队主页-规则</title>\r\n</head>\r\n这个规则不适应新的网页...只是用来考古\r\n<h3>规则</h3>\r\n<p>关于网站的使用规则与编辑规则\r\n\t<br><p>1.这个是TXC团队的网站\r\n\t<br><p>2.不许在网站上上传资源，需要用百度盘之类的链接或邮箱发\r\n\t<br><p>3.写完一句话后不要打句号（什么傻逼要求？？？语文老师警告）\r\n\t<br><p>4.不许买盗版游戏机\r\n\t<br><p>5.每过一天源码需要备份一次\r\n\t<br><p>6.请不要泄露网站源码编辑，以防小黑一类的熊孩子搞破坏\r\n\t<br><p>7.如果下面的SB讨论区&发言区的内容过长，需要建立一个新文件保存\r\n\t<br><p>8.SB讨论区&发言区需要在末尾标注时间\r\n\t<br><p>9.打代码时要缩进啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊\r\n\t<br><p>10.打完代码后先备份再保存\r\n\t<br><p>11.发言时请选择最底端发言\r\n\t<br><p>12.不准ghs\r\n\t<br><p>13.不准骂我\r\n\t<br><p>14.不准恶意发无意义的帖\r\n\t<br><h4><font color=\"red\">15.不要删除别人的发言！编辑时请先刷新页面！</font></h4>\r\n\t<p>16.禁止发布无关的不合适内容，一旦发现，有权删除你的发言\r\n\t<p>17.所有人弄子网站时不要搞中文名！\r\n\r\n\t<br><br>\r\n\t<a href=\"http://txc233.cn/home.html\"><input type=\"button\" value=\"我康完了！\" style=\"width: 86px; height: 40px;\" />","oldhome.html":"\r\n</html>\r\n<body bgcolor=\"e3ffdb\">\r\n<head>\r\n\t<title>TXC团队主页</title>\r\n</head>\r\n\r\n<h1>TXC团队主页</h1>\r\n<p>这是TXC团队的主页！由老猫和小柴and不会编程的菜鸡小黑制作！\r\n<p>因为这个网页要钱才能达到1M的大小，所以我们只有1048576字节！我们只能到这个网站上输入大约52万字左右...\r\n\t(明明很多了)，<span style=\"text-decoration:line-through;\">我们可以在这ghs</span>，在这里写无聊的东西！\r\n<p><br>\r\n<h3>网站里程碑</h3>\r\n\t<p>2020/4/17网站建立\r\n<p><br>\r\n<h3>规则区</h3>\r\n<p>所有人发言或编辑时必须看的规则\r\n<a href=\"http://txc233.rthe.net/gz.html\">点我进入</a>\r\n<p><br>\r\n<h3>公告栏</h3>\r\n<p>小柴我来你家惹！--老猫 2020年4月18日 17:27:12\r\n\r\n<p><br>\r\n<h3>精品区</h3>\r\n\t<a href=\"https://txcxiaochai.666forum.com\">小柴的论坛</a>\r\n\t<p>要换网页颜色就去这个网站   <a href=\"https://encycolorpedia.cn/d2fbff\">点我跳转</a> <br>然后得到颜色代码后就更改第二行的颜色代码，默认为f7fdff，每周更换一次\r\n\t<p>换行代码是< br >（没有空格）\r\n\t<p><span style=\"text-decoration:line-through;\">删除线效果</span>\r\n<p><br>\r\n<h3>SB讨论区&发言区</h3>\r\n\t<p>为什么老猫辣么可爱？\r\n\t<p>老猫大富婆2真好玩\r\n\t<p>老猫很可爱是怎么回事呢？老猫相信大家都很熟悉，但是老猫很可爱是怎么回事呢，下面就让小编带大家一起了解吧。<br>老猫很可爱，其实就是老猫是猫猫啊，大家可能会很惊讶老猫怎么会很可爱呢？<br>但事实就是这样，小编也感到非常惊讶。这就是关于老猫很可爱的事情了，大家有什么想法呢，欢迎在评论区告诉小编一起讨论哦！\r\n\t<p>爷来啦\r\n\t<p>要换网页颜色就去这个网站   <a href=\"https://encycolorpedia.cn/d2fbff\">点我跳转</a> <br>然后得到颜色代码后就更改第二行的颜色代码，默认为f7fdff，每周更换一次\r\n\t<p>换行代码是< br >（没有空格）\r\n\t<P>下一个网页颜色是这个！e3ffdb\r\n\t<p>有人吗\r\n\t<p>感谢小柴的超链接！\r\n\t<P><a href=\"http://txc233.cn/404.html\">你们要进入错误网站吗？</a> \r\n\t<p>近日，一位国内小哥创建了一个网站<br>\r\n\t<p>究竟发生了什么呢？<br>\r\n\t<p>来和小编一起来康康吧\r\n\t<p>？？？竟敢在我不在的时候ghs，永封\r\n\t<p>小黑不打缩进，永封！\r\n\t<p>打一顿就好了\r\n\t<p>小柴你说句话啊~\r\n\t\r\n<p><br><a href=\"http://txc233.cn/home.html\">回到真正的主页</a>","pictures/":"","png/":"","downloads/":"","oldcatks.html":"<!DOCTYPE html >\r\n<head>\r\n\t<title>老猫口算官网</title>\r\n\r\n\t<LINK REL=\"SHORTCUT ICON\" HREF=\"https://xiaochai.txc233.cn/png/LOGO2.ico\">\r\n\t<div align=\"center\">\r\n\r\n\t<link rel=\"shortcut icon\" href=\"pictures/favicon.ico\"/>\r\n\r\n\t \t <!-- Buttons 库的核心文件 -->\r\n\t\t<link rel=\"stylesheet\" href=\"https://www.bootcss.com/p/buttons/css/buttons.css\">\r\n\r\n\t\t<!-- 当需要使用带下拉菜单的按钮时才需要加载下面的 JavaScript 文件 -->\r\n\t\t<script src=\"http://cdn.bootcss.com/jquery/1.11.2/jquery.min.js\"></script>\r\n\t\t<script type=\"text/javascript\" src=\"http://cdn.bootcss.com/jquery/1.11.2/jquery.min.js\"></script>\r\n\r\n\t\t<!-- 只有使用字体图标时才需要加载 Font-Awesome -->\r\n\t\t<link href=\"http://cdn.bootcss.com/font-awesome/4.2.0/css/font-awesome.min.css\" rel=\"stylesheet\">\r\n<style>\r\n\t\tbody {margin: 0;}\r\n\r\n\t\tul.topnav {\r\n\t\t\tlist-style-type: none;\r\n\t\t\tmargin: 0;\r\n\t\t\tpadding: 0;\r\n\t\t\toverflow: hidden;\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tul.topnav li {float: left;}\r\n\r\n\t\tul.topnav li a {\r\n\t\t\tdisplay: block;\r\n\t\t\tcolor: black;\r\n\t\t\ttext-align: center;\r\n\t\t\tpadding: 14px 20px;\r\n\t\t\ttext-decoration: none;\r\n\t\t}\r\n\t\tul.topnav li a:hover:not(.active) {background: rgba(195,195,195, 0.5);}\r\n\t\tul.topnav li a.active {background: rgba(114,181,255, 0.5);}\r\n\t\tul.topnav li.right {float: right;}\r\n\t\t@media screen and (max-width: 950px){\r\n\t\t\tul.topnav li.right, \r\n\t\t\tul.topnav li {float: none;}\r\n\t\t}\r\n\t</style>\r\n\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n\t\r\n\t\r\n\t\r\n\t<meta charset=\"utf-8\">\r\n\t<style>\r\n\theader {\r\n-webkit-backdrop-filter: blur(10px);\r\n\tbackdrop-filter: blur(10px);\r\n\tbackground-color: rgba(255,255,255,.1);\r\n\tbox-shadow: 0 2px 2px rgba(0,0,0,.2);\r\n\tpadding: 10px 15px;\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\t-webkit-user-select: none;\r\n\tuser-select: none;\r\n\twidth: 100%;\r\n}\r\n\t\r\n\t</style>\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t</head>\r\n<body>\r\n\r\n\r\n</li><br><br><br>\r\n<h1><big>老猫口算官网</big></h1>\r\n\t<h2>old cat's arithmetic</h2>\r\n\t<br><br><br>\r\n\t\t<a onclick=\"myFunction()\" target=\"_blank\" class=\"button button-glow button-rounded button button-highlight button-pill button-large\">点我下载</a>\r\n\r\n\r\n<script>\r\nfunction myFunction() {\r\n  var txt;\r\n  if (confirm(\"请在网页最底端查看粗体字的要求，是否同意？\")) {\r\n     window.open(\"https://txc233.lanzous.com/igTU6dpc39c\");\r\n     txt = \"\";\r\n  } else {\r\n    txt = \"\";\r\n  }\r\n  document.getElementById(\"demo\").innerHTML = txt;\r\n}\r\n</script>\r\n\r\n\r\n<h3>版本：2.2.1</h3>\r\n<h4>个人软件，如提示有病毒，纯属误报。<br><br>\r\n<img src=\"https://s1.ax1x.com/2020/08/01/a3scpd.md.png\"width=\"50%\" alt=\"a3scpd.png\" border=\"0\" /></a>\r\n\r\n\r\n<p>软件界面</p><br>\r\n<h3>介绍</h3>\r\n<table border=\"1\" width=\"80%\"style=\"border-collapse: collapse;\">\r\n\t<tr>\r\n\t<td>简介</td>\r\n\t<td>老猫口算是一款练习除法口算的电脑软件。<br>用来练习小学五六年级的除法口算的计算速度与准确性。<br>\r\n界面为矢量界面，具有难度选择、错题表、对错统计、时间显示、对错判断、题量选择等功能，是一款国产免费的开源软件。</td>\r\n   </tr>\r\n\r\n\t<tr>\r\n\t<td>软件平台</td>\r\n\t<td><p>\twindows7或更高</td>\r\n   </tr>\r\n\r\n   \t<tr>\r\n\t<td>上线时间</td>\r\n\t<td>2020年1月15日</td>\r\n   </tr>\r\n\r\n   \t<tr>\r\n\t<td>最近更新时间</td>\r\n\t<td>2020年4月16日</td>\r\n   </tr>\r\n\r\n   \t<tr>\r\n\t<td>软件语言</td>\r\n\t<td>中文</td>\r\n   </tr>\r\n\r\n   \t<tr>\r\n\t<td>软件版本</td>\r\n\t<td>2.2.1</td>\r\n   </tr>\r\n\r\n   \t<tr>\r\n\t<td>软件大小</td>\r\n\t<td>2.63 MB</td>\r\n   </tr>\r\n\r\n   \t<tr>\r\n\t<td>软件介绍</td>\r\n\t<td>老猫口算是一款练习小学五六年级的除法口算的电脑软件。<br>\r\n为矢量界面，具有难度选择、错题表、对错统计、时间显示、对错判断、题量选择等功能。</td>\r\n   </tr>\r\n   \r\n   \t<tr>\r\n\t<td>软件特色</td>\r\n\t<td>难度选择：三位数除以两位数到四位数除以三位数。<br>\r\n对错判断：判断对错。<br>\r\n错题表：显示所有做错的题。<br>\r\n对错统计：统计对错。<br>\r\n时间显示：显示做题的时间（分、秒）。<br>\r\n题量选择：做题开始时显示题量，对的题目到达指定题量后自动停止。</td>\r\n   </tr>\r\n\r\n   \t<tr>\r\n\t<td>版本记录</td>\r\n\t<td>2.0增加错题表。<br>\r\n2.1增加难度选择。<br>\r\n2.2增加题量选择。<br>\r\n2.2.1界面改为矢量界面，修复已知bug。</td>\r\n   </tr>\r\n\r\n   \t<tr>\r\n\t<td>开发软件</td>\r\n\t<td>scratch2.0开发（已经转换成exe，无需再在编辑器中打开）</td>\r\n   </tr>\r\n\r\n    <tr>\r\n\t<td>作者（开发商）</td>\r\n\t<td>陈子聪</td>\r\n   </tr>\r\n\r\n   \t<tr>\r\n\t<td>运行环境</td>\r\n\t<td>windows7或更高，<br>\r\n需要最新版本的flash player，否则可能无法运行。</td>\r\n   </tr>\r\n</table>\r\n<br><br><br>\r\n\r\n\t<h3>帮助</h3>\r\n\t这是个windows软件。\r\n\t<br>如果出现更新flash player就到官网更新<a href=\"https://www.flash.cn/\"target=\"_blank\">点我</a>。</p>\r\n\r\n<br><br><br><br><br>\r\n<b><font color=\"red\">软件和以上内容均为原创，仅供学习交流使用。<br>版权归于站长，软件二次打包发布需注明官网。\r\n<br>如果将源码修改后发布，请注明参考老猫口算Ver.2.2.1，源码来源于本网站，且同样开源。</font><br>欢迎转载，但转载请标明官网哦！</b>\r\n<br><br><br><br><br><br><br><br><br>","fnf.html":"<p>题目来源：@宇惊天 https://space.bilibili.com/535137580?spm_id_from=333.788.b_636f6d6d656e74.10 \r\n<br>试卷排版：老猫 oldcatmiku@qq.com</p>","EPIC/":"","EPIC/yugao.html":"<h1>正在加载预告...</h1>\r\n<meta http-equiv=\"Refresh\" content=\"1; url=https://www.bilibili.com/video/BV1va411w7aM?t=7\">","oldEPIC.html":"<!DOCTYPE html >\r\n<head>\r\n\t<title>TXC团队主页</title>\r\n\r\n\t<LINK REL=\"SHORTCUT ICON\" HREF=\"https://xiaochai.txc233.cn/png/LOGO2.ico\">\r\n\t<link rel=\"shortcut icon\" href=\"pictures/favicon.ico\"/>\r\n</head>\r\n<body>\r\n<h1>恭喜发现新大陆！</h1>\r\n<p><strong>关于本游戏</strong>《铅笔猫的史诗级大冒险》是铅笔猫从2020年7月开始开发，最新的游戏！</p><br>\r\n<strong>Q&A</strong>\r\n<br><p>\r\n<strong>游戏什么时候能做完？</strong><br>大约在今年三月会做完！<br><br>\r\n<strong>这是一个什么类型的游戏？</strong><br>这个游戏是RPG游戏，用RPG Maker VX ACE制作，绝对是史诗级的游戏，是无法和垃圾的老猫口算比的！<br><br>\r\n<strong>既然是RPG Maker VX ACE制作的游戏，图块会很普通吗？会不会和其他RPG Maker VX ACE制作的游戏一样？</strong><br>绝对不会！因为我使用了Bakahazard作者大大的工程文件，也就是说会以生活为原型，<br>使用野比大雄的生化危机图块，并且，人物全部占两格！<br><br>\r\n<strong>此游戏有限制级别吗？</strong><br>没有专业的评价，但我个人认为是E10+ 级（Everyone 10+，10 岁以上）。<br><br>\r\n<strong>游戏有几个结局？</strong><br>一。<br><br>\r\n<strong>我能现在能玩吗？</strong><br>你在想P吃。<br><br>\r\n<strong>我不小心点进了这个页面，怎么返回主页？</strong><br>你无法返回主页<small>除非你重新输入网址或回退</small><br><br>","vidio/":"","vidio/a.html":"<h1>剧透警告！如果你确定玩通关此游戏请往下滑</h1>\r\n<div style=\"text-align: center;\">\r\n<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>\r\n<p >某些老掉牙的浏览器可能看不了，请升级至Chrome或Edge。可下载，可发布，要求注明来源<a href=\"https://txc233.cn\" target=\"_blank\">txc233.cn<a/>\r\n<video width=\"514\" height=\"416\" controls=\"controls\" autoplay=\"autoplay\">\r\n  <source src=\"/vidio/混剪.mp4\" type=\"video/mp4\" />\r\n</video>","png/SB.ico":{"size":4286,"type":"image/x-icon","url":"chenzicongokq6eqkx/txc233.cn/499e727cc9e1f455e1f8638b7a4eb8d6/1629081319.ico"},"pictures/Capture 2021-05-03 21_25_15.png":{"size":301753,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/e7a04a3ced6be593635e409155f66ad0/1629082255.png"},"pictures/logo.png":{"size":13174,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/a7fdd8388873141b027210cd4e259ff0/1629082257.png"},"pictures/logo12.png":{"size":22011,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/2e7f384c774707a882933d8304ccba24/1629082258.png"},"pictures/newlogo2.png":{"size":20401,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/e22efd3eb303a13403231ffdd4230dae/1629082259.png"},"pictures/sjymcD.gif":{"size":134556,"type":"image/gif","url":"chenzicongokq6eqkx/txc233.cn/32b68e9adca88ff626cfa6daa88650a5/1629082260.gif"},"pictures/界面23.png":{"size":27433,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/ef8d5367b5c442b0e37ada5967b9eee9/1629082262.png"},"pictures/图二维码.png":{"size":6244,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/4c430fc2f0b81e71eba8d32077bafff2/1629082263.png"},"png/down.png":{"size":492,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/48eb2f871fccb53398064c466ff3ff34/1629085701.png"},"png/fire.png":{"size":633,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/70fc8b9e37e80fb8aec65213e186819b/1629085702.png"},"png/loveeye.png":{"size":718,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/8e83c9f5cfa7cadb2319dbd50061ee8d/1629085702.png"},"png/lovemouse.png":{"size":835,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/b141a544e516dd60d52ace7183f169cb/1629085704.png"},"png/xing.png":{"size":530,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/8d2ae010e55d98d6c7662688e12ba713/1629085704.png"},"pictures/xcsb.gif":{"size":12387,"type":"image/gif","url":"chenzicongokq6eqkx/txc233.cn/073b65f37b98a213e4831d91954e1d19/1629085732.gif"},"pictures/界面3.png":{"size":28469,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/31f192250d7ebac72cebb26c72229a3e/1629085733.png"},"pictures/界面24.png":{"size":21731,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/192a1d120890a88e09e639f1a5e4e8f8/1629085735.png"},"vidio/混剪.mp4":{"size":4687883,"type":"video/mp4","url":"chenzicongokq6eqkx/txc233.cn/3019c3e19328451a45ef5f44032f80c5/1629086260.mp4"},"Steam — 顶级在线游戏平台_files/":"","Steam — 顶级在线游戏平台_files/_combined.js":"// script.aculo.us scriptaculous.js v1.8.1, Thu Jan 03 22:07:12 -0500 2008\r\n\r\n// Copyright (c) 2005-2007 Thomas Fuchs (http://script.aculo.us, http://mir.aculo.us)\r\n// \r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n// \r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n// For details, see the script.aculo.us web site: http://script.aculo.us/\r\n\r\nvar Scriptaculous = {\r\n  Version: '1.8.1',\r\n  require: function(libraryName) {\r\n    // inserting via DOM fails in Safari 2.0, so brute force approach\r\n    document.write('<script type=\"text/javascript\" src=\"'+libraryName+'\"><\\/script>');\r\n  },\r\n  REQUIRED_PROTOTYPE: '1.6.0',\r\n  load: function() {\r\n    function convertVersionString(versionString){\r\n      var r = versionString.split('.');\r\n      return parseInt(r[0])*100000 + parseInt(r[1])*1000 + parseInt(r[2]);\r\n    }\r\n \r\n    if((typeof Prototype=='undefined') || \r\n       (typeof Element == 'undefined') || \r\n       (typeof Element.Methods=='undefined') ||\r\n       (convertVersionString(Prototype.Version) < \r\n        convertVersionString(Scriptaculous.REQUIRED_PROTOTYPE)))\r\n       throw(\"script.aculo.us requires the Prototype JavaScript framework >= \" +\r\n        Scriptaculous.REQUIRED_PROTOTYPE);\r\n    \r\n    $A(document.getElementsByTagName(\"script\")).findAll( function(s) {\r\n      return (s.src && s.src.match(/scriptaculous\\.js(\\?.*)?$/))\r\n    }).each( function(s) {\r\n      var path = s.src.replace(/scriptaculous\\.js(\\?.*)?$/,'');\r\n      var includes = s.src.match(/\\?.*load=([a-z,]*)/);\r\n      (includes ? includes[1] : 'builder,effects,dragdrop,controls,slider,sound').split(',').each(\r\n       function(include) { Scriptaculous.require(path+include+'.js') });\r\n    });\r\n  }\r\n}\r\n\r\nScriptaculous.load();\r\n// script.aculo.us effects.js v1.8.1, Thu Jan 03 22:07:12 -0500 2008\r\n\r\n// Copyright (c) 2005-2007 Thomas Fuchs (http://script.aculo.us, http://mir.aculo.us)\r\n// Contributors:\r\n//  Justin Palmer (http://encytemedia.com/)\r\n//  Mark Pilgrim (http://diveintomark.org/)\r\n//  Martin Bialasinki\r\n// \r\n// script.aculo.us is freely distributable under the terms of an MIT-style license.\r\n// For details, see the script.aculo.us web site: http://script.aculo.us/ \r\n\r\n// converts rgb() and #xxx to #xxxxxx format,  \r\n// returns self (or first argument) if not convertable  \r\nString.prototype.parseColor = function() {  \r\n  var color = '#';\r\n  if (this.slice(0,4) == 'rgb(') {  \r\n    var cols = this.slice(4,this.length-1).split(',');  \r\n    var i=0; do { color += parseInt(cols[i]).toColorPart() } while (++i<3);  \r\n  } else {  \r\n    if (this.slice(0,1) == '#') {  \r\n      if (this.length==4) for(var i=1;i<4;i++) color += (this.charAt(i) + this.charAt(i)).toLowerCase();  \r\n      if (this.length==7) color = this.toLowerCase();  \r\n    }  \r\n  }  \r\n  return (color.length==7 ? color : (arguments[0] || this));  \r\n};\r\n\r\n/*--------------------------------------------------------------------------*/\r\n\r\nElement.collectTextNodes = function(element) {  \r\n  return $A($(element).childNodes).collect( function(node) {\r\n    return (node.nodeType==3 ? node.nodeValue : \r\n      (node.hasChildNodes() ? Element.collectTextNodes(node) : ''));\r\n  }).flatten().join('');\r\n};\r\n\r\nElement.collectTextNodesIgnoreClass = function(element, className) {  \r\n  return $A($(element).childNodes).collect( function(node) {\r\n    return (node.nodeType==3 ? node.nodeValue : \r\n      ((node.hasChildNodes() && !Element.hasClassName(node,className)) ? \r\n        Element.collectTextNodesIgnoreClass(node, className) : ''));\r\n  }).flatten().join('');\r\n};\r\n\r\nElement.setContentZoom = function(element, percent) {\r\n  element = $(element);  \r\n  element.setStyle({fontSize: (percent/100) + 'em'});   \r\n  if (Prototype.Browser.WebKit) window.scrollBy(0,0);\r\n  return element;\r\n};\r\n\r\nElement.getInlineOpacity = function(element){\r\n  return $(element).style.opacity || '';\r\n};\r\n\r\nElement.forceRerendering = function(element) {\r\n  try {\r\n    element = $(element);\r\n    var n = document.createTextNode(' ');\r\n    element.appendChild(n);\r\n    element.removeChild(n);\r\n  } catch(e) { }\r\n};\r\n\r\n/*--------------------------------------------------------------------------*/\r\n\r\nvar Effect = {\r\n  _elementDoesNotExistError: {\r\n    name: 'ElementDoesNotExistError',\r\n    message: 'The specified DOM element does not exist, but is required for this effect to operate'\r\n  },\r\n  Transitions: {\r\n    linear: Prototype.K,\r\n    sinoidal: function(pos) {\r\n      return (-Math.cos(pos*Math.PI)/2) + 0.5;\r\n    },\r\n    reverse: function(pos) {\r\n      return 1-pos;\r\n    },\r\n    flicker: function(pos) {\r\n      var pos = ((-Math.cos(pos*Math.PI)/4) + 0.75) + Math.random()/4;\r\n      return pos > 1 ? 1 : pos;\r\n    },\r\n    wobble: function(pos) {\r\n      return (-Math.cos(pos*Math.PI*(9*pos))/2) + 0.5;\r\n    },\r\n    pulse: function(pos, pulses) { \r\n      pulses = pulses || 5; \r\n      return (\r\n        ((pos % (1/pulses)) * pulses).round() == 0 ? \r\n              ((pos * pulses * 2) - (pos * pulses * 2).floor()) : \r\n          1 - ((pos * pulses * 2) - (pos * pulses * 2).floor())\r\n        );\r\n    },\r\n    spring: function(pos) { \r\n      return 1 - (Math.cos(pos * 4.5 * Math.PI) * Math.exp(-pos * 6)); \r\n    },\r\n    none: function(pos) {\r\n      return 0;\r\n    },\r\n    full: function(pos) {\r\n      return 1;\r\n    }\r\n  },\r\n  DefaultOptions: {\r\n    duration:   1.0,   // seconds\r\n    fps:        100,   // 100= assume 66fps max.\r\n    sync:       false, // true for combining\r\n    from:       0.0,\r\n    to:         1.0,\r\n    delay:      0.0,\r\n    queue:      'parallel'\r\n  },\r\n  tagifyText: function(element) {\r\n    var tagifyStyle = 'position:relative';\r\n    if (Prototype.Browser.IE) tagifyStyle += ';zoom:1';\r\n    \r\n    element = $(element);\r\n    $A(element.childNodes).each( function(child) {\r\n      if (child.nodeType==3) {\r\n        child.nodeValue.toArray().each( function(character) {\r\n          element.insertBefore(\r\n            new Element('span', {style: tagifyStyle}).update(\r\n              character == ' ' ? String.fromCharCode(160) : character), \r\n              child);\r\n        });\r\n        Element.remove(child);\r\n      }\r\n    });\r\n  },\r\n  multiple: function(element, effect) {\r\n    var elements;\r\n    if (((typeof element == 'object') || \r\n        Object.isFunction(element)) && \r\n       (element.length))\r\n      elements = element;\r\n    else\r\n      elements = $(element).childNodes;\r\n      \r\n    var options = Object.extend({\r\n      speed: 0.1,\r\n      delay: 0.0\r\n    }, arguments[2] || { });\r\n    var masterDelay = options.delay;\r\n\r\n    $A(elements).each( function(element, index) {\r\n      new effect(element, Object.extend(options, { delay: index * options.speed + masterDelay }));\r\n    });\r\n  },\r\n  PAIRS: {\r\n    'slide':  ['SlideDown','SlideUp'],\r\n    'blind':  ['BlindDown','BlindUp'],\r\n    'appear': ['Appear','Fade']\r\n  },\r\n  toggle: function(element, effect) {\r\n    element = $(element);\r\n    effect = (effect || 'appear').toLowerCase();\r\n    var options = Object.extend({\r\n      queue: { position:'end', scope:(element.id || 'global'), limit: 1 }\r\n    }, arguments[2] || { });\r\n    Effect[element.visible() ? \r\n      Effect.PAIRS[effect][1] : Effect.PAIRS[effect][0]](element, options);\r\n  }\r\n};\r\n\r\nEffect.DefaultOptions.transition = Effect.Transitions.sinoidal;\r\n\r\n/* ------------- core effects ------------- */\r\n\r\nEffect.ScopedQueue = Class.create(Enumerable, {\r\n  initialize: function() {\r\n    this.effects  = [];\r\n    this.interval = null;    \r\n  },\r\n  _each: function(iterator) {\r\n    this.effects._each(iterator);\r\n  },\r\n  add: function(effect) {\r\n    var timestamp = new Date().getTime();\r\n    \r\n    var position = Object.isString(effect.options.queue) ? \r\n      effect.options.queue : effect.options.queue.position;\r\n    \r\n    switch(position) {\r\n      case 'front':\r\n        // move unstarted effects after this effect  \r\n        this.effects.findAll(function(e){ return e.state=='idle' }).each( function(e) {\r\n            e.startOn  += effect.finishOn;\r\n            e.finishOn += effect.finishOn;\r\n          });\r\n        break;\r\n      case 'with-last':\r\n        timestamp = this.effects.pluck('startOn').max() || timestamp;\r\n        break;\r\n      case 'end':\r\n        // start effect after last queued effect has finished\r\n        timestamp = this.effects.pluck('finishOn').max() || timestamp;\r\n        break;\r\n    }\r\n    \r\n    effect.startOn  += timestamp;\r\n    effect.finishOn += timestamp;\r\n\r\n    if (!effect.options.queue.limit || (this.effects.length < effect.options.queue.limit))\r\n      this.effects.push(effect);\r\n    \r\n    if (!this.interval)\r\n      this.interval = setInterval(this.loop.bind(this), 15);\r\n  },\r\n  remove: function(effect) {\r\n    this.effects = this.effects.reject(function(e) { return e==effect });\r\n    if (this.effects.length == 0) {\r\n      clearInterval(this.interval);\r\n      this.interval = null;\r\n    }\r\n  },\r\n  loop: function() {\r\n    var timePos = new Date().getTime();\r\n    for(var i=0, len=this.effects.length;i<len;i++) \r\n      this.effects[i] && this.effects[i].loop(timePos);\r\n  }\r\n});\r\n\r\nEffect.Queues = {\r\n  instances: $H(),\r\n  get: function(queueName) {\r\n    if (!Object.isString(queueName)) return queueName;\r\n    \r\n    return this.instances.get(queueName) ||\r\n      this.instances.set(queueName, new Effect.ScopedQueue());\r\n  }\r\n};\r\nEffect.Queue = Effect.Queues.get('global');\r\n\r\nEffect.Base = Class.create({\r\n  position: null,\r\n  start: function(options) {\r\n    function codeForEvent(options,eventName){\r\n      return (\r\n        (options[eventName+'Internal'] ? 'this.options.'+eventName+'Internal(this);' : '') +\r\n        (options[eventName] ? 'this.options.'+eventName+'(this);' : '')\r\n      );\r\n    }\r\n    if (options && options.transition === false) options.transition = Effect.Transitions.linear;\r\n    this.options      = Object.extend(Object.extend({ },Effect.DefaultOptions), options || { });\r\n    this.currentFrame = 0;\r\n    this.state        = 'idle';\r\n    this.startOn      = this.options.delay*1000;\r\n    this.finishOn     = this.startOn+(this.options.duration*1000);\r\n    this.fromToDelta  = this.options.to-this.options.from;\r\n    this.totalTime    = this.finishOn-this.startOn;\r\n    this.totalFrames  = this.options.fps*this.options.duration;\r\n    \r\n    eval('this.render = function(pos){ '+\r\n      'if (this.state==\"idle\"){this.state=\"running\";'+\r\n      codeForEvent(this.options,'beforeSetup')+\r\n      (this.setup ? 'this.setup();':'')+ \r\n      codeForEvent(this.options,'afterSetup')+\r\n      '};if (this.state==\"running\"){'+\r\n      'pos=this.options.transition(pos)*'+this.fromToDelta+'+'+this.options.from+';'+\r\n      'this.position=pos;'+\r\n      codeForEvent(this.options,'beforeUpdate')+\r\n      (this.update ? 'this.update(pos);':'')+\r\n      codeForEvent(this.options,'afterUpdate')+\r\n      '}}');\r\n    \r\n    this.event('beforeStart');\r\n    if (!this.options.sync)\r\n      Effect.Queues.get(Object.isString(this.options.queue) ? \r\n        'global' : this.options.queue.scope).add(this);\r\n  },\r\n  loop: function(timePos) {\r\n    if (timePos >= this.startOn) {\r\n      if (timePos >= this.finishOn) {\r\n        this.render(1.0);\r\n        this.cancel();\r\n        this.event('beforeFinish');\r\n        if (this.finish) this.finish(); \r\n        this.event('afterFinish');\r\n        return;  \r\n      }\r\n      var pos   = (timePos - this.startOn) / this.totalTime,\r\n          frame = (pos * this.totalFrames).round();\r\n      if (frame > this.currentFrame) {\r\n        this.render(pos);\r\n        this.currentFrame = frame;\r\n      }\r\n    }\r\n  },\r\n  cancel: function() {\r\n    if (!this.options.sync)\r\n      Effect.Queues.get(Object.isString(this.options.queue) ? \r\n        'global' : this.options.queue.scope).remove(this);\r\n    this.state = 'finished';\r\n  },\r\n  event: function(eventName) {\r\n    if (this.options[eventName + 'Internal']) this.options[eventName + 'Internal'](this);\r\n    if (this.options[eventName]) this.options[eventName](this);\r\n  },\r\n  inspect: function() {\r\n    var data = $H();\r\n    for(property in this)\r\n      if (!Object.isFunction(this[property])) data.set(property, this[property]);\r\n    return '#<Effect:' + data.inspect() + ',options:' + $H(this.options).inspect() + '>';\r\n  }\r\n});\r\n\r\nEffect.Parallel = Class.create(Effect.Base, {\r\n  initialize: function(effects) {\r\n    this.effects = effects || [];\r\n    this.start(arguments[1]);\r\n  },\r\n  update: function(position) {\r\n    this.effects.invoke('render', position);\r\n  },\r\n  finish: function(position) {\r\n    this.effects.each( function(effect) {\r\n      effect.render(1.0);\r\n      effect.cancel();\r\n      effect.event('beforeFinish');\r\n      if (effect.finish) effect.finish(position);\r\n      effect.event('afterFinish');\r\n    });\r\n  }\r\n});\r\n\r\nEffect.Tween = Class.create(Effect.Base, {\r\n  initialize: function(object, from, to) {\r\n    object = Object.isString(object) ? $(object) : object;\r\n    var args = $A(arguments), method = args.last(), \r\n      options = args.length == 5 ? args[3] : null;\r\n    this.method = Object.isFunction(method) ? method.bind(object) :\r\n      Object.isFunction(object[method]) ? object[method].bind(object) : \r\n      function(value) { object[method] = value };\r\n    this.start(Object.extend({ from: from, to: to }, options || { }));\r\n  },\r\n  update: function(position) {\r\n    this.method(position);\r\n  }\r\n});\r\n\r\nEffect.Event = Class.create(Effect.Base, {\r\n  initialize: function() {\r\n    this.start(Object.extend({ duration: 0 }, arguments[0] || { }));\r\n  },\r\n  update: Prototype.emptyFunction\r\n});\r\n\r\nEffect.Opacity = Class.create(Effect.Base, {\r\n  initialize: function(element) {\r\n    this.element = $(element);\r\n    if (!this.element) throw(Effect._elementDoesNotExistError);\r\n    // make this work on IE on elements without 'layout'\r\n    if (Prototype.Browser.IE && (!this.element.currentStyle.hasLayout))\r\n      this.element.setStyle({zoom: 1});\r\n    var options = Object.extend({\r\n      from: this.element.getOpacity() || 0.0,\r\n      to:   1.0\r\n    }, arguments[1] || { });\r\n    this.start(options);\r\n  },\r\n  update: function(position) {\r\n    this.element.setOpacity(position);\r\n  }\r\n});\r\n\r\nEffect.Move = Class.create(Effect.Base, {\r\n  initialize: function(element) {\r\n    this.element = $(element);\r\n    if (!this.element) throw(Effect._elementDoesNotExistError);\r\n    var options = Object.extend({\r\n      x:    0,\r\n      y:    0,\r\n      mode: 'relative'\r\n    }, arguments[1] || { });\r\n    this.start(options);\r\n  },\r\n  setup: function() {\r\n    this.element.makePositioned();\r\n    this.originalLeft = parseFloat(this.element.getStyle('left') || '0');\r\n    this.originalTop  = parseFloat(this.element.getStyle('top')  || '0');\r\n    if (this.options.mode == 'absolute') {\r\n      this.options.x = this.options.x - this.originalLeft;\r\n      this.options.y = this.options.y - this.originalTop;\r\n    }\r\n  },\r\n  update: function(position) {\r\n    this.element.setStyle({\r\n      left: (this.options.x  * position + this.originalLeft).round() + 'px',\r\n      top:  (this.options.y  * position + this.originalTop).round()  + 'px'\r\n    });\r\n  }\r\n});\r\n\r\n// for backwards compatibility\r\nEffect.MoveBy = function(element, toTop, toLeft) {\r\n  return new Effect.Move(element, \r\n    Object.extend({ x: toLeft, y: toTop }, arguments[3] || { }));\r\n};\r\n\r\nEffect.Scale = Class.create(Effect.Base, {\r\n  initialize: function(element, percent) {\r\n    this.element = $(element);\r\n    if (!this.element) throw(Effect._elementDoesNotExistError);\r\n    var options = Object.extend({\r\n      scaleX: true,\r\n      scaleY: true,\r\n      scaleContent: true,\r\n      scaleFromCenter: false,\r\n      scaleMode: 'box',        // 'box' or 'contents' or { } with provided values\r\n      scaleFrom: 100.0,\r\n      scaleTo:   percent\r\n    }, arguments[2] || { });\r\n    this.start(options);\r\n  },\r\n  setup: function() {\r\n    this.restoreAfterFinish = this.options.restoreAfterFinish || false;\r\n    this.elementPositioning = this.element.getStyle('position');\r\n    \r\n    this.originalStyle = { };\r\n    ['top','left','width','height','fontSize'].each( function(k) {\r\n      this.originalStyle[k] = this.element.style[k];\r\n    }.bind(this));\r\n      \r\n    this.originalTop  = this.element.offsetTop;\r\n    this.originalLeft = this.element.offsetLeft;\r\n    \r\n    var fontSize = this.element.getStyle('font-size') || '100%';\r\n    ['em','px','%','pt'].each( function(fontSizeType) {\r\n      if (fontSize.indexOf(fontSizeType)>0) {\r\n        this.fontSize     = parseFloat(fontSize);\r\n        this.fontSizeType = fontSizeType;\r\n      }\r\n    }.bind(this));\r\n    \r\n    this.factor = (this.options.scaleTo - this.options.scaleFrom)/100;\r\n    \r\n    this.dims = null;\r\n    if (this.options.scaleMode=='box')\r\n      this.dims = [this.element.offsetHeight, this.element.offsetWidth];\r\n    if (/^content/.test(this.options.scaleMode))\r\n      this.dims = [this.element.scrollHeight, this.element.scrollWidth];\r\n    if (!this.dims)\r\n      this.dims = [this.options.scaleMode.originalHeight,\r\n                   this.options.scaleMode.originalWidth];\r\n  },\r\n  update: function(position) {\r\n    var currentScale = (this.options.scaleFrom/100.0) + (this.factor * position);\r\n    if (this.options.scaleContent && this.fontSize)\r\n      this.element.setStyle({fontSize: this.fontSize * currentScale + this.fontSizeType });\r\n    this.setDimensions(this.dims[0] * currentScale, this.dims[1] * currentScale);\r\n  },\r\n  finish: function(position) {\r\n    if (this.restoreAfterFinish) this.element.setStyle(this.originalStyle);\r\n  },\r\n  setDimensions: function(height, width) {\r\n    var d = { };\r\n    if (this.options.scaleX) d.width = width.round() + 'px';\r\n    if (this.options.scaleY) d.height = height.round() + 'px';\r\n    if (this.options.scaleFromCenter) {\r\n      var topd  = (height - this.dims[0])/2;\r\n      var leftd = (width  - this.dims[1])/2;\r\n      if (this.elementPositioning == 'absolute') {\r\n        if (this.options.scaleY) d.top = this.originalTop-topd + 'px';\r\n        if (this.options.scaleX) d.left = this.originalLeft-leftd + 'px';\r\n      } else {\r\n        if (this.options.scaleY) d.top = -topd + 'px';\r\n        if (this.options.scaleX) d.left = -leftd + 'px';\r\n      }\r\n    }\r\n    this.element.setStyle(d);\r\n  }\r\n});\r\n\r\nEffect.Highlight = Class.create(Effect.Base, {\r\n  initialize: function(element) {\r\n    this.element = $(element);\r\n    if (!this.element) throw(Effect._elementDoesNotExistError);\r\n    var options = Object.extend({ startcolor: '#ffff99' }, arguments[1] || { });\r\n    this.start(options);\r\n  },\r\n  setup: function() {\r\n    // Prevent executing on elements not in the layout flow\r\n    if (this.element.getStyle('display')=='none') { this.cancel(); return; }\r\n    // Disable background image during the effect\r\n    this.oldStyle = { };\r\n    if (!this.options.keepBackgroundImage) {\r\n      this.oldStyle.backgroundImage = this.element.getStyle('background-image');\r\n      this.element.setStyle({backgroundImage: 'none'});\r\n    }\r\n    if (!this.options.endcolor)\r\n      this.options.endcolor = this.element.getStyle('background-color').parseColor('#ffffff');\r\n    if (!this.options.restorecolor)\r\n      this.options.restorecolor = this.element.getStyle('background-color');\r\n    // init color calculations\r\n    this._base  = $R(0,2).map(function(i){ return parseInt(this.options.startcolor.slice(i*2+1,i*2+3),16) }.bind(this));\r\n    this._delta = $R(0,2).map(function(i){ return parseInt(this.options.endcolor.slice(i*2+1,i*2+3),16)-this._base[i] }.bind(this));\r\n  },\r\n  update: function(position) {\r\n    this.element.setStyle({backgroundColor: $R(0,2).inject('#',function(m,v,i){\r\n      return m+((this._base[i]+(this._delta[i]*position)).round().toColorPart()); }.bind(this)) });\r\n  },\r\n  finish: function() {\r\n    this.element.setStyle(Object.extend(this.oldStyle, {\r\n      backgroundColor: this.options.restorecolor\r\n    }));\r\n  }\r\n});\r\n\r\nEffect.ScrollTo = function(element) {\r\n  var options = arguments[1] || { },\r\n    scrollOffsets = document.viewport.getScrollOffsets(),\r\n    elementOffsets = $(element).cumulativeOffset(),\r\n    max = (window.height || document.body.scrollHeight) - document.viewport.getHeight();  \r\n\r\n  if (options.offset) elementOffsets[1] += options.offset;\r\n\r\n  return new Effect.Tween(null,\r\n    scrollOffsets.top,\r\n    elementOffsets[1] > max ? max : elementOffsets[1],\r\n    options,\r\n    function(p){ scrollTo(scrollOffsets.left, p.round()) }\r\n  );\r\n};\r\n\r\n/* ------------- combination effects ------------- */\r\n\r\nEffect.Fade = function(element) {\r\n  element = $(element);\r\n  var oldOpacity = element.getInlineOpacity();\r\n  var options = Object.extend({\r\n    from: element.getOpacity() || 1.0,\r\n    to:   0.0,\r\n    afterFinishInternal: function(effect) { \r\n      if (effect.options.to!=0) return;\r\n      effect.element.hide().setStyle({opacity: oldOpacity}); \r\n    }\r\n  }, arguments[1] || { });\r\n  return new Effect.Opacity(element,options);\r\n};\r\n\r\nEffect.Appear = function(element) {\r\n  element = $(element);\r\n  var options = Object.extend({\r\n  from: (element.getStyle('display') == 'none' ? 0.0 : element.getOpacity() || 0.0),\r\n  to:   1.0,\r\n  // force Safari to render floated elements properly\r\n  afterFinishInternal: function(effect) {\r\n    effect.element.forceRerendering();\r\n  },\r\n  beforeSetup: function(effect) {\r\n    effect.element.setOpacity(effect.options.from).show(); \r\n  }}, arguments[1] || { });\r\n  return new Effect.Opacity(element,options);\r\n};\r\n\r\nEffect.Puff = function(element) {\r\n  element = $(element);\r\n  var oldStyle = { \r\n    opacity: element.getInlineOpacity(), \r\n    position: element.getStyle('position'),\r\n    top:  element.style.top,\r\n    left: element.style.left,\r\n    width: element.style.width,\r\n    height: element.style.height\r\n  };\r\n  return new Effect.Parallel(\r\n   [ new Effect.Scale(element, 200, \r\n      { sync: true, scaleFromCenter: true, scaleContent: true, restoreAfterFinish: true }), \r\n     new Effect.Opacity(element, { sync: true, to: 0.0 } ) ], \r\n     Object.extend({ duration: 1.0, \r\n      beforeSetupInternal: function(effect) {\r\n        Position.absolutize(effect.effects[0].element)\r\n      },\r\n      afterFinishInternal: function(effect) {\r\n         effect.effects[0].element.hide().setStyle(oldStyle); }\r\n     }, arguments[1] || { })\r\n   );\r\n};\r\n\r\nEffect.BlindUp = function(element) {\r\n  element = $(element);\r\n  element.makeClipping();\r\n  return new Effect.Scale(element, 0,\r\n    Object.extend({ scaleContent: false, \r\n      scaleX: false, \r\n      restoreAfterFinish: true,\r\n      afterFinishInternal: function(effect) {\r\n        effect.element.hide().undoClipping();\r\n      } \r\n    }, arguments[1] || { })\r\n  );\r\n};\r\n\r\nEffect.BlindDown = function(element) {\r\n  element = $(element);\r\n  var elementDimensions = element.getDimensions();\r\n  return new Effect.Scale(element, 100, Object.extend({ \r\n    scaleContent: false, \r\n    scaleX: false,\r\n    scaleFrom: 0,\r\n    scaleMode: {originalHeight: elementDimensions.height, originalWidth: elementDimensions.width},\r\n    restoreAfterFinish: true,\r\n    afterSetup: function(effect) {\r\n      effect.element.makeClipping().setStyle({height: '0px'}).show(); \r\n    },  \r\n    afterFinishInternal: function(effect) {\r\n      effect.element.undoClipping();\r\n    }\r\n  }, arguments[1] || { }));\r\n};\r\n\r\nEffect.SwitchOff = function(element) {\r\n  element = $(element);\r\n  var oldOpacity = element.getInlineOpacity();\r\n  return new Effect.Appear(element, Object.extend({\r\n    duration: 0.4,\r\n    from: 0,\r\n    transition: Effect.Transitions.flicker,\r\n    afterFinishInternal: function(effect) {\r\n      new Effect.Scale(effect.element, 1, { \r\n        duration: 0.3, scaleFromCenter: true,\r\n        scaleX: false, scaleContent: false, restoreAfterFinish: true,\r\n        beforeSetup: function(effect) { \r\n          effect.element.makePositioned().makeClipping();\r\n        },\r\n        afterFinishInternal: function(effect) {\r\n          effect.element.hide().undoClipping().undoPositioned().setStyle({opacity: oldOpacity});\r\n        }\r\n      })\r\n    }\r\n  }, arguments[1] || { }));\r\n};\r\n\r\nEffect.DropOut = function(element) {\r\n  element = $(element);\r\n  var oldStyle = {\r\n    top: element.getStyle('top'),\r\n    left: element.getStyle('left'),\r\n    opacity: element.getInlineOpacity() };\r\n  return new Effect.Parallel(\r\n    [ new Effect.Move(element, {x: 0, y: 100, sync: true }), \r\n      new Effect.Opacity(element, { sync: true, to: 0.0 }) ],\r\n    Object.extend(\r\n      { duration: 0.5,\r\n        beforeSetup: function(effect) {\r\n          effect.effects[0].element.makePositioned(); \r\n        },\r\n        afterFinishInternal: function(effect) {\r\n          effect.effects[0].element.hide().undoPositioned().setStyle(oldStyle);\r\n        } \r\n      }, arguments[1] || { }));\r\n};\r\n\r\nEffect.Shake = function(element) {\r\n  element = $(element);\r\n  var options = Object.extend({\r\n    distance: 20,\r\n    duration: 0.5\r\n  }, arguments[1] || {});\r\n  var distance = parseFloat(options.distance);\r\n  var split = parseFloat(options.duration) / 10.0;\r\n  var oldStyle = {\r\n    top: element.getStyle('top'),\r\n    left: element.getStyle('left') };\r\n    return new Effect.Move(element,\r\n      { x:  distance, y: 0, duration: split, afterFinishInternal: function(effect) {\r\n    new Effect.Move(effect.element,\r\n      { x: -distance*2, y: 0, duration: split*2,  afterFinishInternal: function(effect) {\r\n    new Effect.Move(effect.element,\r\n      { x:  distance*2, y: 0, duration: split*2,  afterFinishInternal: function(effect) {\r\n    new Effect.Move(effect.element,\r\n      { x: -distance*2, y: 0, duration: split*2,  afterFinishInternal: function(effect) {\r\n    new Effect.Move(effect.element,\r\n      { x:  distance*2, y: 0, duration: split*2,  afterFinishInternal: function(effect) {\r\n    new Effect.Move(effect.element,\r\n      { x: -distance, y: 0, duration: split, afterFinishInternal: function(effect) {\r\n        effect.element.undoPositioned().setStyle(oldStyle);\r\n  }}) }}) }}) }}) }}) }});\r\n};\r\n\r\nEffect.SlideDown = function(element) {\r\n  element = $(element).cleanWhitespace();\r\n  // SlideDown need to have the content of the element wrapped in a container element with fixed height!\r\n  var oldInnerBottom = element.down().getStyle('bottom');\r\n  var elementDimensions = element.getDimensions();\r\n  return new Effect.Scale(element, 100, Object.extend({ \r\n    scaleContent: false, \r\n    scaleX: false, \r\n    scaleFrom: window.opera ? 0 : 1,\r\n    scaleMode: {originalHeight: elementDimensions.height, originalWidth: elementDimensions.width},\r\n    restoreAfterFinish: true,\r\n    afterSetup: function(effect) {\r\n      effect.element.makePositioned();\r\n      effect.element.down().makePositioned();\r\n      if (window.opera) effect.element.setStyle({top: ''});\r\n      effect.element.makeClipping().setStyle({height: '0px'}).show(); \r\n    },\r\n    afterUpdateInternal: function(effect) {\r\n      effect.element.down().setStyle({bottom:\r\n        (effect.dims[0] - effect.element.clientHeight) + 'px' }); \r\n    },\r\n    afterFinishInternal: function(effect) {\r\n      effect.element.undoClipping().undoPositioned();\r\n      effect.element.down().undoPositioned().setStyle({bottom: oldInnerBottom}); }\r\n    }, arguments[1] || { })\r\n  );\r\n};\r\n\r\nEffect.SlideUp = function(element) {\r\n  element = $(element).cleanWhitespace();\r\n  var oldInnerBottom = element.down().getStyle('bottom');\r\n  var elementDimensions = element.getDimensions();\r\n  return new Effect.Scale(element, window.opera ? 0 : 1,\r\n   Object.extend({ scaleContent: false, \r\n    scaleX: false, \r\n    scaleMode: 'box',\r\n    scaleFrom: 100,\r\n    scaleMode: {originalHeight: elementDimensions.height, originalWidth: elementDimensions.width},\r\n    restoreAfterFinish: true,\r\n    afterSetup: function(effect) {\r\n      effect.element.makePositioned();\r\n      effect.element.down().makePositioned();\r\n      if (window.opera) effect.element.setStyle({top: ''});\r\n      effect.element.makeClipping().show();\r\n    },  \r\n    afterUpdateInternal: function(effect) {\r\n      effect.element.down().setStyle({bottom:\r\n        (effect.dims[0] - effect.element.clientHeight) + 'px' });\r\n    },\r\n    afterFinishInternal: function(effect) {\r\n      effect.element.hide().undoClipping().undoPositioned();\r\n      effect.element.down().undoPositioned().setStyle({bottom: oldInnerBottom});\r\n    }\r\n   }, arguments[1] || { })\r\n  );\r\n};\r\n\r\n// Bug in opera makes the TD containing this element expand for a instance after finish \r\nEffect.Squish = function(element) {\r\n  return new Effect.Scale(element, window.opera ? 1 : 0, { \r\n    restoreAfterFinish: true,\r\n    beforeSetup: function(effect) {\r\n      effect.element.makeClipping(); \r\n    },  \r\n    afterFinishInternal: function(effect) {\r\n      effect.element.hide().undoClipping(); \r\n    }\r\n  });\r\n};\r\n\r\nEffect.Grow = function(element) {\r\n  element = $(element);\r\n  var options = Object.extend({\r\n    direction: 'center',\r\n    moveTransition: Effect.Transitions.sinoidal,\r\n    scaleTransition: Effect.Transitions.sinoidal,\r\n    opacityTransition: Effect.Transitions.full\r\n  }, arguments[1] || { });\r\n  var oldStyle = {\r\n    top: element.style.top,\r\n    left: element.style.left,\r\n    height: element.style.height,\r\n    width: element.style.width,\r\n    opacity: element.getInlineOpacity() };\r\n\r\n  var dims = element.getDimensions();    \r\n  var initialMoveX, initialMoveY;\r\n  var moveX, moveY;\r\n  \r\n  switch (options.direction) {\r\n    case 'top-left':\r\n      initialMoveX = initialMoveY = moveX = moveY = 0; \r\n      break;\r\n    case 'top-right':\r\n      initialMoveX = dims.width;\r\n      initialMoveY = moveY = 0;\r\n      moveX = -dims.width;\r\n      break;\r\n    case 'bottom-left':\r\n      initialMoveX = moveX = 0;\r\n      initialMoveY = dims.height;\r\n      moveY = -dims.height;\r\n      break;\r\n    case 'bottom-right':\r\n      initialMoveX = dims.width;\r\n      initialMoveY = dims.height;\r\n      moveX = -dims.width;\r\n      moveY = -dims.height;\r\n      break;\r\n    case 'center':\r\n      initialMoveX = dims.width / 2;\r\n      initialMoveY = dims.height / 2;\r\n      moveX = -dims.width / 2;\r\n      moveY = -dims.height / 2;\r\n      break;\r\n  }\r\n  \r\n  return new Effect.Move(element, {\r\n    x: initialMoveX,\r\n    y: initialMoveY,\r\n    duration: 0.01, \r\n    beforeSetup: function(effect) {\r\n      effect.element.hide().makeClipping().makePositioned();\r\n    },\r\n    afterFinishInternal: function(effect) {\r\n      new Effect.Parallel(\r\n        [ new Effect.Opacity(effect.element, { sync: true, to: 1.0, from: 0.0, transition: options.opacityTransition }),\r\n          new Effect.Move(effect.element, { x: moveX, y: moveY, sync: true, transition: options.moveTransition }),\r\n          new Effect.Scale(effect.element, 100, {\r\n            scaleMode: { originalHeight: dims.height, originalWidth: dims.width }, \r\n            sync: true, scaleFrom: window.opera ? 1 : 0, transition: options.scaleTransition, restoreAfterFinish: true})\r\n        ], Object.extend({\r\n             beforeSetup: function(effect) {\r\n               effect.effects[0].element.setStyle({height: '0px'}).show(); \r\n             },\r\n             afterFinishInternal: function(effect) {\r\n               effect.effects[0].element.undoClipping().undoPositioned().setStyle(oldStyle); \r\n             }\r\n           }, options)\r\n      )\r\n    }\r\n  });\r\n};\r\n\r\nEffect.Shrink = function(element) {\r\n  element = $(element);\r\n  var options = Object.extend({\r\n    direction: 'center',\r\n    moveTransition: Effect.Transitions.sinoidal,\r\n    scaleTransition: Effect.Transitions.sinoidal,\r\n    opacityTransition: Effect.Transitions.none\r\n  }, arguments[1] || { });\r\n  var oldStyle = {\r\n    top: element.style.top,\r\n    left: element.style.left,\r\n    height: element.style.height,\r\n    width: element.style.width,\r\n    opacity: element.getInlineOpacity() };\r\n\r\n  var dims = element.getDimensions();\r\n  var moveX, moveY;\r\n  \r\n  switch (options.direction) {\r\n    case 'top-left':\r\n      moveX = moveY = 0;\r\n      break;\r\n    case 'top-right':\r\n      moveX = dims.width;\r\n      moveY = 0;\r\n      break;\r\n    case 'bottom-left':\r\n      moveX = 0;\r\n      moveY = dims.height;\r\n      break;\r\n    case 'bottom-right':\r\n      moveX = dims.width;\r\n      moveY = dims.height;\r\n      break;\r\n    case 'center':  \r\n      moveX = dims.width / 2;\r\n      moveY = dims.height / 2;\r\n      break;\r\n  }\r\n  \r\n  return new Effect.Parallel(\r\n    [ new Effect.Opacity(element, { sync: true, to: 0.0, from: 1.0, transition: options.opacityTransition }),\r\n      new Effect.Scale(element, window.opera ? 1 : 0, { sync: true, transition: options.scaleTransition, restoreAfterFinish: true}),\r\n      new Effect.Move(element, { x: moveX, y: moveY, sync: true, transition: options.moveTransition })\r\n    ], Object.extend({            \r\n         beforeStartInternal: function(effect) {\r\n           effect.effects[0].element.makePositioned().makeClipping(); \r\n         },\r\n         afterFinishInternal: function(effect) {\r\n           effect.effects[0].element.hide().undoClipping().undoPositioned().setStyle(oldStyle); }\r\n       }, options)\r\n  );\r\n};\r\n\r\nEffect.Pulsate = function(element) {\r\n  element = $(element);\r\n  var options    = arguments[1] || { };\r\n  var oldOpacity = element.getInlineOpacity();\r\n  var transition = options.transition || Effect.Transitions.sinoidal;\r\n  var reverser   = function(pos){ return transition(1-Effect.Transitions.pulse(pos, options.pulses)) };\r\n  reverser.bind(transition);\r\n  return new Effect.Opacity(element, \r\n    Object.extend(Object.extend({  duration: 2.0, from: 0,\r\n      afterFinishInternal: function(effect) { effect.element.setStyle({opacity: oldOpacity}); }\r\n    }, options), {transition: reverser}));\r\n};\r\n\r\nEffect.Fold = function(element) {\r\n  element = $(element);\r\n  var oldStyle = {\r\n    top: element.style.top,\r\n    left: element.style.left,\r\n    width: element.style.width,\r\n    height: element.style.height };\r\n  element.makeClipping();\r\n  return new Effect.Scale(element, 5, Object.extend({   \r\n    scaleContent: false,\r\n    scaleX: false,\r\n    afterFinishInternal: function(effect) {\r\n    new Effect.Scale(element, 1, { \r\n      scaleContent: false, \r\n      scaleY: false,\r\n      afterFinishInternal: function(effect) {\r\n        effect.element.hide().undoClipping().setStyle(oldStyle);\r\n      } });\r\n  }}, arguments[1] || { }));\r\n};\r\n\r\nEffect.Morph = Class.create(Effect.Base, {\r\n  initialize: function(element) {\r\n    this.element = $(element);\r\n    if (!this.element) throw(Effect._elementDoesNotExistError);\r\n    var options = Object.extend({\r\n      style: { }\r\n    }, arguments[1] || { });\r\n    \r\n    if (!Object.isString(options.style)) this.style = $H(options.style);\r\n    else {\r\n      if (options.style.include(':'))\r\n        this.style = options.style.parseStyle();\r\n      else {\r\n        this.element.addClassName(options.style);\r\n        this.style = $H(this.element.getStyles());\r\n        this.element.removeClassName(options.style);\r\n        var css = this.element.getStyles();\r\n        this.style = this.style.reject(function(style) {\r\n          return style.value == css[style.key];\r\n        });\r\n        options.afterFinishInternal = function(effect) {\r\n          effect.element.addClassName(effect.options.style);\r\n          effect.transforms.each(function(transform) {\r\n            effect.element.style[transform.style] = '';\r\n          });\r\n        }\r\n      }\r\n    }\r\n    this.start(options);\r\n  },\r\n  \r\n  setup: function(){\r\n    function parseColor(color){\r\n      if (!color || ['rgba(0, 0, 0, 0)','transparent'].include(color)) color = '#ffffff';\r\n      color = color.parseColor();\r\n      return $R(0,2).map(function(i){\r\n        return parseInt( color.slice(i*2+1,i*2+3), 16 ) \r\n      });\r\n    }\r\n    this.transforms = this.style.map(function(pair){\r\n      var property = pair[0], value = pair[1], unit = null;\r\n\r\n      if (value.parseColor('#zzzzzz') != '#zzzzzz') {\r\n        value = value.parseColor();\r\n        unit  = 'color';\r\n      } else if (property == 'opacity') {\r\n        value = parseFloat(value);\r\n        if (Prototype.Browser.IE && (!this.element.currentStyle.hasLayout))\r\n          this.element.setStyle({zoom: 1});\r\n      } else if (Element.CSS_LENGTH.test(value)) {\r\n          var components = value.match(/^([\\+\\-]?[0-9\\.]+)(.*)$/);\r\n          value = parseFloat(components[1]);\r\n          unit = (components.length == 3) ? components[2] : null;\r\n      }\r\n\r\n      var originalValue = this.element.getStyle(property);\r\n      return { \r\n        style: property.camelize(), \r\n        originalValue: unit=='color' ? parseColor(originalValue) : parseFloat(originalValue || 0), \r\n        targetValue: unit=='color' ? parseColor(value) : value,\r\n        unit: unit\r\n      };\r\n    }.bind(this)).reject(function(transform){\r\n      return (\r\n        (transform.originalValue == transform.targetValue) ||\r\n        (\r\n          transform.unit != 'color' &&\r\n          (isNaN(transform.originalValue) || isNaN(transform.targetValue))\r\n        )\r\n      )\r\n    });\r\n  },\r\n  update: function(position) {\r\n    var style = { }, transform, i = this.transforms.length;\r\n    while(i--)\r\n      style[(transform = this.transforms[i]).style] = \r\n        transform.unit=='color' ? '#'+\r\n          (Math.round(transform.originalValue[0]+\r\n            (transform.targetValue[0]-transform.originalValue[0])*position)).toColorPart() +\r\n          (Math.round(transform.originalValue[1]+\r\n            (transform.targetValue[1]-transform.originalValue[1])*position)).toColorPart() +\r\n          (Math.round(transform.originalValue[2]+\r\n            (transform.targetValue[2]-transform.originalValue[2])*position)).toColorPart() :\r\n        (transform.originalValue +\r\n          (transform.targetValue - transform.originalValue) * position).toFixed(3) + \r\n            (transform.unit === null ? '' : transform.unit);\r\n    this.element.setStyle(style, true);\r\n  }\r\n});\r\n\r\nEffect.Transform = Class.create({\r\n  initialize: function(tracks){\r\n    this.tracks  = [];\r\n    this.options = arguments[1] || { };\r\n    this.addTracks(tracks);\r\n  },\r\n  addTracks: function(tracks){\r\n    tracks.each(function(track){\r\n      track = $H(track);\r\n      var data = track.values().first();\r\n      this.tracks.push($H({\r\n        ids:     track.keys().first(),\r\n        effect:  Effect.Morph,\r\n        options: { style: data }\r\n      }));\r\n    }.bind(this));\r\n    return this;\r\n  },\r\n  play: function(){\r\n    return new Effect.Parallel(\r\n      this.tracks.map(function(track){\r\n        var ids = track.get('ids'), effect = track.get('effect'), options = track.get('options');\r\n        var elements = [$(ids) || $$(ids)].flatten();\r\n        return elements.map(function(e){ return new effect(e, Object.extend({ sync:true }, options)) });\r\n      }).flatten(),\r\n      this.options\r\n    );\r\n  }\r\n});\r\n\r\nElement.CSS_PROPERTIES = $w(\r\n  'backgroundColor backgroundPosition borderBottomColor borderBottomStyle ' + \r\n  'borderBottomWidth borderLeftColor borderLeftStyle borderLeftWidth ' +\r\n  'borderRightColor borderRightStyle borderRightWidth borderSpacing ' +\r\n  'borderTopColor borderTopStyle borderTopWidth bottom clip color ' +\r\n  'fontSize fontWeight height left letterSpacing lineHeight ' +\r\n  'marginBottom marginLeft marginRight marginTop markerOffset maxHeight '+\r\n  'maxWidth minHeight minWidth opacity outlineColor outlineOffset ' +\r\n  'outlineWidth paddingBottom paddingLeft paddingRight paddingTop ' +\r\n  'right textIndent top width wordSpacing zIndex');\r\n  \r\nElement.CSS_LENGTH = /^(([\\+\\-]?[0-9\\.]+)(em|ex|px|in|cm|mm|pt|pc|\\%))|0$/;\r\n\r\nString.__parseStyleElement = document.createElement('div');\r\nString.prototype.parseStyle = function(){\r\n  var style, styleRules = $H();\r\n  if (Prototype.Browser.WebKit)\r\n    style = new Element('div',{style:this}).style;\r\n  else {\r\n    String.__parseStyleElement.innerHTML = '<div style=\"' + this + '\"></div>';\r\n    style = String.__parseStyleElement.childNodes[0].style;\r\n  }\r\n  \r\n  Element.CSS_PROPERTIES.each(function(property){\r\n    if (style[property]) styleRules.set(property, style[property]); \r\n  });\r\n  \r\n  if (Prototype.Browser.IE && this.include('opacity'))\r\n    styleRules.set('opacity', this.match(/opacity:\\s*((?:0|1)?(?:\\.\\d*)?)/)[1]);\r\n\r\n  return styleRules;\r\n};\r\n\r\nif (document.defaultView && document.defaultView.getComputedStyle) {\r\n  Element.getStyles = function(element) {\r\n    var css = document.defaultView.getComputedStyle($(element), null);\r\n    return Element.CSS_PROPERTIES.inject({ }, function(styles, property) {\r\n      styles[property] = css[property];\r\n      return styles;\r\n    });\r\n  };\r\n} else {\r\n  Element.getStyles = function(element) {\r\n    element = $(element);\r\n    var css = element.currentStyle, styles;\r\n    styles = Element.CSS_PROPERTIES.inject({ }, function(results, property) {\r\n      results[property] = css[property];\r\n      return results;\r\n    });\r\n    if (!styles.opacity) styles.opacity = element.getOpacity();\r\n    return styles;\r\n  };\r\n};\r\n\r\nEffect.Methods = {\r\n  morph: function(element, style) {\r\n    element = $(element);\r\n    new Effect.Morph(element, Object.extend({ style: style }, arguments[2] || { }));\r\n    return element;\r\n  },\r\n  visualEffect: function(element, effect, options) {\r\n    element = $(element)\r\n    var s = effect.dasherize().camelize(), klass = s.charAt(0).toUpperCase() + s.substring(1);\r\n    new Effect[klass](element, options);\r\n    return element;\r\n  },\r\n  highlight: function(element, options) {\r\n    element = $(element);\r\n    new Effect.Highlight(element, options);\r\n    return element;\r\n  }\r\n};\r\n\r\n$w('fade appear grow shrink fold blindUp blindDown slideUp slideDown '+\r\n  'pulsate shake puff squish switchOff dropOut').each(\r\n  function(effect) { \r\n    Effect.Methods[effect] = function(element, options){\r\n      element = $(element);\r\n      Effect[effect.charAt(0).toUpperCase() + effect.substring(1)](element, options);\r\n      return element;\r\n    }\r\n  }\r\n);\r\n\r\n$w('getInlineOpacity forceRerendering setContentZoom collectTextNodes collectTextNodesIgnoreClass getStyles').each( \r\n  function(f) { Effect.Methods[f] = Element[f]; }\r\n);\r\n\r\nElement.addMethods(Effect.Methods);\r\n// script.aculo.us controls.js v1.8.1, Thu Jan 03 22:07:12 -0500 2008\r\n\r\n// Copyright (c) 2005-2007 Thomas Fuchs (http://script.aculo.us, http://mir.aculo.us)\r\n//           (c) 2005-2007 Ivan Krstic (http://blogs.law.harvard.edu/ivan)\r\n//           (c) 2005-2007 Jon Tirsen (http://www.tirsen.com)\r\n// Contributors:\r\n//  Richard Livsey\r\n//  Rahul Bhargava\r\n//  Rob Wills\r\n// \r\n// script.aculo.us is freely distributable under the terms of an MIT-style license.\r\n// For details, see the script.aculo.us web site: http://script.aculo.us/\r\n\r\n// Autocompleter.Base handles all the autocompletion functionality \r\n// that's independent of the data source for autocompletion. This\r\n// includes drawing the autocompletion menu, observing keyboard\r\n// and mouse events, and similar.\r\n//\r\n// Specific autocompleters need to provide, at the very least, \r\n// a getUpdatedChoices function that will be invoked every time\r\n// the text inside the monitored textbox changes. This method \r\n// should get the text for which to provide autocompletion by\r\n// invoking this.getToken(), NOT by directly accessing\r\n// this.element.value. This is to allow incremental tokenized\r\n// autocompletion. Specific auto-completion logic (AJAX, etc)\r\n// belongs in getUpdatedChoices.\r\n//\r\n// Tokenized incremental autocompletion is enabled automatically\r\n// when an autocompleter is instantiated with the 'tokens' option\r\n// in the options parameter, e.g.:\r\n// new Ajax.Autocompleter('id','upd', '/url/', { tokens: ',' });\r\n// will incrementally autocomplete with a comma as the token.\r\n// Additionally, ',' in the above example can be replaced with\r\n// a token array, e.g. { tokens: [',', '\\n'] } which\r\n// enables autocompletion on multiple tokens. This is most \r\n// useful when one of the tokens is \\n (a newline), as it \r\n// allows smart autocompletion after linebreaks.\r\n\r\nif(typeof Effect == 'undefined')\r\n  throw(\"controls.js requires including script.aculo.us' effects.js library\");\r\n\r\nvar Autocompleter = { }\r\nAutocompleter.Base = Class.create({\r\n  baseInitialize: function(element, update, options) {\r\n    element          = $(element)\r\n    this.element     = element; \r\n    this.update      = $(update);  \r\n    this.hasFocus    = false; \r\n    this.changed     = false; \r\n    this.active      = false; \r\n    this.index       = 0;     \r\n    this.entryCount  = 0;\r\n    this.oldElementValue = this.element.value;\r\n\r\n    if(this.setOptions)\r\n      this.setOptions(options);\r\n    else\r\n      this.options = options || { };\r\n\r\n    var bSetWidth = true;\r\n    if ( typeof( this.options.setWidth ) != 'undefined' )\r\n      bSetWidth = this.options.setWidth;\r\n    \r\n    this.options.paramName    = this.options.paramName || this.element.name;\r\n    this.options.tokens       = this.options.tokens || [];\r\n    this.options.frequency    = this.options.frequency || 0.4;\r\n    this.options.minChars     = this.options.minChars || 1;\r\n    this.options.onShow       = this.options.onShow || \r\n      function(element, update){ \r\n        if(!update.style.position || update.style.position=='absolute') {\r\n          update.style.position = 'absolute';\r\n          Position.clone(element, update, {\r\n            setHeight: false, \r\n            setWidth: bSetWidth,\r\n            offsetTop: element.offsetHeight\r\n          });\r\n        }\r\n        Effect.Appear(update,{duration:0.15});\r\n      };\r\n    this.options.onHide = this.options.onHide || \r\n      function(element, update){ new Effect.Fade(update,{duration:0.15}) };\r\n\r\n    if(typeof(this.options.tokens) == 'string') \r\n      this.options.tokens = new Array(this.options.tokens);\r\n    // Force carriage returns as token delimiters anyway\r\n    if (!this.options.tokens.include('\\n'))\r\n      this.options.tokens.push('\\n');\r\n\r\n    this.observer = null;\r\n    \r\n    this.element.setAttribute('autocomplete','off');\r\n\r\n    Element.hide(this.update);\r\n\r\n    Event.observe(this.element, 'blur', this.onBlur.bindAsEventListener(this));\r\n    Event.observe(this.element, 'keydown', this.onKeyPress.bindAsEventListener(this));\r\n  },\r\n\r\n  show: function() {\r\n    if(Element.getStyle(this.update, 'display')=='none') this.options.onShow(this.element, this.update);\r\n    if(!this.iefix && \r\n      (Prototype.Browser.IE) &&\r\n      (Element.getStyle(this.update, 'position')=='absolute')) {\r\n      new Insertion.After(this.update, \r\n       '<iframe id=\"' + this.update.id + '_iefix\" '+\r\n       'style=\"display:none;position:absolute;filter:progid:DXImageTransform.Microsoft.Alpha(opacity=0);\" ' +\r\n       'src=\"javascript:false;\" frameborder=\"0\" scrolling=\"no\"></iframe>');\r\n      this.iefix = $(this.update.id+'_iefix');\r\n    }\r\n    if(this.iefix) setTimeout(this.fixIEOverlapping.bind(this), 50);\r\n  },\r\n  \r\n  fixIEOverlapping: function() {\r\n    Position.clone(this.update, this.iefix, {setTop:(!this.update.style.height)});\r\n    this.iefix.style.zIndex = 1;\r\n    this.update.style.zIndex = 2;\r\n    Element.show(this.iefix);\r\n  },\r\n\r\n  hide: function() {\r\n    this.stopIndicator();\r\n    if(Element.getStyle(this.update, 'display')!='none') this.options.onHide(this.element, this.update);\r\n    if(this.iefix) Element.hide(this.iefix);\r\n  },\r\n\r\n  startIndicator: function() {\r\n    if(this.options.indicator) Element.show(this.options.indicator);\r\n  },\r\n\r\n  stopIndicator: function() {\r\n    if(this.options.indicator) Element.hide(this.options.indicator);\r\n  },\r\n\r\n  onKeyPress: function(event) {\r\n    if(this.active)\r\n      switch(event.keyCode) {\r\n       case Event.KEY_TAB:\r\n       case Event.KEY_RETURN:\r\n         this.selectEntry();\r\n         Event.stop(event);\r\n       case Event.KEY_ESC:\r\n         this.hide();\r\n         this.active = false;\r\n         Event.stop(event);\r\n         return;\r\n       case Event.KEY_LEFT:\r\n       case Event.KEY_RIGHT:\r\n         return;\r\n       case Event.KEY_UP:\r\n         this.markPrevious();\r\n         this.render();\r\n         Event.stop(event);\r\n         return;\r\n       case Event.KEY_DOWN:\r\n         this.markNext();\r\n         this.render();\r\n         Event.stop(event);\r\n         return;\r\n      }\r\n     else \r\n       if(event.keyCode==Event.KEY_TAB || event.keyCode==Event.KEY_RETURN || \r\n         (Prototype.Browser.WebKit > 0 && event.keyCode == 0)) return;\r\n\r\n    this.changed = true;\r\n    this.hasFocus = true;\r\n\r\n    if(this.observer) clearTimeout(this.observer);\r\n      this.observer = \r\n        setTimeout(this.onObserverEvent.bind(this), this.options.frequency*1000);\r\n  },\r\n\r\n  activate: function() {\r\n    this.changed = false;\r\n    this.hasFocus = true;\r\n    this.getUpdatedChoices();\r\n  },\r\n\r\n  onHover: function(event) {\r\n    var element = Event.findElement(event, 'LI');\r\n    if(this.index != element.autocompleteIndex) \r\n    {\r\n        this.index = element.autocompleteIndex;\r\n        this.render();\r\n    }\r\n    Event.stop(event);\r\n  },\r\n  \r\n  onClick: function(event) {\r\n    var element = Event.findElement(event, 'LI');\r\n    this.index = element.autocompleteIndex;\r\n    this.selectEntry();\r\n    this.hide();\r\n  },\r\n  \r\n  onBlur: function(event) {\r\n    // needed to make click events working\r\n    setTimeout(this.hide.bind(this), 250);\r\n    this.hasFocus = false;\r\n    this.active = false;     \r\n  }, \r\n  \r\n  render: function() {\r\n    if(this.entryCount > 0) {\r\n      for (var i = 0; i < this.entryCount; i++)\r\n        this.index==i ? \r\n          Element.addClassName(this.getEntry(i),\"selected\") : \r\n          Element.removeClassName(this.getEntry(i),\"selected\");\r\n      if(this.hasFocus) { \r\n        this.show();\r\n        this.active = true;\r\n      }\r\n    } else {\r\n      this.active = false;\r\n      this.hide();\r\n    }\r\n  },\r\n  \r\n  markPrevious: function() {\r\n    if(this.index > 0) this.index--\r\n      else this.index = this.entryCount-1;\r\n  },\r\n  \r\n  markNext: function() {\r\n    if(this.index < this.entryCount-1) this.index++\r\n      else this.index = 0;\r\n  },\r\n  \r\n  getEntry: function(index) {\r\n    return (index >= 0 && index <= this.entryCount ) ? this.update.firstChild.childNodes[index] : null;\r\n  },\r\n  \r\n  getCurrentEntry: function() {\r\n    return this.getEntry(this.index);\r\n  },\r\n  \r\n  selectEntry: function() {\r\n    this.active = false;\r\n    this.updateElement(this.getCurrentEntry());\r\n  },\r\n\r\n  updateElement: function(selectedElement) {\r\n    if (this.options.updateElement) {\r\n      this.options.updateElement(selectedElement);\r\n      return;\r\n    }\r\n    if ( selectedElement )\r\n    {\r\n\t    var value = '';\r\n\t    if (this.options.select) {\r\n\t      var nodes = $(selectedElement).select('.' + this.options.select) || [];\r\n\t      if(nodes.length>0) value = Element.collectTextNodes(nodes[0], this.options.select);\r\n\t    } else\r\n\t      value = Element.collectTextNodesIgnoreClass(selectedElement, 'informal');\r\n\t    \r\n\t    var bounds = this.getTokenBounds();\r\n\t    if (bounds[0] != -1) {\r\n\t      var newValue = this.element.value.substr(0, bounds[0]);\r\n\t      var whitespace = this.element.value.substr(bounds[0]).match(/^\\s+/);\r\n\t      if (whitespace)\r\n\t        newValue += whitespace[0];\r\n\t      this.element.value = newValue + value + this.element.value.substr(bounds[1]);\r\n\t    } else {\r\n\t      this.element.value = value;\r\n\t    }\r\n\t    this.oldElementValue = this.element.value;\r\n\t    this.element.focus();\r\n    }\r\n    \r\n    if (this.options.afterUpdateElement)\r\n      this.options.afterUpdateElement(this.element, selectedElement);\r\n  },\r\n\r\n  updateChoices: function(choices) {\r\n    if(!this.changed && this.hasFocus) {\r\n      this.update.innerHTML = choices;\r\n      Element.cleanWhitespace(this.update);\r\n      Element.cleanWhitespace(this.update.down());\r\n\r\n      if(this.update.firstChild && this.update.down().childNodes) {\r\n        this.entryCount = \r\n          this.update.down().childNodes.length;\r\n        for (var i = 0; i < this.entryCount; i++) {\r\n          var entry = this.getEntry(i);\r\n          entry.autocompleteIndex = i;\r\n          this.addObservers(entry);\r\n        }\r\n      } else { \r\n        this.entryCount = 0;\r\n      }\r\n\r\n      this.stopIndicator();\r\n      this.index = ( this.options.allowFreeEntry ? -1 : 0 );\r\n      \r\n      if(this.entryCount==1 && this.options.autoSelect) {\r\n        this.selectEntry();\r\n        this.hide();\r\n      } else {\r\n        this.render();\r\n      }\r\n    }\r\n  },\r\n\r\n  addObservers: function(element) {\r\n    Event.observe(element, \"mouseover\", this.onHover.bindAsEventListener(this));\r\n    Event.observe(element, \"click\", this.onClick.bindAsEventListener(this));\r\n  },\r\n\r\n  onObserverEvent: function() {\r\n    this.changed = false;   \r\n    this.tokenBounds = null;\r\n    if(this.getToken().length>=this.options.minChars) {\r\n      this.getUpdatedChoices();\r\n    } else {\r\n      this.active = false;\r\n      this.hide();\r\n    }\r\n    this.oldElementValue = this.element.value;\r\n  },\r\n\r\n  getToken: function() {\r\n    var bounds = this.getTokenBounds();\r\n    return this.element.value.substring(bounds[0], bounds[1]).strip();\r\n  },\r\n\r\n  getTokenBounds: function() {\r\n    if (null != this.tokenBounds) return this.tokenBounds;\r\n    var value = this.element.value;\r\n    if (value.strip().empty()) return [-1, 0];\r\n    var diff = arguments.callee.getFirstDifferencePos(value, this.oldElementValue);\r\n    var offset = (diff == this.oldElementValue.length ? 1 : 0);\r\n    var prevTokenPos = -1, nextTokenPos = value.length;\r\n    var tp;\r\n    for (var index = 0, l = this.options.tokens.length; index < l; ++index) {\r\n      tp = value.lastIndexOf(this.options.tokens[index], diff + offset - 1);\r\n      if (tp > prevTokenPos) prevTokenPos = tp;\r\n      tp = value.indexOf(this.options.tokens[index], diff + offset);\r\n      if (-1 != tp && tp < nextTokenPos) nextTokenPos = tp;\r\n    }\r\n    return (this.tokenBounds = [prevTokenPos + 1, nextTokenPos]);\r\n  }\r\n});\r\n\r\nAutocompleter.Base.prototype.getTokenBounds.getFirstDifferencePos = function(newS, oldS) {\r\n  var boundary = Math.min(newS.length, oldS.length);\r\n  for (var index = 0; index < boundary; ++index)\r\n    if (newS[index] != oldS[index])\r\n      return index;\r\n  return boundary;\r\n};\r\n\r\nAjax.Autocompleter = Class.create(Autocompleter.Base, {\r\n  initialize: function(element, update, url, options) {\r\n    this.baseInitialize(element, update, options);\r\n    this.options.asynchronous  = true;\r\n    this.options.onComplete    = this.onComplete.bind(this);\r\n    this.options.defaultParams = this.options.parameters || null;\r\n    this.url                   = url;\r\n  },\r\n\r\n  getUpdatedChoices: function() {\r\n    this.startIndicator();\r\n    \r\n    var entry = encodeURIComponent(this.options.paramName) + '=' + \r\n      encodeURIComponent(this.getToken());\r\n\r\n    this.options.parameters = this.options.callback ?\r\n      this.options.callback(this.element, entry) : entry;\r\n\r\n    if(this.options.defaultParams) \r\n      this.options.parameters += '&' + this.options.defaultParams;\r\n    \r\n    new Ajax.Request(this.url, this.options);\r\n  },\r\n\r\n  onComplete: function(request) {\r\n    this.updateChoices(request.responseText);\r\n  }\r\n});\r\n\r\n// The local array autocompleter. Used when you'd prefer to\r\n// inject an array of autocompletion options into the page, rather\r\n// than sending out Ajax queries, which can be quite slow sometimes.\r\n//\r\n// The constructor takes four parameters. The first two are, as usual,\r\n// the id of the monitored textbox, and id of the autocompletion menu.\r\n// The third is the array you want to autocomplete from, and the fourth\r\n// is the options block.\r\n//\r\n// Extra local autocompletion options:\r\n// - choices - How many autocompletion choices to offer\r\n//\r\n// - partialSearch - If false, the autocompleter will match entered\r\n//                    text only at the beginning of strings in the \r\n//                    autocomplete array. Defaults to true, which will\r\n//                    match text at the beginning of any *word* in the\r\n//                    strings in the autocomplete array. If you want to\r\n//                    search anywhere in the string, additionally set\r\n//                    the option fullSearch to true (default: off).\r\n//\r\n// - fullSsearch - Search anywhere in autocomplete array strings.\r\n//\r\n// - partialChars - How many characters to enter before triggering\r\n//                   a partial match (unlike minChars, which defines\r\n//                   how many characters are required to do any match\r\n//                   at all). Defaults to 2.\r\n//\r\n// - ignoreCase - Whether to ignore case when autocompleting.\r\n//                 Defaults to true.\r\n//\r\n// It's possible to pass in a custom function as the 'selector' \r\n// option, if you prefer to write your own autocompletion logic.\r\n// In that case, the other options above will not apply unless\r\n// you support them.\r\n\r\nAutocompleter.Local = Class.create(Autocompleter.Base, {\r\n  initialize: function(element, update, array, options) {\r\n    this.baseInitialize(element, update, options);\r\n    this.options.array = array;\r\n  },\r\n\r\n  getUpdatedChoices: function() {\r\n    this.updateChoices(this.options.selector(this));\r\n  },\r\n\r\n  setOptions: function(options) {\r\n    this.options = Object.extend({\r\n      choices: 10,\r\n      partialSearch: true,\r\n      partialChars: 2,\r\n      ignoreCase: true,\r\n      fullSearch: false,\r\n      selector: function(instance) {\r\n        var ret       = []; // Beginning matches\r\n        var partial   = []; // Inside matches\r\n        var entry     = instance.getToken();\r\n        var count     = 0;\r\n\r\n        for (var i = 0; i < instance.options.array.length &&  \r\n          ret.length < instance.options.choices ; i++) { \r\n\r\n          var elem = instance.options.array[i];\r\n          var foundPos = instance.options.ignoreCase ? \r\n            elem.toLowerCase().indexOf(entry.toLowerCase()) : \r\n            elem.indexOf(entry);\r\n\r\n          while (foundPos != -1) {\r\n            if (foundPos == 0 && elem.length != entry.length) { \r\n              ret.push(\"<li><strong>\" + elem.substr(0, entry.length) + \"</strong>\" + \r\n                elem.substr(entry.length) + \"</li>\");\r\n              break;\r\n            } else if (entry.length >= instance.options.partialChars && \r\n              instance.options.partialSearch && foundPos != -1) {\r\n              if (instance.options.fullSearch || /\\s/.test(elem.substr(foundPos-1,1))) {\r\n                partial.push(\"<li>\" + elem.substr(0, foundPos) + \"<strong>\" +\r\n                  elem.substr(foundPos, entry.length) + \"</strong>\" + elem.substr(\r\n                  foundPos + entry.length) + \"</li>\");\r\n                break;\r\n              }\r\n            }\r\n\r\n            foundPos = instance.options.ignoreCase ? \r\n              elem.toLowerCase().indexOf(entry.toLowerCase(), foundPos + 1) : \r\n              elem.indexOf(entry, foundPos + 1);\r\n\r\n          }\r\n        }\r\n        if (partial.length)\r\n          ret = ret.concat(partial.slice(0, instance.options.choices - ret.length))\r\n        return \"<ul>\" + ret.join('') + \"</ul>\";\r\n      }\r\n    }, options || { });\r\n  }\r\n});\r\n\r\n// AJAX in-place editor and collection editor\r\n// Full rewrite by Christophe Porteneuve <tdd@tddsworld.com> (April 2007).\r\n\r\n// Use this if you notice weird scrolling problems on some browsers,\r\n// the DOM might be a bit confused when this gets called so do this\r\n// waits 1 ms (with setTimeout) until it does the activation\r\nField.scrollFreeActivate = function(field) {\r\n  setTimeout(function() {\r\n    Field.activate(field);\r\n  }, 1);\r\n}\r\n\r\nAjax.InPlaceEditor = Class.create({\r\n  initialize: function(element, url, options) {\r\n    this.url = url;\r\n    this.element = element = $(element);\r\n    this.prepareOptions();\r\n    this._controls = { };\r\n    arguments.callee.dealWithDeprecatedOptions(options); // DEPRECATION LAYER!!!\r\n    Object.extend(this.options, options || { });\r\n    if (!this.options.formId && this.element.id) {\r\n      this.options.formId = this.element.id + '-inplaceeditor';\r\n      if ($(this.options.formId))\r\n        this.options.formId = '';\r\n    }\r\n    if (this.options.externalControl)\r\n      this.options.externalControl = $(this.options.externalControl);\r\n    if (!this.options.externalControl)\r\n      this.options.externalControlOnly = false;\r\n    this._originalBackground = this.element.getStyle('background-color') || 'transparent';\r\n    this.element.title = this.options.clickToEditText;\r\n    this._boundCancelHandler = this.handleFormCancellation.bind(this);\r\n    this._boundComplete = (this.options.onComplete || Prototype.emptyFunction).bind(this);\r\n    this._boundFailureHandler = this.handleAJAXFailure.bind(this);\r\n    this._boundSubmitHandler = this.handleFormSubmission.bind(this);\r\n    this._boundWrapperHandler = this.wrapUp.bind(this);\r\n    this.registerListeners();\r\n  },\r\n  checkForEscapeOrReturn: function(e) {\r\n    if (!this._editing || e.ctrlKey || e.altKey || e.shiftKey) return;\r\n    if (Event.KEY_ESC == e.keyCode)\r\n      this.handleFormCancellation(e);\r\n    else if (Event.KEY_RETURN == e.keyCode)\r\n      this.handleFormSubmission(e);\r\n  },\r\n  createControl: function(mode, handler, extraClasses) {\r\n    var control = this.options[mode + 'Control'];\r\n    var text = this.options[mode + 'Text'];\r\n    if ('button' == control) {\r\n      var btn = document.createElement('input');\r\n      btn.type = 'submit';\r\n      btn.value = text;\r\n      btn.className = 'editor_' + mode + '_button';\r\n      if ('cancel' == mode)\r\n        btn.onclick = this._boundCancelHandler;\r\n      this._form.appendChild(btn);\r\n      this._controls[mode] = btn;\r\n    } else if ('link' == control) {\r\n      var link = document.createElement('a');\r\n      link.href = '#';\r\n      link.appendChild(document.createTextNode(text));\r\n      link.onclick = 'cancel' == mode ? this._boundCancelHandler : this._boundSubmitHandler;\r\n      link.className = 'editor_' + mode + '_link';\r\n      if (extraClasses)\r\n        link.className += ' ' + extraClasses;\r\n      this._form.appendChild(link);\r\n      this._controls[mode] = link;\r\n    }\r\n  },\r\n  createEditField: function() {\r\n    var text = (this.options.loadTextURL ? this.options.loadingText : this.getText());\r\n    var fld;\r\n    if (1 >= this.options.rows && !/\\r|\\n/.test(this.getText())) {\r\n      fld = document.createElement('input');\r\n      fld.type = 'text';\r\n      var size = this.options.size || this.options.cols || 0;\r\n      if (0 < size) fld.size = size;\r\n    } else {\r\n      fld = document.createElement('textarea');\r\n      fld.rows = (1 >= this.options.rows ? this.options.autoRows : this.options.rows);\r\n      fld.cols = this.options.cols || 40;\r\n    }\r\n    fld.name = this.options.paramName;\r\n    fld.value = text; // No HTML breaks conversion anymore\r\n    fld.className = 'editor_field';\r\n    if (this.options.submitOnBlur)\r\n      fld.onblur = this._boundSubmitHandler;\r\n    this._controls.editor = fld;\r\n    if (this.options.loadTextURL)\r\n      this.loadExternalText();\r\n    this._form.appendChild(this._controls.editor);\r\n  },\r\n  createForm: function() {\r\n    var ipe = this;\r\n    function addText(mode, condition) {\r\n      var text = ipe.options['text' + mode + 'Controls'];\r\n      if (!text || condition === false) return;\r\n      ipe._form.appendChild(document.createTextNode(text));\r\n    };\r\n    this._form = $(document.createElement('form'));\r\n    this._form.id = this.options.formId;\r\n    this._form.addClassName(this.options.formClassName);\r\n    this._form.onsubmit = this._boundSubmitHandler;\r\n    this.createEditField();\r\n    if ('textarea' == this._controls.editor.tagName.toLowerCase())\r\n      this._form.appendChild(document.createElement('br'));\r\n    if (this.options.onFormCustomization)\r\n      this.options.onFormCustomization(this, this._form);\r\n    addText('Before', this.options.okControl || this.options.cancelControl);\r\n    this.createControl('ok', this._boundSubmitHandler);\r\n    addText('Between', this.options.okControl && this.options.cancelControl);\r\n    this.createControl('cancel', this._boundCancelHandler, 'editor_cancel');\r\n    addText('After', this.options.okControl || this.options.cancelControl);\r\n  },\r\n  destroy: function() {\r\n    if (this._oldInnerHTML)\r\n      this.element.innerHTML = this._oldInnerHTML;\r\n    this.leaveEditMode();\r\n    this.unregisterListeners();\r\n  },\r\n  enterEditMode: function(e) {\r\n    if (this._saving || this._editing) return;\r\n    this._editing = true;\r\n    this.triggerCallback('onEnterEditMode');\r\n    if (this.options.externalControl)\r\n      this.options.externalControl.hide();\r\n    this.element.hide();\r\n    this.createForm();\r\n    this.element.parentNode.insertBefore(this._form, this.element);\r\n    if (!this.options.loadTextURL)\r\n      this.postProcessEditField();\r\n    if (e) Event.stop(e);\r\n  },\r\n  enterHover: function(e) {\r\n    if (this.options.hoverClassName)\r\n      this.element.addClassName(this.options.hoverClassName);\r\n    if (this._saving) return;\r\n    this.triggerCallback('onEnterHover');\r\n  },\r\n  getText: function() {\r\n    return this.element.innerHTML;\r\n  },\r\n  handleAJAXFailure: function(transport) {\r\n    this.triggerCallback('onFailure', transport);\r\n    if (this._oldInnerHTML) {\r\n      this.element.innerHTML = this._oldInnerHTML;\r\n      this._oldInnerHTML = null;\r\n    }\r\n  },\r\n  handleFormCancellation: function(e) {\r\n    this.wrapUp();\r\n    if (e) Event.stop(e);\r\n  },\r\n  handleFormSubmission: function(e) {\r\n    var form = this._form;\r\n    var value = $F(this._controls.editor);\r\n    this.prepareSubmission();\r\n    var params = this.options.callback(form, value) || '';\r\n    if (Object.isString(params))\r\n      params = params.toQueryParams();\r\n    params.editorId = this.element.id;\r\n    if (this.options.htmlResponse) {\r\n      var options = Object.extend({ evalScripts: true }, this.options.ajaxOptions);\r\n      Object.extend(options, {\r\n        parameters: params,\r\n        onComplete: this._boundWrapperHandler,\r\n        onFailure: this._boundFailureHandler\r\n      });\r\n      new Ajax.Updater({ success: this.element }, this.url, options);\r\n    } else {\r\n      var options = Object.extend({ method: 'get' }, this.options.ajaxOptions);\r\n      Object.extend(options, {\r\n        parameters: params,\r\n        onComplete: this._boundWrapperHandler,\r\n        onFailure: this._boundFailureHandler\r\n      });\r\n      new Ajax.Request(this.url, options);\r\n    }\r\n    if (e) Event.stop(e);\r\n  },\r\n  leaveEditMode: function() {\r\n    this.element.removeClassName(this.options.savingClassName);\r\n    this.removeForm();\r\n    this.leaveHover();\r\n    this.element.style.backgroundColor = this._originalBackground;\r\n    this.element.show();\r\n    if (this.options.externalControl)\r\n      this.options.externalControl.show();\r\n    this._saving = false;\r\n    this._editing = false;\r\n    this._oldInnerHTML = null;\r\n    this.triggerCallback('onLeaveEditMode');\r\n  },\r\n  leaveHover: function(e) {\r\n    if (this.options.hoverClassName)\r\n      this.element.removeClassName(this.options.hoverClassName);\r\n    if (this._saving) return;\r\n    this.triggerCallback('onLeaveHover');\r\n  },\r\n  loadExternalText: function() {\r\n    this._form.addClassName(this.options.loadingClassName);\r\n    this._controls.editor.disabled = true;\r\n    var options = Object.extend({ method: 'get' }, this.options.ajaxOptions);\r\n    Object.extend(options, {\r\n      parameters: 'editorId=' + encodeURIComponent(this.element.id),\r\n      onComplete: Prototype.emptyFunction,\r\n      onSuccess: function(transport) {\r\n        this._form.removeClassName(this.options.loadingClassName);\r\n        var text = transport.responseText;\r\n        if (this.options.stripLoadedTextTags)\r\n          text = text.stripTags();\r\n        this._controls.editor.value = text;\r\n        this._controls.editor.disabled = false;\r\n        this.postProcessEditField();\r\n      }.bind(this),\r\n      onFailure: this._boundFailureHandler\r\n    });\r\n    new Ajax.Request(this.options.loadTextURL, options);\r\n  },\r\n  postProcessEditField: function() {\r\n    var fpc = this.options.fieldPostCreation;\r\n    if (fpc)\r\n      $(this._controls.editor)['focus' == fpc ? 'focus' : 'activate']();\r\n  },\r\n  prepareOptions: function() {\r\n    this.options = Object.clone(Ajax.InPlaceEditor.DefaultOptions);\r\n    Object.extend(this.options, Ajax.InPlaceEditor.DefaultCallbacks);\r\n    [this._extraDefaultOptions].flatten().compact().each(function(defs) {\r\n      Object.extend(this.options, defs);\r\n    }.bind(this));\r\n  },\r\n  prepareSubmission: function() {\r\n    this._saving = true;\r\n    this.removeForm();\r\n    this.leaveHover();\r\n    this.showSaving();\r\n  },\r\n  registerListeners: function() {\r\n    this._listeners = { };\r\n    var listener;\r\n    $H(Ajax.InPlaceEditor.Listeners).each(function(pair) {\r\n      listener = this[pair.value].bind(this);\r\n      this._listeners[pair.key] = listener;\r\n      if (!this.options.externalControlOnly)\r\n        this.element.observe(pair.key, listener);\r\n      if (this.options.externalControl)\r\n        this.options.externalControl.observe(pair.key, listener);\r\n    }.bind(this));\r\n  },\r\n  removeForm: function() {\r\n    if (!this._form) return;\r\n    this._form.remove();\r\n    this._form = null;\r\n    this._controls = { };\r\n  },\r\n  showSaving: function() {\r\n    this._oldInnerHTML = this.element.innerHTML;\r\n    this.element.innerHTML = this.options.savingText;\r\n    this.element.addClassName(this.options.savingClassName);\r\n    this.element.style.backgroundColor = this._originalBackground;\r\n    this.element.show();\r\n  },\r\n  triggerCallback: function(cbName, arg) {\r\n    if ('function' == typeof this.options[cbName]) {\r\n      this.options[cbName](this, arg);\r\n    }\r\n  },\r\n  unregisterListeners: function() {\r\n    $H(this._listeners).each(function(pair) {\r\n      if (!this.options.externalControlOnly)\r\n        this.element.stopObserving(pair.key, pair.value);\r\n      if (this.options.externalControl)\r\n        this.options.externalControl.stopObserving(pair.key, pair.value);\r\n    }.bind(this));\r\n  },\r\n  wrapUp: function(transport) {\r\n    this.leaveEditMode();\r\n    // Can't use triggerCallback due to backward compatibility: requires\r\n    // binding + direct element\r\n    this._boundComplete(transport, this.element);\r\n  }\r\n});\r\n\r\nObject.extend(Ajax.InPlaceEditor.prototype, {\r\n  dispose: Ajax.InPlaceEditor.prototype.destroy\r\n});\r\n\r\nAjax.InPlaceCollectionEditor = Class.create(Ajax.InPlaceEditor, {\r\n  initialize: function($super, element, url, options) {\r\n    this._extraDefaultOptions = Ajax.InPlaceCollectionEditor.DefaultOptions;\r\n    $super(element, url, options);\r\n  },\r\n\r\n  createEditField: function() {\r\n    var list = document.createElement('select');\r\n    list.name = this.options.paramName;\r\n    list.size = 1;\r\n    this._controls.editor = list;\r\n    this._collection = this.options.collection || [];\r\n    if (this.options.loadCollectionURL)\r\n      this.loadCollection();\r\n    else\r\n      this.checkForExternalText();\r\n    this._form.appendChild(this._controls.editor);\r\n  },\r\n\r\n  loadCollection: function() {\r\n    this._form.addClassName(this.options.loadingClassName);\r\n    this.showLoadingText(this.options.loadingCollectionText);\r\n    var options = Object.extend({ method: 'get' }, this.options.ajaxOptions);\r\n    Object.extend(options, {\r\n      parameters: 'editorId=' + encodeURIComponent(this.element.id),\r\n      onComplete: Prototype.emptyFunction,\r\n      onSuccess: function(transport) {\r\n        var js = transport.responseText.strip();\r\n        if (!/^\\[.*\\]$/.test(js)) // TODO: improve sanity check\r\n          throw 'Server returned an invalid collection representation.';\r\n        this._collection = eval(js);\r\n        this.checkForExternalText();\r\n      }.bind(this),\r\n      onFailure: this.onFailure\r\n    });\r\n    new Ajax.Request(this.options.loadCollectionURL, options);\r\n  },\r\n\r\n  showLoadingText: function(text) {\r\n    this._controls.editor.disabled = true;\r\n    var tempOption = this._controls.editor.firstChild;\r\n    if (!tempOption) {\r\n      tempOption = document.createElement('option');\r\n      tempOption.value = '';\r\n      this._controls.editor.appendChild(tempOption);\r\n      tempOption.selected = true;\r\n    }\r\n    tempOption.update((text || '').stripScripts().stripTags());\r\n  },\r\n\r\n  checkForExternalText: function() {\r\n    this._text = this.getText();\r\n    if (this.options.loadTextURL)\r\n      this.loadExternalText();\r\n    else\r\n      this.buildOptionList();\r\n  },\r\n\r\n  loadExternalText: function() {\r\n    this.showLoadingText(this.options.loadingText);\r\n    var options = Object.extend({ method: 'get' }, this.options.ajaxOptions);\r\n    Object.extend(options, {\r\n      parameters: 'editorId=' + encodeURIComponent(this.element.id),\r\n      onComplete: Prototype.emptyFunction,\r\n      onSuccess: function(transport) {\r\n        this._text = transport.responseText.strip();\r\n        this.buildOptionList();\r\n      }.bind(this),\r\n      onFailure: this.onFailure\r\n    });\r\n    new Ajax.Request(this.options.loadTextURL, options);\r\n  },\r\n\r\n  buildOptionList: function() {\r\n    this._form.removeClassName(this.options.loadingClassName);\r\n    this._collection = this._collection.map(function(entry) {\r\n      return 2 === entry.length ? entry : [entry, entry].flatten();\r\n    });\r\n    var marker = ('value' in this.options) ? this.options.value : this._text;\r\n    var textFound = this._collection.any(function(entry) {\r\n      return entry[0] == marker;\r\n    }.bind(this));\r\n    this._controls.editor.update('');\r\n    var option;\r\n    this._collection.each(function(entry, index) {\r\n      option = document.createElement('option');\r\n      option.value = entry[0];\r\n      option.selected = textFound ? entry[0] == marker : 0 == index;\r\n      option.appendChild(document.createTextNode(entry[1]));\r\n      this._controls.editor.appendChild(option);\r\n    }.bind(this));\r\n    this._controls.editor.disabled = false;\r\n    Field.scrollFreeActivate(this._controls.editor);\r\n  }\r\n});\r\n\r\n//**** DEPRECATION LAYER FOR InPlace[Collection]Editor! ****\r\n//**** This only  exists for a while,  in order to  let ****\r\n//**** users adapt to  the new API.  Read up on the new ****\r\n//**** API and convert your code to it ASAP!            ****\r\n\r\nAjax.InPlaceEditor.prototype.initialize.dealWithDeprecatedOptions = function(options) {\r\n  if (!options) return;\r\n  function fallback(name, expr) {\r\n    if (name in options || expr === undefined) return;\r\n    options[name] = expr;\r\n  };\r\n  fallback('cancelControl', (options.cancelLink ? 'link' : (options.cancelButton ? 'button' :\r\n    options.cancelLink == options.cancelButton == false ? false : undefined)));\r\n  fallback('okControl', (options.okLink ? 'link' : (options.okButton ? 'button' :\r\n    options.okLink == options.okButton == false ? false : undefined)));\r\n  fallback('highlightColor', options.highlightcolor);\r\n  fallback('highlightEndColor', options.highlightendcolor);\r\n};\r\n\r\nObject.extend(Ajax.InPlaceEditor, {\r\n  DefaultOptions: {\r\n    ajaxOptions: { },\r\n    autoRows: 3,                                // Use when multi-line w/ rows == 1\r\n    cancelControl: 'link',                      // 'link'|'button'|false\r\n    cancelText: 'cancel',\r\n    clickToEditText: 'Click to edit',\r\n    externalControl: null,                      // id|elt\r\n    externalControlOnly: false,\r\n    fieldPostCreation: 'activate',              // 'activate'|'focus'|false\r\n    formClassName: 'inplaceeditor-form',\r\n    formId: null,                               // id|elt\r\n    highlightColor: '#ffff99',\r\n    highlightEndColor: '#ffffff',\r\n    hoverClassName: '',\r\n    htmlResponse: true,\r\n    loadingClassName: 'inplaceeditor-loading',\r\n    loadingText: 'Loading...',\r\n    okControl: 'button',                        // 'link'|'button'|false\r\n    okText: 'ok',\r\n    paramName: 'value',\r\n    rows: 1,                                    // If 1 and multi-line, uses autoRows\r\n    savingClassName: 'inplaceeditor-saving',\r\n    savingText: 'Saving...',\r\n    size: 0,\r\n    stripLoadedTextTags: false,\r\n    submitOnBlur: false,\r\n    textAfterControls: '',\r\n    textBeforeControls: '',\r\n    textBetweenControls: ''\r\n  },\r\n  DefaultCallbacks: {\r\n    callback: function(form) {\r\n      return Form.serialize(form);\r\n    },\r\n    onComplete: function(transport, element) {\r\n      // For backward compatibility, this one is bound to the IPE, and passes\r\n      // the element directly.  It was too often customized, so we don't break it.\r\n      new Effect.Highlight(element, {\r\n        startcolor: this.options.highlightColor, keepBackgroundImage: true });\r\n    },\r\n    onEnterEditMode: null,\r\n    onEnterHover: function(ipe) {\r\n      ipe.element.style.backgroundColor = ipe.options.highlightColor;\r\n      if (ipe._effect)\r\n        ipe._effect.cancel();\r\n    },\r\n    onFailure: function(transport, ipe) {\r\n      alert('Error communication with the server: ' + transport.responseText.stripTags());\r\n    },\r\n    onFormCustomization: null, // Takes the IPE and its generated form, after editor, before controls.\r\n    onLeaveEditMode: null,\r\n    onLeaveHover: function(ipe) {\r\n      ipe._effect = new Effect.Highlight(ipe.element, {\r\n        startcolor: ipe.options.highlightColor, endcolor: ipe.options.highlightEndColor,\r\n        restorecolor: ipe._originalBackground, keepBackgroundImage: true\r\n      });\r\n    }\r\n  },\r\n  Listeners: {\r\n    click: 'enterEditMode',\r\n    keydown: 'checkForEscapeOrReturn',\r\n    mouseover: 'enterHover',\r\n    mouseout: 'leaveHover'\r\n  }\r\n});\r\n\r\nAjax.InPlaceCollectionEditor.DefaultOptions = {\r\n  loadingCollectionText: 'Loading options...'\r\n};\r\n\r\n// Delayed observer, like Form.Element.Observer, \r\n// but waits for delay after last key input\r\n// Ideal for live-search fields\r\n\r\nForm.Element.DelayedObserver = Class.create({\r\n  initialize: function(element, delay, callback) {\r\n    this.delay     = delay || 0.5;\r\n    this.element   = $(element);\r\n    this.callback  = callback;\r\n    this.timer     = null;\r\n    this.lastValue = $F(this.element); \r\n    Event.observe(this.element,'keyup',this.delayedListener.bindAsEventListener(this));\r\n  },\r\n  delayedListener: function(event) {\r\n    if(this.lastValue == $F(this.element)) return;\r\n    if(this.timer) clearTimeout(this.timer);\r\n    this.timer = setTimeout(this.onTimerEvent.bind(this), this.delay * 1000);\r\n    this.lastValue = $F(this.element);\r\n  },\r\n  onTimerEvent: function() {\r\n    this.timer = null;\r\n    this.callback(this.element, $F(this.element));\r\n  }\r\n});\r\n// script.aculo.us slider.js v1.8.1, Thu Jan 03 22:07:12 -0500 2008\r\n\r\n// Copyright (c) 2005-2007 Marty Haught, Thomas Fuchs \r\n//\r\n// script.aculo.us is freely distributable under the terms of an MIT-style license.\r\n// For details, see the script.aculo.us web site: http://script.aculo.us/\r\n\r\nif (!Control) var Control = { };\r\n\r\n// options:\r\n//  axis: 'vertical', or 'horizontal' (default)\r\n//\r\n// callbacks:\r\n//  onChange(value)\r\n//  onSlide(value)\r\nControl.Slider = Class.create({\r\n  initialize: function(handle, track, options) {\r\n    var slider = this;\r\n    \r\n    if (Object.isArray(handle)) {\r\n      this.handles = handle.collect( function(e) { return $(e) });\r\n    } else {\r\n      this.handles = [$(handle)];\r\n    }\r\n    \r\n    this.track   = $(track);\r\n    this.options = options || { };\r\n\r\n    this.axis      = this.options.axis || 'horizontal';\r\n    this.increment = this.options.increment || 1;\r\n    this.step      = parseInt(this.options.step || '1');\r\n    this.range     = this.options.range || $R(0,1);\r\n    \r\n    this.value     = 0; // assure backwards compat\r\n    this.values    = this.handles.map( function() { return 0 });\r\n    this.spans     = this.options.spans ? this.options.spans.map(function(s){ return $(s) }) : false;\r\n    this.options.startSpan = $(this.options.startSpan || null);\r\n    this.options.endSpan   = $(this.options.endSpan || null);\r\n\r\n    this.restricted = this.options.restricted || false;\r\n\r\n    this.maximum   = this.options.maximum || this.range.end;\r\n    this.minimum   = this.options.minimum || this.range.start;\r\n\r\n    // Will be used to align the handle onto the track, if necessary\r\n    this.alignX = parseInt(this.options.alignX || '0');\r\n    this.alignY = parseInt(this.options.alignY || '0');\r\n    \r\n    this.trackLength = this.maximumOffset() - this.minimumOffset();\r\n\r\n    this.handleLength = this.isVertical() ? \r\n      (this.handles[0].offsetHeight != 0 ? \r\n        this.handles[0].offsetHeight : this.handles[0].style.height.replace(/px$/,\"\")) : \r\n      (this.handles[0].offsetWidth != 0 ? this.handles[0].offsetWidth : \r\n        this.handles[0].style.width.replace(/px$/,\"\"));\r\n\r\n    this.active   = false;\r\n    this.dragging = false;\r\n    this.disabled = false;\r\n\r\n    if (this.options.disabled) this.setDisabled();\r\n\r\n    // Allowed values array\r\n    this.allowedValues = this.options.values ? this.options.values.sortBy(Prototype.K) : false;\r\n    if (this.allowedValues) {\r\n      this.minimum = this.allowedValues.min();\r\n      this.maximum = this.allowedValues.max();\r\n    }\r\n\r\n    this.eventMouseDown = this.startDrag.bindAsEventListener(this);\r\n    this.eventMouseUp   = this.endDrag.bindAsEventListener(this);\r\n    this.eventMouseMove = this.update.bindAsEventListener(this);\r\n\r\n    // Initialize handles in reverse (make sure first handle is active)\r\n    this.handles.each( function(h,i) {\r\n      i = slider.handles.length-1-i;\r\n      slider.setValue(parseFloat(\r\n        (Object.isArray(slider.options.sliderValue) ? \r\n          slider.options.sliderValue[i] : slider.options.sliderValue) || \r\n         slider.range.start), i);\r\n      h.makePositioned().observe(\"mousedown\", slider.eventMouseDown);\r\n    });\r\n    \r\n    this.track.observe(\"mousedown\", this.eventMouseDown);\r\n    document.observe(\"mouseup\", this.eventMouseUp);\r\n    document.observe(\"mousemove\", this.eventMouseMove);\r\n    \r\n    this.initialized = true;\r\n  },\r\n  dispose: function() {\r\n    var slider = this;    \r\n    Event.stopObserving(this.track, \"mousedown\", this.eventMouseDown);\r\n    Event.stopObserving(document, \"mouseup\", this.eventMouseUp);\r\n    Event.stopObserving(document, \"mousemove\", this.eventMouseMove);\r\n    this.handles.each( function(h) {\r\n      Event.stopObserving(h, \"mousedown\", slider.eventMouseDown);\r\n    });\r\n  },\r\n  setDisabled: function(){\r\n    this.disabled = true;\r\n  },\r\n  setEnabled: function(){\r\n    this.disabled = false;\r\n  },  \r\n  getNearestValue: function(value){\r\n    if (this.allowedValues){\r\n      if (value >= this.allowedValues.max()) return(this.allowedValues.max());\r\n      if (value <= this.allowedValues.min()) return(this.allowedValues.min());\r\n      \r\n      var offset = Math.abs(this.allowedValues[0] - value);\r\n      var newValue = this.allowedValues[0];\r\n      this.allowedValues.each( function(v) {\r\n        var currentOffset = Math.abs(v - value);\r\n        if (currentOffset <= offset){\r\n          newValue = v;\r\n          offset = currentOffset;\r\n        } \r\n      });\r\n      return newValue;\r\n    }\r\n    if (value > this.range.end) return this.range.end;\r\n    if (value < this.range.start) return this.range.start;\r\n    return value;\r\n  },\r\n  setValue: function(sliderValue, handleIdx){\r\n    if (!this.active) {\r\n      this.activeHandleIdx = handleIdx || 0;\r\n      this.activeHandle    = this.handles[this.activeHandleIdx];\r\n      this.updateStyles();\r\n    }\r\n    handleIdx = handleIdx || this.activeHandleIdx || 0;\r\n    if (this.initialized && this.restricted) {\r\n      if ((handleIdx>0) && (sliderValue<this.values[handleIdx-1]))\r\n        sliderValue = this.values[handleIdx-1];\r\n      if ((handleIdx < (this.handles.length-1)) && (sliderValue>this.values[handleIdx+1]))\r\n        sliderValue = this.values[handleIdx+1];\r\n    }\r\n    sliderValue = this.getNearestValue(sliderValue);\r\n    this.values[handleIdx] = sliderValue;\r\n    this.value = this.values[0]; // assure backwards compat\r\n    \r\n    this.handles[handleIdx].style[this.isVertical() ? 'top' : 'left'] = \r\n      this.translateToPx(sliderValue);\r\n    \r\n    this.drawSpans();\r\n    if (!this.dragging || !this.event) this.updateFinished();\r\n  },\r\n  setValueBy: function(delta, handleIdx) {\r\n    this.setValue(this.values[handleIdx || this.activeHandleIdx || 0] + delta, \r\n      handleIdx || this.activeHandleIdx || 0);\r\n  },\r\n  translateToPx: function(value) {\r\n    return Math.round(\r\n      ((this.trackLength-this.handleLength)/(this.range.end-this.range.start)) * \r\n      (value - this.range.start)) + \"px\";\r\n  },\r\n  translateToValue: function(offset) {\r\n    return ((offset/(this.trackLength-this.handleLength) * \r\n      (this.range.end-this.range.start)) + this.range.start);\r\n  },\r\n  getRange: function(range) {\r\n    var v = this.values.sortBy(Prototype.K); \r\n    range = range || 0;\r\n    return $R(v[range],v[range+1]);\r\n  },\r\n  minimumOffset: function(){\r\n    return(this.isVertical() ? this.alignY : this.alignX);\r\n  },\r\n  maximumOffset: function(){\r\n    return(this.isVertical() ? \r\n      (this.track.offsetHeight != 0 ? this.track.offsetHeight :\r\n        this.track.style.height.replace(/px$/,\"\")) - this.alignY : \r\n      (this.track.offsetWidth != 0 ? this.track.offsetWidth : \r\n        this.track.style.width.replace(/px$/,\"\")) - this.alignX);\r\n  },  \r\n  isVertical:  function(){\r\n    return (this.axis == 'vertical');\r\n  },\r\n  drawSpans: function() {\r\n    var slider = this;\r\n    if (this.spans)\r\n      $R(0, this.spans.length-1).each(function(r) { slider.setSpan(slider.spans[r], slider.getRange(r)) });\r\n    if (this.options.startSpan)\r\n      this.setSpan(this.options.startSpan,\r\n        $R(0, this.values.length>1 ? this.getRange(0).min() : this.value ));\r\n    if (this.options.endSpan)\r\n      this.setSpan(this.options.endSpan, \r\n        $R(this.values.length>1 ? this.getRange(this.spans.length-1).max() : this.value, this.maximum));\r\n  },\r\n  setSpan: function(span, range) {\r\n    if (this.isVertical()) {\r\n      span.style.top = this.translateToPx(range.start);\r\n      span.style.height = this.translateToPx(range.end - range.start + this.range.start);\r\n    } else {\r\n      span.style.left = this.translateToPx(range.start);\r\n      span.style.width = this.translateToPx(range.end - range.start + this.range.start);\r\n    }\r\n  },\r\n  updateStyles: function() {\r\n    this.handles.each( function(h){ Element.removeClassName(h, 'selected') });\r\n    Element.addClassName(this.activeHandle, 'selected');\r\n  },\r\n  startDrag: function(event) {\r\n    if (Event.isLeftClick(event)) {\r\n      if (!this.disabled){\r\n        this.active = true;\r\n        \r\n        var handle = Event.element(event);\r\n        var pointer  = [Event.pointerX(event), Event.pointerY(event)];\r\n        var track = handle;\r\n        if (track==this.track) {\r\n          var offsets  = Position.cumulativeOffset(this.track); \r\n          this.event = event;\r\n          this.setValue(this.translateToValue( \r\n           (this.isVertical() ? pointer[1]-offsets[1] : pointer[0]-offsets[0])-(this.handleLength/2)\r\n          ));\r\n          var offsets  = Position.cumulativeOffset(this.activeHandle);\r\n          this.offsetX = (pointer[0] - offsets[0]);\r\n          this.offsetY = (pointer[1] - offsets[1]);\r\n        } else {\r\n          // find the handle (prevents issues with Safari)\r\n          while((this.handles.indexOf(handle) == -1) && handle.parentNode) \r\n            handle = handle.parentNode;\r\n            \r\n          if (this.handles.indexOf(handle)!=-1) {\r\n            this.activeHandle    = handle;\r\n            this.activeHandleIdx = this.handles.indexOf(this.activeHandle);\r\n            this.updateStyles();\r\n            \r\n            var offsets  = Position.cumulativeOffset(this.activeHandle);\r\n            this.offsetX = (pointer[0] - offsets[0]);\r\n            this.offsetY = (pointer[1] - offsets[1]);\r\n          }\r\n        }\r\n      }\r\n      Event.stop(event);\r\n    }\r\n  },\r\n  update: function(event) {\r\n   if (this.active) {\r\n      if (!this.dragging) this.dragging = true;\r\n      this.draw(event);\r\n      if (Prototype.Browser.WebKit) window.scrollBy(0,0);\r\n      Event.stop(event);\r\n   }\r\n  },\r\n  draw: function(event) {\r\n    var pointer = [Event.pointerX(event), Event.pointerY(event)];\r\n    var offsets = Position.cumulativeOffset(this.track);\r\n    pointer[0] -= this.offsetX + offsets[0];\r\n    pointer[1] -= this.offsetY + offsets[1];\r\n    this.event = event;\r\n    this.setValue(this.translateToValue( this.isVertical() ? pointer[1] : pointer[0] ));\r\n    if (this.initialized && this.options.onSlide)\r\n      this.options.onSlide(this.values.length>1 ? this.values : this.value, this);\r\n  },\r\n  endDrag: function(event) {\r\n    if (this.active && this.dragging) {\r\n      this.finishDrag(event, true);\r\n      Event.stop(event);\r\n    }\r\n    this.active = false;\r\n    this.dragging = false;\r\n  },  \r\n  finishDrag: function(event, success) {\r\n    this.active = false;\r\n    this.dragging = false;\r\n    this.updateFinished();\r\n  },\r\n  updateFinished: function() {\r\n    if (this.initialized && this.options.onChange) \r\n      this.options.onChange(this.values.length>1 ? this.values : this.value, this);\r\n    this.event = null;\r\n  }\r\n});\r\n","Steam — 顶级在线游戏平台_files/1a.PNG":{"size":2168,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/462b30e7dd029a30203784edf9996245/1629089666.PNG"},"Steam — 顶级在线游戏平台_files/1b.png":{"size":88648,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/301eb58ac4eff21f37b40ee67e3a2535/1629089667.png"},"Steam — 顶级在线游戏平台_files/13.png":{"size":61245,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/eb4e80b81e8214cfc5cffe51df804276/1629089668.png"},"Steam — 顶级在线游戏平台_files/14.png":{"size":194094,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/86904d8e409989342b5190fe9a6faffd/1629089670.png"},"Steam — 顶级在线游戏平台_files/15.png":{"size":112561,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/7fd798e072d06ed2fb3cce62a9e7c1d5/1629089672.png"},"Steam — 顶级在线游戏平台_files/16.png":{"size":209098,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/061dbee8212c514e5894851cd3896ab0/1629089674.png"},"Steam — 顶级在线游戏平台_files/17.png":{"size":47703,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/d21c5d08b1d72fd06c95fdb092ddf33d/1629089675.png"},"Steam — 顶级在线游戏平台_files/18.png":{"size":20513,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/bb54dcd71eff3cabf5c58ff4fe6ab7e9/1629089676.png"},"Steam — 顶级在线游戏平台_files/19.png":{"size":25949,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/3637bc7ccaf244cab98a037aafda02e8/1629089676.png"},"Steam — 顶级在线游戏平台_files/a.png":{"size":10320,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/38c1207a6ae314dd5e975b2e9acfc837/1629089677.png"},"Steam — 顶级在线游戏平台_files/about.js":"\r\n$J( document ).ready(\r\n\tfunction( )\r\n\t{\r\n\t\tconsole.log('ready');\r\n\r\n\t\tfunction elFadeIn(selected_el)\r\n\t\t{\r\n\t\t\tvar windowHeight = $J( window ).height();\r\n\t\t\t$J( selected_el ).each(\r\n\t\t\t\tfunction()\r\n\t\t\t\t{\r\n\t\t\t\t\tvar thisPos = $J( this ).offset().top;\r\n\t\t\t\t\tvar topOfWindow = $J( window ).scrollTop();\r\n\r\n\t\t\t\t\tif ( topOfWindow + windowHeight - 200 > thisPos )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$J( this ).find( 'img:not(.visible)' ).each(\r\n\t\t\t\t\t\t\tfunction(idx, img)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t$J(img).addClass('visible');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tvar $slick_slider = $J( '#about_steam_features_grid' );\r\n\r\n\t\tvar settings = {\r\n\t\t\tcenterMode: true,\r\n\t\t\tcenterPadding: '10vw',\r\n\t\t\tslidesToShow: 1,\r\n\t\t\tdots: true,\r\n\t\t\tarrows: false,\r\n\t\t\tinfinite: true\r\n\t\t}\r\n\r\n\t\tif ( $J( window ).width() < 750 )\r\n\t\t{\r\n\t\t\t$slick_slider.slick( settings ).on(\r\n\t\t\t\t'setPosition',\r\n\t\t\t\tfunction ( event, slick )\r\n\t\t\t\t{\r\n\t\t\t\t\tslick.$slides.css( 'height', slick.$slideTrack.height() + 'px ');\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t$J( window ).on(\r\n\t\t\t'resize',\r\n\t\t\tfunction()\r\n\t\t\t{\r\n\t\t\t\tif ( $J( window ).width() > 750 )\r\n\t\t\t\t{\r\n\t\t\t\t\tif ( $slick_slider.hasClass( 'slick-initialized' ) )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$slick_slider.slick( 'unslick' ).off();\r\n\t\t\t\t\t\t$J( '#about_steam_features_grid .feature' ).css( 'height', 'auto' );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( !$slick_slider.hasClass( 'slick-initialized' ) )\r\n\t\t\t\t{\r\n\t\t\t\t\treturn $slick_slider.slick( settings ).on(\r\n\t\t\t\t\t\t'setPosition',\r\n\t\t\t\t\t\tfunction ( event, slick )\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tslick.$slides.css('height', slick.$slideTrack.height() + 'px');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\r\n\r\n\t\t$J( \".smooth_scroll\" ).click(\r\n\t\t\tfunction( event )\r\n\t\t\t{\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\t$J( 'html,body' ).animate(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tscrollTop: $J( this.hash ).offset().top\r\n\t\t\t\t\t},\r\n\t\t\t\t\t1000\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\t$J (window ).on(\r\n\t\t\t'scroll resize',\r\n\t\t\tfunction()\r\n\t\t\t{\r\n\t\t\t\telFadeIn( '#about_ctas_area .cta_hero' );\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\telFadeIn( '#about_ctas_area  .cta_hero' );\r\n\r\n\t\tif ( $J( window ).width() > 750 )\r\n\t\t{\r\n\t\t\tvar rellax = new Rellax(\r\n\t\t\t\t'.game_image',\r\n\t\t\t\t{\r\n\t\t\t\t\tcenter: true,\r\n\t\t\t\t\tcallback: function()\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\telFadeIn( '.game_image' );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n);","Steam — 顶级在线游戏平台_files/analytics.js":"(function(){/*\n\n Copyright The Closure Library Authors.\n SPDX-License-Identifier: Apache-2.0\n*/\nvar n=this||self,p=function(a,b){a=a.split(\".\");var c=n;a[0]in c||\"undefined\"==typeof c.execScript||c.execScript(\"var \"+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b};var q={},r=function(){q.TAGGING=q.TAGGING||[];q.TAGGING[1]=!0};var t=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])},v=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};var x=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;var y=window,z=document,A=function(a,b){z.addEventListener?z.addEventListener(a,b,!1):z.attachEvent&&z.attachEvent(\"on\"+a,b)};var B=/:[0-9]+$/,C=function(a,b,c){a=a.split(\"&\");for(var d=0;d<a.length;d++){var e=a[d].split(\"=\");if(decodeURIComponent(e[0]).replace(/\\+/g,\" \")===b)return b=e.slice(1).join(\"=\"),c?b:decodeURIComponent(b).replace(/\\+/g,\" \")}},F=function(a,b){b&&(b=String(b).toLowerCase());if(\"protocol\"===b||\"port\"===b)a.protocol=D(a.protocol)||D(y.location.protocol);\"port\"===b?a.port=String(Number(a.hostname?a.port:y.location.port)||(\"http\"==a.protocol?80:\"https\"==a.protocol?443:\"\")):\"host\"===b&&(a.hostname=(a.hostname||\ny.location.hostname).replace(B,\"\").toLowerCase());return E(a,b,void 0,void 0,void 0)},E=function(a,b,c,d,e){var f=D(a.protocol);b&&(b=String(b).toLowerCase());switch(b){case \"url_no_fragment\":d=\"\";a&&a.href&&(d=a.href.indexOf(\"#\"),d=0>d?a.href:a.href.substr(0,d));a=d;break;case \"protocol\":a=f;break;case \"host\":a=a.hostname.replace(B,\"\").toLowerCase();c&&(d=/^www\\d*\\./.exec(a))&&d[0]&&(a=a.substr(d[0].length));break;case \"port\":a=String(Number(a.port)||(\"http\"==f?80:\"https\"==f?443:\"\"));break;case \"path\":a.pathname||\na.hostname||r();a=\"/\"==a.pathname.substr(0,1)?a.pathname:\"/\"+a.pathname;a=a.split(\"/\");a:if(d=d||[],c=a[a.length-1],Array.prototype.indexOf)d=d.indexOf(c),d=\"number\"==typeof d?d:-1;else{for(e=0;e<d.length;e++)if(d[e]===c){d=e;break a}d=-1}0<=d&&(a[a.length-1]=\"\");a=a.join(\"/\");break;case \"query\":a=a.search.replace(\"?\",\"\");e&&(a=C(a,e,void 0));break;case \"extension\":a=a.pathname.split(\".\");a=1<a.length?a[a.length-1]:\"\";a=a.split(\"/\")[0];break;case \"fragment\":a=a.hash.replace(\"#\",\"\");break;default:a=\na&&a.href}return a},D=function(a){return a?a.replace(\":\",\"\").toLowerCase():\"\"},G=function(a){var b=z.createElement(\"a\");a&&(b.href=a);var c=b.pathname;\"/\"!==c[0]&&(a||r(),c=\"/\"+c);a=b.hostname.replace(B,\"\");return{href:b.href,protocol:b.protocol,host:b.host,hostname:a,pathname:c,search:b.search,hash:b.hash,port:b.port}};function H(){for(var a=I,b={},c=0;c<a.length;++c)b[a[c]]=c;return b}function J(){var a=\"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";a+=a.toLowerCase()+\"0123456789-_\";return a+\".\"}var I,K;\nfunction aa(a){function b(k){for(;d<a.length;){var m=a.charAt(d++),l=K[m];if(null!=l)return l;if(!/^[\\s\\xa0]*$/.test(m))throw Error(\"Unknown base64 encoding at char: \"+m);}return k}I=I||J();K=K||H();for(var c=\"\",d=0;;){var e=b(-1),f=b(0),g=b(64),h=b(64);if(64===h&&-1===e)return c;c+=String.fromCharCode(e<<2|f>>4);64!=g&&(c+=String.fromCharCode(f<<4&240|g>>2),64!=h&&(c+=String.fromCharCode(g<<6&192|h)))}};var L;var N=function(){var a=ba,b=ca,c=M(),d=function(g){a(g.target||g.srcElement||{})},e=function(g){b(g.target||g.srcElement||{})};if(!c.init){A(\"mousedown\",d);A(\"keyup\",d);A(\"submit\",e);var f=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){b(this);f.call(this)};c.init=!0}},O=function(a,b,c,d,e){a={callback:a,domains:b,fragment:2===c,placement:c,forms:d,sameHost:e};M().decorators.push(a)},P=function(a,b,c){for(var d=M().decorators,e={},f=0;f<d.length;++f){var g=d[f],h;if(h=\n!c||g.forms)a:{h=g.domains;var k=a,m=!!g.sameHost;if(h&&(m||k!==z.location.hostname))for(var l=0;l<h.length;l++)if(h[l]instanceof RegExp){if(h[l].test(k)){h=!0;break a}}else if(0<=k.indexOf(h[l])||m&&0<=h[l].indexOf(k)){h=!0;break a}h=!1}h&&(h=g.placement,void 0==h&&(h=g.fragment?2:1),h===b&&t(e,g.callback()))}return e},M=function(){var a={};var b=y.google_tag_data;y.google_tag_data=void 0===b?a:b;a=y.google_tag_data;b=a.gl;b&&b.decorators||(b={decorators:[]},a.gl=b);return b};var da=/(.*?)\\*(.*?)\\*(.*)/,ea=/([^?#]+)(\\?[^#]*)?(#.*)?/;function Q(a){return new RegExp(\"(.*?)(^|&)\"+a+\"=([^&]*)&?(.*)\")}\nvar S=function(a){var b=[],c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];if(void 0!==d&&d===d&&null!==d&&\"[object Object]\"!==d.toString()){b.push(c);var e=b,f=e.push;d=String(d);I=I||J();K=K||H();for(var g=[],h=0;h<d.length;h+=3){var k=h+1<d.length,m=h+2<d.length,l=d.charCodeAt(h),u=k?d.charCodeAt(h+1):0,w=m?d.charCodeAt(h+2):0,fa=l>>2;l=(l&3)<<4|u>>4;u=(u&15)<<2|w>>6;w&=63;m||(w=64,k||(u=64));g.push(I[fa],I[l],I[u],I[w])}f.call(e,g.join(\"\"))}}a=b.join(\"*\");return[\"1\",R(a),a].join(\"*\")},R=function(a,\nb){a=[window.navigator.userAgent,(new Date).getTimezoneOffset(),window.navigator.userLanguage||window.navigator.language,Math.floor((new Date).getTime()/60/1E3)-(void 0===b?0:b),a].join(\"*\");if(!(b=L)){b=Array(256);for(var c=0;256>c;c++){for(var d=c,e=0;8>e;e++)d=d&1?d>>>1^3988292384:d>>>1;b[c]=d}}L=b;b=4294967295;for(c=0;c<a.length;c++)b=b>>>8^L[(b^a.charCodeAt(c))&255];return((b^-1)>>>0).toString(36)},ia=function(a){return function(b){var c=G(y.location.href),d=c.search.replace(\"?\",\"\");var e=C(d,\n\"_gl\",!0);b.query=T(e||\"\")||{};e=F(c,\"fragment\");var f=e.match(Q(\"_gl\"));b.fragment=T(f&&f[3]||\"\")||{};a&&ha(c,d,e)}};function U(a,b){if(a=Q(a).exec(b)){var c=a[2],d=a[4];b=a[1];d&&(b=b+c+d)}return b}\nvar ha=function(a,b,c){function d(f,g){f=U(\"_gl\",f);f.length&&(f=g+f);return f}if(y.history&&y.history.replaceState){var e=Q(\"_gl\");if(e.test(b)||e.test(c))a=F(a,\"path\"),b=d(b,\"?\"),c=d(c,\"#\"),y.history.replaceState({},void 0,\"\"+a+b+c)}},T=function(a){var b=void 0===b?3:b;try{if(a){a:{for(var c=0;3>c;++c){var d=da.exec(a);if(d){var e=d;break a}a=decodeURIComponent(a)}e=void 0}if(e&&\"1\"===e[1]){var f=e[2],g=e[3];a:{for(e=0;e<b;++e)if(f===R(g,e)){var h=!0;break a}h=!1}if(h){b={};var k=g?g.split(\"*\"):\n[];for(g=0;g<k.length;g+=2)b[k[g]]=aa(k[g+1]);return b}}}}catch(m){}};function V(a,b,c,d){function e(k){k=U(a,k);var m=k.charAt(k.length-1);k&&\"&\"!==m&&(k+=\"&\");return k+h}d=void 0===d?!1:d;var f=ea.exec(c);if(!f)return\"\";c=f[1];var g=f[2]||\"\";f=f[3]||\"\";var h=a+\"=\"+b;d?f=\"#\"+e(f.substring(1)):g=\"?\"+e(g.substring(1));return\"\"+c+g+f}\nfunction W(a,b){var c=\"FORM\"===(a.tagName||\"\").toUpperCase(),d=P(b,1,c),e=P(b,2,c);b=P(b,3,c);v(d)&&(d=S(d),c?X(\"_gl\",d,a):Y(\"_gl\",d,a,!1));!c&&v(e)&&(c=S(e),Y(\"_gl\",c,a,!0));for(var f in b)b.hasOwnProperty(f)&&Z(f,b[f],a)}function Z(a,b,c,d){if(c.tagName){if(\"a\"===c.tagName.toLowerCase())return Y(a,b,c,d);if(\"form\"===c.tagName.toLowerCase())return X(a,b,c)}if(\"string\"==typeof c)return V(a,b,c,d)}function Y(a,b,c,d){c.href&&(a=V(a,b,c.href,void 0===d?!1:d),x.test(a)&&(c.href=a))}\nfunction X(a,b,c){if(c&&c.action){var d=(c.method||\"\").toLowerCase();if(\"get\"===d){d=c.childNodes||[];for(var e=!1,f=0;f<d.length;f++){var g=d[f];if(g.name===a){g.setAttribute(\"value\",b);e=!0;break}}e||(d=z.createElement(\"input\"),d.setAttribute(\"type\",\"hidden\"),d.setAttribute(\"name\",a),d.setAttribute(\"value\",b),c.appendChild(d))}else\"post\"===d&&(a=V(a,b,c.action),x.test(a)&&(c.action=a))}}\nvar ba=function(a){try{a:{for(var b=100;a&&0<b;){if(a.href&&a.nodeName.match(/^a(?:rea)?$/i)){var c=a;break a}a=a.parentNode;b--}c=null}if(c){var d=c.protocol;\"http:\"!==d&&\"https:\"!==d||W(c,c.hostname)}}catch(e){}},ca=function(a){try{if(a.action){var b=F(G(a.action),\"host\");W(a,b)}}catch(c){}};p(\"google_tag_data.glBridge.auto\",function(a,b,c,d){N();O(a,b,\"fragment\"===c?2:1,!!d,!1)});p(\"google_tag_data.glBridge.passthrough\",function(a,b,c){N();O(a,[E(y.location,\"host\",!0)],b,!!c,!0)});p(\"google_tag_data.glBridge.decorate\",function(a,b,c){a=S(a);return Z(\"_gl\",a,b,!!c)});p(\"google_tag_data.glBridge.generate\",S);p(\"google_tag_data.glBridge.get\",function(a,b){var c=ia(!!b);b=M();b.data||(b.data={query:{},fragment:{}},c(b.data));c={};if(b=b.data)t(c,b.query),a&&t(c,b.fragment);return c});})(window);\n(function(){function La(a){var b=1,c;if(a)for(b=0,c=a.length-1;0<=c;c--){var d=a.charCodeAt(c);b=(b<<6&268435455)+d+(d<<14);d=b&266338304;b=0!=d?b^d>>21:b}return b};/*\n\n Copyright The Closure Library Authors.\n SPDX-License-Identifier: Apache-2.0\n*/\nvar $c=function(a){this.C=a||[]};$c.prototype.set=function(a){this.C[a]=!0};$c.prototype.encode=function(){for(var a=[],b=0;b<this.C.length;b++)this.C[b]&&(a[Math.floor(b/6)]^=1<<b%6);for(b=0;b<a.length;b++)a[b]=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\".charAt(a[b]||0);return a.join(\"\")+\"~\"};var ha=window.GoogleAnalyticsObject,wa;if(wa=void 0!=ha)wa=-1<(ha.constructor+\"\").indexOf(\"String\");var ya;if(ya=wa){var fc=window.GoogleAnalyticsObject;ya=fc?fc.replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\"):\"\"}var gb=ya||\"ga\",jd=/^(?:utma\\.)?\\d+\\.\\d+$/,kd=/^amp-[\\w.-]{22,64}$/,Ba=!1;var vd=new $c;function J(a){vd.set(a)}var Td=function(a){a=Dd(a);a=new $c(a);for(var b=vd.C.slice(),c=0;c<a.C.length;c++)b[c]=b[c]||a.C[c];return(new $c(b)).encode()},Dd=function(a){a=a.get(Gd);ka(a)||(a=[]);return a};var ea=function(a){return\"function\"==typeof a},ka=function(a){return\"[object Array]\"==Object.prototype.toString.call(Object(a))},qa=function(a){return void 0!=a&&-1<(a.constructor+\"\").indexOf(\"String\")},D=function(a,b){return 0==a.indexOf(b)},sa=function(a){return a?a.replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\"):\"\"},ra=function(){for(var a=O.navigator.userAgent+(M.cookie?M.cookie:\"\")+(M.referrer?M.referrer:\"\"),b=a.length,c=O.history.length;0<c;)a+=c--^b++;return[hd()^La(a)&2147483647,Math.round((new Date).getTime()/\n1E3)].join(\".\")},ta=function(a){var b=M.createElement(\"img\");b.width=1;b.height=1;b.src=a;return b},ua=function(){},K=function(a){if(encodeURIComponent instanceof Function)return encodeURIComponent(a);J(28);return a},L=function(a,b,c,d){try{a.addEventListener?a.addEventListener(b,c,!!d):a.attachEvent&&a.attachEvent(\"on\"+b,c)}catch(e){J(27)}},f=/^[\\w\\-:/.?=&%!\\[\\]]+$/,Nd=/^[\\w+/_-]+[=]{0,2}$/,ff=null,Id=function(a,b,c,d,e){if(!ff){ff={createScriptURL:function(ca){return ca},createHTML:function(ca){return ca}};\ntry{ff=window.trustedTypes.createPolicy(\"google-analytics\",ff)}catch(ca){}}if(a){var g=M.querySelector&&M.querySelector(\"script[nonce]\")||null;g=g?g.nonce||g.getAttribute&&g.getAttribute(\"nonce\")||\"\":\"\";c?(e=d=\"\",b&&f.test(b)&&(d=' id=\"'+b+'\"'),g&&Nd.test(g)&&(e=' nonce=\"'+g+'\"'),f.test(a)&&M.write(ff.createHTML(\"<script\"+d+e+' src=\"'+a+'\">\\x3c/script>'))):(c=M.createElement(\"script\"),c.type=\"text/javascript\",c.async=!0,c.src=ff.createScriptURL(a),d&&(c.onload=d),e&&(c.onerror=e),b&&(c.id=b),g&&c.setAttribute(\"nonce\",\ng),a=M.getElementsByTagName(\"script\")[0],a.parentNode.insertBefore(c,a))}},be=function(a,b){return E(M.location[b?\"href\":\"search\"],a)},E=function(a,b){return(a=a.match(\"(?:&|#|\\\\?)\"+K(b).replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g,\"\\\\$1\")+\"=([^&#]*)\"))&&2==a.length?a[1]:\"\"},xa=function(){var a=\"\"+M.location.hostname;return 0==a.indexOf(\"www.\")?a.substring(4):a},de=function(a,b){var c=a.indexOf(b);if(5==c||6==c)if(a=a.charAt(c+b.length),\"/\"==a||\"?\"==a||\"\"==a||\":\"==a)return!0;return!1},za=function(a,b){if(1==\nb.length&&null!=b[0]&&\"object\"===typeof b[0])return b[0];for(var c={},d=Math.min(a.length+1,b.length),e=0;e<d;e++)if(\"object\"===typeof b[e]){for(var g in b[e])b[e].hasOwnProperty(g)&&(c[g]=b[e][g]);break}else e<a.length&&(c[a[e]]=b[e]);return c},Ee=function(a,b){for(var c=0;c<a.length;c++)if(b==a[c])return!0;return!1};var ee=function(){this.oa=[];this.ea={};this.m={}};ee.prototype.set=function(a,b,c){this.oa.push(a);c?this.m[\":\"+a]=b:this.ea[\":\"+a]=b};ee.prototype.get=function(a){return this.m.hasOwnProperty(\":\"+a)?this.m[\":\"+a]:this.ea[\":\"+a]};ee.prototype.map=function(a){for(var b=0;b<this.oa.length;b++){var c=this.oa[b],d=this.get(c);d&&a(c,d)}};var O=window,M=document,va=function(a,b){return setTimeout(a,b)};var Qa=window,Za=document,G=function(a){var b=Qa._gaUserPrefs;if(b&&b.ioo&&b.ioo()||a&&!0===Qa[\"ga-disable-\"+a])return!0;try{var c=Qa.external;if(c&&c._gaUserPrefs&&\"oo\"==c._gaUserPrefs)return!0}catch(g){}a=[];b=String(Za.cookie).split(\";\");for(c=0;c<b.length;c++){var d=b[c].split(\"=\"),e=d[0].replace(/^\\s*|\\s*$/g,\"\");e&&\"AMP_TOKEN\"==e&&((d=d.slice(1).join(\"=\").replace(/^\\s*|\\s*$/g,\"\"))&&(d=decodeURIComponent(d)),a.push(d))}for(b=0;b<a.length;b++)if(\"$OPT_OUT\"==a[b])return!0;return Za.getElementById(\"__gaOptOutExtension\")?\n!0:!1};var Ca=function(a){var b=[],c=M.cookie.split(\";\");a=new RegExp(\"^\\\\s*\"+a+\"=\\\\s*(.*?)\\\\s*$\");for(var d=0;d<c.length;d++){var e=c[d].match(a);e&&b.push(e[1])}return b},zc=function(a,b,c,d,e,g,ca){e=G(e)?!1:eb.test(M.location.hostname)||\"/\"==c&&vc.test(d)?!1:!0;if(!e)return!1;b&&1200<b.length&&(b=b.substring(0,1200));c=a+\"=\"+b+\"; path=\"+c+\"; \";g&&(c+=\"expires=\"+(new Date((new Date).getTime()+g)).toGMTString()+\"; \");d&&\"none\"!==d&&(c+=\"domain=\"+d+\";\");ca&&(c+=ca+\";\");d=M.cookie;M.cookie=c;if(!(d=d!=M.cookie))a:{a=\nCa(a);for(d=0;d<a.length;d++)if(b==a[d]){d=!0;break a}d=!1}return d},Cc=function(a){return encodeURIComponent?encodeURIComponent(a).replace(/\\(/g,\"%28\").replace(/\\)/g,\"%29\"):a},vc=/^(www\\.)?google(\\.com?)?(\\.[a-z]{2})?$/,eb=/(^|\\.)doubleclick\\.net$/i;var Oe=function(a){var b=[],c=M.cookie.split(\";\");a=new RegExp(\"^\\\\s*\"+(a||\"_gac\")+\"_(UA-\\\\d+-\\\\d+)=\\\\s*(.+?)\\\\s*$\");for(var d=0;d<c.length;d++){var e=c[d].match(a);e&&b.push({ja:e[1],value:e[2],timestamp:Number(e[2].split(\".\")[1])||0})}b.sort(function(g,ca){return ca.timestamp-g.timestamp});return b};\nfunction df(a,b,c){b=Oe(b);var d={};if(!b||!b.length)return d;for(var e=0;e<b.length;e++){var g=b[e].value.split(\".\");if(\"1\"!==g[0]||c&&3>g.length||!c&&3!==g.length)a&&(a.na=!0);else if(Number(g[1])){d[b[e].ja]?a&&(a.pa=!0):d[b[e].ja]=[];var ca={version:g[0],timestamp:1E3*Number(g[1]),qa:g[2]};c&&3<g.length&&(ca.labels=g.slice(3));d[b[e].ja].push(ca)}}return d};var Fa,Ga,fb,Ab,ja=/^https?:\\/\\/[^/]*cdn\\.ampproject\\.org\\//,Ue=/^(?:www\\.|m\\.|amp\\.)+/,Ub=[],da=function(a){if(ye(a[Kd])){if(void 0===Ab){var b;if(b=(b=De.get())&&b._ga||void 0)Ab=b,J(81)}if(void 0!==Ab)return a[Q]||(a[Q]=Ab),!1}if(a[Kd]){J(67);if(a[ac]&&\"cookie\"!=a[ac])return!1;if(void 0!==Ab)a[Q]||(a[Q]=Ab);else{a:{b=String(a[W]||xa());var c=String(a[Yb]||\"/\"),d=Ca(String(a[U]||\"_ga\"));b=na(d,b,c);if(!b||jd.test(b))b=!0;else if(b=Ca(\"AMP_TOKEN\"),0==b.length)b=!0;else{if(1==b.length&&(b=decodeURIComponent(b[0]),\n\"$RETRIEVING\"==b||\"$OPT_OUT\"==b||\"$ERROR\"==b||\"$NOT_FOUND\"==b)){b=!0;break a}b=!1}}if(b&&tc(ic,String(a[Na])))return!0}}return!1},ic=function(){Z.D([ua])},tc=function(a,b){var c=Ca(\"AMP_TOKEN\");if(1<c.length)return J(55),!1;c=decodeURIComponent(c[0]||\"\");if(\"$OPT_OUT\"==c||\"$ERROR\"==c||G(b))return J(62),!1;if(!ja.test(M.referrer)&&\"$NOT_FOUND\"==c)return J(68),!1;if(void 0!==Ab)return J(56),va(function(){a(Ab)},0),!0;if(Fa)return Ub.push(a),!0;if(\"$RETRIEVING\"==c)return J(57),va(function(){tc(a,b)},\n1E4),!0;Fa=!0;c&&\"$\"!=c[0]||(xc(\"$RETRIEVING\",3E4),setTimeout(Mc,3E4),c=\"\");return Pc(c,b)?(Ub.push(a),!0):!1},Pc=function(a,b,c){if(!window.JSON)return J(58),!1;var d=O.XMLHttpRequest;if(!d)return J(59),!1;var e=new d;if(!(\"withCredentials\"in e))return J(60),!1;e.open(\"POST\",(c||\"https://ampcid.google.com/v1/publisher:getClientId\")+\"?key=AIzaSyA65lEHUEizIsNtlbNo-l2K18dT680nsaM\",!0);e.withCredentials=!0;e.setRequestHeader(\"Content-Type\",\"text/plain\");e.onload=function(){Fa=!1;if(4==e.readyState){try{200!=\ne.status&&(J(61),Qc(\"\",\"$ERROR\",3E4));var g=JSON.parse(e.responseText);g.optOut?(J(63),Qc(\"\",\"$OPT_OUT\",31536E6)):g.clientId?Qc(g.clientId,g.securityToken,31536E6):!c&&g.alternateUrl?(Ga&&clearTimeout(Ga),Fa=!0,Pc(a,b,g.alternateUrl)):(J(64),Qc(\"\",\"$NOT_FOUND\",36E5))}catch(ca){J(65),Qc(\"\",\"$ERROR\",3E4)}e=null}};d={originScope:\"AMP_ECID_GOOGLE\"};a&&(d.securityToken=a);e.send(JSON.stringify(d));Ga=va(function(){J(66);Qc(\"\",\"$ERROR\",3E4)},1E4);return!0},Mc=function(){Fa=!1},xc=function(a,b){if(void 0===\nfb){fb=\"\";for(var c=id(),d=0;d<c.length;d++){var e=c[d];if(zc(\"AMP_TOKEN\",encodeURIComponent(a),\"/\",e,\"\",b)){fb=e;return}}}zc(\"AMP_TOKEN\",encodeURIComponent(a),\"/\",fb,\"\",b)},Qc=function(a,b,c){Ga&&clearTimeout(Ga);b&&xc(b,c);Ab=a;b=Ub;Ub=[];for(c=0;c<b.length;c++)b[c](a)},ye=function(a){a:{if(ja.test(M.referrer)){var b=M.location.hostname.replace(Ue,\"\");b:{var c=M.referrer;c=c.replace(/^https?:\\/\\//,\"\");var d=c.replace(/^[^/]+/,\"\").split(\"/\"),e=d[2];d=(d=\"s\"==e?d[3]:e)?decodeURIComponent(d):d;if(!d){if(0==\nc.indexOf(\"xn--\")){c=\"\";break b}(c=c.match(/(.*)\\.cdn\\.ampproject\\.org\\/?$/))&&2==c.length&&(d=c[1].replace(/-/g,\".\").replace(/\\.\\./g,\"-\"))}c=d?d.replace(Ue,\"\"):\"\"}(d=b===c)||(c=\".\"+c,d=b.substring(b.length-c.length,b.length)===c);if(d){b=!0;break a}else J(78)}b=!1}return b&&!1!==a};var bd=function(a){return(a?\"https:\":Ba||\"https:\"==M.location.protocol?\"https:\":\"http:\")+\"//www.google-analytics.com\"},Ge=function(a){switch(a){default:case 1:return\"https://www.google-analytics.com/gtm/js?id=\";case 2:return\"https://www.googletagmanager.com/gtag/js?id=\"}},Da=function(a){this.name=\"len\";this.message=a+\"-8192\"},ba=function(a,b,c){c=c||ua;if(2036>=b.length)wc(a,b,c);else if(8192>=b.length)x(a,b,c)||wd(a,b,c)||wc(a,b,c);else throw ge(\"len\",b.length),new Da(b.length);},pe=function(a,b,\nc,d){d=d||ua;wd(a+\"?\"+b,\"\",d,c)},wc=function(a,b,c){var d=ta(a+\"?\"+b);d.onload=d.onerror=function(){d.onload=null;d.onerror=null;c()}},wd=function(a,b,c,d){var e=O.XMLHttpRequest;if(!e)return!1;var g=new e;if(!(\"withCredentials\"in g))return!1;a=a.replace(/^http:/,\"https:\");g.open(\"POST\",a,!0);g.withCredentials=!0;g.setRequestHeader(\"Content-Type\",\"text/plain\");g.onreadystatechange=function(){if(4==g.readyState){if(d&&\"text/plain\"===g.getResponseHeader(\"Content-Type\"))try{Ea(d,g.responseText,c)}catch(ca){ge(\"xhr\",\n\"rsp\"),c()}else c();g=null}};g.send(b);return!0},Ea=function(a,b,c){if(1>b.length)ge(\"xhr\",\"ver\",\"0\"),c();else if(3<a.count++)ge(\"xhr\",\"tmr\",\"\"+a.count),c();else{var d=b.charAt(0);if(\"1\"===d)oc(a,b.substring(1),c);else if(a.V&&\"2\"===d){var e=b.substring(1).split(\",\"),g=0;b=function(){++g===e.length&&c()};for(d=0;d<e.length;d++)oc(a,e[d],b)}else ge(\"xhr\",\"ver\",String(b.length)),c()}},oc=function(a,b,c){if(0===b.length)c();else{var d=b.charAt(0);switch(d){case \"d\":pe(\"https://stats.g.doubleclick.net/j/collect\",\na.U,a,c);break;case \"g\":wc(\"https://www.google.%/ads/ga-audiences\".replace(\"%\",\"com\"),a.google,c);(b=b.substring(1))&&(/^[a-z.]{1,6}$/.test(b)?wc(\"https://www.google.%/ads/ga-audiences\".replace(\"%\",b),a.google,ua):ge(\"tld\",\"bcc\",b));break;case \"G\":if(a.V){a.V(\"G-\"+b.substring(1));c();break}case \"x\":if(a.V){a.V();c();break}default:ge(\"xhr\",\"brc\",d),c()}}},x=function(a,b,c){return O.navigator.sendBeacon?O.navigator.sendBeacon(a,b)?(c(),!0):!1:!1},ge=function(a,b,c){1<=100*Math.random()||G(\"?\")||(a=\n[\"t=error\",\"_e=\"+a,\"_v=j91\",\"sr=1\"],b&&a.push(\"_f=\"+b),c&&a.push(\"_m=\"+K(c.substring(0,100))),a.push(\"aip=1\"),a.push(\"z=\"+hd()),wc(bd(!0)+\"/u/d\",a.join(\"&\"),ua))};var qc=function(){return O.gaData=O.gaData||{}},h=function(a){var b=qc();return b[a]=b[a]||{}};var Ha=function(){this.M=[]};Ha.prototype.add=function(a){this.M.push(a)};Ha.prototype.D=function(a){try{for(var b=0;b<this.M.length;b++){var c=a.get(this.M[b]);c&&ea(c)&&c.call(O,a)}}catch(d){}b=a.get(Ia);b!=ua&&ea(b)&&(a.set(Ia,ua,!0),setTimeout(b,10))};function Ja(a){if(100!=a.get(Ka)&&La(P(a,Q))%1E4>=100*R(a,Ka))throw\"abort\";}function Ma(a){if(G(P(a,Na)))throw\"abort\";}function Oa(){var a=M.location.protocol;if(\"http:\"!=a&&\"https:\"!=a)throw\"abort\";}\nfunction Pa(a){try{O.navigator.sendBeacon?J(42):O.XMLHttpRequest&&\"withCredentials\"in new O.XMLHttpRequest&&J(40)}catch(c){}a.set(ld,Td(a),!0);a.set(Ac,R(a,Ac)+1);var b=[];ue.map(function(c,d){d.F&&(c=a.get(c),void 0!=c&&c!=d.defaultValue&&(\"boolean\"==typeof c&&(c*=1),b.push(d.F+\"=\"+K(\"\"+c))))});!1===a.get(xe)&&b.push(\"npa=1\");b.push(\"z=\"+Bd());a.set(Ra,b.join(\"&\"),!0)}\nfunction Sa(a){var b=P(a,fa);!b&&a.get(Vd)&&(b=\"beacon\");var c=P(a,gd),d=P(a,oe),e=c||(d||bd(!1)+\"\")+\"/collect\";switch(P(a,ad)){case \"d\":e=c||(d||bd(!1)+\"\")+\"/j/collect\";b=a.get(qe)||void 0;pe(e,P(a,Ra),b,a.Z(Ia));break;default:b?(c=P(a,Ra),d=(d=a.Z(Ia))||ua,\"image\"==b?wc(e,c,d):\"xhr\"==b&&wd(e,c,d)||\"beacon\"==b&&x(e,c,d)||ba(e,c,d)):ba(e,P(a,Ra),a.Z(Ia))}e=P(a,Na);e=h(e);b=e.hitcount;e.hitcount=b?b+1:1;e.first_hit||(e.first_hit=(new Date).getTime());e=P(a,Na);delete h(e).pending_experiments;a.set(Ia,\nua,!0)}function Hc(a){qc().expId&&a.set(Nc,qc().expId);qc().expVar&&a.set(Oc,qc().expVar);var b=P(a,Na);if(b=h(b).pending_experiments){var c=[];for(d in b)b.hasOwnProperty(d)&&b[d]&&c.push(encodeURIComponent(d)+\".\"+encodeURIComponent(b[d]));var d=c.join(\"!\")}else d=void 0;d&&((b=a.get(m))&&(d=b+\"!\"+d),a.set(m,d,!0))}function cd(){if(O.navigator&&\"preview\"==O.navigator.loadPurpose)throw\"abort\";}\nfunction yd(a){var b=O.gaDevIds||[];if(ka(b)){var c=a.get(\"&did\");qa(c)&&0<c.length&&(b=b.concat(c.split(\",\")));c=[];for(var d=0;d<b.length;d++)Ee(c,b[d])||c.push(b[d]);0!=c.length&&a.set(\"&did\",c.join(\",\"),!0)}}function vb(a){if(!a.get(Na))throw\"abort\";}\nfunction Pe(a){try{if(!a.get(Qe)&&(a.set(Qe,!0),!a.get(\"&gtm\"))){var b=!1,c=O.location.search.split(\"?\")[1];c&&Ee(c.split(\"&\"),\"gtm_debug=x\")&&(b=!0);!b&&D(M.referrer,\"https://tagassistant.google.com/\")&&(b=!0);!b&&Ee(M.cookie.split(\"; \"),\"__TAG_ASSISTANT=x\")&&(b=!0);!b&&O.__TAG_ASSISTANT_API&&(b=!0);if(b){O[\"google.tagmanager.debugui2.queue\"]||(O[\"google.tagmanager.debugui2.queue\"]=[],Id(\"https://www.google-analytics.com/debug/bootstrap\"));var d=M.currentScript;O[\"google.tagmanager.debugui2.queue\"].push({messageType:\"LEGACY_CONTAINER_STARTING\",\ndata:{id:a.get(Na),scriptSource:d&&d.src||\"\"}})}}}catch(e){}};var hd=function(){return Math.round(2147483647*Math.random())},Bd=function(){try{var a=new Uint32Array(1);O.crypto.getRandomValues(a);return a[0]&2147483647}catch(b){return hd()}};function Ta(a){var b=R(a,Ua);500<=b&&J(15);var c=P(a,Va);if(\"transaction\"!=c&&\"item\"!=c){c=R(a,Wa);var d=(new Date).getTime(),e=R(a,Xa);0==e&&a.set(Xa,d);e=Math.round(2*(d-e)/1E3);0<e&&(c=Math.min(c+e,20),a.set(Xa,d));if(0>=c)throw\"abort\";a.set(Wa,--c)}a.set(Ua,++b)};var Ya=function(){this.data=new ee};Ya.prototype.get=function(a){var b=$a(a),c=this.data.get(a);b&&void 0==c&&(c=ea(b.defaultValue)?b.defaultValue():b.defaultValue);return b&&b.Z?b.Z(this,a,c):c};var P=function(a,b){a=a.get(b);return void 0==a?\"\":\"\"+a},R=function(a,b){a=a.get(b);return void 0==a||\"\"===a?0:Number(a)};Ya.prototype.Z=function(a){return(a=this.get(a))&&ea(a)?a:ua};\nYa.prototype.set=function(a,b,c){if(a)if(\"object\"==typeof a)for(var d in a)a.hasOwnProperty(d)&&ab(this,d,a[d],c);else ab(this,a,b,c)};var ab=function(a,b,c,d){if(void 0!=c)switch(b){case Na:wb.test(c)}var e=$a(b);e&&e.o?e.o(a,b,c,d):a.data.set(b,c,d)};var ue=new ee,ve=[],bb=function(a,b,c,d,e){this.name=a;this.F=b;this.Z=d;this.o=e;this.defaultValue=c},$a=function(a){var b=ue.get(a);if(!b)for(var c=0;c<ve.length;c++){var d=ve[c],e=d[0].exec(a);if(e){b=d[1](e);ue.set(b.name,b);break}}return b},yc=function(a){var b;ue.map(function(c,d){d.F==a&&(b=d)});return b&&b.name},S=function(a,b,c,d,e){a=new bb(a,b,c,d,e);ue.set(a.name,a);return a.name},cb=function(a,b){ve.push([new RegExp(\"^\"+a+\"$\"),b])},T=function(a,b,c){return S(a,b,c,void 0,db)},db=function(){};var hb=T(\"apiVersion\",\"v\"),ib=T(\"clientVersion\",\"_v\");S(\"anonymizeIp\",\"aip\");var jb=S(\"adSenseId\",\"a\"),Va=S(\"hitType\",\"t\"),Ia=S(\"hitCallback\"),Ra=S(\"hitPayload\");S(\"nonInteraction\",\"ni\");S(\"currencyCode\",\"cu\");S(\"dataSource\",\"ds\");var Vd=S(\"useBeacon\",void 0,!1),fa=S(\"transport\");S(\"sessionControl\",\"sc\",\"\");S(\"sessionGroup\",\"sg\");S(\"queueTime\",\"qt\");var Ac=S(\"_s\",\"_s\");S(\"screenName\",\"cd\");var kb=S(\"location\",\"dl\",\"\"),lb=S(\"referrer\",\"dr\"),mb=S(\"page\",\"dp\",\"\");S(\"hostname\",\"dh\");\nvar nb=S(\"language\",\"ul\"),ob=S(\"encoding\",\"de\");S(\"title\",\"dt\",function(){return M.title||void 0});cb(\"contentGroup([0-9]+)\",function(a){return new bb(a[0],\"cg\"+a[1])});var pb=S(\"screenColors\",\"sd\"),qb=S(\"screenResolution\",\"sr\"),rb=S(\"viewportSize\",\"vp\"),sb=S(\"javaEnabled\",\"je\"),tb=S(\"flashVersion\",\"fl\");S(\"campaignId\",\"ci\");S(\"campaignName\",\"cn\");S(\"campaignSource\",\"cs\");S(\"campaignMedium\",\"cm\");S(\"campaignKeyword\",\"ck\");S(\"campaignContent\",\"cc\");\nvar ub=S(\"eventCategory\",\"ec\"),xb=S(\"eventAction\",\"ea\"),yb=S(\"eventLabel\",\"el\"),zb=S(\"eventValue\",\"ev\"),Bb=S(\"socialNetwork\",\"sn\"),Cb=S(\"socialAction\",\"sa\"),Db=S(\"socialTarget\",\"st\"),Eb=S(\"l1\",\"plt\"),Fb=S(\"l2\",\"pdt\"),Gb=S(\"l3\",\"dns\"),Hb=S(\"l4\",\"rrt\"),Ib=S(\"l5\",\"srt\"),Jb=S(\"l6\",\"tcp\"),Kb=S(\"l7\",\"dit\"),Lb=S(\"l8\",\"clt\"),Ve=S(\"l9\",\"_gst\"),We=S(\"l10\",\"_gbt\"),Xe=S(\"l11\",\"_cst\"),Ye=S(\"l12\",\"_cbt\"),Mb=S(\"timingCategory\",\"utc\"),Nb=S(\"timingVar\",\"utv\"),Ob=S(\"timingLabel\",\"utl\"),Pb=S(\"timingValue\",\"utt\");\nS(\"appName\",\"an\");S(\"appVersion\",\"av\",\"\");S(\"appId\",\"aid\",\"\");S(\"appInstallerId\",\"aiid\",\"\");S(\"exDescription\",\"exd\");S(\"exFatal\",\"exf\");var Nc=S(\"expId\",\"xid\"),Oc=S(\"expVar\",\"xvar\"),m=S(\"exp\",\"exp\"),Rc=S(\"_utma\",\"_utma\"),Sc=S(\"_utmz\",\"_utmz\"),Tc=S(\"_utmht\",\"_utmht\"),Ua=S(\"_hc\",void 0,0),Xa=S(\"_ti\",void 0,0),Wa=S(\"_to\",void 0,20);cb(\"dimension([0-9]+)\",function(a){return new bb(a[0],\"cd\"+a[1])});cb(\"metric([0-9]+)\",function(a){return new bb(a[0],\"cm\"+a[1])});S(\"linkerParam\",void 0,void 0,Bc,db);\nvar Ze=T(\"_cd2l\",void 0,!1),ld=S(\"usage\",\"_u\"),Gd=S(\"_um\");S(\"forceSSL\",void 0,void 0,function(){return Ba},function(a,b,c){J(34);Ba=!!c});var ed=S(\"_j1\",\"jid\"),ia=S(\"_j2\",\"gjid\");cb(\"\\\\&(.*)\",function(a){var b=new bb(a[0],a[1]),c=yc(a[0].substring(1));c&&(b.Z=function(d){return d.get(c)},b.o=function(d,e,g,ca){d.set(c,g,ca)},b.F=void 0);return b});\nvar Qb=T(\"_oot\"),dd=S(\"previewTask\"),Rb=S(\"checkProtocolTask\"),md=S(\"validationTask\"),Sb=S(\"checkStorageTask\"),Uc=S(\"historyImportTask\"),Tb=S(\"samplerTask\"),Vb=S(\"_rlt\"),Wb=S(\"buildHitTask\"),Xb=S(\"sendHitTask\"),Vc=S(\"ceTask\"),zd=S(\"devIdTask\"),Cd=S(\"timingTask\"),Ld=S(\"displayFeaturesTask\"),oa=S(\"customTask\"),ze=S(\"fpsCrossDomainTask\"),Re=T(\"_cta\"),V=T(\"name\"),Q=T(\"clientId\",\"cid\"),n=T(\"clientIdTime\"),xd=T(\"storedClientId\"),Ad=S(\"userId\",\"uid\"),Na=T(\"trackingId\",\"tid\"),U=T(\"cookieName\",void 0,\"_ga\"),\nW=T(\"cookieDomain\"),Yb=T(\"cookiePath\",void 0,\"/\"),Zb=T(\"cookieExpires\",void 0,63072E3),Hd=T(\"cookieUpdate\",void 0,!0),Be=T(\"cookieFlags\",void 0,\"\"),$b=T(\"legacyCookieDomain\"),Wc=T(\"legacyHistoryImport\",void 0,!0),ac=T(\"storage\",void 0,\"cookie\"),bc=T(\"allowLinker\",void 0,!1),cc=T(\"allowAnchor\",void 0,!0),Ka=T(\"sampleRate\",\"sf\",100),dc=T(\"siteSpeedSampleRate\",void 0,1),ec=T(\"alwaysSendReferrer\",void 0,!1),I=T(\"_gid\",\"_gid\"),la=T(\"_gcn\"),Kd=T(\"useAmpClientId\"),ce=T(\"_gclid\"),fe=T(\"_gt\"),he=T(\"_ge\",void 0,\n7776E6),ie=T(\"_gclsrc\"),je=T(\"storeGac\",void 0,!0),oe=S(\"_x_19\"),Ae=S(\"_fplc\",\"_fplc\"),F=T(\"_cs\"),Je=T(\"_useUp\",void 0,!1),Le=S(\"up\",\"up\"),Qe=S(\"_tac\",void 0,!1),Se=T(\"_gbraid\"),Te=T(\"_gbt\"),bf=T(\"_gbe\",void 0,7776E6),gd=S(\"transportUrl\"),Md=S(\"_r\",\"_r\"),Od=S(\"_slc\",\"_slc\"),qe=S(\"_dp\"),ad=S(\"_jt\",void 0,\"n\"),Ud=S(\"allowAdFeatures\",void 0,!0),xe=S(\"allowAdPersonalizationSignals\",void 0,!0);\nfunction X(a,b,c,d){b[a]=function(){try{return d&&J(d),c.apply(this,arguments)}catch(e){throw ge(\"exc\",a,e&&e.name),e;}}};var Ed=function(a){if(\"cookie\"==a.get(ac))return a=Ca(\"FPLC\"),0<a.length?a[0]:void 0},Fe=function(a){var b;if(b=P(a,oe)&&a.get(Ze))b=De.get(a.get(cc)),b=!(b&&b._fplc);b&&a.set(Ae,Ed(a)||\"0\")};var aa=function(a){var b=Math.min(R(a,dc),100);return La(P(a,Q))%100>=b?!1:!0},gc=function(a){var b={};if(Ec(b)||Fc(b)){var c=b[Eb];void 0==c||Infinity==c||isNaN(c)||(0<c?(Y(b,Gb),Y(b,Jb),Y(b,Ib),Y(b,Fb),Y(b,Hb),Y(b,Kb),Y(b,Lb),Y(b,Ve),Y(b,We),Y(b,Xe),Y(b,Ye),va(function(){a(b)},10)):L(O,\"load\",function(){gc(a)},!1))}},Ec=function(a){var b=O.performance||O.webkitPerformance;b=b&&b.timing;if(!b)return!1;var c=b.navigationStart;if(0==c)return!1;a[Eb]=b.loadEventStart-c;a[Gb]=b.domainLookupEnd-b.domainLookupStart;\na[Jb]=b.connectEnd-b.connectStart;a[Ib]=b.responseStart-b.requestStart;a[Fb]=b.responseEnd-b.responseStart;a[Hb]=b.fetchStart-c;a[Kb]=b.domInteractive-c;a[Lb]=b.domContentLoadedEventStart-c;a[Ve]=N.L-c;a[We]=N.ya-c;O.google_tag_manager&&O.google_tag_manager._li&&(b=O.google_tag_manager._li,a[Xe]=b.cst,a[Ye]=b.cbt);return!0},Fc=function(a){if(O.top!=O)return!1;var b=O.external,c=b&&b.onloadT;b&&!b.isValidLoadTime&&(c=void 0);2147483648<c&&(c=void 0);0<c&&b.setPageReadyTime();if(void 0==c)return!1;\na[Eb]=c;return!0},Y=function(a,b){var c=a[b];if(isNaN(c)||Infinity==c||0>c)a[b]=void 0},Fd=function(a){return function(b){if(\"pageview\"==b.get(Va)&&!a.I){a.I=!0;var c=aa(b),d=0<E(P(b,kb),\"gclid\").length,e=0<E(P(b,kb),\"wbraid\").length;(c||d||e)&&gc(function(g){c&&a.send(\"timing\",g);(d||e)&&a.send(\"adtiming\",g)})}}};var hc=!1,mc=function(a){if(\"cookie\"==P(a,ac)){if(a.get(Hd)||P(a,xd)!=P(a,Q)){var b=1E3*R(a,Zb);ma(a,Q,U,b);a.data.set(xd,P(a,Q))}(a.get(Hd)||uc(a)!=P(a,I))&&ma(a,I,la,864E5);if(a.get(je)){if(b=P(a,ce)){var c=Math.min(R(a,he),1E3*R(a,Zb));c=0===c?0:Math.min(c,1E3*R(a,fe)+c-(new Date).getTime());a.data.set(he,c);var d={},e=P(a,fe),g=P(a,ie),ca=kc(P(a,Yb)),l=lc(P(a,W)),k=P(a,Na),w=P(a,Be);g&&\"aw.ds\"!=g?d&&(d.ua=!0):(b=[\"1\",e,Cc(b)].join(\".\"),0<=c&&(d&&(d.ta=!0),zc(\"_gac_\"+Cc(k),b,ca,l,k,c,w)));le(d)}}else J(75);\na.get(je)&&(b=P(a,Se))&&(c=Math.min(R(a,bf),1E3*R(a,Zb)),c=0===c?0:Math.min(c,1E3*R(a,Te)+c-(new Date).getTime()),a.data.set(bf,c),d={},w=P(a,Te),ca=kc(P(a,Yb)),l=lc(P(a,W)),k=P(a,Na),a=P(a,Be),b=[\"1\",w,Cc(b)].join(\".\"),0<=c&&(d&&(d.ta=!0),zc(\"_gac_gb_\"+Cc(k),b,ca,l,k,c,a)),ef(d))}},ma=function(a,b,c,d){var e=nd(a,b);if(e){c=P(a,c);var g=kc(P(a,Yb)),ca=lc(P(a,W)),l=P(a,Be),k=P(a,Na);if(\"auto\"!=ca)zc(c,e,g,ca,k,d,l)&&(hc=!0);else{J(32);for(var w=id(),Ce=0;Ce<w.length;Ce++)if(ca=w[Ce],a.data.set(W,\nca),e=nd(a,b),zc(c,e,g,ca,k,d,l)){hc=!0;return}a.data.set(W,\"auto\")}}},uc=function(a){var b=Ca(P(a,la));return Xd(a,b)},nc=function(a){if(\"cookie\"==P(a,ac)&&!hc&&(mc(a),!hc))throw\"abort\";},Yc=function(a){if(a.get(Wc)){var b=P(a,W),c=P(a,$b)||xa(),d=Xc(\"__utma\",c,b);d&&(J(19),a.set(Tc,(new Date).getTime(),!0),a.set(Rc,d.R),(b=Xc(\"__utmz\",c,b))&&d.hash==b.hash&&a.set(Sc,b.R))}},nd=function(a,b){b=Cc(P(a,b));var c=lc(P(a,W)).split(\".\").length;a=jc(P(a,Yb));1<a&&(c+=\"-\"+a);return b?[\"GA1\",c,b].join(\".\"):\n\"\"},Xd=function(a,b){return na(b,P(a,W),P(a,Yb))},na=function(a,b,c){if(!a||1>a.length)J(12);else{for(var d=[],e=0;e<a.length;e++){var g=a[e];var ca=g.split(\".\");var l=ca.shift();(\"GA1\"==l||\"1\"==l)&&1<ca.length?(g=ca.shift().split(\"-\"),1==g.length&&(g[1]=\"1\"),g[0]*=1,g[1]*=1,ca={H:g,s:ca.join(\".\")}):ca=kd.test(g)?{H:[0,0],s:g}:void 0;ca&&d.push(ca)}if(1==d.length)return J(13),d[0].s;if(0==d.length)J(12);else{J(14);d=Gc(d,lc(b).split(\".\").length,0);if(1==d.length)return d[0].s;d=Gc(d,jc(c),1);1<d.length&&\nJ(41);return d[0]&&d[0].s}}},Gc=function(a,b,c){for(var d=[],e=[],g,ca=0;ca<a.length;ca++){var l=a[ca];l.H[c]==b?d.push(l):void 0==g||l.H[c]<g?(e=[l],g=l.H[c]):l.H[c]==g&&e.push(l)}return 0<d.length?d:e},lc=function(a){return 0==a.indexOf(\".\")?a.substr(1):a},id=function(){var a=[],b=xa().split(\".\");if(4==b.length){var c=b[b.length-1];if(parseInt(c,10)==c)return[\"none\"]}for(c=b.length-2;0<=c;c--)a.push(b.slice(c).join(\".\"));b=M.location.hostname;eb.test(b)||vc.test(b)||a.push(\"none\");return a},kc=\nfunction(a){if(!a)return\"/\";1<a.length&&a.lastIndexOf(\"/\")==a.length-1&&(a=a.substr(0,a.length-1));0!=a.indexOf(\"/\")&&(a=\"/\"+a);return a},jc=function(a){a=kc(a);return\"/\"==a?1:a.split(\"/\").length},le=function(a){a.ta&&J(77);a.na&&J(74);a.pa&&J(73);a.ua&&J(69)},ef=function(a){a.ta&&J(85);a.na&&J(86);a.pa&&J(87)};function Xc(a,b,c){\"none\"==b&&(b=\"\");var d=[],e=Ca(a);a=\"__utma\"==a?6:2;for(var g=0;g<e.length;g++){var ca=(\"\"+e[g]).split(\".\");ca.length>=a&&d.push({hash:ca[0],R:e[g],O:ca})}if(0!=d.length)return 1==d.length?d[0]:Zc(b,d)||Zc(c,d)||Zc(null,d)||d[0]}function Zc(a,b){if(null==a)var c=a=1;else c=La(a),a=La(D(a,\".\")?a.substring(1):\".\"+a);for(var d=0;d<b.length;d++)if(b[d].hash==c||b[d].hash==a)return b[d]};var Jc=new RegExp(/^https?:\\/\\/([^\\/:]+)/),De=O.google_tag_data.glBridge,Kc=/(.*)([?&#])(?:_ga=[^&#]*)(?:&?)(.*)/,od=/(.*)([?&#])(?:_gac=[^&#]*)(?:&?)(.*)/;function Bc(a){if(a.get(Ze))return J(35),De.generate($e(a));var b=P(a,Q),c=P(a,I)||\"\";b=\"_ga=2.\"+K(pa(c+b,0)+\".\"+c+\"-\"+b);(a=af(a))?(J(44),a=\"&_gac=1.\"+K([pa(a.qa,0),a.timestamp,a.qa].join(\".\"))):a=\"\";return b+a}\nfunction Ic(a,b){var c=new Date,d=O.navigator,e=d.plugins||[];a=[a,d.userAgent,c.getTimezoneOffset(),c.getYear(),c.getDate(),c.getHours(),c.getMinutes()+b];for(b=0;b<e.length;++b)a.push(e[b].description);return La(a.join(\".\"))}function pa(a,b){var c=new Date,d=O.navigator,e=c.getHours()+Math.floor((c.getMinutes()+b)/60);return La([a,d.userAgent,d.language||\"\",c.getTimezoneOffset(),c.getYear(),c.getDate()+Math.floor(e/24),(24+e)%24,(60+c.getMinutes()+b)%60].join(\".\"))}\nvar Dc=function(a){J(48);this.target=a;this.T=!1};Dc.prototype.ca=function(a,b){if(a){if(this.target.get(Ze))return De.decorate($e(this.target),a,b);if(a.tagName){if(\"a\"==a.tagName.toLowerCase()){a.href&&(a.href=qd(this,a.href,b));return}if(\"form\"==a.tagName.toLowerCase())return rd(this,a)}if(\"string\"==typeof a)return qd(this,a,b)}};\nvar qd=function(a,b,c){var d=Kc.exec(b);d&&3<=d.length&&(b=d[1]+(d[3]?d[2]+d[3]:\"\"));(d=od.exec(b))&&3<=d.length&&(b=d[1]+(d[3]?d[2]+d[3]:\"\"));a=a.target.get(\"linkerParam\");d=b.indexOf(\"?\");var e=b.indexOf(\"#\");b=c?b+((-1==e?\"#\":\"&\")+a):-1==e?b+((-1===d?\"?\":\"&\")+a):b.substring(0,e)+(-1===d||d>e?\"?\":\"&\")+a+b.substring(e);b=b.replace(/&+_ga=/,\"&_ga=\");return b=b.replace(/&+_gac=/,\"&_gac=\")},rd=function(a,b){if(b&&b.action)if(\"get\"==b.method.toLowerCase()){a=a.target.get(\"linkerParam\").split(\"&\");for(var c=\n0;c<a.length;c++){var d=a[c].split(\"=\"),e=d[1];d=d[0];for(var g=b.childNodes||[],ca=!1,l=0;l<g.length;l++)if(g[l].name==d){g[l].setAttribute(\"value\",e);ca=!0;break}ca||(g=M.createElement(\"input\"),g.setAttribute(\"type\",\"hidden\"),g.setAttribute(\"name\",d),g.setAttribute(\"value\",e),b.appendChild(g))}}else\"post\"==b.method.toLowerCase()&&(b.action=qd(a,b.action))};\nDc.prototype.S=function(a,b,c){function d(g){try{g=g||O.event;a:{var ca=g.target||g.srcElement;for(g=100;ca&&0<g;){if(ca.href&&ca.nodeName.match(/^a(?:rea)?$/i)){var l=ca;break a}ca=ca.parentNode;g--}l={}}(\"http:\"==l.protocol||\"https:\"==l.protocol)&&sd(a,l.hostname||\"\")&&l.href&&(l.href=qd(e,l.href,b))}catch(k){J(26)}}var e=this;this.target.get(Ze)?De.auto(function(){return $e(e.target)},a,b?\"fragment\":\"\",c):(this.T||(this.T=!0,L(M,\"mousedown\",d,!1),L(M,\"keyup\",d,!1)),c&&L(M,\"submit\",function(g){g=\ng||O.event;if((g=g.target||g.srcElement)&&g.action){var ca=g.action.match(Jc);ca&&sd(a,ca[1])&&rd(e,g)}}))};Dc.prototype.$=function(a){if(a){var b=this,c=b.target.get(F);void 0!==c&&De.passthrough(function(){if(c(\"analytics_storage\"))return{};var d={};return d._ga=b.target.get(Q),d._up=\"1\",d},1,!0)}};function sd(a,b){if(b==M.location.hostname)return!1;for(var c=0;c<a.length;c++)if(a[c]instanceof RegExp){if(a[c].test(b))return!0}else if(0<=b.indexOf(a[c]))return!0;return!1}\nfunction ke(a,b){return b!=Ic(a,0)&&b!=Ic(a,-1)&&b!=Ic(a,-2)&&b!=pa(a,0)&&b!=pa(a,-1)&&b!=pa(a,-2)}function $e(a){var b=af(a),c={};c._ga=a.get(Q);c._gid=a.get(I)||void 0;c._gac=b?[b.qa,b.timestamp].join(\".\"):void 0;b=a.get(Ae);a=Ed(a);return c._fplc=b&&\"0\"!==b?b:a,c}function af(a){function b(e){return void 0==e||\"\"===e?0:Number(e)}var c=a.get(ce);if(c&&a.get(je)){var d=b(a.get(fe));if(1E3*d+b(a.get(he))<=(new Date).getTime())J(76);else return{timestamp:d,qa:c}}};var p=/^(GTM|OPT)-[A-Z0-9]+$/,Ie=/^G-[A-Z0-9]+$/,q=/;_gaexp=[^;]*/g,r=/;((__utma=)|([^;=]+=GAX?\\d+\\.))[^;]*/g,Aa=/^https?:\\/\\/[\\w\\-.]+\\.google.com(:\\d+)?\\/optimize\\/opt-launch\\.html\\?.*$/,t=function(a){function b(d,e){e&&(c+=\"&\"+d+\"=\"+K(e))}var c=Ge(a.type)+K(a.id);\"dataLayer\"!=a.B&&b(\"l\",a.B);b(\"cx\",a.context);b(\"t\",a.target);b(\"cid\",a.clientId);b(\"cidt\",a.ka);b(\"gac\",a.la);b(\"aip\",a.ia);a.sync&&b(\"m\",\"sync\");b(\"cycle\",a.G);a.qa&&b(\"gclid\",a.qa);Aa.test(M.referrer)&&b(\"cb\",String(hd()));return c},\nHe=function(a,b){var c=(new Date).getTime();O[a.B]=O[a.B]||[];c={\"gtm.start\":c};a.sync||(c.event=\"gtm.js\");O[a.B].push(c);2===a.type&&function(d,e,g){O[a.B].push(arguments)}(\"config\",a.id,b)},Ke=function(a,b,c,d){c=c||{};var e=1;Ie.test(b)&&(e=2);var g={id:b,type:e,B:c.dataLayer||\"dataLayer\",G:!1},ca=void 0;a.get(\"&gtm\")==b&&(g.G=!0);1===e?(g.ia=!!a.get(\"anonymizeIp\"),g.sync=d,b=String(a.get(\"name\")),\"t0\"!=b&&(g.target=b),G(String(a.get(\"trackingId\")))||(g.clientId=String(a.get(Q)),g.ka=Number(a.get(n)),\nc=c.palindrome?r:q,c=(c=M.cookie.replace(/^|(; +)/g,\";\").match(c))?c.sort().join(\"\").substring(1):void 0,g.la=c,g.qa=E(P(a,kb),\"gclid\"))):2===e&&(g.context=\"c\",ca={allow_google_signals:a.get(Ud),allow_ad_personalization_signals:a.get(xe)});He(g,ca);return t(g)};var H={},Jd=function(a,b){b||(b=(b=P(a,V))&&\"t0\"!=b?Wd.test(b)?\"_gat_\"+Cc(P(a,Na)):\"_gat_\"+Cc(b):\"_gat\");this.Y=b},Rd=function(a,b){var c=b.get(Wb);b.set(Wb,function(e){Pd(a,e,ed);Pd(a,e,ia);var g=c(e);Qd(a,e);return g});var d=b.get(Xb);b.set(Xb,function(e){var g=d(e);if(se(e)){J(80);var ca={U:re(e,1),google:re(e,2),count:0};pe(\"https://stats.g.doubleclick.net/j/collect\",ca.U,ca);e.set(ed,\"\",!0)}return g})},Pd=function(a,b,c){!1===b.get(Ud)||b.get(c)||(\"1\"==Ca(a.Y)[0]?b.set(c,\"\",!0):b.set(c,\"\"+hd(),\n!0))},Qd=function(a,b){se(b)&&zc(a.Y,\"1\",P(b,Yb),P(b,W),P(b,Na),6E4,P(b,Be))},se=function(a){return!!a.get(ed)&&!1!==a.get(Ud)},Ne=function(a){return!H[P(a,Na)]&&void 0===a.get(\"&gtm\")&&void 0===a.get(fa)&&void 0===a.get(gd)&&void 0===a.get(oe)},re=function(a,b){var c=new ee,d=function(g){$a(g).F&&c.set($a(g).F,a.get(g))};d(hb);d(ib);d(Na);d(Q);d(ed);1==b&&(d(Ad),d(ia),d(I));!1===a.get(xe)&&c.set(\"npa\",\"1\");c.set($a(ld).F,Td(a));var e=\"\";c.map(function(g,ca){e+=K(g)+\"=\";e+=K(\"\"+ca)+\"&\"});e+=\"z=\"+\nhd();1==b?e=\"t=dc&aip=1&_r=3&\"+e:2==b&&(e=\"t=sr&aip=1&_r=4&slf_rd=1&\"+e);return e},Me=function(a){if(Ne(a))return H[P(a,Na)]=!0,function(b){if(b&&!H[b]){var c=Ke(a,b);Id(c);H[b]=!0}}},Wd=/^gtm\\d+$/;var fd=function(a,b){a=a.model;if(!a.get(\"dcLoaded\")){var c=new $c(Dd(a));c.set(29);a.set(Gd,c.C);b=b||{};var d;b[U]&&(d=Cc(b[U]));b=new Jd(a,d);Rd(b,a);a.set(\"dcLoaded\",!0)}};var Sd=function(a){if(!a.get(\"dcLoaded\")&&\"cookie\"==a.get(ac)){var b=new Jd(a);Pd(b,a,ed);Pd(b,a,ia);Qd(b,a);b=se(a);var c=Ne(a);b&&a.set(Md,1,!0);c&&a.set(Od,1,!0);if(b||c)a.set(ad,\"d\",!0),J(79),a.set(qe,{U:re(a,1),google:re(a,2),V:Me(a),count:0},!0)}};var Lc=function(){var a=O.gaGlobal=O.gaGlobal||{};return a.hid=a.hid||hd()};var wb=/^(UA|YT|MO|GP)-(\\d+)-(\\d+)$/,pc=function(a){function b(e,g){d.model.data.set(e,g)}function c(e,g){b(e,g);d.filters.add(e)}var d=this;this.model=new Ya;this.filters=new Ha;b(V,a[V]);b(Na,sa(a[Na]));b(U,a[U]);b(W,a[W]||xa());b(Yb,a[Yb]);b(Zb,a[Zb]);b(Hd,a[Hd]);b(Be,a[Be]);b($b,a[$b]);b(Wc,a[Wc]);b(bc,a[bc]);b(cc,a[cc]);b(Ka,a[Ka]);b(dc,a[dc]);b(ec,a[ec]);b(ac,a[ac]);b(Ad,a[Ad]);b(n,a[n]);b(Kd,a[Kd]);b(je,a[je]);b(Ze,a[Ze]);b(oe,a[oe]);b(Je,a[Je]);b(F,a[F]);b(hb,1);b(ib,\"j91\");c(Re,Pe);c(Qb,\nMa);c(oa,ua);c(dd,cd);c(Rb,Oa);c(md,vb);c(Sb,nc);c(Uc,Yc);c(Tb,Ja);c(Vb,Ta);c(Vc,Hc);c(zd,yd);c(Ld,Sd);c(ze,Fe);c(Wb,Pa);c(Xb,Sa);c(Cd,Fd(this));pd(this.model);td(this.model,a[Q]);this.model.set(jb,Lc())};pc.prototype.get=function(a){return this.model.get(a)};pc.prototype.set=function(a,b){this.model.set(a,b)};\npc.prototype.send=function(a){if(!(1>arguments.length)){if(\"string\"===typeof arguments[0]){var b=arguments[0];var c=[].slice.call(arguments,1)}else b=arguments[0]&&arguments[0][Va],c=arguments;b&&(c=za(me[b]||[],c),c[Va]=b,this.model.set(c,void 0,!0),this.filters.D(this.model),this.model.data.m={})}};pc.prototype.ma=function(a,b){var c=this;u(a,c,b)||(v(a,function(){u(a,c,b)}),y(String(c.get(V)),a,void 0,b,!0))};\nvar td=function(a,b){var c=P(a,U);a.data.set(la,\"_ga\"==c?\"_gid\":c+\"_gid\");if(\"cookie\"==P(a,ac)){hc=!1;c=Ca(P(a,U));c=Xd(a,c);if(!c){c=P(a,W);var d=P(a,$b)||xa();c=Xc(\"__utma\",d,c);void 0!=c?(J(10),c=c.O[1]+\".\"+c.O[2]):c=void 0}c&&(hc=!0);if(d=c&&!a.get(Hd))if(d=c.split(\".\"),2!=d.length)d=!1;else if(d=Number(d[1])){var e=R(a,Zb);d=d+e<(new Date).getTime()/1E3}else d=!1;d&&(c=void 0);c&&(a.data.set(xd,c),a.data.set(Q,c),(c=uc(a))&&a.data.set(I,c));a.get(je)&&(c=a.get(ce),d=a.get(ie),!c||d&&\"aw.ds\"!=\nd)&&(c={},d=(M?df(c):{})[P(a,Na)],le(c),d&&0!=d.length&&(c=d[0],a.data.set(fe,c.timestamp/1E3),a.data.set(ce,c.qa)));a.get(je)&&!a.get(Se)&&(c={},d=(M?df(c,\"_gac_gb\",!0):{})[P(a,Na)],ef(c),d&&0!=d.length&&(c=d[0],d=c.qa,c.labels&&c.labels.length&&(d+=\".\"+c.labels.join(\".\")),a.data.set(Te,c.timestamp/1E3),a.data.set(Se,d)))}if(a.get(Hd)){c=be(\"_ga\",!!a.get(cc));var g=be(\"_gl\",!!a.get(cc));d=De.get(a.get(cc));e=d._ga;g&&0<g.indexOf(\"_ga*\")&&!e&&J(30);if(b||!a.get(Je))g=!1;else if(g=a.get(F),void 0===\ng||g(\"analytics_storage\"))g=!1;else{J(84);a.data.set(Le,1);if(g=d._up)if(g=Jc.exec(M.referrer)){g=g[1];var ca=M.location.hostname;g=ca===g||0<=ca.indexOf(\".\"+g)||0<=g.indexOf(\".\"+ca)?!0:!1}else g=!1;g=g?!0:!1}ca=d.gclid;var l=d._gac;if(c||e||ca||l)if(c&&e&&J(36),a.get(bc)||ye(a.get(Kd))||g){e&&(J(38),a.data.set(Q,e),d._gid&&(J(51),a.data.set(I,d._gid)));ca?(J(82),a.data.set(ce,ca),d.gclsrc&&a.data.set(ie,d.gclsrc)):l&&(e=l.split(\".\"))&&2===e.length&&(J(37),a.data.set(ce,e[0]),a.data.set(fe,e[1]));\nif(d=d._fplc)J(83),a.data.set(Ae,d);if(c)b:if(d=c.indexOf(\".\"),-1==d)J(22);else{e=c.substring(0,d);g=c.substring(d+1);d=g.indexOf(\".\");c=g.substring(0,d);g=g.substring(d+1);if(\"1\"==e){if(d=g,ke(d,c)){J(23);break b}}else if(\"2\"==e){d=g.indexOf(\"-\");e=\"\";0<d?(e=g.substring(0,d),d=g.substring(d+1)):d=g.substring(1);if(ke(e+d,c)){J(53);break b}e&&(J(2),a.data.set(I,e))}else{J(22);break b}J(11);a.data.set(Q,d);if(c=be(\"_gac\",!!a.get(cc)))c=c.split(\".\"),\"1\"!=c[0]||4!=c.length?J(72):ke(c[3],c[1])?J(71):\n(a.data.set(ce,c[3]),a.data.set(fe,c[2]),J(70))}}else J(21)}b&&(J(9),a.data.set(Q,K(b)));a.get(Q)||(b=(b=O.gaGlobal)&&b.from_cookie&&\"cookie\"!==P(a,ac)?void 0:(b=b&&b.vid)&&-1!==b.search(jd)?b:void 0,b?(J(17),a.data.set(Q,b)):(J(8),a.data.set(Q,ra())));a.get(I)||(J(3),a.data.set(I,ra()));mc(a);b=O.gaGlobal=O.gaGlobal||{};c=P(a,Q);a=c===P(a,xd);if(void 0==b.vid||a&&!b.from_cookie)b.vid=c,b.from_cookie=a},pd=function(a){var b=O.navigator,c=O.screen,d=M.location,e=a.set;a:{var g=!!a.get(ec),ca=!!a.get(Kd);\nvar l=M.referrer;if(/^(https?|android-app):\\/\\//i.test(l)){if(g)break a;g=\"//\"+M.location.hostname;if(!de(l,g)){if(ca&&(ca=g.replace(/\\./g,\"-\")+\".cdn.ampproject.org\",de(l,ca))){l=void 0;break a}break a}}l=void 0}e.call(a,lb,l);d&&(e=d.pathname||\"\",\"/\"!=e.charAt(0)&&(J(31),e=\"/\"+e),a.set(kb,d.protocol+\"//\"+d.hostname+e+d.search));c&&a.set(qb,c.width+\"x\"+c.height);c&&a.set(pb,c.colorDepth+\"-bit\");c=M.documentElement;l=(e=M.body)&&e.clientWidth&&e.clientHeight;ca=[];c&&c.clientWidth&&c.clientHeight&&\n(\"CSS1Compat\"===M.compatMode||!l)?ca=[c.clientWidth,c.clientHeight]:l&&(ca=[e.clientWidth,e.clientHeight]);c=0>=ca[0]||0>=ca[1]?\"\":ca.join(\"x\");a.set(rb,c);c=a.set;var k;if((e=(e=O.navigator)?e.plugins:null)&&e.length)for(l=0;l<e.length&&!k;l++)ca=e[l],-1<ca.name.indexOf(\"Shockwave Flash\")&&(k=ca.description);if(!k)try{var w=new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash.7\");k=w.GetVariable(\"$version\")}catch(Ce){}if(!k)try{w=new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash.6\"),k=\"WIN 6,0,21,0\",\nw.AllowScriptAccess=\"always\",k=w.GetVariable(\"$version\")}catch(Ce){}if(!k)try{w=new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\"),k=w.GetVariable(\"$version\")}catch(Ce){}k&&(w=k.match(/[\\d]+/g))&&3<=w.length&&(k=w[0]+\".\"+w[1]+\" r\"+w[2]);c.call(a,tb,k||void 0);a.set(ob,M.characterSet||M.charset);a.set(sb,b&&\"function\"===typeof b.javaEnabled&&b.javaEnabled()||!1);a.set(nb,(b&&(b.language||b.browserLanguage)||\"\").toLowerCase());a.data.set(ce,be(\"gclid\",!0));a.data.set(ie,be(\"gclsrc\",!0));a.data.set(fe,\nMath.round((new Date).getTime()/1E3));a.get(ce)||(a.data.set(Se,be(\"wbraid\",!0)),a.data.set(Te,Math.round((new Date).getTime()/1E3)));if(d&&a.get(cc)&&(b=M.location.hash)){b=b.split(/[?&#]+/);d=[];for(k=0;k<b.length;++k)(D(b[k],\"utm_id\")||D(b[k],\"utm_campaign\")||D(b[k],\"utm_source\")||D(b[k],\"utm_medium\")||D(b[k],\"utm_term\")||D(b[k],\"utm_content\")||D(b[k],\"gclid\")||D(b[k],\"dclid\")||D(b[k],\"gclsrc\")||D(b[k],\"wbraid\"))&&d.push(b[k]);0<d.length&&(b=\"#\"+d.join(\"&\"),a.set(kb,a.get(kb)+b))}},me={pageview:[mb],\nevent:[ub,xb,yb,zb],social:[Bb,Cb,Db],timing:[Mb,Nb,Pb,Ob]};var rc=function(a){if(\"prerender\"==M.visibilityState)return!1;a();return!0},z=function(a){if(!rc(a)){J(16);var b=!1,c=function(){if(!b&&rc(a)){b=!0;var d=c,e=M;e.removeEventListener?e.removeEventListener(\"visibilitychange\",d,!1):e.detachEvent&&e.detachEvent(\"onvisibilitychange\",d)}};L(M,\"visibilitychange\",c)}};var te=/^(?:(\\w+)\\.)?(?:(\\w+):)?(\\w+)$/,sc=function(a){if(ea(a[0]))this.u=a[0];else{var b=te.exec(a[0]);null!=b&&4==b.length&&(this.da=b[1]||\"t0\",this.K=b[2]||\"\",this.methodName=b[3],this.aa=[].slice.call(a,1),this.K||(this.A=\"create\"==this.methodName,this.i=\"require\"==this.methodName,this.g=\"provide\"==this.methodName,this.ba=\"remove\"==this.methodName),this.i&&(3<=this.aa.length?(this.X=this.aa[1],this.W=this.aa[2]):this.aa[1]&&(qa(this.aa[1])?this.X=this.aa[1]:this.W=this.aa[1])));b=a[1];a=a[2];\nif(!this.methodName)throw\"abort\";if(this.i&&(!qa(b)||\"\"==b))throw\"abort\";if(this.g&&(!qa(b)||\"\"==b||!ea(a)))throw\"abort\";if(ud(this.da)||ud(this.K))throw\"abort\";if(this.g&&\"t0\"!=this.da)throw\"abort\";}};function ud(a){return 0<=a.indexOf(\".\")||0<=a.indexOf(\":\")};var Yd,Zd,$d,A;Yd=new ee;$d=new ee;A=new ee;Zd={ec:45,ecommerce:46,linkid:47};\nvar u=function(a,b,c){b==N||b.get(V);var d=Yd.get(a);if(!ea(d))return!1;b.plugins_=b.plugins_||new ee;if(b.plugins_.get(a))return!0;b.plugins_.set(a,new d(b,c||{}));return!0},y=function(a,b,c,d,e){if(!ea(Yd.get(b))&&!$d.get(b)){Zd.hasOwnProperty(b)&&J(Zd[b]);a=N.j(a);var g=void 0;if(p.test(b)){J(52);if(!a)return!0;c=Ke(a.model,b,d,e);g=function(){Z.D([\"provide\",b,function(){}]);var l=O[d&&d.dataLayer||\"dataLayer\"];l&&l.hide&&ea(l.hide.end)&&l.hide[b]&&(l.hide.end(),l.hide.end=void 0)}}!c&&Zd.hasOwnProperty(b)?\n(J(39),c=b+\".js\"):J(43);if(c){if(a){var ca=a.get(oe);qa(ca)||(ca=void 0)}a=ae(cf(c,ca));a=!ca||ne(a.protocol)&&B(a)?a:ae(cf(c));ne(a.protocol)&&B(a)&&(Id(a.url,void 0,e,void 0,g),$d.set(b,!0))}}},v=function(a,b){var c=A.get(a)||[];c.push(b);A.set(a,c)},C=function(a,b){Yd.set(a,b);b=A.get(a)||[];for(var c=0;c<b.length;c++)b[c]();A.set(a,[])},B=function(a){var b=ae(M.location.href);if(D(a.url,Ge(1))||D(a.url,Ge(2)))return!0;if(a.query||0<=a.url.indexOf(\"?\")||0<=a.path.indexOf(\"://\"))return!1;if(a.host==\nb.host&&a.port==b.port)return!0;b=\"http:\"==a.protocol?80:443;return\"www.google-analytics.com\"==a.host&&(a.port||b)==b&&D(a.path,\"/plugins/\")?!0:!1},ne=function(a){var b=M.location.protocol;return\"https:\"==a||a==b?!0:\"http:\"!=a?!1:\"http:\"==b},ae=function(a){function b(l){var k=l.hostname||\"\",w=0<=k.indexOf(\"]\");k=k.split(w?\"]\":\":\")[0].toLowerCase();w&&(k+=\"]\");w=(l.protocol||\"\").toLowerCase();w=1*l.port||(\"http:\"==w?80:\"https:\"==w?443:\"\");l=l.pathname||\"\";D(l,\"/\")||(l=\"/\"+l);return[k,\"\"+w,l]}var c=\nM.createElement(\"a\");c.href=M.location.href;var d=(c.protocol||\"\").toLowerCase(),e=b(c),g=c.search||\"\",ca=d+\"//\"+e[0]+(e[1]?\":\"+e[1]:\"\");D(a,\"//\")?a=d+a:D(a,\"/\")?a=ca+a:!a||D(a,\"?\")?a=ca+e[2]+(a||g):0>a.split(\"/\")[0].indexOf(\":\")&&(a=ca+e[2].substring(0,e[2].lastIndexOf(\"/\"))+\"/\"+a);c.href=a;d=b(c);return{protocol:(c.protocol||\"\").toLowerCase(),host:d[0],port:d[1],path:d[2],query:c.search||\"\",url:a||\"\"}},cf=function(a,b){return a&&0<=a.indexOf(\"/\")?a:(b||bd(!1))+\"/plugins/ua/\"+a};var Z={ga:function(){Z.fa=[]}};Z.ga();Z.D=function(a){var b=Z.J.apply(Z,arguments);b=Z.fa.concat(b);for(Z.fa=[];0<b.length&&!Z.v(b[0])&&!(b.shift(),0<Z.fa.length););Z.fa=Z.fa.concat(b)};Z.J=function(a){for(var b=[],c=0;c<arguments.length;c++)try{var d=new sc(arguments[c]);d.g?C(d.aa[0],d.aa[1]):(d.i&&(d.ha=y(d.da,d.aa[0],d.X,d.W)),b.push(d))}catch(e){}return b};\nZ.v=function(a){try{if(a.u)a.u.call(O,N.j(\"t0\"));else{var b=a.da==gb?N:N.j(a.da);if(a.A){if(\"t0\"==a.da&&(b=N.create.apply(N,a.aa),null===b))return!0}else if(a.ba)N.remove(a.da);else if(b)if(a.i){if(a.ha&&(a.ha=y(a.da,a.aa[0],a.X,a.W)),!u(a.aa[0],b,a.W))return!0}else if(a.K){var c=a.methodName,d=a.aa,e=b.plugins_.get(a.K);e[c].apply(e,d)}else b[a.methodName].apply(b,a.aa)}}catch(g){}};var N=function(a){J(1);Z.D.apply(Z,[arguments])};N.h={};N.P=[];N.L=0;N.ya=0;N.answer=42;var we=[Na,W,V];N.create=function(a){var b=za(we,[].slice.call(arguments));b[V]||(b[V]=\"t0\");var c=\"\"+b[V];if(N.h[c])return N.h[c];if(da(b))return null;b=new pc(b);N.h[c]=b;N.P.push(b);c=qc().tracker_created;if(ea(c))try{c(b)}catch(d){}return b};N.remove=function(a){for(var b=0;b<N.P.length;b++)if(N.P[b].get(V)==a){N.P.splice(b,1);N.h[a]=null;break}};N.j=function(a){return N.h[a]};N.getAll=function(){return N.P.slice(0)};\nN.N=function(){\"ga\"!=gb&&J(49);var a=O[gb];if(!a||42!=a.answer){N.L=a&&a.l;N.ya=1*new Date;N.loaded=!0;var b=O[gb]=N;X(\"create\",b,b.create);X(\"remove\",b,b.remove);X(\"getByName\",b,b.j,5);X(\"getAll\",b,b.getAll,6);b=pc.prototype;X(\"get\",b,b.get,7);X(\"set\",b,b.set,4);X(\"send\",b,b.send);X(\"requireSync\",b,b.ma);b=Ya.prototype;X(\"get\",b,b.get);X(\"set\",b,b.set);if(\"https:\"!=M.location.protocol&&!Ba){a:{b=M.getElementsByTagName(\"script\");for(var c=0;c<b.length&&100>c;c++){var d=b[c].src;if(d&&0==d.indexOf(bd(!0)+\n\"/analytics\")){b=!0;break a}}b=!1}b&&(Ba=!0)}(O.gaplugins=O.gaplugins||{}).Linker=Dc;b=Dc.prototype;C(\"linker\",Dc);X(\"decorate\",b,b.ca,20);X(\"autoLink\",b,b.S,25);X(\"passthrough\",b,b.$,25);C(\"displayfeatures\",fd);C(\"adfeatures\",fd);a=a&&a.q;ka(a)?Z.D.apply(N,a):J(50)}};var gf=N.N,hf=O[gb];hf&&hf.r?gf():z(gf);z(function(){Z.D([\"provide\",\"render\",ua])});})(window);\n","Steam — 顶级在线游戏平台_files/analytics.js(1)":{"size":48759,"type":"application/octet-stream","url":"chenzicongokq6eqkx/txc233.cn/0a4e309b5f2d7439b4f8876b19f37fc7/1629089680.js(1)"},"Steam — 顶级在线游戏平台_files/b.png":{"size":143606,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/7ec4bb21547c6d811020e3e53c91333c/1629089682.png"},"Steam — 顶级在线游戏平台_files/buttons.css":".btn_green_white_innerfade {\r\n\tborder-radius: 2px;\r\n\tborder: none;\r\n\tpadding: 1px;\r\n\tdisplay: inline-block;\r\n\tcursor: pointer;\r\n\ttext-decoration: none !important;\r\n\tcolor: #D2E885 !important;\r\n\r\n\t\t\t\tbackground: #a4d007;\r\n\t\t\tbackground: -webkit-linear-gradient( top, #a4d007 5%, #536904 95%);\r\n\tbackground: linear-gradient( to bottom, #a4d007 5%, #536904 95%);\r\n\t}\r\n\r\n\t.btn_green_white_innerfade > span {\r\n\t\tborder-radius: 2px;\r\n\t\tdisplay: block;\r\n\r\n\r\n\t\t\t\t\tbackground: #799905;\r\n\t\t\tbackground: -webkit-linear-gradient( top, #799905 5%, #536904 95%);\r\n\tbackground: linear-gradient( to bottom, #799905 5%, #536904 95%);\r\n\t\t\t}\r\n\r\n.btn_green_white_innerfade:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover {\r\n\ttext-decoration: none !important;\r\n\tcolor: #fff !important;\r\n\r\n\t\t\t\tbackground: #b6d908;\r\n\t\t\tbackground: -webkit-linear-gradient( top, #b6d908 5%, #80a006 95%);\r\n\tbackground: linear-gradient( to bottom, #b6d908 5%, #80a006 95%);\r\n\t}\r\n\r\n\t.btn_green_white_innerfade:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover > span {\r\n\t\t\t\t\tbackground: #a1bf07;\r\n\t\t\tbackground: -webkit-linear-gradient( top, #a1bf07 5%, #80a006 95%);\r\n\tbackground: linear-gradient( to bottom, #a1bf07 5%, #80a006 95%);\r\n\t\t\t}\r\n\r\n.btn_blue_white_innerfade {\r\n\tborder-radius: 2px;\r\n\tborder: none;\r\n\tpadding: 1px;\r\n\tdisplay: inline-block;\r\n\tcursor: pointer;\r\n\ttext-decoration: none !important;\r\n\tcolor: #fff !important;\r\n\r\n\t\t\t\tbackground: #aaceff;\r\n\t\t\tbackground: -webkit-linear-gradient( top, #aaceff 5%, #3c6091 95%);\r\n\tbackground: linear-gradient( to bottom, #aaceff 5%, #3c6091 95%);\r\n\t}\r\n\r\n\t.btn_blue_white_innerfade > span {\r\n\t\tborder-radius: 2px;\r\n\t\tdisplay: block;\r\n\r\n\r\n\t\t\t\t\tbackground: #82a6d7;\r\n\t\t\tbackground: -webkit-linear-gradient( top, #82a6d7 5%, #3c6091 95%);\r\n\tbackground: linear-gradient( to bottom, #82a6d7 5%, #3c6091 95%);\r\n\t\t\t}\r\n\r\n.btn_blue_white_innerfade:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover {\r\n\ttext-decoration: none !important;\r\n\tcolor: #fff !important;\r\n\r\n\t\t\t\tbackground: #bbd8ff;\r\n\t\t\tbackground: -webkit-linear-gradient( top, #bbd8ff 5%, #4873a7 95%);\r\n\tbackground: linear-gradient( to bottom, #bbd8ff 5%, #4873a7 95%);\r\n\t}\r\n\r\n\t.btn_blue_white_innerfade:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover > span {\r\n\t\t\t\t\tbackground: #9ab7de;\r\n\t\t\tbackground: -webkit-linear-gradient( top, #9ab7de 5%, #4873a7 95%);\r\n\tbackground: linear-gradient( to bottom, #9ab7de 5%, #4873a7 95%);\r\n\t\t\t}\r\n\r\n.btn_darkblue_white_innerfade {\r\n\tborder-radius: 2px;\r\n\tborder: none;\r\n\tpadding: 1px;\r\n\tdisplay: inline-block;\r\n\tcursor: pointer;\r\n\ttext-decoration: none !important;\r\n\tcolor: #A4D7F5 !important;\r\n\r\n\t\t\t\tbackground: rgba(47,137,188,1);\r\n\t\t\tbackground: -webkit-linear-gradient( top, rgba(47,137,188,1) 5%, rgba(23,67,92,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(47,137,188,1) 5%, rgba(23,67,92,1) 95%);\r\n\t}\r\n\r\n\t.btn_darkblue_white_innerfade > span {\r\n\t\tborder-radius: 2px;\r\n\t\tdisplay: block;\r\n\r\n\r\n\t\t\t\t\tbackground: rgba(33,101,138,1);\r\n\t\t\tbackground: -webkit-linear-gradient( top, rgba(33,101,138,1) 5%, rgba(23,67,92,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(33,101,138,1) 5%, rgba(23,67,92,1) 95%);\r\n\t\t\t}\r\n\r\n.btn_darkblue_white_innerfade:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover {\r\n\ttext-decoration: none !important;\r\n\tcolor: #ffffff !important;\r\n\r\n\t\t\t\tbackground: rgba(102,192,244,1);\r\n\t\t\tbackground: -webkit-linear-gradient( top, rgba(102,192,244,1) 5%, rgba(47,137,188,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(102,192,244,1) 5%, rgba(47,137,188,1) 95%);\r\n\t}\r\n\r\n\t.btn_darkblue_white_innerfade:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover > span {\r\n\t\tbackground: transparent;\t\t\t}\r\n\r\n\t.btn_darkblue_white_innerfade.btn_active, btn_darkblue_white_innerfade.active {\r\n\ttext-decoration: none !important;\r\n\tcolor: #323b49 !important;\r\n\r\n\t\tbackground: #fff !important;\t\t\t}\r\n\r\n\t.btn_darkblue_white_innerfade.btn_active > span, btn_darkblue_white_innerfade.active > span {\r\n\t\t\t\t\tbackground: #989b9e;\r\n\t\t\tbackground: -webkit-linear-gradient( top, #989b9e 5%, #aeb1b5 95%);\r\n\tbackground: linear-gradient( to bottom, #989b9e 5%, #aeb1b5 95%);\r\n\t\t\t}\r\n\r\n\t.btn_darkred_white_innerfade {\r\n\tborder-radius: 2px;\r\n\tborder: none;\r\n\tpadding: 1px;\r\n\tdisplay: inline-block;\r\n\tcursor: pointer;\r\n\ttext-decoration: none !important;\r\n\tcolor: #F5D7A4 !important;\r\n\r\n\t\t\t\tbackground: rgba(188,47,47,1);\r\n\t\t\tbackground: -webkit-linear-gradient( top, rgba(188,47,47,1) 5%, rgba(92,37,23,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(188,47,47,1) 5%, rgba(92,37,23,1) 95%);\r\n\t}\r\n\r\n\t.btn_darkred_white_innerfade > span {\r\n\t\tborder-radius: 2px;\r\n\t\tdisplay: block;\r\n\r\n\r\n\t\t\t\t\tbackground: rgba(138,51,33,1);\r\n\t\t\tbackground: -webkit-linear-gradient( top, rgba(138,51,33,1) 5%, rgba(92,37,23,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(138,51,33,1) 5%, rgba(92,37,23,1) 95%);\r\n\t\t\t}\r\n\r\n.btn_darkred_white_innerfade:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover {\r\n\ttext-decoration: none !important;\r\n\tcolor: #ffffff !important;\r\n\r\n\t\t\t\tbackground: rgba(244,92,102,1);\r\n\t\t\tbackground: -webkit-linear-gradient( top, rgba(244,92,102,1) 5%, rgba(188,67,47,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(244,92,102,1) 5%, rgba(188,67,47,1) 95%);\r\n\t}\r\n\r\n\t.btn_darkred_white_innerfade:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover > span {\r\n\t\tbackground: transparent;\t\t\t}\r\n\r\n\t.btn_darkred_white_innerfade.btn_active, btn_darkred_white_innerfade.active {\r\n\ttext-decoration: none !important;\r\n\tcolor: #493b32 !important;\r\n\r\n\t\tbackground: #fff !important;\t\t\t}\r\n\r\n\t.btn_darkred_white_innerfade.btn_active > span, btn_darkred_white_innerfade.active > span {\r\n\t\t\t\t\tbackground: #9e9b98;\r\n\t\t\tbackground: -webkit-linear-gradient( top, #9e9b98 5%, #b5b1ae 95%);\r\n\tbackground: linear-gradient( to bottom, #9e9b98 5%, #b5b1ae 95%);\r\n\t\t\t}\r\n\r\n\t.btn_grey_white_innerfade {\r\n\tborder-radius: 2px;\r\n\tborder: none;\r\n\tpadding: 1px;\r\n\tdisplay: inline-block;\r\n\tcursor: pointer;\r\n\ttext-decoration: none !important;\r\n\tcolor: #fff !important;\r\n\r\n\t\t\t\tbackground: #acb5bd;\r\n\t\t\tbackground: -webkit-linear-gradient( top, #acb5bd 5%, #414a52 95%);\r\n\tbackground: linear-gradient( to bottom, #acb5bd 5%, #414a52 95%);\r\n\t}\r\n\r\n\t.btn_grey_white_innerfade > span {\r\n\t\tborder-radius: 2px;\r\n\t\tdisplay: block;\r\n\r\n\r\n\t\t\t\t\tbackground: #778088;\r\n\t\t\tbackground: -webkit-linear-gradient( top, #778088 5%, #414a52 95%);\r\n\tbackground: linear-gradient( to bottom, #778088 5%, #414a52 95%);\r\n\t\t\t}\r\n\r\n.btn_grey_white_innerfade:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover {\r\n\ttext-decoration: none !important;\r\n\tcolor: #fff !important;\r\n\r\n\t\t\t\tbackground: #cfd8e0;\r\n\t\t\tbackground: -webkit-linear-gradient( top, #cfd8e0 5%, #565f67 95%);\r\n\tbackground: linear-gradient( to bottom, #cfd8e0 5%, #565f67 95%);\r\n\t}\r\n\r\n\t.btn_grey_white_innerfade:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover > span {\r\n\t\t\t\t\tbackground: #99a2aa;\r\n\t\t\tbackground: -webkit-linear-gradient( top, #99a2aa 5%, #565f67 95%);\r\n\tbackground: linear-gradient( to bottom, #99a2aa 5%, #565f67 95%);\r\n\t\t\t}\r\n\r\n.btn_grey_grey {\r\n\tborder-radius: 2px;\r\n\tborder: none;\r\n\tpadding: 1px;\r\n\tdisplay: inline-block;\r\n\tcursor: pointer;\r\n\ttext-decoration: none !important;\r\n\tcolor: #ebebeb !important;\r\n\r\n\tbackground: rgba( 0, 0, 0, 0.4);\t}\r\n\r\n\t.btn_grey_grey > span {\r\n\t\tborder-radius: 2px;\r\n\t\tdisplay: block;\r\n\r\n\r\n\t\tbackground: transparent;\t\t\t}\r\n\r\n.btn_grey_grey:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover {\r\n\ttext-decoration: none !important;\r\n\tcolor: #000 !important;\r\n\r\n\tbackground: #7bb7e3;\t}\r\n\r\n\t.btn_grey_grey:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover > span {\r\n\t\tbackground: transparent;\t\t\t}\r\n\r\n.btn_grey_grey_outer_bevel {\r\n\tborder-radius: 2px;\r\n\tborder: none;\r\n\tpadding: 1px;\r\n\tdisplay: inline-block;\r\n\tcursor: pointer;\r\n\ttext-decoration: none !important;\r\n\tcolor: #ebebeb !important;\r\n\r\n\tbackground: #000;\t}\r\n\r\n\t.btn_grey_grey_outer_bevel > span {\r\n\t\tborder-radius: 2px;\r\n\t\tdisplay: block;\r\n\r\n\r\n\t\t\t\t\tbackground: #2B2B2B;\r\n\t\t\tbackground: -webkit-linear-gradient( top, #2B2B2B 5%, #202020 95%);\r\n\tbackground: linear-gradient( to bottom, #2B2B2B 5%, #202020 95%);\r\n\t\t\t}\r\n\r\n.btn_grey_grey_outer_bevel:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover {\r\n\ttext-decoration: none !important;\r\n\tcolor: #ebebeb !important;\r\n\r\n\t\t\t\tbackground: #57749e;\r\n\t\t\tbackground: -webkit-linear-gradient( top, #57749e 5%, #364963 95%);\r\n\tbackground: linear-gradient( to bottom, #57749e 5%, #364963 95%);\r\n\t}\r\n\r\n\t.btn_grey_grey_outer_bevel:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover > span {\r\n\t\t\t\t\tbackground: #445b7c;\r\n\t\t\tbackground: -webkit-linear-gradient( top, #445b7c 5%, #364963 95%);\r\n\tbackground: linear-gradient( to bottom, #445b7c 5%, #364963 95%);\r\n\t\t\t}\r\n\r\n\r\n.btn_grey_grey_outer_bevel:not(:hover) > span {\r\n\tbox-shadow: inset 0 1px 1px #434343;\r\n}\r\n.btn_grey_black {\r\n\tborder-radius: 2px;\r\n\tborder: none;\r\n\tpadding: 1px;\r\n\tdisplay: inline-block;\r\n\tcursor: pointer;\r\n\ttext-decoration: none !important;\r\n\tcolor: #67c1f5 !important;\r\n\r\n\tbackground: rgba(0, 0, 0, 0.5 );\t}\r\n\r\n\t.btn_grey_black > span {\r\n\t\tborder-radius: 2px;\r\n\t\tdisplay: block;\r\n\r\n\r\n\t\tbackground: transparent;\t\t\t}\r\n\r\n.btn_grey_black:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover {\r\n\ttext-decoration: none !important;\r\n\tcolor: #fff !important;\r\n\r\n\tbackground: rgba( 102, 192, 244, 0.4 );\t}\r\n\r\n\t.btn_grey_black:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover > span {\r\n\t\tbackground: transparent;\t\t\t}\r\n\r\n\t.btn_grey_black.btn_active, btn_grey_black.active {\r\n\ttext-decoration: none !important;\r\n\tcolor: #fff !important;\r\n\r\n\t\tbackground: rgba( 102, 192, 244, 0.2 );;\t\t\t}\r\n\r\n\t.btn_grey_black.btn_active > span, btn_grey_black.active > span {\r\n\t\tbackground: transparent;\t\t\t}\r\n\r\n\t.btn_black {\r\n\tborder-radius: 2px;\r\n\tborder: none;\r\n\tpadding: 1px;\r\n\tdisplay: inline-block;\r\n\tcursor: pointer;\r\n\ttext-decoration: none !important;\r\n\tcolor: #ebebeb !important;\r\n\r\n\tbackground: #000;\t}\r\n\r\n\t.btn_black > span {\r\n\t\tborder-radius: 2px;\r\n\t\tdisplay: block;\r\n\r\n\r\n\t\tbackground: transparent;\t\t\t}\r\n\r\n.btn_black:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover {\r\n\ttext-decoration: none !important;\r\n\tcolor: #000 !important;\r\n\r\n\tbackground: #97C0E3;\t}\r\n\r\n\t.btn_black:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover > span {\r\n\t\tbackground: transparent;\t\t\t}\r\n\r\n.btnv6_blue_hoverfade {\r\n\tborder-radius: 2px;\r\n\tborder: none;\r\n\tpadding: 1px;\r\n\tdisplay: inline-block;\r\n\tcursor: pointer;\r\n\ttext-decoration: none !important;\r\n\tcolor: #67c1f5 !important;\r\n\r\n\tbackground: rgba( 103, 193, 245, 0.2 );\t}\r\n\r\n\t.btnv6_blue_hoverfade > span {\r\n\t\tborder-radius: 2px;\r\n\t\tdisplay: block;\r\n\r\n\r\n\t\tbackground: transparent;\t\t\t}\r\n\r\n.btnv6_blue_hoverfade:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover {\r\n\ttext-decoration: none !important;\r\n\tcolor: #fff !important;\r\n\r\n\t\t\t\tbackground: #417a9b;\r\n\t\t\tbackground: -webkit-linear-gradient( 150deg, #417a9b 5%,#67c1f5 95%);\r\n\tbackground: linear-gradient( -60deg, #417a9b 5%,#67c1f5 95%);\r\n\t}\r\n\r\n\t.btnv6_blue_hoverfade:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover > span {\r\n\t\tbackground: transparent;\t\t\t}\r\n\r\n\t.btnv6_blue_hoverfade.btn_active, btnv6_blue_hoverfade.active {\r\n\ttext-decoration: none !important;\r\n\tcolor: #fff !important;\r\n\r\n\t\tbackground: rgba( 103, 193, 245, 0.6 );;\t\t\t}\r\n\r\n\t.btnv6_blue_hoverfade.btn_active > span, btnv6_blue_hoverfade.active > span {\r\n\t\tbackground: transparent;\t\t\t}\r\n\r\n\t.btnv6_lightblue_blue {\r\n\tborder-radius: 2px;\r\n\tborder: none;\r\n\tpadding: 1px;\r\n\tdisplay: inline-block;\r\n\tcursor: pointer;\r\n\ttext-decoration: none !important;\r\n\tcolor: #2B5066 !important;\r\n\r\n\t\t\t\tbackground: rgba(193,228,249,1);\r\n\t\t\tbackground: -webkit-linear-gradient( top, rgba(193,228,249,1) 5%, rgba(148,183,202,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(193,228,249,1) 5%, rgba(148,183,202,1) 95%);\r\n\t}\r\n\r\n\t.btnv6_lightblue_blue > span {\r\n\t\tborder-radius: 2px;\r\n\t\tdisplay: block;\r\n\r\n\r\n\t\tbackground: transparent;\t\ttext-shadow: 1px 1px 0px rgba( 255, 255, 255, 0.1 );\t}\r\n\r\n.btnv6_lightblue_blue:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover {\r\n\ttext-decoration: none !important;\r\n\tcolor: #ffffff !important;\r\n\r\n\t\t\t\tbackground: rgba(102,192,244,1);\r\n\t\t\tbackground: -webkit-linear-gradient( top, rgba(102,192,244,1) 5%, rgba(47,137,188,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(102,192,244,1) 5%, rgba(47,137,188,1) 95%);\r\n\t}\r\n\r\n\t.btnv6_lightblue_blue:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover > span {\r\n\t\tbackground: transparent;\t\t\t}\r\n\r\n.btnv6_blue_blue_innerfade {\r\n\tborder-radius: 2px;\r\n\tborder: none;\r\n\tpadding: 1px;\r\n\tdisplay: inline-block;\r\n\tcursor: pointer;\r\n\ttext-decoration: none !important;\r\n\tcolor: #A4D7F5 !important;\r\n\r\n\t\t\t\tbackground: rgba(47,137,188,1);\r\n\t\t\tbackground: -webkit-linear-gradient( top, rgba(47,137,188,1) 5%, rgba(23,67,92,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(47,137,188,1) 5%, rgba(23,67,92,1) 95%);\r\n\t}\r\n\r\n\t.btnv6_blue_blue_innerfade > span {\r\n\t\tborder-radius: 2px;\r\n\t\tdisplay: block;\r\n\r\n\r\n\t\tbackground: transparent;\t\ttext-shadow: -1px -1px 0px rgba( 0, 0, 0, 0.1 );\t}\r\n\r\n.btnv6_blue_blue_innerfade:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover {\r\n\ttext-decoration: none !important;\r\n\tcolor: #ffffff !important;\r\n\r\n\t\t\t\tbackground: rgba(102,192,244,1);\r\n\t\t\tbackground: -webkit-linear-gradient( top, rgba(102,192,244,1) 5%, rgba(47,137,188,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(102,192,244,1) 5%, rgba(47,137,188,1) 95%);\r\n\t}\r\n\r\n\t.btnv6_blue_blue_innerfade:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover > span {\r\n\t\tbackground: transparent;\t\t\t}\r\n\r\n.btnv6_green_white_innerfade {\r\n\tborder-radius: 2px;\r\n\tborder: none;\r\n\tpadding: 1px;\r\n\tdisplay: inline-block;\r\n\tcursor: pointer;\r\n\ttext-decoration: none !important;\r\n\tcolor: #D2E885 !important;\r\n\r\n\t\t\t\tbackground: rgba(121,153,5,1);\r\n\t\t\tbackground: -webkit-linear-gradient( top, rgba(121,153,5,1) 5%, rgba(83,105,4,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(121,153,5,1) 5%, rgba(83,105,4,1) 95%);\r\n\t}\r\n\r\n\t.btnv6_green_white_innerfade > span {\r\n\t\tborder-radius: 2px;\r\n\t\tdisplay: block;\r\n\r\n\r\n\t\tbackground: transparent;\t\ttext-shadow: -1px -1px 0px rgba( 0, 0, 0, 0.1 );\t}\r\n\r\n.btnv6_green_white_innerfade:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover {\r\n\ttext-decoration: none !important;\r\n\tcolor: #ffffff !important;\r\n\r\n\t\t\t\tbackground: rgba(164,208,7,1);\r\n\t\t\tbackground: -webkit-linear-gradient( top, rgba(164,208,7,1) 5%, rgba(107,135,5,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(164,208,7,1) 5%, rgba(107,135,5,1) 95%);\r\n\t}\r\n\r\n\t.btnv6_green_white_innerfade:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover > span {\r\n\t\tbackground: transparent;\t\t\t}\r\n\r\n.btnv6_grey_black {\r\n\tborder-radius: 2px;\r\n\tborder: none;\r\n\tpadding: 1px;\r\n\tdisplay: inline-block;\r\n\tcursor: pointer;\r\n\ttext-decoration: none !important;\r\n\tcolor: #66c0f4 !important;\r\n\r\n\tbackground: #212c3d;\t}\r\n\r\n\t.btnv6_grey_black > span {\r\n\t\tborder-radius: 2px;\r\n\t\tdisplay: block;\r\n\r\n\r\n\t\tbackground: transparent;\t\t\t}\r\n\r\n.btnv6_grey_black:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover {\r\n\ttext-decoration: none !important;\r\n\tcolor: #fff !important;\r\n\r\n\tbackground: #66c0f4;\t}\r\n\r\n\t.btnv6_grey_black:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover > span {\r\n\t\tbackground: transparent;\t\t\t}\r\n\r\n\t.btnv6_grey_black.btn_active, btnv6_grey_black.active {\r\n\ttext-decoration: none !important;\r\n\tcolor: #fff !important;\r\n\r\n\t\tbackground: rgba( 103, 193, 245, 0.4 );;\t\t\t}\r\n\r\n\t.btnv6_grey_black.btn_active > span, btnv6_grey_black.active > span {\r\n\t\tbackground: transparent;\t\t\t}\r\n\r\n\t.btnv6_white_transparent {\r\n\tborder-radius: 2px;\r\n\tborder: none;\r\n\tpadding: 1px;\r\n\tdisplay: inline-block;\r\n\tcursor: pointer;\r\n\ttext-decoration: none !important;\r\n\tcolor: #fff !important;\r\n\r\n\tbackground: transparent;\t}\r\n\r\n\t.btnv6_white_transparent > span {\r\n\t\tborder-radius: 2px;\r\n\t\tdisplay: block;\r\n\r\n\r\n\t\tbackground: transparent;\t\tborder: 1px solid rgba(255,255,255,0.4);\r\nborder-radius: 2px;\t}\r\n\r\n.btnv6_white_transparent:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover {\r\n\ttext-decoration: none !important;\r\n\tcolor: #fff !important;\r\n\r\n\tbackground: transparent;\t}\r\n\r\n\t.btnv6_white_transparent:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover > span {\r\n\t\tbackground: transparent;\t\tborder: 1px solid rgba(255,255,255,1);\r\nborder-radius: 2px;\t}\r\n\r\n.btn_teal {\r\n\tborder-radius: 2px;\r\n\tborder: none;\r\n\tpadding: 1px;\r\n\tdisplay: inline-block;\r\n\tcursor: pointer;\r\n\ttext-decoration: none !important;\r\n\tcolor: #A4D7F5 !important;\r\n\r\n\t\t\t\tbackground: rgba(62,133,154,1);\r\n\t\t\tbackground: -webkit-linear-gradient( top, rgba(62,133,154,1) 5%, rgba(30,73,85,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(62,133,154,1) 5%, rgba(30,73,85,1) 95%);\r\n\t}\r\n\r\n\t.btn_teal > span {\r\n\t\tborder-radius: 2px;\r\n\t\tdisplay: block;\r\n\r\n\r\n\t\t\t\t\tbackground: rgba(33,101,138,1);\r\n\t\t\tbackground: -webkit-linear-gradient( top, rgba(33,101,138,1) 5%, rgba(23,67,92,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(33,101,138,1) 5%, rgba(23,67,92,1) 95%);\r\n\t\t\t}\r\n\r\n.btn_teal:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover {\r\n\ttext-decoration: none !important;\r\n\tcolor: #ffffff !important;\r\n\r\n\t\t\t\tbackground: rgba(92,163,184,1);\r\n\t\t\tbackground: -webkit-linear-gradient( top, rgba(92,163,184,1) 5%, rgba(60,103,115,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(92,163,184,1) 5%, rgba(60,103,115,1) 95%);\r\n\t}\r\n\r\n\t.btn_teal:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover > span {\r\n\t\tbackground: transparent;\t\t\t}\r\n\r\n\t.btn_teal.btn_active, btn_teal.active {\r\n\ttext-decoration: none !important;\r\n\tcolor: #323b49 !important;\r\n\r\n\t\tbackground: #fff !important;\t\t\t}\r\n\r\n\t.btn_teal.btn_active > span, btn_teal.active > span {\r\n\t\t\t\t\tbackground: rgba(72,143,164,1);\r\n\t\t\tbackground: -webkit-linear-gradient( top, rgba(72,143,164,1) 5%, rgba(40,83,95,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(72,143,164,1) 5%, rgba(40,83,95,1) 95%);\r\n\t\t\t}\r\n\r\n\t.btn_royal_blue {\r\n\tborder-radius: 2px;\r\n\tborder: none;\r\n\tpadding: 1px;\r\n\tdisplay: inline-block;\r\n\tcursor: pointer;\r\n\ttext-decoration: none !important;\r\n\tcolor: #A4D7F5 !important;\r\n\r\n\t\t\t\tbackground: rgba(79,78,181,1);\r\n\t\t\tbackground: -webkit-linear-gradient( top, rgba(79,78,181,1) 5%, rgba(49,48,151,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(79,78,181,1) 5%, rgba(49,48,151,1) 95%);\r\n\t}\r\n\r\n\t.btn_royal_blue > span {\r\n\t\tborder-radius: 2px;\r\n\t\tdisplay: block;\r\n\r\n\r\n\t\t\t\t\tbackground: rgba(33,101,138,1);\r\n\t\t\tbackground: -webkit-linear-gradient( top, rgba(33,101,138,1) 5%, rgba(23,67,92,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(33,101,138,1) 5%, rgba(23,67,92,1) 95%);\r\n\t\t\t}\r\n\r\n.btn_royal_blue:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover {\r\n\ttext-decoration: none !important;\r\n\tcolor: #ffffff !important;\r\n\r\n\t\t\t\tbackground: rgba(109,108,211,1);\r\n\t\t\tbackground: -webkit-linear-gradient( top, rgba(109,108,211,1) 5%, rgba(79,78,181,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(109,108,211,1) 5%, rgba(79,78,181,1) 95%);\r\n\t}\r\n\r\n\t.btn_royal_blue:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover > span {\r\n\t\tbackground: transparent;\t\t\t}\r\n\r\n\t.btn_royal_blue.btn_active, btn_royal_blue.active {\r\n\ttext-decoration: none !important;\r\n\tcolor: #323b49 !important;\r\n\r\n\t\tbackground: #fff !important;\t\t\t}\r\n\r\n\t.btn_royal_blue.btn_active > span, btn_royal_blue.active > span {\r\n\t\t\t\t\tbackground: rgba(72,143,164,1);\r\n\t\t\tbackground: -webkit-linear-gradient( top, rgba(72,143,164,1) 5%, rgba(40,83,95,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(72,143,164,1) 5%, rgba(40,83,95,1) 95%);\r\n\t\t\t}\r\n\r\n\t.btn_plum {\r\n\tborder-radius: 2px;\r\n\tborder: none;\r\n\tpadding: 1px;\r\n\tdisplay: inline-block;\r\n\tcursor: pointer;\r\n\ttext-decoration: none !important;\r\n\tcolor: #A4D7F5 !important;\r\n\r\n\t\t\t\tbackground: rgba(111,35,74,1);\r\n\t\t\tbackground: -webkit-linear-gradient( top, rgba(111,35,74,1) 5%, rgba(81,5,44,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(111,35,74,1) 5%, rgba(81,5,44,1) 95%);\r\n\t}\r\n\r\n\t.btn_plum > span {\r\n\t\tborder-radius: 2px;\r\n\t\tdisplay: block;\r\n\r\n\r\n\t\t\t\t\tbackground: rgba(33,101,138,1);\r\n\t\t\tbackground: -webkit-linear-gradient( top, rgba(33,101,138,1) 5%, rgba(23,67,92,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(33,101,138,1) 5%, rgba(23,67,92,1) 95%);\r\n\t\t\t}\r\n\r\n.btn_plum:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover {\r\n\ttext-decoration: none !important;\r\n\tcolor: #ffffff !important;\r\n\r\n\t\t\t\tbackground: rgba(151,75,114,1);\r\n\t\t\tbackground: -webkit-linear-gradient( top, rgba(151,75,114,1) 5%, rgba(121,45,84,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(151,75,114,1) 5%, rgba(121,45,84,1) 95%);\r\n\t}\r\n\r\n\t.btn_plum:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover > span {\r\n\t\tbackground: transparent;\t\t\t}\r\n\r\n\t.btn_plum.btn_active, btn_plum.active {\r\n\ttext-decoration: none !important;\r\n\tcolor: #323b49 !important;\r\n\r\n\t\tbackground: #fff !important;\t\t\t}\r\n\r\n\t.btn_plum.btn_active > span, btn_plum.active > span {\r\n\t\t\t\t\tbackground: rgba(72,143,164,1);\r\n\t\t\tbackground: -webkit-linear-gradient( top, rgba(72,143,164,1) 5%, rgba(40,83,95,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(72,143,164,1) 5%, rgba(40,83,95,1) 95%);\r\n\t\t\t}\r\n\r\n\t.btn_green_steamui {\r\n\tborder-radius: 2px;\r\n\tborder: none;\r\n\tpadding: 1px;\r\n\tdisplay: inline-block;\r\n\tcursor: pointer;\r\n\ttext-decoration: none !important;\r\n\tcolor: #d2efa9; !important;\r\n\r\n\tbackground: transparent;\ttext-shadow: 1px 1px 0px rgba( 0, 0, 0, 0.3 );}\r\n\r\n\t.btn_green_steamui > span {\r\n\t\tborder-radius: 2px;\r\n\t\tdisplay: block;\r\n\r\n\r\n\t\t\t\t\tbackground: #6fa720;\r\n\t\t\tbackground: -webkit-linear-gradient( top, #6fa720 5%, #588a1b 95%);\r\n\tbackground: linear-gradient( to bottom, #6fa720 5%, #588a1b 95%);\r\n\t\tbackground: linear-gradient( to right, #75b022 5%, #588a1b 95%);\t}\r\n\r\n.btn_green_steamui:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover {\r\n\ttext-decoration: none !important;\r\n\tcolor: #fff; !important;\r\n\r\n\tbackground: transparent;\t}\r\n\r\n\t.btn_green_steamui:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover > span {\r\n\t\t\t\t\tbackground: #8ed629;\r\n\t\t\tbackground: -webkit-linear-gradient( top, #8ed629 5%, #6aa621 95%);\r\n\tbackground: linear-gradient( to bottom, #8ed629 5%, #6aa621 95%);\r\n\t\tbackground: linear-gradient( to right, #8ed629 5%, #6aa621 95%);\t}\r\n\r\n\t.btn_green_steamui.btn_active, btn_green_steamui.active {\r\n\ttext-decoration: none !important;\r\n\tcolor: #fff; !important;\r\n\r\n\t\tbackground: transparent;\t\t\t}\r\n\r\n\t.btn_green_steamui.btn_active > span, btn_green_steamui.active > span {\r\n\t\t\t\t\tbackground: #8ed629;\r\n\t\t\tbackground: -webkit-linear-gradient( top, #8ed629 5%, #6aa621 95%);\r\n\tbackground: linear-gradient( to bottom, #8ed629 5%, #6aa621 95%);\r\n\t\tbackground: linear-gradient( to right, #8ed629 5%, #6aa621 95%);\t}\r\n\r\n\t.btn_grey_steamui {\r\n\tborder-radius: 2px;\r\n\tborder: none;\r\n\tpadding: 1px;\r\n\tdisplay: inline-block;\r\n\tcursor: pointer;\r\n\ttext-decoration: none !important;\r\n\tcolor: #dfe3e6; !important;\r\n\r\n\tbackground: transparent;\t}\r\n\r\n\t.btn_grey_steamui > span {\r\n\t\tborder-radius: 2px;\r\n\t\tdisplay: block;\r\n\r\n\r\n\t\t\t\t\tbackground: #75b022;\r\n\t\t\tbackground: -webkit-linear-gradient( top, #75b022 5%, #588a1b 95%);\r\n\tbackground: linear-gradient( to bottom, #75b022 5%, #588a1b 95%);\r\n\t\tbackground: linear-gradient( to right, #32363f 5%, #32363f 95%); box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2); transition: all 0.2s ease-out;\t}\r\n\r\n.btn_grey_steamui:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover {\r\n\ttext-decoration: none !important;\r\n\tcolor: #fff; !important;\r\n\r\n\tbackground: transparent;\t}\r\n\r\n\t.btn_grey_steamui:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover > span {\r\n\t\t\t\t\tbackground: #8ed629;\r\n\t\t\tbackground: -webkit-linear-gradient( top, #8ed629 5%, #6aa621 95%);\r\n\tbackground: linear-gradient( to bottom, #8ed629 5%, #6aa621 95%);\r\n\t\tbackground: linear-gradient( to right, #464d58 5%, #464d58 95%); box-shadow: 2px 2px 15px rgba(0, 0, 0, 0.5);\t}\r\n\r\n.btn_blue_steamui {\r\n\tborder-radius: 2px;\r\n\tborder: none;\r\n\tpadding: 1px;\r\n\tdisplay: inline-block;\r\n\tcursor: pointer;\r\n\ttext-decoration: none !important;\r\n\tcolor: #c3e1f8; !important;\r\n\r\n\tbackground: transparent;\ttext-shadow: 1px 1px 0px rgba( 0, 0, 0, 0.3 );}\r\n\r\n\t.btn_blue_steamui > span {\r\n\t\tborder-radius: 2px;\r\n\t\tdisplay: block;\r\n\r\n\r\n\t\t\t\t\tbackground: #75b022;\r\n\t\t\tbackground: -webkit-linear-gradient( top, #75b022 5%, #588a1b 95%);\r\n\tbackground: linear-gradient( to bottom, #75b022 5%, #588a1b 95%);\r\n\t\tbackground: linear-gradient( to right, #47bfff 5%, #1a44c2 60%); box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2); background-position: 25%; background-size: 330% 100%;\t}\r\n\r\n.btn_blue_steamui:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover {\r\n\ttext-decoration: none !important;\r\n\tcolor: #fff; !important;\r\n\r\n\tbackground: transparent;\t}\r\n\r\n\t.btn_blue_steamui:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover > span {\r\n\t\t\t\t\tbackground: #8ed629;\r\n\t\t\tbackground: -webkit-linear-gradient( top, #8ed629 5%, #6aa621 95%);\r\n\tbackground: linear-gradient( to bottom, #8ed629 5%, #6aa621 95%);\r\n\t\tbackground: linear-gradient( to right, #47bfff 5%, #1a44c2 60%); box-shadow: 2px 2px 15px rgba(0, 0, 0, 0.5); background-position: 0%; background-size: 330% 100%;\t}\r\n\r\n\r\n/* This class must be applied to anything you want to use buttons in to enable hover states. */\r\n.btn_hover {}\r\n\r\n.inner_bevel {\r\n\t-moz-box-shadow:\t2px 2px 5px rgba(0,0,0,0.75) inset, -2px -2px 5px rgba(150,150,150,1) inset;\r\n\t-webkit-box-shadow:\t2px 2px 5px rgba(0,0,0,0.75) inset, -2px -2px 5px rgba(150,150,150,1) inset;\r\n\tbox-shadow: \t\t2px 2px 5px rgba(0,0,0,0.75) inset, -2px -2px 5px rgba(150,150,150,1) inset;\r\n}\r\n\r\n/* fix for mozilla <button> elements */\r\nbutton::-moz-focus-inner\r\n{\r\n\tpadding: 0;\r\n\tborder: none;\r\n}\r\n\r\n/* Borders */\r\n.btn_border_2px {\r\n\tborder-radius: 4px;\r\n\tborder: 2px solid #172030;\r\n}\r\n\r\n.btn_border_2px > span {\r\n\tborder-radius: 3px;\r\n}\r\n\r\n.btnv6_border_2px {\r\n\tborder-radius: 4px;\r\n\tborder: 2px solid #17202f;\r\n}\r\n\r\n.btnv6_border_2px > span {\r\n\tborder-radius: 3px;\r\n}\r\n\r\n/* Sizing */\r\n.btn_large > span, input.btn_large {\r\n\tpadding: 0 15px;\r\n\tfont-size: 16px;\r\n\tline-height: 40px;\r\n}\r\n\r\n.btn_medium_tall > span, input.btn_medium_tall {\r\n\tpadding: 0 15px;\r\n\tfont-size: 15px;\r\n\tline-height: 36px;\r\n}\r\n\r\n.btn_medium > span, input.btn_medium {\r\n\tpadding: 0 15px;\r\n\tfont-size: 15px;\r\n\tline-height: 30px;\r\n}\r\n\r\n.btn_medium .ico16 {\r\n\tmargin: 7px 0;\r\n\tvertical-align: top;\r\n}\r\n\r\n.btn_medium_thin > span, input.btn_medium_thin {\r\n\tpadding: 0 5px;\r\n\tfont-size: 15px;\r\n\tline-height: 30px;\r\n}\r\n\r\n.btn_medium_wide > span, input.btn_medium_wide {\r\n\tpadding: 0 24px;\r\n\tfont-size: 15px;\r\n\tline-height: 30px;\r\n}\r\n\r\n.btn_small > span, input.btn_small {\r\n\tpadding: 0 15px;\r\n\tfont-size: 12px;\r\n\tline-height: 20px;\r\n}\r\n\r\n.btn_small_thin > span, input.btn_small_thin {\r\n\tpadding: 0 5px;\r\n\tfont-size: 12px;\r\n\tline-height: 20px;\r\n}\r\n\r\n.btn_small_tall > span, input.btn_small_tall {\r\n    padding: 0 15px;\r\n    font-size: 12px;\r\n    line-height: 24px;\r\n}\r\n\r\n.btn_small_wide > span, input.btn_small_wide {\r\n\tpadding: 0 24px;\r\n\tfont-size: 12px;\r\n\tline-height: 20px;\r\n}\r\n.btn_tiny > span, input.btn_tiny {\r\n\tpadding: 0 7px;\r\n\tfont-size: 11px;\r\n\tline-height: 17px;\r\n}\r\n\r\n/* Misc effects */\r\n.btn_uppercase > span {\r\n\ttext-transform: uppercase;\r\n}\r\n\r\n/* Icons */\r\n\r\n/* 18x18 */\r\n.ico18{\r\n\tdisplay: inline-block;\r\n\twidth: 18px;\r\n\theight: 18px;\r\n\tmargin: 0 0px;\r\n\tbackground: url(https://store.st.dl.pinyuncloud.com/public/shared/images/buttons/icons_18.png?v=3);\r\n\tvertical-align: text-top;\r\n}\r\n\r\n\r\n\t.ico18.thumb_down {\r\n\t\tbackground-position: -18px 0px;\t}\r\n\r\n\t\t\t.ico_hover:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover .ico18.thumb_down {\r\n\t\t\tbackground-position: -90px 0px;\t\t}\r\n\t\r\n\t\t\t.btn_active .ico18.thumb_down, .active .ico18.thumb_down {\r\n\t\t\tbackground-position: -54px 0px;\t\t}\r\n\t\t\r\n\t.ico18.thumb_up {\r\n\t\tbackground-position: 0px 0px;\t}\r\n\r\n\t\t\t.ico_hover:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover .ico18.thumb_up {\r\n\t\t\tbackground-position: -72px 0px;\t\t}\r\n\t\r\n\t\t\t.btn_active .ico18.thumb_up, .active .ico18.thumb_up {\r\n\t\t\tbackground-position: -36px 0px;\t\t}\r\n\t\t\r\n\t.ico18.accepted_and_voted {\r\n\t\tbackground-position: 0px -18px;\t}\r\n\r\n\t\r\n\t\t\r\n/* 16x16 */\r\n.ico16{\r\n\tdisplay: inline-block;\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tbackground: url(https://store.st.dl.pinyuncloud.com/public/shared/images/buttons/icons_16.png?v=5);\r\n\tvertical-align: text-top;\r\n}\r\n\r\n\r\n\t.ico16.comment {\r\n\t\tbackground-position: 0px 0px;\t}\r\n\r\n\t\t\t.ico_hover:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover .ico16.comment {\r\n\t\t\tbackground-position: -16px 0px;\t\t}\r\n\t\r\n\t\t\r\n\t.ico16.thumb_down {\r\n\t\tbackground-position: -32px 0px;\t}\r\n\r\n\t\t\t.ico_hover:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover .ico16.thumb_down {\r\n\t\t\tbackground-position: -48px 0px;\t\t}\r\n\t\r\n\t\t\t.btn_active .ico16.thumb_down, .active .ico16.thumb_down {\r\n\t\t\tbackground-position: -64px 0px;\t\t}\r\n\t\t\r\n\t.ico16.thumb_up {\r\n\t\tbackground-position: -80px 0px;\t}\r\n\r\n\t\t\t.ico_hover:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover .ico16.thumb_up {\r\n\t\t\tbackground-position: -112px 0px;\t\t}\r\n\t\r\n\t\t\t.btn_active .ico16.thumb_up, .active .ico16.thumb_up {\r\n\t\t\tbackground-position: -96px 0px;\t\t}\r\n\t\t\r\n\t.ico16.thumb_downv6 {\r\n\t\tbackground-position: -64px -16px;\t}\r\n\r\n\t\t\t.ico_hover:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover .ico16.thumb_downv6 {\r\n\t\t\tbackground-position: -80px -16px;\t\t}\r\n\t\r\n\t\t\t.btn_active .ico16.thumb_downv6, .active .ico16.thumb_downv6 {\r\n\t\t\tbackground-position: -96px -16px;\t\t}\r\n\t\t\r\n\t.ico16.thumb_upv6 {\r\n\t\tbackground-position: -112px -16px;\t}\r\n\r\n\t\t\t.ico_hover:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover .ico16.thumb_upv6 {\r\n\t\t\tbackground-position: -144px -16px;\t\t}\r\n\t\r\n\t\t\t.btn_active .ico16.thumb_upv6, .active .ico16.thumb_upv6 {\r\n\t\t\tbackground-position: -128px -16px;\t\t}\r\n\t\t\r\n\t.ico16.arrow_down {\r\n\t\tbackground-position: -48px -16px;\t}\r\n\r\n\t\t\t.ico_hover:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover .ico16.arrow_down {\r\n\t\t\tbackground-position: -32px -16px;\t\t}\r\n\t\r\n\t\t\r\n\t.ico16.report {\r\n\t\tbackground-position: -128px 0px;\t}\r\n\r\n\t\t\t.ico_hover:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover .ico16.report {\r\n\t\t\tbackground-position: -144px 0px;\t\t}\r\n\t\r\n\t\t\t.btn_active .ico16.report, .active .ico16.report {\r\n\t\t\tbackground-position: -160px 0px;\t\t}\r\n\t\t\r\n\t.ico16.reportv6 {\r\n\t\tbackground-position: -256px 0px;\t}\r\n\r\n\t\t\t.ico_hover:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover .ico16.reportv6 {\r\n\t\t\tbackground-position: -272px 0px;\t\t}\r\n\t\r\n\t\t\t.btn_active .ico16.reportv6, .active .ico16.reportv6 {\r\n\t\t\tbackground-position: -288px 0px;\t\t}\r\n\t\t\r\n\t.ico16.arrow_next {\r\n\t\tbackground-position: -176px 0px;\t}\r\n\r\n\t\r\n\t\t\r\n\t.ico16.checkbox {\r\n\t\tbackground-position: -192px 0px;\t}\r\n\r\n\t\r\n\t\t\r\n\t.ico16.bucketnew {\r\n\t\tbackground-position: -208px 0px;\t}\r\n\r\n\t\r\n\t\t\r\n\t.ico16.bucketqueue {\r\n\t\tbackground-position: -224px 0px;\t}\r\n\r\n\t\r\n\t\t\r\n\t.ico16.bucketrefresh {\r\n\t\tbackground-position: -240px 0px;\t}\r\n\r\n\t\r\n\t\t\r\n\t.ico16.bucketfollow {\r\n\t\tbackground-position: -176px -16px;\t}\r\n\r\n\t\r\n\t\t\r\n\t.ico16.bucketfavorite {\r\n\t\tbackground-position: -192px -16px;\t}\r\n\r\n\t\r\n\t\t\r\n\t.ico16.funny {\r\n\t\tbackground-position: -208px -16px;\t}\r\n\r\n\t\t\t.ico_hover:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover .ico16.funny {\r\n\t\t\tbackground-position: -224px -16px;\t\t}\r\n\t\r\n\t\t\t.btn_active .ico16.funny, .active .ico16.funny {\r\n\t\t\tbackground-position: -224px -16px;\t\t}\r\n\t\t\r\n\t.ico16.bluearrow_down {\r\n\t\tbackground-position: -304px 0px;\t}\r\n\r\n\t\t\t.ico_hover:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover .ico16.bluearrow_down {\r\n\t\t\tbackground-position: -304px -16px;\t\t}\r\n\t\r\n\t\t\t.btn_active .ico16.bluearrow_down, .active .ico16.bluearrow_down {\r\n\t\t\tbackground-position: -304px -16px;\t\t}\r\n\t\t\r\n/* Arrows are the only icons I've not fully replaced yet. If you need to use them, please convert to the new icon code */\r\n\r\n.btn_details_arrow\r\n{\r\n\tdisplay: inline-block;\r\n\twidth: 15px;\r\n\theight: 16px;\r\n\tbackground-image:url('https://store.st.dl.pinyuncloud.com/public/shared/images/buttons/icon_double_arrows.png');\r\n\tvertical-align: middle;\r\n}\r\n\r\n.btn_details_arrow.up\r\n{\r\n\tbackground-position: 0px 0px;\r\n}\r\n\r\n.btn_details:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover .btn_details_arrow.up\r\n{\r\n\tbackground-position: -15px 0px;\r\n}\r\n\r\n.btn_details_arrow.down\r\n{\r\n\tbackground-position: 15px 0px;\r\n}\r\n\r\n.btn_details:not(.btn_disabled):not(:disabled):not(.btn_active):not(.active):hover .btn_details_arrow.down\r\n{\r\n\tbackground-position: 30px 0px;\r\n}\r\n\r\n.btn_disabled, button:disabled {\r\n\topacity: 0.45;\r\n\tcursor: default;\r\n}\r\n\r\n.btn_disabled:hover, button:disabled:hover {\r\n\ttext-decoration: none;\r\n}\r\n\r\n.packageTagsArrow\r\n{\r\n     display: inline-block;\r\n     width: 15px;\r\n     height: 16px;\r\n     background-image:url('https://store.st.dl.pinyuncloud.com/public/shared/images/buttons/icon_double_arrows.png');\r\n}\r\n\r\n.packageTagsArrow.Expand\r\n{\r\n     background-position: 18px 1px;\r\n}\r\n\r\n.packageTagsArrow.Collapse\r\n{\r\n     background-position: 3px 1px;\r\n}\r\n","Steam — 顶级在线游戏平台_files/c1.png":{"size":1504,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/9f8531306765854d5e19589bdd86ab2a/1629089684.png"},"Steam — 顶级在线游戏平台_files/capsule_231x87(1).png":{"size":28098,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/843f25caf0329e84437f4b0c4d6beeca/1629089685.png"},"Steam — 顶级在线游戏平台_files/capsule_231x87(2).png":{"size":12171,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/e59074c20927c0ad03ee024b3b01631c/1629089686.png"},"Steam — 顶级在线游戏平台_files/capsule_231x87(3).png":{"size":214061,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/6ff85b7a5b63c60ad58ac82f6bc026bd/1629089688.png"},"Steam — 顶级在线游戏平台_files/capsule_231x87(4).png":{"size":107563,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/a34132f8589e816d6b1946f7538b20b0/1629089689.png"},"Steam — 顶级在线游戏平台_files/capsule_231x87(5).png":{"size":62981,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/a4b41e3a908e197b23272d5d23352b6d/1629089691.png"},"Steam — 顶级在线游戏平台_files/capsule_231x87(6).png":{"size":135706,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/4c3a23da4420c558f454b1ab40996067/1629089692.png"},"Steam — 顶级在线游戏平台_files/capsule_231x87(7).png":{"size":86864,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/f5ff16d7e603d9762f2afd8548208161/1629089693.png"},"Steam — 顶级在线游戏平台_files/capsule_231x87(8).png":{"size":81830,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/21d72f0f313effa873ecc9b24c174216/1629089695.png"},"Steam — 顶级在线游戏平台_files/capsule_231x87(12).png":{"size":83302,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/042c4394e03e7fa6e47b5f220aca51d0/1629089696.png"},"Steam — 顶级在线游戏平台_files/cta_hero_hardware_pt1.png":{"size":7462,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/eb4fe1500d2556b3ec8b793c935e8d8a/1629089697.png"},"Steam — 顶级在线游戏平台_files/cta_hero_hardware_pt2.png":{"size":63954,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/81912db8658ad3f9c57954b9c3a7c3d9/1629089697.png"},"Steam — 顶级在线游戏平台_files/cta_hero_steamworks.png":{"size":43398,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/20d616438ba3649d5e38674bc147c5b2/1629089699.png"},"Steam — 顶级在线游戏平台_files/dynamicstore.js":"\r\nfunction GetElemSNR( $Elem )\r\n{\r\n\tvar snr = $Elem.data( 'snr' );\r\n\tif ( typeof snr != 'undefined' )\r\n\t{\r\n\t\treturn snr;\r\n\t}\r\n\r\n\t// look for links with snr parameter\r\n\tvar links = $Elem.is( 'a' ) ? $Elem : $Elem.find( 'a' );\r\n\tsnr = null;\r\n\tfor ( var i = 0; i < links.length; ++i )\r\n\t{\r\n\t\tvar link = links[i];\r\n\t\tvar navinfo = link.href.match( /[\\?&]snr=([a-zA-Z0-9\\-\\_ ]+)/ );\r\n\t\tif ( navinfo )\r\n\t\t{\r\n\t\t\tsnr = navinfo[1];\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\t$Elem.data( 'snr', snr );\r\n\treturn snr;\r\n}\r\n\r\n// given an array of impressions as strings, this will handle joining them all together into a singular string, but enforcing that it doesn't\r\n// go above the cookie size limit which can otherwise cause users to become stuck since the page requests will start failing\r\nfunction JoinImpressionsUpToLimit( rgImpressions )\r\n{\r\n\t//cookies generally can go up to 4k bytes, but we can have problems when we start getting that close, so cut it off earlier\r\n\tvar nRemainingLen = 3200;\r\n\tvar result = '';\r\n\tfor ( var i = 0; i < rgImpressions.length; i++ )\r\n\t{\r\n\t\tvar impression = String( rgImpressions[ i ] );\r\n\t\tvar nImpressionLen = encodeURIComponent( impression + '|' ).length;\r\n\r\n\t\t//did we run out of room in our list?\r\n\t\tif ( nRemainingLen < nImpressionLen )\r\n\t\t\tbreak;\r\n\r\n\t\t//add the separator if not the first entry\r\n\t\tif ( result !== '' )\r\n\t\t\tresult += '|';\r\n\r\n\t\t//add our impression and remove that space from what is available\r\n\t\tresult += impression;\r\n\t\tnRemainingLen -= nImpressionLen;\r\n\t}\r\n\r\n\treturn result;\r\n}\r\n\r\nGDynamicStore = {\r\n\r\n\tm_bLoadComplete: false,\r\n\ts_rgWishlist: {},\r\n\ts_rgOwnedPackages: {},\r\n\ts_rgOwnedApps: {},\r\n\ts_rgMasterSubApps: {},\r\n\ts_rgAutoGrantApps: {},\r\n\ts_rgPackagesInCart: {},\r\n\ts_rgAppsInCart: {},\r\n\ts_rgRecommendedTags: [],\r\n\r\n\ts_rgIgnoredApps: {},\r\n\ts_rgIgnoredPackages: {},\r\n\r\n\ts_rgCurators: {},\r\n\ts_rgCurations: {},\r\n\ts_rgCreatorsFollowed: {},\r\n\ts_rgCreatorsIgnored: {},\r\n\r\n\ts_preferences: {},\r\n\ts_rgExcludedTags: {},\r\n\ts_rgExcludedDescIDs: {},\r\n\r\n\ts_rgPersonalizedBundleData: {},\r\n\r\n\ts_rgfnOnReadyCallbacks: [],\r\n\r\n\ts_rgDisplayedApps: [],\r\n\r\n\ts_bUserOnMacOS: false,\r\n\ts_bUserOnLinux: false,\r\n\ts_bUserOnWindows: false,\r\n\r\n\ts_rgRecommendedApps: [],\r\n\r\n\r\n\ts_ImpressionTracker: false,\r\n\ts_bAllowAppImpressions: false,\r\n\r\n\tInit: function( accountid, bForceRefresh, strOS, preferences, strCC )\r\n\t{\r\n\r\n\t\tvar rgDesiredOSTypes = strOS ? strOS.split(',') : 'any';\r\n\r\n\t\tfor( var i=0; i < rgDesiredOSTypes.length; i++ )\r\n\t\t{\r\n\t\t\tswitch( rgDesiredOSTypes[i] )\r\n\t\t\t{\r\n\t\t\t\tcase 'mac': GDynamicStore.s_bUserOnMacOS = true; break;\r\n\t\t\t\tcase 'linux': GDynamicStore.s_bUserOnLinux = true; break;\r\n\t\t\t\tdefault:\r\n\t\t\t\tcase 'win': GDynamicStore.s_bUserOnWindows = true; break;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tGDynamicStore.s_preferences = preferences || {};\r\n\r\n\t\tvar fnRunOnLoadCallbacks = function() {\r\n\t\t\tGDynamicStore.m_bLoadComplete = true;\r\n\t\t\tGDynamicStore.InitAppearHandler();\r\n\r\n\t\t\tfor ( var i = 0; i < GDynamicStore.s_rgfnOnReadyCallbacks.length; i++ )\r\n\t\t\t{\r\n\t\t\t\ttry {\r\n\t\t\t\t\tGDynamicStore.s_rgfnOnReadyCallbacks[i]();\r\n\t\t\t\t}\r\n\t\t\t\tcatch ( e )\r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.error( e );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tGDynamicStore.s_rgfnOnReadyCallbacks = null;\r\n\r\n\t\t\tGDynamicStore.DecorateDynamicItems();\r\n\t\t\tGDynamicStore.PopulateRecommendedTagList();\r\n\t\t};\r\n\r\n\t\ttry {\r\n\t\t\tthis.RemoveSNRFromURL();\r\n\t\t\t// this.RemoveUTMFromURL();\r\n\t\t} catch ( e )\r\n\t\t{\r\n\t\t}\r\n\r\n\t\t// Create a new monitor to track impressions\r\n\t\tthis.s_ImpressionTracker = new CAppearMonitor(\r\n\t\t\tfunction( elElement ){\r\n\r\n\t\t\t\tvar fnTrack = function( el )\r\n\t\t\t\t{\r\n\r\n\t\t\t\t\tvar $Elem = $J(el);\r\n\r\n\t\t\t\t\tif ( $Elem.data( 'trackedForImpressions' ) )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$Elem.data( 'trackedForImpressions', true );\r\n\r\n\t\t\t\t\t// must have appids\r\n\t\t\t\t\tvar strAppIDs = $Elem.data('dsAppid');\r\n\t\t\t\t\tif ( !strAppIDs || strAppIDs.length == 0 )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar snr = GetElemSNR( $Elem );\r\n\t\t\t\t\tif ( !snr )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tGDynamicStore.AddImpressionFromDynamicItem( $Elem );\r\n\t\t\t\t};\r\n\r\n\t\t\t\tfnTrack( elElement );\r\n\r\n\t\t\t\t// Also track sub-elements, which may exist inside our container. This is useful for nested clusters etc.\r\n\t\t\t\t$J(elElement).find(\"*[data-ds-appid]\").each(function(i, j){\r\n\t\t\t\t\tfnTrack(j);\r\n\r\n\t\t\t\t});\r\n\r\n\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tif ( accountid )\r\n\t\t{\r\n\t\t\tif ( bForceRefresh )\r\n\t\t\t\tGDynamicStore.InvalidateCache();\r\n\r\n\t\t\tvar url = 'https://store.steampowered.com/dynamicstore/userdata/?id=' + accountid + '&cc=' + strCC;\r\n\r\n\t\t\tvar unUserdataVersion = WebStorage.GetLocal( 'unUserdataVersion' );\r\n\t\t\tif ( unUserdataVersion )\r\n\t\t\t\turl += '&v=' + parseInt( unUserdataVersion );\r\n\r\n\t\t\t$J.get( url ).done( function( data ) {\r\n\t\t\t\tvar fnEnsureObject = function ( rgMaybeArray ) {\r\n\t\t\t\t\treturn ( !rgMaybeArray || ( typeof rgMaybeArray.length != 'undefined' && rgMaybeArray.length == 0 ) ) ? {} : rgMaybeArray;\r\n\t\t\t\t};\r\n\t\t\t\tvar fnConvertToMap = function ( rgData ) {\r\n\t\t\t\t\tvar out = {};\r\n\t\t\t\t\tif ( rgData && rgData.length )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfor ( var i = 0; i < rgData.length; i++ )\r\n\t\t\t\t\t\t\tout[ rgData[i] ] = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn out;\r\n\t\t\t\t};\r\n\t\t\t\tGDynamicStore.s_rgWishlist = fnConvertToMap( data.rgWishlist );\r\n\t\t\t\tGDynamicStore.s_rgOwnedPackages = fnConvertToMap( data.rgOwnedPackages );\r\n\t\t\t\tGDynamicStore.s_rgOwnedApps = fnConvertToMap( data.rgOwnedApps );\r\n\t\t\t\tGDynamicStore.s_rgMasterSubApps = fnConvertToMap( data.rgMasterSubApps );\r\n\t\t\t\tGDynamicStore.s_rgAutoGrantApps = fnConvertToMap( data.rgAutoGrantApps );\r\n\t\t\t\tGDynamicStore.s_rgPackagesInCart = fnConvertToMap( data.rgPackagesInCart );\r\n\t\t\t\tGDynamicStore.s_rgAppsInCart = fnConvertToMap( data.rgAppsInCart );\r\n\t\t\t\tGDynamicStore.s_rgRecommendedTags = data.rgRecommendedTags || [];\r\n\t\t\t\tGDynamicStore.s_rgIgnoredApps = data.rgIgnoredApps || {}\r\n\t\t\t\tGDynamicStore.s_rgIgnoredPackages = data.rgIgnoredPackages || {};\r\n\t\t\t\tGDynamicStore.s_rgCurators = data.rgCurators || {};\r\n\t\t\t\tGDynamicStore.s_rgCurations = data.rgCurations || {};\r\n\t\t\t\tGDynamicStore.s_rgCreatorsFollowed = fnConvertToMap( data.rgCreatorsFollowed );\r\n\t\t\t\tGDynamicStore.s_rgCreatorsIgnored = fnConvertToMap( data.rgCreatorsIgnored );\r\n\t\t\t\tGDynamicStore.s_bAllowAppImpressions = data.bAllowAppImpressions || false;\r\n\r\n\t\t\t\tif ( data.rgExcludedTags && data.rgExcludedTags.length > 0 )\r\n\t\t\t\t{\r\n\t\t\t\t\tfor ( var i = i = 0; i < data.rgExcludedTags.length; ++i )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar tag = data.rgExcludedTags[i];\r\n\t\t\t\t\t\tGDynamicStore.s_rgExcludedTags[tag.tagid] = tag.name;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif ( data.rgExcludedContentDescriptorIDs && data.rgExcludedContentDescriptorIDs.length > 0 &&\r\n\t\t\t\t\t\t!V_GetCookie( 'wants_mature_content') )\r\n\t\t\t\t{\r\n\t\t\t\t\tfor ( var i = i = 0; i < data.rgExcludedContentDescriptorIDs.length; ++i )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar id = data.rgExcludedContentDescriptorIDs[i];\r\n\t\t\t\t\t\tGDynamicStore.s_rgExcludedDescIDs[id] = id;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tGDynamicStore.s_nRemainingCartDiscount = data.nRemainingCartDiscount ? data.nRemainingCartDiscount : 0;\r\n\t\t\t\tGDynamicStore.s_nTotalCartDiscount = data.nTotalCartDiscount ? data.nTotalCartDiscount : 0;\r\n\t\t\t\tGDynamicStore.s_rgRecommendedApps = data.rgRecommendedApps || [];\r\n\r\n\t\t\t\tGDynamicStore.s_nPromotionalDiscount = data.nPromotionalDiscount ? data.nPromotionalDiscount : 0;\r\n\t\t\t\tGDynamicStore.s_nPromotionalDiscountMinCartAmount = data.nPromotionalDiscountMinCartAmount ? data.nPromotionalDiscountMinCartAmount : 0;\r\n\t\t\t\tGDynamicStore.s_nPromotionalDiscountAvailableUseCount = data.nPromotionalDiscountAvailableUseCount ? data.nPromotionalDiscountAvailableUseCount : 0;\r\n\r\n\t\t\t}).always( function() { $J(fnRunOnLoadCallbacks); } );\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tGDynamicStore.s_rgExcludedDescIDs[3] = 3;\r\n\r\n\t\t\tvar url = 'https://store.steampowered.com/dynamicstore/saledata/?cc=' + strCC;\r\n\r\n\t\t\t$J.get( url ).done( function( data ) {\r\n\t\t\t\tGDynamicStore.s_nPromotionalDiscount = data.nPromotionalDiscount ? data.nPromotionalDiscount : 0;\r\n\t\t\t\tGDynamicStore.s_nPromotionalDiscountMinCartAmount = data.nPromotionalDiscountMinCartAmount ? data.nPromotionalDiscountMinCartAmount : 0;\r\n\t\t\t\tGDynamicStore.s_nPromotionalDiscountAvailableUseCount = data.nPromotionalDiscountAvailableUseCount ? data.nPromotionalDiscountAvailableUseCount : 0;\r\n\t\t\t\tGDynamicStore.s_bAllowAppImpressions = data.bAllowAppImpressions || false;\r\n\r\n\t\t\t}).always( function() { $J(fnRunOnLoadCallbacks); } );\r\n\t\t}\r\n\t},\r\n\r\n\tRemoveSNRFromURL: function()\r\n\t{\r\n\t\tif ( !window.history || !window.history.replaceState || !window.location.search )\r\n\t\t\treturn;\r\n\r\n\t\tGDynamicStore.RemoveParamFromURL( 'snr' );\r\n\t\tGDynamicStore.RemoveParamFromURL( 'ser' );\r\n\t},\r\n\r\n\tRemoveParamFromURL: function( strParamName )\r\n\t{\r\n\t\t// find snr param\r\n\t\tvar strParamPrefix = '' + strParamName + '=';\r\n\t\tvar strSearch = window.location.search;\r\n\t\tif ( strSearch.indexOf( '?' ) == 0 )\r\n\t\t\tstrSearch = strSearch.slice( 1 );\r\n\r\n\t\tvar rgParams = strSearch.split( '&' );\r\n\t\tvar iParam = -1;\r\n\t\tfor ( var i = 0; i < rgParams.length; i++ )\r\n\t\t{\r\n\t\t\tvar strParam = rgParams[i];\r\n\t\t\tif (strParam.indexOf( strParamPrefix ) == 0)\r\n\t\t\t{\r\n\t\t\t\tiParam = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( iParam < 0 )\r\n\t\t\treturn;\r\n\r\n\t\tvar strRemove = '';\r\n\t\tif ( rgParams.length == 1 || (rgParams.length == 2 && rgParams[1].length == 0) )\r\n\t\t{\r\n\t\t\t// remove the entire search.. just SNR\r\n\t\t\tstrRemove = '?' + strSearch;\r\n\t\t}\r\n\t\telse if ( iParam == 0 )\r\n\t\t{\r\n\t\t\t// first param of multiple. Remove snr and trailing &\r\n\t\t\tstrRemove = rgParams[iParam] + '&';\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t// 2nd+ param of multiple. Remove snr and preceeding &\r\n\t\t\tstrRemove = '&' + rgParams[iParam];\r\n\t\t}\r\n\r\n\t\tif ( strRemove.length > 0 )\r\n\t\t{\r\n\t\t\tvar strNewURL = window.location.href.replace( strRemove, '' );\r\n\t\t\twindow.history.replaceState( history.state, null, strNewURL );\r\n\t\t}\r\n\t},\r\n\r\n\tRemoveUTMFromURL: function()\r\n\t{\r\n\t\tif ( !window.history || !window.history.replaceState || !window.location.search )\r\n\t\t\treturn;\r\n\r\n\t\tvar strSearch = window.location.search;\r\n\t\tif ( strSearch.indexOf( '?' ) == 0 )\r\n\t\t\tstrSearch = strSearch.slice( 1 );\r\n\r\n\t\tvar rgParams = strSearch.split( '&' );\r\n\t\tvar rgNewParams = [];\r\n\r\n\t\tfor ( var i = 0; i < rgParams.length; ++i )\r\n\t\t{\r\n\t\t\tvar strParam = rgParams[i];\r\n\t\t\tif ( strParam.indexOf( 'utm_') == -1 )\r\n\t\t\t{\r\n\t\t\t\trgNewParams.push( strParam );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( rgParams.length != rgNewParams.length )\r\n\t\t{\r\n\t\t\tvar strNewURL = window.location.href.replace( window.location.search, '' );\r\n\t\t\tfor ( var i = 0; i < rgNewParams.length; ++i )\r\n\t\t\t{\r\n\t\t\t\tvar strParam = rgNewParams[i];\r\n\t\t\t\tstrNewURL += ( i == 0 ? '?' : '&' ) + strParam;\r\n\t\t\t}\r\n\t\t\twindow.history.replaceState( history.state, null, strNewURL );\r\n\t\t}\r\n\t},\r\n\r\n\t// Fixup name portion of URL via history API, if support and if name portion is incorrect\r\n\tFixupNamePortion: function() {\r\n\t\tvar rel = $J( \"link[rel='canonical']\" );\r\n\t\tif ( rel.length && window.history ) {\r\n\t\t\t// have rel=canonical URL and access to history API.\r\n\t\t\t// parse out href portion of navigated URL and see if it's OK\r\n\t\t\tvar detachedAnchor = document.createElement( 'a' );\r\n\t\t\tdetachedAnchor.href = rel.attr( \"href\" );\r\n\t\t\tif ( window.location.pathname != detachedAnchor.pathname ) {\r\n\t\t\t\t// URL portion does not match canonical URL; rewrite it, preserving query params and hash\r\n\t\t\t\twindow.history.replaceState( null, null, rel[0].href + window.location.search + window.location.hash );\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\ts_strAppearSelector: '[data-ds-appid], [data-ds-packageid]',\r\n\r\n\tInitAppearHandler: function()\r\n\t{\r\n\t\t$J(GDynamicStore.s_strAppearSelector).each(function(i, elTarget ){\r\n\r\n\t\t\tvar $Elem = $J(elTarget);\r\n\t\t\t// these are handled manually, so don't add the impression here\r\n\t\t\tif ( $Elem.hasClass( 'cluster_capsule' ) || $Elem.hasClass( 'carousel_cap') )\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tGDynamicStore.s_ImpressionTracker.RegisterElement( elTarget )\r\n\t\t});\r\n\r\n\t\t// find our horizontal scrollers and add tracking to them\r\n\r\n\t\t$J('.store_horizontal_autoslider' ).each(function(i, elTarget ){\r\n\t\t\tGDynamicStore.s_ImpressionTracker.RegisterScrollEvent( elTarget );\r\n\t\t});\r\n\r\n\t\tGDynamicStore.s_ImpressionTracker.CheckVisibility();\r\n\r\n\t},\r\n\r\n\ts_oImpressionsTracked: {},\r\n\tAddImpressionFromDynamicItem: function( $Elem )\r\n\t{\t\t\r\n\t\tif ( !GDynamicStore.s_bAllowAppImpressions )\r\n\t\t{\r\n\t\t\t\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t\r\n\t\tif ( $Elem.hasClass( 'app_impression_tracked' ) )\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t$Elem.addClass( 'app_impression_tracked' );\r\n\r\n\t\tvar strImpressions = V_GetDecodedCookie( \"app_impressions\" );\r\n\t\tvar rgImpressions = strImpressions && strImpressions.length != 0 ? strImpressions.split( \"|\" ) : [];\r\n\r\n\t\t// commas not allowed in cookie value\r\n\t\tvar strAppIDs = $Elem.data('dsAppid');\r\n\t\tif ( !strAppIDs )\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar rgAppIds;\r\n\t\tif ( typeof strAppIDs == 'string' && ( strAppIDs.indexOf( ',' ) >= 0 || strAppIDs.indexOf( ':' ) >= 0 ))\r\n\t\t{\r\n\t\t\trgAppIds = strAppIDs.split( /[,:]/ );\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\trgAppIds = [ parseInt( strAppIDs ) ];\r\n\t\t}\r\n\r\n\t\tvar snr = GetElemSNR( $Elem );\r\n\t\tif ( !snr )\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar rgAppIDsToReport = [];\r\n\t\tfor ( var i = 0; i < rgAppIds.length; i++ )\r\n\t\t{\r\n\t\t\tvar nAppID = rgAppIds[i];\r\n\t\t\tvar strImpressionData = nAppID + '@' + snr;\r\n\r\n\t\t\tif ( !GDynamicStore.s_oImpressionsTracked[ strImpressionData ] )\r\n\t\t\t{\r\n\t\t\t\tGDynamicStore.s_oImpressionsTracked[ strImpressionData ] = true;\r\n\r\n\t\t\t\t\r\n\r\n\t\t\t\trgAppIDsToReport.push( nAppID );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( !rgAppIDsToReport.length )\r\n\t\t\treturn;\r\n\r\n\t\trgImpressions.push( rgAppIDsToReport.join( ':' ) + '@' + snr );\r\n\t\tV_SetCookie( \"app_impressions\", JoinImpressionsUpToLimit( rgImpressions ) );\r\n\t},\r\n\r\n\tAddImpression: function( $Elem, appID, strLink )\r\n\t{\r\n\t\tif ( $Elem.hasClass( 'app_impression_tracked' ) )\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t$Elem.addClass( 'app_impression_tracked' );\r\n\r\n\t\tvar navinfo = strLink.match( /[\\?&]snr=([^&#]*)(&|$|#)/ );\r\n\t\tif ( navinfo )\r\n\t\t{\r\n\t\t\tvar snr = navinfo[1];\r\n\r\n\t\t\tvar strImpressions = V_GetCookie( \"app_impressions\" );\r\n\t\t\tvar rgImpressions = strImpressions && strImpressions.length != 0 ? strImpressions.split( \"|\" ) : [];\r\n\t\t\tvar strImpressionData = appID + '@' + snr;\r\n\t\t\trgImpressions.push( strImpressionData );\r\n\t\t\tV_SetCookie( \"app_impressions\", JoinImpressionsUpToLimit( rgImpressions ) );\r\n\t\t}\r\n\t},\r\n\r\n\tMarkAppDisplayed: function( rgDisplayList, cItemsToMark )\r\n\t{\r\n\t\t// jquery map takes care of arrays as well as array-ish\r\n\t\tGDynamicStore.MarkAppIDsAsDisplayed( $J.map( rgDisplayList, function ( item ) { return item.appid; } ), cItemsToMark );\r\n\t},\r\n\r\n\tMarkAppIDsAsDisplayed: function( rgAppIDs, cItemsToMark )\r\n\t{\r\n\t\tfor ( var i = 0; i < rgAppIDs.length; i++ )\r\n\t\t{\r\n\t\t\tif ( rgAppIDs[i] )\r\n\t\t\t{\r\n\t\t\t\tGDynamicStore.s_rgDisplayedApps.push( rgAppIDs[i] );\r\n\r\n\t\t\t\t// if this appid is a demo, also mark the parent app as displayed\r\n\t\t\t\tvar rgAppData = GStoreItemData.rgAppData[ rgAppIDs[i] ];\r\n\t\t\t\tif ( rgAppData && rgAppData.demo_for_app )\r\n\t\t\t\t\tGDynamicStore.s_rgDisplayedApps.push( rgAppData.demo_for_app );\r\n\r\n\r\n\t\t\t\tif ( cItemsToMark !== undefined && --cItemsToMark == 0 )\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tHandleClusterChange: function( cluster ) {\r\n\t\tGDynamicStore.s_ImpressionTracker.CheckVisibility();\r\n\t\tvar $ScrollingContainer = $J( cluster.elScrollArea );\r\n\t\tvar capsules = $ScrollingContainer.find( '.cluster_capsule' );\r\n\t\tGDynamicStore.s_ImpressionTracker.TrackAppearanceIfVisible( capsules[cluster.nCurCap] );\r\n\t},\r\n\r\n\tHandleCarouselChange: function( targetid, curPos, pageSize ) {\r\n\t\tvar $ScrollingContainer = $J( \"#\" + targetid );\r\n\t\tvar capsules = $ScrollingContainer.find( '.recommendation_carousel_item' );\r\n\t\tvar idx = (curPos * pageSize);\r\n\t\tif ( capsules.length != 0 && idx < capsules.length )\r\n\t\t{\r\n\t\t\tGDynamicStore.s_ImpressionTracker.TrackAppearanceIfVisible( capsules[idx] );\r\n\t\t}\r\n\t},\r\n\r\n\tOnReady: function( fnCallback )\r\n\t{\r\n\t\tif ( GDynamicStore.m_bLoadComplete )\r\n\t\t\tfnCallback();\r\n\t\telse\r\n\t\t\tGDynamicStore.s_rgfnOnReadyCallbacks.push( fnCallback );\r\n\t},\r\n\r\n\tDecorateDynamicItems: function( $Selector, bForceRecalculate ) {\r\n\r\n\t\tif ( !GDynamicStore.m_bLoadComplete )\r\n\t\t{\r\n\t\t\tGDynamicStore.OnReady( function() { GDynamicStore.DecorateDynamicItems( $Selector ) } );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// locate elements with dynamic store data\r\n\t\tvar strSelector = '[data-ds-appid], [data-ds-packageid], [data-ds-bundleid]';\r\n\r\n\t\t// update prices for cart\r\n\t\tif ( GDynamicStore.s_nRemainingCartDiscount != 'undefined ')\r\n\t\t{\r\n\t\t\tUpdatePricesForAdditionalCartDiscount($Selector, GDynamicStore.s_nRemainingCartDiscount);\r\n\t\t}\r\n\r\n\t\tvar bBannerShown = false;\r\n\t\tif ( GDynamicStore.s_nTotalCartDiscount != 'undefined ')\r\n\t\t{\r\n\t\t\tbBannerShown = UpdateStoreBannerForAdditionalCartDiscount( GDynamicStore.s_nTotalCartDiscount );\r\n\t\t}\r\n\r\n\t\tif ( !bBannerShown && GDynamicStore.s_nPromotionalDiscount != 'undefined' )\r\n\t\t{\r\n\t\t\tbBannerShown = UpdateStoreBannerForPromotionalDiscount( GDynamicStore.s_nPromotionalDiscount, GDynamicStore.s_nPromotionalDiscountMinCartAmount, GDynamicStore.s_nPromotionalDiscountAvailableUseCount );\r\n\t\t}\r\n\r\n\t\tvar $DynamicElements;\r\n\t\tif ( $Selector )\r\n\t\t{\r\n\t\t\tif ( $Selector.is( strSelector ) )\r\n\t\t\t{\r\n\t\t\t\t$DynamicElements = $Selector;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t$DynamicElements = $Selector.find( strSelector );\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t$DynamicElements = $J(strSelector);\r\n\t\t}\r\n\r\n\t\t$DynamicElements.each( function() {\r\n\t\t\tvar $El = $J(this);\r\n\r\n\t\t\tif ( bForceRecalculate )\r\n\t\t\t{\r\n\t\t\t\t$El.removeClass( 'ds_flagged ds_owned ds_wishlist ds_incart' ).children( '.ds_flag' ).remove();\r\n\t\t\t}\r\n\t\t\telse if ( $El.data('dsInstrumented') )\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t$El.data('dsInstrumented', true);\r\n\r\n\t\t\tvar bOwned = false;\r\n\t\t\tvar bWanted = false;\r\n\t\t\tvar bInCart = false;\r\n\t\t\tvar bIgnored = false;\r\n\r\n\t\t\tvar unBundleID = $El.data('dsBundleid');\r\n\t\t\tvar unPackageID = $El.data('dsPackageid');\r\n\t\t\tvar strAppIDs = $El.data('dsAppid');\r\n\r\n\t\t\tif ( unBundleID )\r\n\t\t\t{\r\n\t\t\t\tvar Bundle = GDynamicStore.GetPersonalizedBundleData( unBundleID, $El.data('dsBundleData') );\r\n\t\t\t\tif ( !Bundle )\t// no data available\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tif ( Bundle.m_cUserItemsInBundle == 0 )\r\n\t\t\t\t{\r\n\t\t\t\t\tbOwned = true;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\t// pull out all the appids and let the strAppIDs code below handle it\r\n\t\t\t\t\tvar rgAllAppIDsInBundle = [];\r\n\t\t\t\t\tfor( var iBundleItem = 0; iBundleItem < Bundle.m_rgBundleItems.length; iBundleItem++ )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar BundleItem = Bundle.m_rgBundleItems[iBundleItem];\r\n\t\t\t\t\t\tfor ( var iApp = 0; iApp < BundleItem.m_rgIncludedAppIDs.length; iApp++ )\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trgAllAppIDsInBundle.push( BundleItem.m_rgIncludedAppIDs[iApp] );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstrAppIDs = rgAllAppIDsInBundle.join(',');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tGDynamicStore.UpdateDynamicBundleElements( Bundle, $El );\r\n\t\t\t}\r\n\t\t\telse if ( unPackageID )\r\n\t\t\t{\r\n\t\t\t\tif ( GDynamicStore.s_rgPackagesInCart[unPackageID] )\r\n\t\t\t\t\tbInCart = true;\r\n\t\t\t\telse if ( GDynamicStore.s_rgOwnedPackages[unPackageID] )\r\n\t\t\t\t\tbOwned = true;\r\n\t\t\t\telse if ( unPackageID in GDynamicStore.s_rgIgnoredPackages )\r\n\t\t\t\t\tbIgnored = true;\r\n\t\t\t}\r\n\r\n\t\t\tif ( strAppIDs && typeof strAppIDs == 'string' && strAppIDs.indexOf( ',' ) >= 0 )\r\n\t\t\t{\r\n\t\t\t\tvar rgAppIDs = strAppIDs.split( ',' );\r\n\t\t\t\tvar bValid = false;\r\n\t\t\t\tvar bAllOwned = true, bAllWanted = true, bAllInCart = true;\r\n\t\t\t\tfor ( var i = 0; i < rgAppIDs.length; i++ )\r\n\t\t\t\t{\r\n\t\t\t\t\tvar unAppID = parseInt( rgAppIDs[i] );\r\n\t\t\t\t\tif ( !unAppID )\r\n\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t\tbValid = true;\r\n\t\t\t\t\tif ( !GDynamicStore.s_rgOwnedApps[unAppID] )\r\n\t\t\t\t\t\tbAllOwned = false;\r\n\t\t\t\t\tif ( !GDynamicStore.s_rgWishlist[unAppID] )\r\n\t\t\t\t\t\tbAllWanted = false;\r\n\t\t\t\t\tif ( !GDynamicStore.s_rgAppsInCart[unAppID] )\r\n\t\t\t\t\t\tbAllInCart = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( bValid )\r\n\t\t\t\t{\r\n\t\t\t\t\tif ( bAllInCart )\r\n\t\t\t\t\t\tbInCart = bAllInCart;\r\n\t\t\t\t\telse if ( bAllOwned )\r\n\t\t\t\t\t\tbOwned = bAllOwned;\r\n\t\t\t\t\telse if ( bAllWanted )\r\n\t\t\t\t\t\tbWanted = bAllWanted;\r\n\r\n\t\t\t\t\tGDynamicStore.s_ImpressionTracker.RegisterElement( this );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if ( parseInt( strAppIDs ) )\r\n\t\t\t{\r\n\t\t\t\t// simple case of single appid\r\n\t\t\t\tvar unAppID = parseInt( strAppIDs );\r\n\t\t\t\tif ( GDynamicStore.s_rgAppsInCart[unAppID] )\r\n\t\t\t\t\tbInCart = true;\r\n\t\t\t\telse if ( GDynamicStore.s_rgOwnedApps[unAppID] )\r\n\t\t\t\t\tbOwned = true;\r\n\t\t\t\telse if ( GDynamicStore.s_rgWishlist[unAppID] )\r\n\t\t\t\t\tbWanted = true;\r\n\t\t\t\telse if ( unAppID in GDynamicStore.s_rgIgnoredApps )\r\n\t\t\t\t\tbIgnored = true;\r\n\r\n\t\t\t\tGDynamicStore.s_ImpressionTracker.RegisterElement( this );\r\n\t\t\t}\r\n\r\n\t\t\tvar rgExcludedTagNames = GDynamicStore.GetExcludedTagsOverlap( $El );\r\n\t\t\tvar rgExcludedContentDescriptorIDs = GDynamicStore.GetExcludedContentDescriptorOverlap( $El );\r\n\t\t\tvar rgExcludedCreatorIDs = GDynamicStore.GetExcludedCreatorOverlap( $El );\r\n\r\n\t\t\tif ( !$El.hasClass('ds_no_flags') )\r\n\t\t\t{\r\n\t\t\t\t// owned and wishlist are mutually exclusive\r\n\t\t\t\tif ( bOwned )\r\n\t\t\t\t{\r\n\t\t\t\t\t$El.addClass( 'ds_flagged ds_owned' );\r\n\t\t\t\t\t$El.append( '<div class=\"ds_flag ds_owned_flag\">已在库中&nbsp;&nbsp;</div>');\r\n\t\t\t\t}\r\n\t\t\t\telse if ( bWanted )\r\n\t\t\t\t{\r\n\t\t\t\t\t$El.addClass( 'ds_flagged ds_wishlist' );\r\n\t\t\t\t\t$El.append( '<div class=\"ds_flag ds_wishlist_flag\">已在愿望单中&nbsp;&nbsp;</div>');\r\n\t\t\t\t}\r\n\t\t\t\telse if ( bIgnored )\r\n\t\t\t\t{\r\n\t\t\t\t\t$El.addClass( 'ds_flagged ds_ignored' );\r\n\t\t\t\t\t$El.append( '<div class=\"ds_flag ds_ignored_flag\">已忽略&nbsp;&nbsp;</div>');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( bInCart )\r\n\t\t\t\t{\r\n\t\t\t\t\t$El.addClass( 'ds_flagged ds_incart' );\r\n\t\t\t\t\t$El.append( '<div class=\"ds_flag ds_incart_flag\">在购物车中&nbsp;&nbsp;</div>');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( $El.hasClass( 'ds_excluded_blur' ) )\r\n\t\t\t\t{\r\n\t\t\t\t\t$El.addClass( 'ds_flagged' );\r\n                \t$El.append( '<div class=\"ds_flag ds_excluded_by_preferences_flag\">已按偏好排除&nbsp;&nbsp;</div>' );\r\n\t\t\t\t}\r\n\t\t\t\telse if ( rgExcludedContentDescriptorIDs.length != 0 )\r\n\t\t\t\t{\r\n\t\t\t\t\t$El.addClass( 'ds_flagged ds_excluded_by_preferences' );\r\n\t\t\t\t\t$El.append( '<div class=\"ds_flag ds_excluded_by_preferences_flag\">已按偏好排除&nbsp;&nbsp;</div>' );\r\n\t\t\t\t}\r\n\t\t\t\telse if ( rgExcludedTagNames.length != 0 )\r\n\t\t\t\t{\r\n\t\t\t\t\t$El.addClass( 'ds_flagged ds_excluded_by_preferences' );\r\n\t\t\t\t\t$El.append( '<div class=\"ds_flag ds_excluded_by_preferences_flag\">已排除标签：' + rgExcludedTagNames.join(\", \" ) + '</div>' );\r\n\t\t\t\t}\r\n\t\t\t\telse if ( rgExcludedCreatorIDs.length != 0 )\r\n\t\t\t\t{\r\n\t\t\t\t\t$El.addClass( 'ds_flagged ds_excluded_by_preferences' );\r\n\t\t\t\t\t$El.append( '<div class=\"ds_flag ds_excluded_by_preferences_flag\">按已忽略的开发者/发行商/系列排除&nbsp;&nbsp;</div>' );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif( g_AccountID && unAppID && $El.data('ds-options') !== 0 ) // Only add if we have an appid\r\n\t\t\t\t{\r\n\t\t\t\t\tvar $elMenu = $J ( '<div></div>', { 'class': 'ds_options' } ).append($J('<div>'));\r\n\t\t\t\t\t$El.append ( $elMenu );\r\n\r\n\t\t\t\t\t$El.one( 'mouseenter', function() {\r\n\t\t\t\t\t\t$elMenu.v_tooltip ( {\r\n\t\t\t\t\t\t\t'tooltipClass': 'ds_options_tooltip',\r\n\t\t\t\t\t\t\t'location': 'bottom left',\r\n\t\t\t\t\t\t\t'offsetY': -20,\r\n\t\t\t\t\t\t\t'useClickEvent': true,\r\n\t\t\t\t\t\t\t'useMouseEnterEvent': false,\r\n\t\t\t\t\t\t\tfunc: GDynamicStore.CapsuleSettingsMenu\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\t\t// make sure that the elements are registered as \"appearing\" if necessary\r\n\t\tGDynamicStore.s_ImpressionTracker.CheckVisibility();\r\n\t},\r\n\r\n\tCapsuleSettingsMenu: function( elSource )\r\n\t{\r\n\t\tvar $El = $J(this);\r\n\t\tvar $elSource = $J(elSource.parentNode);\r\n\t\t$El.empty();\r\n\r\n\t\tvar strAppIDs = $elSource.data('dsAppid');\r\n\r\n\t\t// AppID specific controls\r\n\t\tif( strAppIDs )\r\n\t\t{\r\n\r\n\t\t\tvar rgAppIds = [];\r\n\r\n\t\t\tif (strAppIDs && typeof strAppIDs == 'string' && strAppIDs.indexOf(',') >= 0) {\r\n\t\t\t\trgAppIds = strAppIDs.split(',');\r\n\t\t\t}\r\n\t\t\telse if (parseInt(strAppIDs)) {\r\n\t\t\t\trgAppIds = [parseInt(strAppIDs)];\r\n\t\t\t}\r\n\r\n\t\t\tvar bIgnored = false;\r\n\t\t\tvar bOnWishlist = false;\r\n\t\t\tvar bFilteredByContentPreferences = false;\r\n\r\n\t\t\tfor( var i = 0; i < rgAppIds.length; i++ )\r\n\t\t\t{\r\n\t\t\t\tbIgnored |= GDynamicStore.BIsAppIgnored( rgAppIds[i] );\r\n\t\t\t\tbOnWishlist |= GDynamicStore.BIsAppOnWishlist( rgAppIds[i] );\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (!bOnWishlist)\r\n\t\t\t{\r\n\t\t\t\tvar fnClick = function ( event )\r\n\t\t\t\t{\r\n\t\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\t\t$elSource.addClass( 'ds_flagged ds_wishlist' );\r\n\t\t\t\t\t$elSource.append( '<div class=\"ds_flag ds_wishlist_flag\">已在愿望单中&nbsp;&nbsp;</div>');\r\n\r\n\t\t\t\t\tfor( var i=0; i<rgAppIds.length; i++ )\r\n\t\t\t\t\t\tGDynamicStore.ModifyWishlist ( $elSource, rgAppIds[ i ], false, false, function(){\r\n\t\t\t\t\t\t\t// Remove the flag if we failed.\r\n\t\t\t\t\t\t\t$elSource.removeClass( 'ds_wishlist ds_flagged' );\r\n\t\t\t\t\t\t\t$J('.ds_flag.ds_wishlist_flag', $elSource).remove();\r\n\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t$El.trigger('mouseleave');\r\n\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t};\r\n\t\t\t\tvar strText = \"\\u6dfb\\u52a0\\u81f3\\u60a8\\u7684\\u613f\\u671b\\u5355\";\r\n\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tvar fnClick = function ( event )\r\n\t\t\t\t{\r\n\t\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\t\t$elSource.removeClass( 'ds_wishlist ds_flagged' );\r\n\t\t\t\t\t$J('.ds_flag.ds_wishlist_flag', $elSource).remove();\r\n\r\n\t\t\t\t\tfor( var i=0; i<rgAppIds.length; i++ )\r\n\t\t\t\t\t\tGDynamicStore.ModifyWishlist ( $elSource, rgAppIds[ i ], true, false, function(){\r\n\t\t\t\t\t\t\t// Add the flag back if we failed for some reason\r\n\t\t\t\t\t\t\t$elSource.addClass( 'ds_flagged ds_wishlist' );\r\n\t\t\t\t\t\t\t$elSource.append( '<div class=\"ds_flag ds_wishlist_flag\">已在愿望单中&nbsp;&nbsp;</div>');\r\n\r\n\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t$El.trigger('mouseleave');\r\n\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t};\r\n\t\t\t\tvar strText = \"\\u5df2\\u5728\\u613f\\u671b\\u5355\\u4e2d\";\r\n\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar $elAddToWishlist = $J ( '<div/>' ).click ( fnClick ).text ( strText ).addClass( 'option' );\r\n\t\t\t$El.append($elAddToWishlist);\r\n\r\n\t\t\tif (!bIgnored)\r\n\t\t\t{\r\n\t\t\t\tvar fnClick = function ()\r\n\t\t\t\t{\r\n\t\t\t\t\t$elSource.addClass('ds_ignored ds_flagged');\r\n\t\t\t\t\t$elSource.append( '<div class=\"ds_flag ds_ignored_flag\">已忽略&nbsp;&nbsp;</div>');\r\n\t\t\t\t\tfor( var i=0; i<rgAppIds.length; i++ )\r\n\t\t\t\t\t\tGDynamicStore.ModifyIgnoredApp ( $elSource, rgAppIds[ i ], false );\r\n\r\n\t\t\t\t\t$El.trigger('mouseleave');\r\n\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t};\r\n\t\t\t\tvar strText = \"\\u5ffd\\u7565\";\r\n\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\r\n\t\t\t\tvar fnClick = function ()\r\n\t\t\t\t{\r\n\t\t\t\t\t$elSource.removeClass('ds_flagged ds_ignored');\r\n\t\t\t\t\t$J('.ds_flag.ds_ignored_flag', $elSource).remove();\r\n\t\t\t\t\tfor( var i=0; i<rgAppIds.length; i++ )\r\n\t\t\t\t\t\tGDynamicStore.ModifyIgnoredApp ( $elSource, rgAppIds[ i ], true );\r\n\r\n\t\t\t\t\t$El.trigger('mouseleave');\r\n\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t};\r\n\t\t\t\tvar strText = \"\\u5df2\\u5ffd\\u7565\";\r\n\t\t\t}\r\n\r\n\r\n\t\t\tvar $elNotInterested = $J ( '<div/>' ).click ( fnClick ).text ( strText ).addClass( 'option' );\r\n\t\t\t$El.append($elNotInterested);\r\n\r\n\r\n\t\t\tvar $elPreferences = $J ( '<a/>' ).attr('href', 'https://store.steampowered.com/account/preferences' ).text ( \"\\u504f\\u597d\" ).addClass( 'option' );\r\n\t\t\t$El.append($elPreferences);\r\n\r\n\r\n\t\t}\r\n\t},\r\n\r\n\tModifyWishlist: function( $elSource, appid, bRemove, fnOnSuccess, fnOnFail )\r\n\t{\r\n\t\tvar url = 'https://store.steampowered.com/api/addtowishlist';\r\n\t\tGDynamicStore.s_rgWishlist[appid] = !bRemove;\r\n\r\n\t\tif( bRemove )\r\n\t\t\turl = 'https://store.steampowered.com/api/removefromwishlist';\r\n\r\n\r\n\t\t$J.post( url, {\r\n\t\t\tsessionid: g_sessionID,\r\n\t\t\tappid: appid,\r\n\t\t\tsnr: $elSource.data( 'snr' )\r\n\t\t}).done( function( data ) {\r\n\t\t\tif( fnOnSuccess )\r\n\t\t\t\tfnOnSuccess( appid );\r\n\t\t\tGDynamicStore.InvalidateCache();\r\n\t\t}).fail( function() {\r\n\t\t\tif( fnOnFail )\r\n\t\t\t\tfnOnFail( appid );\r\n\t\t\tGDynamicStore.s_rgWishlist[appid] = false;\r\n\t\t});\r\n\t},\r\n\r\n\r\n\tToggleClientsideFilter: function( elControl, strToggleClass, elResults, strFilterClass )\r\n\t{\r\n\t\t$Control = $J(elControl);\r\n\t\t$Results = $J(elResults);\r\n\r\n\t\t$Control.toggleClass( strToggleClass );\r\n\r\n\t\tif ( $Control.hasClass( strToggleClass ) )\r\n\t\t{\r\n\t\t\t$Results.addClass( strFilterClass );\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t$Results.removeClass( strFilterClass );\r\n\t\t}\r\n\t},\r\n\r\n\tModifyIgnoredApp: function( $elSource, appid, bRemove, fnOnSuccess, fnOnFail )\r\n\t{\r\n\t\tif ( bRemove )\r\n\t\t{\r\n\t\t\tdelete GDynamicStore.s_rgIgnoredApps[appid];\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tGDynamicStore.s_rgIgnoredApps[appid] = 0;\r\n\t\t}\r\n\r\n\r\n\t\t$J.post( 'https://store.steampowered.com/recommended/ignorerecommendation/', {\r\n\t\t\tsessionid: g_sessionID,\r\n\t\t\tappid: appid,\r\n\t\t\tremove: bRemove ? 1 : 0,\r\n\t\t\tsnr: $elSource.data( 'snr' )\r\n\t\t}).done( function() {\r\n\t\t\tif( fnOnSuccess )\r\n\t\t\t\tfnOnSuccess( appid );\r\n\t\t\tGDynamicStore.InvalidateCache();\r\n\t\t}).fail( function( jqXHR ) {\r\n\t\t\tif( fnOnFail )\r\n\t\t\t\tfnOnFail( appid );\r\n\t\t\tdelete GDynamicStore.s_rgIgnoredApps[appid];\r\n\t\t});\r\n\t},\r\n\r\n\tModifyIgnoredPackage: function( packageid, bRemove, fnOnSuccess, fnOnFail )\r\n\t{\r\n\t\t\t\tif ( bRemove )\r\n\t\t{\r\n\t\t\tdelete GDynamicStore.s_rgIgnoredPackages[packageid];\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tGDynamicStore.s_rgIgnoredPackages[packageid] = 0;\r\n\t\t}\r\n\r\n\t\t$J.post( 'https://store.steampowered.com/recommended/ignorerecommendation/', {\r\n\t\t\tsessionid: g_sessionID,\r\n\t\t\tsubid: packageid,\r\n\t\t\tremove: bRemove\r\n\t\t}).done( function() {\r\n\t\t\tif( fnOnSuccess )\r\n\t\t\t\tfnOnSuccess( packageid );\r\n\t\t\tGDynamicStore.InvalidateCache();\r\n\t\t}).fail( function() {\r\n\t\t\tif( fnOnFail )\r\n\t\t\t\tfnOnFail( packageid );\r\n\t\t\tdelete GDynamicStore.s_rgIgnoredPackages[packageid];\r\n\t\t});\r\n\t},\r\n\r\n\tGetPersonalizedBundleData: function( unBundleID, rgPageBundleData )\r\n\t{\r\n\t\tif ( !GDynamicStore.s_rgPersonalizedBundleData[unBundleID] )\r\n\t\t{\r\n\t\t\tif ( !GStoreItemData.rgPersonalizedBundleData[ unBundleID ] && rgPageBundleData && rgPageBundleData.m_rgItems )\r\n\t\t\t{\r\n\t\t\t\tGStoreItemData.rgPersonalizedBundleData[ unBundleID ] = rgPageBundleData;\r\n\t\t\t}\r\n\r\n\t\t\tvar Bundle = GStoreItemData.rgPersonalizedBundleData[ unBundleID ];\r\n\t\t\tif ( !Bundle )\r\n\t\t\t\treturn null;\r\n\r\n\t\t\tvar BundleForUser = {\r\n\t\t\t\tm_nDiscountPct: Bundle.m_nDiscountPct,\r\n\t\t\t\tm_bMustPurchaseAsSet: Bundle.m_bMustPurchaseAsSet,\r\n\t\t\t\tm_cTotalItemsInBundle: Bundle.m_rgItems.length,\r\n\t\t\t\tm_bContainsDiscountedPackage: false,\r\n\t\t\t\tm_cUserItemsInBundle: 0,\r\n\t\t\t\tm_nPackageBasePriceInCents: 0,\r\n\t\t\t\tm_nFinalPriceInCents: 0,\r\n\t\t\t\tm_nFinalPriceInCentsWithBundleDiscount: 0,\r\n\t\t\t\tm_rgBundleItems: [],\r\n\t\t\t\tm_bIsCommercial: Bundle.m_bIsCommercial,\r\n\t\t\t\tm_bRestrictGifting: Bundle.m_bRestrictGifting\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var i = 0; i < Bundle.m_rgItems.length; i++ )\r\n\t\t\t{\r\n\t\t\t\tvar BundleItem = Bundle.m_rgItems[i];\r\n\t\t\t\tif ( !BundleItem.m_nPackageID || GDynamicStore.s_rgOwnedPackages[ BundleItem.m_nPackageID ] )\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\tif ( BundleItem.m_rgIncludedAppIDs.length )\r\n\t\t\t\t{\r\n\t\t\t\t\tif ( GDynamicStore.BAreAllAppsOwned( BundleItem.m_rgIncludedAppIDs, { bExcludeMasterSub: true } ) )\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tBundleForUser.m_bContainsDiscountedPackage |= BundleItem.m_bPackageDiscounted;\r\n\t\t\t\tBundleForUser.m_cUserItemsInBundle++;\r\n\t\t\t\tBundleForUser.m_nPackageBasePriceInCents += BundleItem.m_nBasePriceInCents;\r\n\t\t\t\tBundleForUser.m_nFinalPriceInCents += BundleItem.m_nFinalPriceInCents;\r\n\t\t\t\tBundleForUser.m_nFinalPriceInCentsWithBundleDiscount += BundleItem.m_nFinalPriceWithBundleDiscount;\r\n\t\t\t\tBundleForUser.m_rgBundleItems.push( BundleItem );\r\n\t\t\t}\r\n\r\n\t\t\t// fix the price\r\n\t\t\tBundleForUser.m_nFinalPriceInCentsWithBundleDiscount = GStoreItemData.CalculateCurrencyAppropriatePrice( BundleForUser.m_nFinalPriceInCentsWithBundleDiscount );\r\n\r\n\t\t\tGDynamicStore.s_rgPersonalizedBundleData[ unBundleID ] = BundleForUser;\r\n\t\t}\r\n\r\n\t\treturn GDynamicStore.s_rgPersonalizedBundleData[ unBundleID ];\r\n\t},\r\n\r\n\tUpdateDynamicBundleElements: function( Bundle, $El )\r\n\t{\r\n\r\n\t\tvar $CartBtn = $El.find('.btn_addtocart:not(.btn_packageinfo)' ).children();\r\n\t\tvar $DiscountBlocks = $El.find('.discount_block');\r\n\r\n\t\tif ( !Bundle.m_bIsCommercial && ( !Bundle.m_rgBundleItems.length || ( Bundle.m_bMustPurchaseAsSet && Bundle.m_cUserItemsInBundle < Bundle.m_cTotalItemsInBundle ) ) )\r\n\t\t{\r\n\t\t\tvar strTooltip = '该捆绑包无法在您的帐户上购买，因为您已经拥有所包含的全部物品。';\r\n\r\n\t\t\tif ( Bundle.m_bMustPurchaseAsSet && !Bundle.m_bRestrictGifting )\r\n\t\t\t{\r\n\t\t\t\tstrTooltip = '该优惠仅在一次性购买所有的 %s 件物品时可用。您仍能将此捆绑包当作礼物购买，赠与好友。'.replace(/%s/, Bundle.m_cTotalItemsInBundle);\r\n\t\t\t\t$CartBtn.find('span').text( '作为礼物购买' );\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t// completely owned \"complete the set\" bundle\r\n\t\t\t\t$DiscountBlocks.hide();\r\n\t\t\t\t$CartBtn.addClass('btn_disabled' ).attr( 'href', 'javascript:void(0)' );\r\n\t\t\t\t$CartBtn.parent().css( 'background', '#000000' );\r\n\t\t\t}\r\n\r\n\t\t\t$CartBtn.data('tooltip-text', strTooltip );\r\n\r\n\t\t}\r\n\t\telse if ( !Bundle.m_bMustPurchaseAsSet )\r\n\t\t{\r\n\t\t\tvar strFormattedFinalPrice = GStoreItemData.fnFormatCurrency( Bundle.m_nFinalPriceInCentsWithBundleDiscount );\r\n\t\t\t$DiscountBlocks.show();\r\n\r\n\t\t\t$DiscountBlocks.find('.discount_original_price' ).text( GStoreItemData.fnFormatCurrency( Bundle.m_nPackageBasePriceInCents ) );\r\n\t\t\tif ( !Bundle.m_bContainsDiscountedPackage )\r\n\t\t\t{\r\n\t\t\t\t$DiscountBlocks.addClass('no_discount');\r\n\t\t\t\t$DiscountBlocks.find('.discount_final_price' ).addClass('your_price' ).empty().append($J('<div/>', {'class': 'your_price_label'} ).text('您的价格：'), $J('<div/>' ).text( strFormattedFinalPrice ) );\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t$DiscountBlocks.removeClass('no_discount');\r\n\t\t\t\tvar nDiscountPct = Math.round( ( Bundle.m_nPackageBasePriceInCents - Bundle.m_nFinalPriceInCentsWithBundleDiscount ) / Bundle.m_nPackageBasePriceInCents * 100 );\r\n\t\t\t\t$DiscountBlocks.find('.discount_pct' ).text( '-' + nDiscountPct + '%' );\r\n\t\t\t\t$DiscountBlocks.find('.discount_final_price' ).removeClass('your_price').text( strFormattedFinalPrice );\r\n\t\t\t}\r\n\r\n\t\t\tif ( Bundle.m_nFinalPriceInCentsWithBundleDiscount == 0 && Bundle.m_cUserItemsInBundle )\r\n\t\t\t{\r\n\t\t\t\t// Complete the set bundle with only free items remaining\r\n\t\t\t\tvar $AddToAcctBtn = $El.find('.btn_addtoaccount' );\r\n\t\t\t\tif ( $AddToAcctBtn.length )\r\n\t\t\t\t{\r\n\t\t\t\t\t$CartBtn.hide();\r\n\t\t\t\t\t$AddToAcctBtn.show();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar $Description = $El.find('.package_contents');\r\n\t\tif ( $Description.length && $El.hasClass('dynamic_bundle_description') && !Bundle.m_bMustPurchaseAsSet )\r\n\t\t\tGDynamicStore.BuildBundleDescription( Bundle, $Description );\r\n\r\n\t\tif ( $El.is( '.package_totals_area' ) && !Bundle.m_bMustPurchaseAsSet )\r\n\t\t{\r\n\t\t\tif ( !Bundle.m_rgBundleItems.length )\r\n\t\t\t{\r\n\t\t\t\t$El.hide();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t$El.show();\r\n\t\t\t\tif ( Bundle.m_cUserItemsInBundle < Bundle.m_cTotalItemsInBundle )\r\n\t\t\t\t{\r\n\t\t\t\t\t$El.find('.bundle_final_package_price_desc' ).text( '您尚未拥有的 %s 件物品的单价为：'.replace( '%s', Bundle.m_cUserItemsInBundle ) );\r\n\t\t\t\t}\r\n\t\t\t\t$El.find('.bundle_final_package_price' ).text( GStoreItemData.fnFormatCurrency( Bundle.m_nFinalPriceInCents ) );\r\n\t\t\t\t$El.find('.bundle_final_price_with_discount' ).text( GStoreItemData.fnFormatCurrency( Bundle.m_nFinalPriceInCentsWithBundleDiscount ) );\r\n\t\t\t\t$El.find('.bundle_savings' ).text( GStoreItemData.fnFormatCurrency( Bundle.m_nFinalPriceInCents - Bundle.m_nFinalPriceInCentsWithBundleDiscount ) );\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tBuildBundleDescription: function( Bundle, $Description )\r\n\t{\r\n\t\tif ( Bundle.m_cUserItemsInBundle == 0 )\r\n\t\t{\r\n\t\t\t// already own everything\r\n\t\t\t$Description.html( '<span class=\"collectionComplete\">合集完成！</span>此合集中的 %1$s/%2$s 件物品已存在于您的库中。'.replace( '%1$s', Bundle.m_cTotalItemsInBundle ).replace( '%2$s', Bundle.m_cTotalItemsInBundle ) );\r\n\t\t}\r\n\t\telse if ( Bundle.m_cUserItemsInBundle < Bundle.m_cTotalItemsInBundle )\r\n\t\t{\r\n\t\t\t// own some but not all.\r\n\t\t\t$Description.html( '<div>该捆绑包中的 %1$s/%2$s 件物品已在您的库中。</div>'.replace( '%1$s', Bundle.m_cTotalItemsInBundle - Bundle.m_cUserItemsInBundle ).replace( '%2$s', Bundle.m_cTotalItemsInBundle ) );\r\n\t\t\t$Description.append( '<div>购买该捆绑包即可为您未拥有的 %2$s 件物品省 %1$s%%！</div>'.replace( '%1$s', Bundle.m_nDiscountPct ).replace( '%2$s', Bundle.m_cUserItemsInBundle ).replace( '%%', '%' ) );\r\n\r\n\t\t\t// add \"complete the set\" flag\r\n\t\t\t$Description.parents('.dynamic_bundle_description' ).append( $J('<div/>', {'class': 'ds_flag ds_completetheset'} ).text('完成您的合集！') );\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t$Description.html( '<div>购买此捆绑包，所有 %2$s 个项目立省 %1$s%%！</div>'.replace( '%1$s', Bundle.m_nDiscountPct ).replace( '%2$s', Bundle.m_cTotalItemsInBundle ).replace( '%%', '%' ) );\r\n\t\t}\r\n\r\n\t\tvar rgItemsWithCaps = [];\r\n\t\tfor ( var iBundleItem = 0; iBundleItem < Bundle.m_rgBundleItems.length; iBundleItem++ )\r\n\t\t{\r\n\t\t\tvar unPackageID = Bundle.m_rgBundleItems[iBundleItem].m_nPackageID;\r\n\t\t\tvar PackageData = GStoreItemData.rgPackageData[ unPackageID];\r\n\t\t\tif ( PackageData && PackageData.tiny_capsule )\r\n\t\t\t{\r\n\t\t\t\trgItemsWithCaps.push( unPackageID );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( rgItemsWithCaps.length )\r\n\t\t{\r\n\t\t\t// show no more than 9 items\r\n\t\t\trgItemsWithCaps = rgItemsWithCaps.slice( 0, 9 );\r\n\r\n\t\t\t// if there's more than 5 items, we overlap them a little bit on the display\r\n\t\t\tvar bNeedToCollapse = rgItemsWithCaps.length > 5;\r\n\t\t\tvar $BundleContentsCtn = $J('<div/>', {'class': 'bundle_contents_preview'} );\r\n\t\t\tif ( bNeedToCollapse )\r\n\t\t\t\t$BundleContentsCtn.addClass( 'collapsed' );\r\n\r\n\t\t\tvar $BundleContentsPosition = $J('<div/>', {'class': 'bundle_contents_preview_position'} );\r\n\t\t\tfor ( var i = 0; i < rgItemsWithCaps.length; i++ )\r\n\t\t\t{\r\n\t\t\t\tvar rgLinkParams = { 'class': 'bundle_contents_preview_item ds_collapse_flag' };\r\n\t\t\t\tvar Item = GStoreItemData.GetCapParams( 'bundle_component_preview', null, rgItemsWithCaps[i], null, rgLinkParams );\r\n\t\t\t\tvar $Link = $J('<a/>', rgLinkParams );\r\n\r\n\t\t\t\tvar $Img = $J('<img/>', {'src': Item.tiny_capsule, 'class': 'bundle_contents_preview_img' } );\r\n\t\t\t\tif ( i > 0 && bNeedToCollapse )\r\n\t\t\t\t{\r\n\t\t\t\t\tvar flPositionRight = 100 * i / rgItemsWithCaps.length;\r\n\t\t\t\t\t$Link.addClass( 'floated' ).css( 'left', flPositionRight + '%' ).css('z-index', (rgItemsWithCaps.length - i));\r\n\t\t\t\t}\r\n\t\t\t\t$BundleContentsPosition.append( $Link.append( $Img ) );\r\n\r\n\r\n\t\t\t\tGStoreItemData.BindHoverEvents( $Img.parent(), Item.appids.length == 1 ? Item.appids[0] : null, rgItemsWithCaps[i] );\r\n\t\t\t}\r\n\r\n\t\t\t$Description.append( $BundleContentsCtn.append($BundleContentsPosition) );\r\n\t\t\tGDynamicStore.DecorateDynamicItems( $BundleContentsCtn );\r\n\t\t}\r\n\t},\r\n\r\n\tPopulateRecommendedTagList: function()\r\n\t{\r\n\t\tvar $Element = $J('#foryou_yourtags');\r\n\t\tif ( !$Element.length )\r\n\t\t\treturn;\t// no menu\r\n\r\n\t\t$Element.empty();\r\n\t\t$Element.css( 'min-height', '' );\r\n\t\tfor( var i = 0; i < GDynamicStore.s_rgRecommendedTags.length && i < 5; i++ )\r\n\t\t{\r\n\t\t\tvar tag = GDynamicStore.s_rgRecommendedTags[i];\r\n\t\t\tvar url = 'https://store.steampowered.com/tags/zh-cn/' + encodeURIComponent( tag.name );\r\n\t\t\tvar $Link = $J('<a/>', {'class': 'popup_menu_item', 'href': GStoreItemData.AddNavEventParamsToURL( url, 'storemenu_recommendedtags' ) });\r\n\t\t\t$Link.text( tag.name );\r\n\t\t\t$Element.append( $Link );\r\n\t\t}\r\n\t},\r\n\r\n\tInvalidateCache: function()\r\n\t{\r\n\t\tWebStorage.SetLocal( 'unUserdataVersion', parseInt( WebStorage.GetLocal( 'unUserdataVersion' ) || 0 ) + 1 );\r\n\t},\r\n\r\n\tBIsAppOwned: function( appid, optsIn )\r\n\t{\r\n\t\tvar opts = { bExcludeIfAutoGrant: true, bExcludeMasterSub: false };\r\n\r\n\t\t\t\tif ( optsIn === false )\r\n\t\t\t$J.extend( opts, { bExcludeIfAutoGrant: false } );\r\n\t\telse if ( optsIn )\r\n\t\t\t$J.extend( opts, optsIn );\r\n\r\n\t\tif ( GDynamicStore.s_rgOwnedApps[appid] )\r\n\t\t{\r\n\t\t\tif ( opts.bExcludeIfAutoGrant && this.BIsAutoGrantedApp( appid ) )\r\n\t\t\t\treturn false;\r\n\r\n\t\t\tif ( opts.bExcludeMasterSub && this.BIsMasterSubApp( appid ) )\r\n\t\t\t\treturn false;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\tBIsAutoGrantedApp: function( appid )\r\n\t{\r\n\t\treturn GDynamicStore.s_rgAutoGrantApps[appid] ? true : false;\r\n\t},\r\n\r\n\tBIsMasterSubApp: function( appid )\r\n\t{\r\n\t\t// presence in s_rgMasterSubApps indicates the user owns the app via a subscription like EA Play\r\n\t\t// in some places we allow user to repurchase\r\n\t\treturn GDynamicStore.s_rgMasterSubApps[appid] ? true : false;\r\n\t},\r\n\r\n\tBIsPackageOwned: function( packageid )\r\n\t{\r\n\t\treturn GDynamicStore.s_rgOwnedPackages[packageid] ? true : false;\r\n\t},\r\n\r\n\tBIsAppIgnored: function( appid )\r\n\t{\r\n\t\treturn ( appid in GDynamicStore.s_rgIgnoredApps );\r\n\t},\r\n\r\n\tGetIgnoredAppCount: function( )\r\n\t{\r\n\t\treturn Object.keys(GDynamicStore.s_rgIgnoredApps).length;\r\n\t},\r\n\r\n\tGetExcludedTagsOverlap: function( $e )\r\n\t{\r\n\t\tvar rgOverlappingTagNames = [];\r\n\t\tvar rgTagIDs = $e.data( 'dsTagids' );\r\n\t\tif ( rgTagIDs && rgTagIDs.length > 0 )\r\n\t\t{\r\n\t\t\tfor ( var i = 0; i < rgTagIDs.length; ++i )\r\n\t\t\t{\r\n\t\t\t\tvar tagid = rgTagIDs[i];\r\n\t\t\t\tif ( GDynamicStore.s_rgExcludedTags[tagid] )\r\n\t\t\t\t{\r\n\t\t\t\t\trgOverlappingTagNames.push( GDynamicStore.s_rgExcludedTags[tagid] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn rgOverlappingTagNames;\r\n\t},\r\n\r\n\tGetExcludedContentDescriptorOverlap: function( $e )\r\n\t{\r\n\t\tvar rgOverlappingDescIDs = [];\r\n\t\tvar rgIDs = $e.data( 'dsDescids' );\r\n\t\tif ( rgIDs && rgIDs.length > 0 )\r\n\t\t{\r\n\t\t\tfor ( var i = 0; i < rgIDs.length; ++i )\r\n\t\t\t{\r\n\t\t\t\tvar id = rgIDs[i];\r\n\t\t\t\tif ( GDynamicStore.s_rgExcludedDescIDs[id] )\r\n\t\t\t\t{\r\n\t\t\t\t\trgOverlappingDescIDs.push( id );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn rgOverlappingDescIDs;\r\n\t},\r\n\r\n\tGetExcludedCreatorOverlap: function( $e )\r\n\t{\r\n\t\tvar rgOverlappingDescIDs = [];\r\n\t\tvar rgIDs = $e.data( 'dsCrtrids' );\r\n\t\tif ( rgIDs && rgIDs.length > 0 )\r\n\t\t{\r\n\t\t\tfor ( var i = 0; i < rgIDs.length; ++i )\r\n\t\t\t{\r\n\t\t\t\tvar id = rgIDs[i];\r\n\t\t\t\tif ( GDynamicStore.s_rgCreatorsIgnored[id] )\r\n\t\t\t\t{\r\n\t\t\t\t\trgOverlappingDescIDs.push( id );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn rgOverlappingDescIDs;\r\n\t},\r\n\r\n\tBIsAppOnWishlist: function( appid )\r\n\t{\r\n\t\treturn GDynamicStore.s_rgWishlist[appid] ? true: false;\r\n\t},\r\n\r\n\tBIsPackageIgnored: function( packageid )\r\n\t{\r\n\t\treturn ( packageid in GDynamicStore.s_rgIgnoredPackages );\r\n\t},\r\n\r\n\tGetCuratorForApp: function( unAppID, bOnlyPositive )\r\n\t{\r\n\t\tvar curator = null;\r\n\t\tif( GDynamicStore.s_rgCurations[unAppID] )\r\n\t\t{\r\n\t\t\tvar rgFilteredCuratorIDs = [];\r\n\t\t\t$J.each(GDynamicStore.s_rgCurations[unAppID], function( unCuratorID, unRecommendationState ){\r\n\t\t\t\tif( !bOnlyPositive || unRecommendationState == 0  )\r\n\t\t\t\t\trgFilteredCuratorIDs.push( unCuratorID );\r\n\t\t\t});\r\n\r\n\t\t\tif( rgFilteredCuratorIDs.length )\r\n\t\t\t{\r\n\t\t\t\tvar unCuratorID = rgFilteredCuratorIDs[ Math.floor( Math.random() * rgFilteredCuratorIDs.length ) ];\r\n\t\t\t\treturn {\r\n\t\t\t\t\t'recommendation_state': GDynamicStore.s_rgCurations[unAppID][unCuratorID],\r\n\t\t\t\t\t'curator': GDynamicStore.s_rgCurators[unCuratorID]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\r\n\tGetCurator: function( clanid )\r\n\t{\r\n\t\treturn GDynamicStore.s_rgCurators[ clanid ];\r\n\t},\r\n\r\n\tGetMatchingCreatorFollowed: function( rgAppCreatorRelationship )\r\n\t{\r\n\t\tif( GDynamicStore.s_rgCreatorsFollowed )\r\n\t\t{\r\n\t\t\tfor( var clanid in rgAppCreatorRelationship )\r\n\t\t\t{\r\n\t\t\t\tif( rgAppCreatorRelationship.hasOwnProperty( clanid ) && clanid in GDynamicStore.s_rgCreatorsFollowed )\r\n\t\t\t\t{\r\n\t\t\t\t\treturn { 'clanid': clanid, 'relationship': rgAppCreatorRelationship[clanid] }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\r\n\tBAreAllAppsOwned: function( rgAppIds, opts )\r\n\t{\r\n\t\tfor ( var i = 0; i < rgAppIds.length; i++ )\r\n\t\t{\r\n\t\t\tif ( !GDynamicStore.BIsAppOwned( rgAppIds[i], opts ) )\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t},\r\n\r\n\tDisplayBundleSimulator: function( unBundleID )\r\n\t{\r\n\t\tif ( !GDynamicStore.m_bLoadComplete )\r\n\t\t{\r\n\t\t\tGDynamicStore.OnReady( function() { GDynamicStore.DisplayBundleSimulator( unBundleID ) } );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar Bundle = GStoreItemData.rgPersonalizedBundleData[ unBundleID ];\r\n\t\tif ( !Bundle )\r\n\t\t{\r\n\t\t\tShowAlertDialog( '', 'Unknown bundle ID ' + unBundleID );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar $Form = $J('<form/>', {'class': 'bundle_simulator_form'});\r\n\t\t$Form.append( $J('<h2/>').text('标记物品为“已拥有”') );\r\n\t\t$Form.append( $J('<div/>', {'class': 'bundle_simulator_secondary' } ).append(\r\n\t\t\t$J('<a/>', {'href': 'javascript:void(0);'} ).click( function() { $Form.find('input').prop('checked', true ); } ).text( \"全选\" ),\r\n\t\t\t' - ',\r\n\t\t\t$J('<a/>', {'href': 'javascript:void(0);'} ).click( function() { $Form.find('input').prop('checked', false ); } ).text( \"全不选\" )\r\n\t\t) );\r\n\r\n\t\tfor ( var i =0; i < Bundle.m_rgItems.length; i++ )\r\n\t\t{\r\n\t\t\tvar BundleItem = Bundle.m_rgItems[i];\r\n\t\t\tvar id = 'bundle_check_' + i;\r\n\t\t\tvar nPackageID = BundleItem.m_nPackageID;\r\n\t\t\tvar rgAppIDs = BundleItem.m_rgIncludedAppIDs;\r\n\r\n\t\t\tvar $Row = $J('<div/>', {'class': 'bundle_simulator_row'} );\r\n\t\t\tvar $Checkbox = $J('<input/>', {type: 'checkbox', id: id } );\r\n\t\t\tif ( GDynamicStore.s_rgOwnedPackages[nPackageID] || ( rgAppIDs.length && GDynamicStore.BAreAllAppsOwned( rgAppIDs ) ) )\r\n\t\t\t\t$Checkbox.prop('checked', true);\r\n\r\n\t\t\t$Checkbox.data( 'BundleItem', BundleItem );\r\n\t\t\t$Row.append( $Checkbox );\r\n\r\n\t\t\tvar strLabel = GStoreItemData.rgPackageData[nPackageID].name;\r\n\t\t\tif ( rgAppIDs.length == 1 )\r\n\t\t\t\tstrLabel = GStoreItemData.rgAppData[rgAppIDs[0]].name;\r\n\t\t\t$Row.append( $J('<label/>', {'for': id } ).text( strLabel ) );\r\n\r\n\t\t\t$Form.append( $Row );\r\n\t\t}\r\n\r\n\t\tvar Modal;\r\n\r\n\t\tModal = ShowConfirmDialog( '', $Form, '更新显示' ).done( function() {\r\n\t\t\t$Form.find('input').each( function() {\r\n\t\t\t\tvar $Checkbox = $J(this);\r\n\t\t\t\tvar BundleItem = $Checkbox.data('BundleItem');\r\n\t\t\t\tvar nPackageID = BundleItem.m_nPackageID;\r\n\t\t\t\tvar rgAppIDs = BundleItem.m_rgIncludedAppIDs;\r\n\t\t\t\tif ( $Checkbox.prop('checked') )\r\n\t\t\t\t{\r\n\t\t\t\t\tGDynamicStore.s_rgOwnedPackages[nPackageID] = true;\r\n\t\t\t\t\tfor ( var i = 0; i < rgAppIDs.length; i++ )\r\n\t\t\t\t\t\tGDynamicStore.s_rgOwnedApps[rgAppIDs[i]] = true;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tdelete GDynamicStore.s_rgOwnedPackages[nPackageID];\r\n\t\t\t\t\tfor ( var i = 0; i < rgAppIDs.length; i++ )\r\n\t\t\t\t\t\tdelete GDynamicStore.s_rgOwnedApps[rgAppIDs[i]];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tGDynamicStore.s_rgPersonalizedBundleData = {};\r\n\t\t\t\tGDynamicStore.DecorateDynamicItems( null, true );\r\n\t\t\t});\r\n\t\t\tModal.GetContent().remove();\r\n\t\t});\r\n\t\tModal.SetRemoveContentOnDismissal( false );\r\n\t}\r\n};\r\n\r\nGStoreItemData = {\r\n\r\n\trgAppData: {},\r\n\trgPackageData: {},\r\n\trgBundleData: {},\r\n\trgPersonalizedBundleData: {},\r\n\trgAccountData: [],\r\n\trgNavParams: {},\r\n\t\tfnFormatCurrency: function( nValueInCents, bWholeNumbersOnly ) { return v_numberformat( nValueInCents / 100, bWholeNumbersOnly !== undefined ? bWholeNumbersOnly : false ); },\r\n\tnCurrencyMinPriceIncrement : 1,\r\n\r\n\tAddStoreItemDataSet: function( rgStoreItemData )\r\n\t{\r\n\t\tGStoreItemData.AddStoreItemData( rgStoreItemData.rgApps, rgStoreItemData.rgPackages, rgStoreItemData.rgBundles );\r\n\t},\r\n\r\n\t/**\r\n\t * @deprecated - use AddStoreItemDataSet instead\r\n\t */\r\n\tAddStoreItemData: function ( rgApps, rgPackages, rgBundles )\r\n\t{\r\n\t\tif ( rgApps && typeof rgApps.length == 'undefined' )\r\n\t\t{\r\n\t\t\tfor( var appid in rgApps )\r\n\t\t\t{\r\n\t\t\t\tif ( !GStoreItemData.rgAppData[appid] )\r\n\t\t\t\t\tGStoreItemData.rgAppData[appid] = rgApps[appid];\r\n\t\t\t\telse\r\n\t\t\t\t\tGStoreItemData.MergeStoreItemData( GStoreItemData.rgAppData[appid], rgApps[appid] );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( rgPackages && typeof rgPackages.length == 'undefined' )\r\n\t\t{\r\n\t\t\tfor( var packageid in rgPackages )\r\n\t\t\t{\r\n\t\t\t\tif ( !GStoreItemData.rgPackageData[packageid] )\r\n\t\t\t\t\tGStoreItemData.rgPackageData[packageid] = rgPackages[packageid];\r\n\t\t\t\telse\r\n\t\t\t\t\tGStoreItemData.MergeStoreItemData( GStoreItemData.rgPackageData[packageid], rgPackageData[packageid] );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( rgBundles && typeof rgBundles.length == 'undefined' )\r\n\t\t{\r\n\t\t\tfor( var bundleid in rgBundles )\r\n\t\t\t{\r\n\t\t\t\tif ( !GStoreItemData.rgBundleData[bundleid] )\r\n\t\t\t\t\tGStoreItemData.rgBundleData[bundleid] = rgBundles[bundleid];\r\n\t\t\t\telse\r\n\t\t\t\t\tGStoreItemData.MergeStoreItemData( GStoreItemData.rgBundleData[bundleid], rgBundles[bundleid] );\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tGetStoreItemDataForElement: function( $el )\r\n\t{\r\n\t\tvar unAppId = $el.data('ds-appid');\r\n\t\tvar unPackageID = $el.data('ds-packageid');\r\n\t\tvar unBundleID = $el.data('ds-bundleid' );\r\n\r\n\t\tif ( unBundleID && GStoreItemData.rgBundleData[unBundleID] )\r\n\t\t\treturn { bundleid: unBundleID, item: GStoreItemData.rgBundleData[unBundleID] };\r\n\r\n\t\tif( unPackageID && unPackageID.toString().indexOf(',') !== -1 )\r\n\t\t\tunPackageID = unPackageID.split(',')[0];\r\n\r\n\t\tif ( unPackageID && GStoreItemData.rgPackageData[unPackageID] )\r\n\t\t\treturn { packageid: unPackageID, item: GStoreItemData.rgPackageData[unPackageID] };\r\n\r\n\t\tif( unAppId && unAppId.toString().indexOf(',') !== -1 )\r\n\t\t\tunAppId = unAppId.split(',')[0];\r\n\r\n\t\tif ( unAppId && GStoreItemData.rgAppData[unAppId] )\r\n\t\t\treturn { appid: unAppId, item: GStoreItemData.rgAppData[unAppId] };\r\n\r\n\t\treturn { item: undefined };\r\n\t},\r\n\r\n\tAddStoreAccountData: function( rgAccounts )\r\n\t{\r\n\t\tif ( rgAccounts && rgAccounts.length > 0 )\r\n\t\t{\r\n\t\t\tfor ( var i = 0; i < rgAccounts.length; i++ )\r\n\t\t\t{\r\n\t\t\t\tGStoreItemData.rgAccountData.push( rgAccounts[i] );\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tGetAccountData: function( steamid, accountid, type )\r\n\t{\r\n\r\n\t\t// Assume individual account unless otherwise specified.\r\n\t\tif( !type )\r\n\t\t\ttype = 1;\r\n\r\n\t\t// Search for an accountid instead\r\n\t\tfor( var i = 0; i < GStoreItemData.rgAccountData.length; i++ )\r\n\t\t{\r\n\t\t\tvar account = GStoreItemData.rgAccountData[i];\r\n\r\n\t\t\tif( account.accountid == accountid && account.type == type )\r\n\t\t\t\treturn account;\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tSetCurrencyFormatter: function( fn )\r\n\t{\r\n\t\tGStoreItemData.fnFormatCurrency = fn;\r\n\t},\r\n\r\n\tSetCurrencyMinPriceIncrement: function( nMinPriceIncrement )\r\n\t{\r\n\t\tGStoreItemData.nCurrencyMinPriceIncrement = nMinPriceIncrement;\r\n\t},\r\n\r\n\tCalculateCurrencyAppropriatePrice: function( nPrice )\r\n\t{\r\n\t\tif ( GStoreItemData.nCurrencyMinPriceIncrement > 1 )\r\n\t\t{\r\n\t\t\tvar nRoundingAmount = GStoreItemData.nCurrencyMinPriceIncrement;\r\n\t\t\tvar dAmount = nPrice / nRoundingAmount;\r\n\t\t\t// round \"half away from zero\" - javascript Math.round rounds -1.5 to -1, which is not desired\r\n\t\t\tvar dSign = dAmount < 0 ? -1 : 1;\r\n\t\t\tdAmount = ( dSign * Math.floor( Math.abs( dAmount ) + 0.5 ) ) * nRoundingAmount;\r\n\t\t\tnPrice = dAmount;\r\n\t\t}\r\n\r\n\t\treturn nPrice;\r\n\t},\r\n\r\n\tMergeStoreItemData: function( rgExistingItemData, rgItemData )\r\n\t{\r\n\t\tfor( var key in rgItemData )\r\n\t\t{\r\n\t\t\tif ( !rgExistingItemData[key] )\r\n\t\t\t\trgExistingItemData[key] = rgItemData[key];\r\n\t\t}\r\n\t},\r\n\r\n\tAddNavParams: function( rgNavParams )\r\n\t{\r\n\t\tif ( rgNavParams )\r\n\t\t\t$J.extend( GStoreItemData.rgNavParams, rgNavParams );\r\n\t},\r\n\r\n\tAddNavEventParamsToURL: function( strURL, strFeatureContext, nDepth, nCuratorClanID )\r\n\t{\r\n\t\tvar strClanParam = nCuratorClanID ? 'curator_clanid=' + nCuratorClanID : '';\r\n\t\tif ( strFeatureContext )\r\n\t\t{\r\n\t\t\tif ( !GStoreItemData.rgNavParams[strFeatureContext] )\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t\tstrFeatureContext = '__page_default';\r\n\t\t\t}\r\n\r\n\t\t\tif ( GStoreItemData.rgNavParams[strFeatureContext] )\r\n\t\t\t{\r\n\t\t\t\tvar strNavParam = GStoreItemData.rgNavParams[strFeatureContext];\r\n\t\t\t\tif ( nDepth )\r\n\t\t\t\t\tstrNavParam += '_' + parseInt( nDepth );\r\n\r\n\t\t\t\tstrURL += ( strURL.indexOf( '?' ) != -1 ? '&' : '?' ) + 'snr=' + strNavParam;\r\n\t\t\t\tif( strClanParam )\r\n\t\t\t\t\tstrURL += '&' + strClanParam;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if( strClanParam )\r\n\t\t{\r\n\t\t\tstrURL += ( strURL.indexOf( '?' ) != -1 ? '&' : '?' ) + strClanParam;\r\n\t\t}\r\n\t\treturn strURL;\r\n\t},\r\n\r\n\tGetCurrentPageNavParams: function()\r\n\t{\r\n\t\t\t\treturn GStoreItemData.rgNavParams['__page_default'];\r\n\t},\r\n\r\n\tGetAppURL: function( unAppID, strFeatureContext, nDepth, nCuratorClanID)\r\n\t{\r\n\t\tif ( typeof GStoreItemData.rgAppData[ unAppID ] == 'object' && 'url_name' in GStoreItemData.rgAppData[ unAppID ] ) {\r\n\t\t\treturn GStoreItemData.AddNavEventParamsToURL( 'https://store.steampowered.com/app/' + unAppID + '/' + GStoreItemData.rgAppData[ unAppID ].url_name + '/', strFeatureContext, nDepth, nCuratorClanID )\r\n\t\t}\r\n\r\n\t\treturn GStoreItemData.AddNavEventParamsToURL( 'https://store.steampowered.com/app/' + unAppID + '/', strFeatureContext, nDepth, nCuratorClanID )\r\n\t},\r\n\r\n\tGetPackageURL: function( unPackageID, strFeatureContext, nDepth )\r\n\t{\r\n\t\treturn GStoreItemData.AddNavEventParamsToURL( 'https://store.steampowered.com/sub/' + unPackageID + '/', strFeatureContext, nDepth )\r\n\t},\r\n\r\n\tGetBundleURL: function( unBundleID, strFeatureContext, nDepth )\r\n\t{\r\n\t\treturn GStoreItemData.AddNavEventParamsToURL( 'https://store.steampowered.com/bundle/' + unBundleID + '/', strFeatureContext, nDepth )\r\n\t},\r\n\r\n\tGetHoverParams: function ( unAppID, unPackageID, unBundleID )\r\n\t{\r\n\t\tvar hoverparams;\r\n\r\n\t\tif ( unBundleID )\r\n\t\t\thoverparams = { type: 'bundle', id: unBundleID };\r\n\t\telse if ( unPackageID )\r\n\t\t\thoverparams = { type: 'sub', id: unPackageID };\r\n\t\telse if ( unAppID )\r\n\t\t\thoverparams = { type: 'app', id: unAppID };\r\n\t\telse\r\n\t\t\treturn null;\r\n\r\n\t\thoverparams.v6 = 1;\r\n\t\treturn hoverparams;\r\n\t},\r\n\r\n\tBindHoverEvents: function( $Element, unAppID, unPackageID, unBundleID, rgAdditionalParams )\r\n\t{\r\n\t\t$Element.mouseenter( function( event ) {\r\n\t\t\t\t\tGameHover( this, event, $J('#global_hover'), $J.extend( GStoreItemData.GetHoverParams( unAppID, unPackageID, unBundleID ), rgAdditionalParams || {}) );\r\n\t\t\t\t}).mouseleave( function( event ) {\r\n\t\t\t\t\tHideGameHover( this, event, $J('#global_hover') );\r\n\t\t\t\t});\r\n\t},\r\n\r\n\tBindHoverEventsForItem: function( $Element, oItem, rgAdditionalParams )\r\n\t{\r\n\t\treturn GStoreItemData.BindHoverEvents( $Element, oItem.appid, oItem.packageid, oItem.bundleid, rgAdditionalParams );\r\n\t},\r\n\r\n\tGetCapParamsForItem: function( strFeatureContext, rgItem, params, nDepth )\r\n\t{\r\n\t\treturn GStoreItemData.GetCapParams( strFeatureContext, rgItem.appid, rgItem.packageid, rgItem.bundleid, params, nDepth );\r\n\t},\r\n\r\n\tGetCapParams: function( strFeatureContext, unAppID, unPackageID, unBundleID, params, nDepth )\r\n\t{\r\n\t\tvar rgItemData = null;\r\n\t\tif( unAppID )\r\n\t\t\trgItemData = GStoreItemData.rgAppData[ unAppID ];\r\n\t\telse if( unPackageID )\r\n\t\t\trgItemData = GStoreItemData.rgPackageData[ unPackageID ];\r\n\t\telse if( unBundleID )\r\n\t\t\trgItemData = GStoreItemData.rgBundleData[ unBundleID ];\r\n\r\n\t\tif ( !rgItemData )\r\n\t\t\treturn null;\r\n\r\n\t\tif ( !unAppID && rgItemData['appids'] && rgItemData['appids'].length == 1 )\r\n\t\t{\r\n\t\t\tunAppID = rgItemData['appids'][0];\r\n\t\t}\r\n\r\n\t\tif ( unAppID )\r\n\t\t{\r\n\t\t\tparams['data-ds-appid'] = unAppID;\r\n\t\t\tparams[ 'href' ] = GStoreItemData.GetAppURL( unAppID, strFeatureContext, nDepth, params['curator_clanid'] );\r\n\r\n\t\t}\r\n\t\telse if ( unPackageID )\r\n\t\t{\r\n\t\t\tparams['data-ds-packageid'] = unPackageID;\r\n\t\t\tparams['href'] = GStoreItemData.GetPackageURL( unPackageID, strFeatureContext, nDepth );\r\n\t\t\tif ( rgItemData['appids'] )\r\n\t\t\t{\r\n\t\t\t\tparams['data-ds-appid'] = rgItemData['appids'].join( ',' );\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if ( unBundleID )\r\n\t\t{\r\n\t\t\tparams['data-ds-bundleid'] = unBundleID;\r\n\t\t\tparams['href'] = GStoreItemData.GetBundleURL( unBundleID, strFeatureContext, nDepth );\r\n\t\t\tif ( rgItemData['appids'] )\r\n\t\t\t{\r\n\t\t\t\tparams['data-ds-appid'] = rgItemData['appids'].join( ',' );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( rgItemData.tagids && rgItemData.tagids.length != 0 )\r\n\t\t{\r\n\t\t\tparams['data-ds-tagids'] = '[' + rgItemData['tagids'].join( ',' ) + ']';\r\n\t\t}\r\n\t\tif ( rgItemData.descids && rgItemData.descids.length != 0 )\r\n\t\t{\r\n\t\t\tparams['data-ds-descids'] = '[' + rgItemData['descids'].join( ',' ) + ']';\r\n\t\t}\r\n\r\n\t\t// override with item-specific URL\r\n\t\tif ( rgItemData.url )\r\n\t\t\tparams['href'] = GStoreItemData.AddNavEventParamsToURL( rgItemData.url, strFeatureContext, nDepth, params['curator_clanid'] );\r\n\r\n\t\treturn rgItemData;\r\n\t},\r\n\r\n\tBuildSupportedPlatformIcon: function( rgItemData )\r\n\t{\r\n\t\tvar strHTML = '';\r\n\t\tvar nPlatforms = 0;\r\n\r\n\t\tif ( rgItemData.video )\r\n\t\t{\r\n\t\t\tstrHTML += '<span class=\"platform_img streamingvideo\"></span>';\r\n\t\t}\r\n\t\telse if ( rgItemData.video360 )\r\n\t\t{\r\n\t\t\tstrHTML += '<span class=\"platform_img streaming360video\"></span>';\r\n\t\t}\r\n\t\telse if ( rgItemData.videoseries )\r\n\t\t{\r\n\t\t\tstrHTML += '<span class=\"platform_img streamingvideoseries\"></span>';\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif ( rgItemData.os_windows )\r\n\t\t\t{\r\n\t\t\t\tstrHTML += '<span class=\"platform_img win\"></span>';\r\n\t\t\t\tnPlatforms++;\r\n\t\t\t}\r\n\t\t\tif ( rgItemData.os_macos )\r\n\t\t\t{\r\n\t\t\t\tstrHTML += '<span class=\"platform_img mac\"></span>';\r\n\t\t\t\tnPlatforms++;\r\n\t\t\t}\r\n\t\t\tif ( rgItemData.os_linux )\r\n\t\t\t{\r\n\t\t\t\tstrHTML += '<span class=\"platform_img linux\"></span>';\r\n\t\t\t\tnPlatforms++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( rgItemData.vr_htcvive || rgItemData.vr_oculusrift || rgItemData.vr_razerosvr || rgItemData.vr_windowsmr )\r\n\t\t{\r\n\t\t\tstrHTML += '<span class=\"platform_img hmd_separator\"></span>';\r\n\r\n\t\t\tif ( rgItemData.vr_htcvive )\r\n\t\t\t{\r\n\t\t\t\tstrHTML += '<span class=\"platform_img htcvive\"></span>';\r\n\t\t\t}\r\n\t\t\tif ( rgItemData.vr_oculusrift )\r\n\t\t\t{\r\n\t\t\t\tstrHTML += '<span class=\"platform_img oculusrift\"></span>';\r\n\t\t\t}\r\n\t\t\tif ( rgItemData.vr_razerosvr )\r\n\t\t\t{\r\n\t\t\t\tstrHTML += '<span class=\"platform_img razerosvr\"></span>';\r\n\t\t\t}\r\n\t\t\tif ( rgItemData.vr_windowsmr )\r\n\t\t\t{\r\n\t\t\t\tstrHTML += '<span class=\"platform_img windowsmr\"></span>';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn strHTML;\r\n\r\n\t},\r\n\r\n\t// filtering\r\n\tFilterItemsForDisplay: function( rgItems, Settings, ApplicableSettings, cMaxItemsToDisplay, cMinItemsToDisplay )\r\n\t{\r\n\t\tvar rgStrictItems = [], rgGoodItems = [], rgOtherItems = [], rgBadItems = [];\r\n\r\n\t\tvar fnAnnotatePriority = function ( item, priority ) { return item; };\r\n\t\tif ( Settings.include_priority )\r\n\t\t\tfnAnnotatePriority = function ( item, priority ) { item.priority = priority; return item; };\r\n\r\n\t\tif ( !cMaxItemsToDisplay )\r\n\t\t\tcMaxItemsToDisplay = rgItems.length;\r\n\r\n\t\tfor ( var i = 0; i < rgItems.length; i++ )\r\n\t\t{\r\n\t\t\tvar oItem = rgItems[i];\r\n\t\t\tvar unAppID = null, unPackageID = null, unBundleID = null;\r\n\t\t\tif ( oItem instanceof Object )\r\n\t\t\t{\r\n\t\t\t\tif ( oItem.appid )\r\n\t\t\t\t\tunAppID = oItem.appid;\r\n\t\t\t\telse if ( oItem.packageid )\r\n\t\t\t\t\tunPackageID = oItem.packageid;\r\n\t\t\t\telse if ( oItem.bundleid )\r\n\t\t\t\t\tunBundleID = oItem.bundleid;\r\n\t\t\t}\r\n\r\n\t\t\tif ( unAppID )\r\n\t\t\t{\r\n\t\t\t\tif ( GStoreItemData.BAppPassesFilters( unAppID, Settings, ApplicableSettings, true ) )\r\n\t\t\t\t\trgStrictItems.push(oItem);\r\n\t\t\t\telse if ( GStoreItemData.BAppPassesFilters( unAppID, Settings, ApplicableSettings ) )\r\n\t\t\t\t\trgGoodItems.push(oItem);\r\n\t\t\t\telse if ( !GDynamicStore.BIsAppIgnored( unAppID ) )\r\n\t\t\t\t\trgOtherItems.push( oItem );\r\n\t\t\t\telse\r\n\t\t\t\t\trgBadItems.push( oItem );\r\n\t\t\t}\r\n\t\t\telse if ( unPackageID )\r\n\t\t\t{\r\n\t\t\t\tif ( GStoreItemData.BPackagePassesFilters( unPackageID, Settings, ApplicableSettings, true ) )\r\n\t\t\t\t\trgStrictItems.push( oItem );\r\n\t\t\t\telse if ( GStoreItemData.BPackagePassesFilters( unPackageID, Settings, ApplicableSettings ) )\r\n\t\t\t\t\trgGoodItems.push( oItem );\r\n\t\t\t\telse if ( !GDynamicStore.BIsPackageIgnored( unPackageID ) )\r\n\t\t\t\t\trgOtherItems.push( oItem );\r\n\t\t\t\telse\r\n\t\t\t\t\trgBadItems.push( oItem );\r\n\t\t\t}\r\n\t\t\telse if ( unBundleID )\r\n\t\t\t{\r\n\t\t\t\tif ( GStoreItemData.BBundlePassesFilters( unBundleID, Settings, ApplicableSettings, true ) )\r\n\t\t\t\t\trgStrictItems.push( oItem );\r\n\t\t\t\telse if ( GStoreItemData.BBundlePassesFilters( unBundleID, Settings, ApplicableSettings ) )\r\n\t\t\t\t\trgGoodItems.push( oItem );\r\n\t\t\t\telse\r\n\t\t\t\t\trgOtherItems.push( oItem );\r\n\t\t\t}\r\n\r\n\t\t\tif ( rgStrictItems.length >= cMaxItemsToDisplay)\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tif ( Settings.include_priority )\r\n\t\t\trgStrictItems.forEach( function( item ) { fnAnnotatePriority( item , 1 ); } );\r\n\r\n\t\tif ( cMinItemsToDisplay )\r\n\t\t{\r\n\t\t\tfor ( i = 0; rgStrictItems.length < cMinItemsToDisplay && i < rgGoodItems.length; i++ )\r\n\t\t\t{\r\n\t\t\t\trgStrictItems.push( fnAnnotatePriority( rgGoodItems[i], 2 ) );\r\n\t\t\t}\r\n\r\n\t\t\tif ( Settings.enforce_minimum )\r\n\t\t\t{\r\n\t\t\t\tfor ( i = 0; rgStrictItems.length < cMinItemsToDisplay && i < rgOtherItems.length; i++ )\r\n\t\t\t\t\trgStrictItems.push( fnAnnotatePriority( rgOtherItems[i], 3 ) );\r\n\r\n\t\t\t\tfor ( i = 0; rgStrictItems.length < cMinItemsToDisplay && i < rgBadItems.length; i++ )\r\n\t\t\t\t\trgStrictItems.push( fnAnnotatePriority( rgBadItems[i], 4 ) );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn rgStrictItems;\r\n\t},\r\n\r\n\r\n\tBItemPassesFilters: function( rgItemData, Settings, ApplicableSettings )\r\n\t{\r\n\t\tif ( ApplicableSettings.only_current_platform && Settings.only_current_platform )\r\n\t\t{\r\n\r\n\t\t\tif (\t( !GDynamicStore.s_bUserOnMacOS || ( GDynamicStore.s_bUserOnMacOS && !rgItemData.os_macos ) ) &&\r\n\t\t\t\t\t( !GDynamicStore.s_bUserOnLinux || ( GDynamicStore.s_bUserOnLinux && !rgItemData.os_linux ) ) &&\r\n\t\t\t\t\t( !GDynamicStore.s_bUserOnWindows || ( GDynamicStore.s_bUserOnWindows && !rgItemData.os_windows ) &&\r\n\t\t\t\t\t( GDynamicStore.s_bUserOnWindows || GDynamicStore.s_bUserOnMacOS || GDynamicStore.s_bUserOnLinux ) )\r\n\t\t\t\t)\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif ( rgItemData.coming_soon && ApplicableSettings.prepurchase && !Settings.prepurchase )\r\n\t\t\treturn false;\r\n\r\n\t\treturn true;\r\n\t},\r\n\r\n\tBAppPassesFilters: function( appid, Settings, ApplicableSettings, bStrict )\r\n\t{\r\n\t\tvar rgAppData = GStoreItemData.rgAppData[appid];\r\n\r\n\t\tif ( !rgAppData )\r\n\t\t\treturn false;\r\n\t\t// TODO: score based on filter misses and sort by score?\r\n\r\n\t\tif ( !GStoreItemData.BItemPassesFilters( rgAppData, Settings, ApplicableSettings ) )\r\n\t\t\treturn false;\r\n\r\n\t\tif ( GDynamicStore.BIsAppIgnored( appid ) )\r\n\t\t\treturn false;\r\n\r\n\t\tif ( rgAppData.early_access && ApplicableSettings.early_access && !Settings.early_access )\r\n\t\t\treturn false;\r\n\r\n\t\tif ( rgAppData.software && ApplicableSettings.software && !Settings.software )\r\n\t\t\treturn false;\r\n\r\n\t\tif ( rgAppData.dlc && ( ( ApplicableSettings.dlc && !Settings.dlc ) ||\r\n\t\t\t( ApplicableSettings.dlc_for_you && ( !Settings.dlc_for_you || !rgAppData.dlc_for_app || !GDynamicStore.BIsAppOwned( rgAppData.dlc_for_app, false ) ) ) ) )\r\n\t\t\treturn false;\r\n\r\n\t\tif ( ApplicableSettings.games_already_in_library && !Settings.games_already_in_library && GDynamicStore.BIsAppOwned( appid ) )\r\n\t\t\treturn false;\r\n\r\n\t\tif ( ApplicableSettings.games_not_in_library && !Settings.games_not_in_library && !GDynamicStore.BIsAppOwned( appid ) )\r\n\t\t\treturn false;\r\n\r\n\t\tif ( rgAppData.video && ApplicableSettings.video && !Settings.video )\r\n\t\t\treturn false;\r\n\r\n\t\tif ( bStrict && !rgAppData.localized && ApplicableSettings.localized && Settings.localized )\r\n\t\t\treturn false;\r\n\r\n\t\tif ( bStrict && ApplicableSettings.displayed_elsewhere && !Settings.displayed_elsewhere && GDynamicStore.s_rgDisplayedApps.indexOf( appid ) !== -1 )\r\n\t\t\treturn false;\r\n\r\n\t\tif ( rgAppData.virtual_reality && ApplicableSettings.virtual_reality && !Settings.virtual_reality )\r\n\t\t\treturn false;\r\n\r\n\t\tif ( ApplicableSettings.not_wishlisted && !Settings.not_wishlished && GDynamicStore.BIsAppOnWishlist( appid ) )\r\n\t\t    return false;\r\n\r\n\t\tif ( ApplicableSettings.has_discount && Settings.has_discount )\r\n\t\t{\r\n\t\t    if ( !rgAppData.discount_block || rgAppData.discount_block.includes('no_discount') )\r\n\t\t    {\r\n\t\t        return false;\r\n\t\t    }\r\n        }\r\n\r\n        if ( rgAppData.demo_for_app )\r\n\t\t{\r\n\t\t\t// skip demos for games that are already owned\r\n\t\t\tif ( ApplicableSettings.games_already_in_library && !Settings.games_already_in_library && GDynamicStore.BIsAppOwned( rgAppData.demo_for_app ) )\r\n\t\t\t\treturn false;\r\n\r\n\t\t\tif ( bStrict && ApplicableSettings.displayed_elsewhere && !Settings.displayed_elsewhere && GDynamicStore.s_rgDisplayedApps.indexOf( rgAppData.demo_for_app ) !== -1 )\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif ( rgAppData.tagids && rgAppData.tagids.length != 0 )\r\n\t\t{\r\n\t\t\tfor ( var i = 0; i < rgAppData.tagids.length; ++i )\r\n\t\t\t{\r\n\t\t\t\tvar tagid = rgAppData.tagids[i];\r\n\t\t\t\tif ( GDynamicStore.s_rgExcludedTags[tagid] )\r\n\t\t\t\t{\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( rgAppData.descids && rgAppData.descids.length != 0 )\r\n\t\t{\r\n\t\t\tfor ( var i = 0; i < rgAppData.descids.length; ++i )\r\n\t\t\t{\r\n\t\t\t\tvar id = rgAppData.descids[i];\r\n\t\t\t\tif ( GDynamicStore.s_rgExcludedDescIDs[id] )\r\n\t\t\t\t{\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// If a non-empty list of explicit tag exclusions is specified, reject apps with one of those tags\r\n\t\tif ( ApplicableSettings.explicitly_excluded_tags && Settings.explicitly_excluded_tags.length > 0 && rgAppData.tagids )\r\n\t\t{\r\n\t\t\tfor ( var i = 0; i < rgAppData.tagids.length; ++i )\r\n\t\t\t{\r\n\t\t\t\tvar tagid = rgAppData.tagids[i];\r\n\t\t\t\tif ( Settings.explicitly_excluded_tags.includes( tagid ) )\r\n\t\t\t\t{\r\n\t\t\t\t    return false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// If a non-empty list of explicit tag inclusions is specified, reject apps which don't have one of those tags\r\n\t\tif ( ApplicableSettings.explicitly_included_tags && Settings.explicitly_included_tags.length > 0 )\r\n\t\t{\r\n\t\t    if ( !rgAppData.tagids )\r\n\t\t    {\r\n\t\t        return false;\r\n\t\t    }\r\n\r\n\t\t    for ( var i = 0; i < Settings.explicitly_included_tags.length; ++i )\r\n\t\t    {\r\n\t\t        var tagid = Settings.explicitly_included_tags[i];\r\n\t\t        if ( !rgAppData.tagids.includes( tagid ) )\r\n\t\t        {\r\n\t\t            return false;\r\n\t\t        }\r\n\t\t    }\r\n\t\t}\r\n\r\n\t\tif ( rgAppData.no_main_cap )\r\n\t\t\treturn false;\r\n\r\n\t\treturn true;\r\n\t},\r\n\r\n\tBPackagePassesFilters: function( packageid, Settings, ApplicableSettings, bStrict )\r\n\t{\r\n\t\tvar rgPackageData = GStoreItemData.rgPackageData[ packageid ];\r\n\t\tif ( !rgPackageData )\r\n\t\t\treturn false;\r\n\r\n\t\tif ( !GStoreItemData.BItemPassesFilters( rgPackageData, Settings, ApplicableSettings, bStrict ) )\r\n\t\t\treturn false;\r\n\r\n\t\tif ( !GStoreItemData.BAppIDSetPassesFilters( rgPackageData.appids, Settings, ApplicableSettings, bStrict ) )\r\n\t\t\treturn false;\r\n\r\n\t\tif ( ApplicableSettings.games_already_in_library && !Settings.games_already_in_library && GDynamicStore.BIsPackageOwned( packageid ) )\r\n\t\t\treturn false;\r\n\r\n\t\tif ( GDynamicStore.BIsPackageIgnored( packageid ) )\r\n\t\t\treturn false;\r\n\r\n\t\treturn true;\r\n\t},\r\n\r\n\tBBundlePassesFilters: function( bundleid, Settings, ApplicableSettings, bStrict )\r\n\t{\r\n\t\tvar rgBundleData = GStoreItemData.rgBundleData[ bundleid ];\r\n\r\n\t\tif ( !rgBundleData )\r\n\t\t\treturn false;\r\n\r\n\t\tif( !GStoreItemData.BItemPassesFilters( rgBundleData, Settings, ApplicableSettings, bStrict ) )\r\n\t\t\treturn false;\r\n\r\n\t\tif ( !GStoreItemData.BAppIDSetPassesFilters( rgBundleData.appids, Settings, ApplicableSettings, bStrict ) )\r\n\t\t\treturn false;\r\n\r\n\r\n\t\treturn true;\r\n\t},\r\n\r\n\tBAppIDSetPassesFilters: function( appids, Settings, ApplicableSettings, bStrict )\r\n\t{\r\n\t\t// figure out state of apps\r\n\t\tvar bAnyAppsOwned = false;\r\n\t\tfor ( var i = 0; i < appids.length; i++ )\r\n\t\t{\r\n\t\t\tif ( GDynamicStore.BIsAppIgnored( appids[i] ) )\r\n\t\t\t\treturn false;\r\n\r\n\t\t\tif ( GDynamicStore.BIsAppOwned( appids[i] ) )\r\n\t\t\t{\r\n\t\t\t\tbAnyAppsOwned = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( ApplicableSettings.games_already_in_library && !Settings.games_already_in_library )\r\n\t\t{\r\n\t\t\t// any app being owned excludes the package; packages don't grant extra copies (usually)\r\n\t\t\tif ( bAnyAppsOwned )\r\n\t\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t\tif ( ApplicableSettings.games_not_in_library && !Settings.games_not_in_library )\r\n\t\t{\r\n\t\t\tif ( !bAnyAppsOwned )\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t},\r\n\r\n};\r\n\r\nvar GDynamicStoreHelpers = {\r\n\r\n\tBuildCapsuleHTML: function( strFeatureContext, unAppID, unPackageID, unBundleID, rgOptions )\r\n\t{\r\n\t\tvar rgOptions = $J.extend({\r\n\t\t\t'class': 'store_capsule',\r\n\t\t\t'include_title': false,\r\n\t\t\t'discount_class': 'discount_block_inline',\r\n\t\t\t'capsule_size': 'headerv5',\r\n\t\t\t'html_before_price': '',\r\n\t\t\t'lazy': false,\r\n\t\t\t'curator': false\r\n\t\t}, rgOptions ? rgOptions : {} );\r\n\r\n\t\tvar params = { 'class': rgOptions.class };\r\n\t\tif( rgOptions.curator )\r\n\t\t\tparams['curator_clanid'] =  rgOptions.curator\r\n\t\tvar rgItemData = GStoreItemData.GetCapParams( strFeatureContext, unAppID, unPackageID, unBundleID, params );\r\n\t\tif ( !rgItemData )\r\n\t\t{\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tvar $CapCtn = $J('<a/>', params );\r\n\r\n\t\tif ( !rgOptions.no_hover )\r\n\t\t\tGStoreItemData.BindHoverEvents( $CapCtn, unAppID, unPackageID );\r\n\r\n\t\tvar $ImgCtn = $J('<div class=\"capsule\"/>').addClass( rgOptions.capsule_size );\r\n\r\n\t\tvar rgImageProperties = { src: rgItemData[rgOptions.capsule_size] };\r\n\t\tif( rgOptions.lazy )\r\n\t\t\trgImageProperties = { 'data-image-url': rgItemData[rgOptions.capsule_size] }\r\n\r\n\t\t$ImgCtn.append( $J('<img/>', rgImageProperties ) );\r\n\t\t$CapCtn.append( $ImgCtn );\r\n\t\tif( rgOptions.include_title )\r\n\t\t\t$CapCtn.append( $J('<div/>', {'class': 'title ellipsis' } ).html( rgItemData.name ) );\r\n\r\n\t\tif( rgOptions.html_before_price )\r\n\t\t\t$CapCtn.append( rgOptions.html_before_price );\r\n\r\n\t\tif( rgItemData.has_live_broadcast )\r\n\t\t\t$CapCtn.append( $J( '<div>').addClass( 'broadcast_live_stream_icon' ).append( '直播' ) );\r\n\r\n\t\t$CapCtn.append( $J('<div/>').html( rgItemData.discount_block ? $J(rgItemData.discount_block).addClass( rgOptions.discount_class ) : '&nbsp;' ) );\r\n\r\n\t\treturn $CapCtn;\r\n\t},\r\n\r\n\tFillPagedCapsuleCarousel: function( rgCapsules, $elTarget, fnCapsule, strNavContext, nCapsules, rgBaseOptions )\r\n\t{\r\n\t\tvar $elCapsuleTarget = $J('.carousel_items', $elTarget);\r\n\t\tvar $elThumbTarget = $J('.carousel_thumbs', $elTarget);\r\n\r\n\t\tvar bPaginated = !$elCapsuleTarget.hasClass('no_paging');\r\n\r\n\t\tif ( !bPaginated )\r\n\t\t\tnCapsules = rgCapsules.length;\r\n\r\n\t\t\t\tif( rgCapsules.length < nCapsules )\r\n\t\t\treturn;\r\n\r\n\t\tfor( var j=0; j<rgCapsules.length; j+=nCapsules )\r\n\t\t{\r\n\t\t\t// Try to avoid half-filling a page\r\n\t\t\tif( j > 0 && j+nCapsules > rgCapsules.length && bPaginated )\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tvar $elPageContainer = $J('<div>');\r\n\t\t\tfor( var k=0; k < nCapsules && k + j < rgCapsules.length; k++ )\r\n\t\t\t{\r\n\t\t\t\tvar oItem = rgCapsules[ k + j ];\r\n\t\t\t\tvar rgOptions = $J.extend({}, rgBaseOptions);\r\n\t\t\t\tif( j > 0 )\r\n\t\t\t\t\trgOptions.lazy = true;\r\n\t\t\t\tvar $CapCtn = fnCapsule( oItem, strNavContext, rgOptions );\r\n\t\t\t\tif( !$CapCtn )\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t// Don't try to do automatic visibilty tracking on non-visible clusters.\r\n\t\t\t\tif( j > 0 )\r\n\t\t\t\t\t$CapCtn.attr('data-manual-tracking', 1);\r\n\r\n\t\t\t\t$elPageContainer.append( $CapCtn );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t$elCapsuleTarget.append($elPageContainer);\r\n\r\n\t\t\tif ( bPaginated )\r\n\t\t\t{\r\n\t\t\t\t$elThumbTarget.append($J('<div/>'));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( $elCapsuleTarget.children().length > 0 )\r\n\t\t{\r\n\t\t\t$elCapsuleTarget.InstrumentLinks();\r\n\t\t\tGDynamicStore.DecorateDynamicItems( $elCapsuleTarget );\r\n\t\t\t$elTarget.show();\r\n\t\t}\r\n\r\n\t\tif ( bPaginated )\r\n\t\t\tCreateFadingCarousel( $elTarget, 0 );\r\n\t},\r\n\r\n\tAddSNRDepthParamsToCapsuleList: function( $Capsules )\r\n\t{\r\n\t\tvar nDepth = 1;\r\n\t\t$Capsules.filter('a:visible').each( function() {\r\n\t\t\tModifyLinkSNR( $J(this), function( snr ) {\r\n\t\t\t\tvar rgParts = snr.split('_');\r\n\t\t\t\trgParts[5] = nDepth++;\r\n\t\t\t\treturn rgParts.join('_');\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n};\r\n\r\nfunction OnDynamicStorePageException(e)\r\n{\r\n\t}\r\n\r\nGDynamicStorePage = {\r\n\toSettings: {},\r\n\toApplicableSettings: {\"main_cluster\":{\"top_sellers\":true,\"early_access\":true,\"games_already_in_library\":true,\"recommended_for_you\":true,\"prepurchase\":true,\"games\":\"always\",\"software\":true,\"dlc_for_you\":true,\"dlc\":null,\"recently_viewed\":null,\"new_on_steam\":null,\"popular_new_releases\":\"always\",\"games_not_in_library\":null,\"only_current_platform\":true,\"video\":true,\"localized\":true,\"virtual_reality\":true,\"recommended_by_curators\":true,\"hidden\":null},\"new_on_steam\":{\"top_sellers\":null,\"early_access\":true,\"games_already_in_library\":true,\"recommended_for_you\":null,\"prepurchase\":null,\"games\":\"always\",\"software\":true,\"dlc_for_you\":null,\"dlc\":null,\"recently_viewed\":null,\"new_on_steam\":null,\"popular_new_releases\":null,\"games_not_in_library\":null,\"only_current_platform\":true,\"video\":true,\"localized\":true,\"virtual_reality\":true,\"recommended_by_curators\":null,\"hidden\":null},\"recently_updated\":{\"top_sellers\":null,\"early_access\":true,\"games_already_in_library\":null,\"recommended_for_you\":null,\"prepurchase\":null,\"games\":\"always\",\"software\":true,\"dlc_for_you\":null,\"dlc\":null,\"recently_viewed\":null,\"new_on_steam\":null,\"popular_new_releases\":null,\"games_not_in_library\":true,\"only_current_platform\":true,\"video\":true,\"localized\":true,\"virtual_reality\":true,\"recommended_by_curators\":null,\"hidden\":null},\"tabs\":null,\"specials\":null,\"more_recommendations\":null,\"friend_recommendations\":null,\"curators\":{\"top_sellers\":null,\"early_access\":true,\"games_already_in_library\":true,\"recommended_for_you\":null,\"prepurchase\":null,\"games\":\"always\",\"software\":true,\"dlc_for_you\":null,\"dlc\":null,\"recently_viewed\":null,\"new_on_steam\":null,\"popular_new_releases\":null,\"games_not_in_library\":null,\"only_current_platform\":true,\"video\":true,\"localized\":true,\"virtual_reality\":true,\"recommended_by_curators\":null,\"hidden\":null},\"home\":{\"top_sellers\":null,\"early_access\":true,\"games_already_in_library\":null,\"recommended_for_you\":null,\"prepurchase\":true,\"games\":null,\"software\":true,\"dlc_for_you\":null,\"dlc\":null,\"recently_viewed\":null,\"new_on_steam\":null,\"popular_new_releases\":null,\"games_not_in_library\":null,\"only_current_platform\":null,\"video\":true,\"localized\":null,\"virtual_reality\":true,\"recommended_by_curators\":null,\"hidden\":null}},\r\n\r\n\tInitUserData: function( rgParams )\r\n\t{\r\n\t\ttry {\r\n\t\t\tGDynamicStorePage.oSettings = rgParams.oSettings;\r\n\t\t} catch( e ) { OnDynamicStorePageException(e); }\r\n\t},\r\n\r\n\tItemIDFromCapsule: function( $capsule )\r\n\t{\r\n\t\tvar unPackageId = $capsule.data('ds-packageid');\r\n\t\tvar unBundleId = $capsule.data('ds-bundleid');\r\n\t\tvar unAppId = $capsule.data('ds-appid');\r\n\r\n\t\t// bundles set package and appids, packages set appids, so start from the outside and work down.\r\n\t\tif ( unBundleId )\r\n\t\t\treturn { bundleid: unBundleId };\r\n\t\telse if ( unPackageId)\r\n\t\t\treturn { packageid: unPackageId };\r\n\t\telse if ( unAppId )\r\n\t\t\treturn { appid: unAppId };\r\n\r\n\t\treturn null;\r\n\t},\r\n\r\n\tBItemValid: function( item, oShownItems, opts )\r\n\t{\r\n\t\tvar unAppId = item.appid;\r\n\r\n\t\tif( unAppId )\r\n\t\t{\r\n\t\t\tvar rgAppIds = [ unAppId ];\r\n\t\t\tif( unAppId.toString().indexOf(',') !== -1 )\r\n\t\t\t{\r\n\t\t\t\trgAppIds = unAppId.toString().split( ',' );\r\n\t\t\t\tunAppId = rgAppIds[0];\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var i = 0; i < rgAppIds.length; i++ )\r\n\t\t\t{\r\n\t\t\t\tif ( oShownItems.rgAppIds.indexOf( rgAppIds[i] ) !== -1 )\r\n\t\t\t\t{\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( opts && opts.filter_dlc )\r\n\t\t\t{\r\n\t\t\t\tvar rgAppData = GStoreItemData.rgAppData[unAppId];\r\n\r\n\t\t\t\t// Treat DLC as the base app; so we either show the DLC or the base game; but only one (and whichever is in top position).\r\n\t\t\t\t// If the user owns the base game already, only show the DLC\r\n\t\t\t\tif ( rgAppData && rgAppData.dlc_for_app )\r\n\t\t\t\t{\r\n\t\t\t\t\tif ( !GDynamicStore.BIsAppOwned( rgAppData.dlc_for_app, false ) )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\toShownItems.rgAppIds.push( rgAppData.dlc_for_app );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var i = 0; i < rgAppIds.length; i++ )\r\n\t\t\t\toShownItems.rgAppIds.push( rgAppIds[i] );\r\n\t\t}\r\n\r\n\t\tif ( item.packageid )\r\n\t\t{\r\n\t\t\tif ( oShownItems.rgPackageIds.indexOf( item.packageid ) !== -1 )\r\n\t\t\t\treturn false;\r\n\r\n\t\t\toShownItems.rgPackageIds.push( item.packageid );\r\n\t\t}\r\n\r\n\t\tif ( item.bundleid )\r\n\t\t{\r\n\t\t\tif ( oShownItems.rgBundleIds.indexOf( item.bundleid ) !== -1 )\r\n\t\t\t\treturn false;\r\n\r\n\t\t\toShownItems.rgBundleIds.push( item.bundleid );\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t},\r\n\r\n\tFilterCapsules: function( nMin, nMax, $elElements, $elContainer, rgFilterParams )\r\n\t{\r\n\t\t// Get a list of appids to filter\r\n\t\tvar rgItems = [];\r\n\t\tvar oShownItems = { rgAppIds: [], rgPackageIds: [], rgBundleIds: [] };\r\n\r\n\t\t// Remove duplicates or DLC from the list\r\n\t\tfor( var i = 0; i < $elElements.length; i++ )\r\n\t\t{\r\n\t\t\tvar $capsule = $J( $elElements[i] );\r\n\t\t\tvar item = GDynamicStorePage.ItemIDFromCapsule( $capsule );\r\n\t\t\tif ( !item )\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tif ( GDynamicStorePage.BItemValid( item, oShownItems, { filter_dlc: true } ) )\r\n\t\t\t\trgItems.push( item );\r\n\t\t\telse\r\n\t\t\t\t$capsule.remove();\r\n\t\t}\r\n\r\n\t\t// Filter\r\n\t\tvar rgFilteredItems = this.FilterItemsForDisplay(\r\n\t\t\trgItems, 'home', nMin, nMax, rgFilterParams\r\n\t\t);\r\n\r\n\t\t// Now follow filters as long we we can keep 4 items in the capsule\r\n\t\tfor( var i = 0; i < $elElements.length; i++ )\r\n\t\t{\r\n\t\t\tvar $capsule = $J( $elElements[i] );\r\n\t\t\tvar item = GDynamicStorePage.ItemIDFromCapsule( $capsule );\r\n\t\t\tif ( !item )\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t// Test our filtered list\r\n\t\t\tvar bVisible = false;\r\n\t\t\tif ( this.GetItemFromList( item, rgFilteredItems ) )\r\n\t\t\t\tbVisible = true;\r\n\r\n\t\t\tif( bVisible )\r\n\t\t\t{\r\n\t\t\t\t$capsule.removeClass('hidden');\r\n\t\t\t\t$capsule.parent().append( $capsule );\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\t$capsule.remove();\r\n\t\t}\r\n\r\n\t\tGDynamicStoreHelpers.AddSNRDepthParamsToCapsuleList( $elElements );\r\n\r\n\t\t$elElements.parent().trigger('v_contentschanged');\r\n\r\n\t\t//if( nCapsules < nMin && $elContainer )\r\n\t\t//\t$elContainer.hide();\r\n\t},\r\n\r\n\tGetItemFromList: function( oItem, rgList )\r\n\t{\r\n\t\tif( rgList )\r\n\t\t{\r\n\t\t\tfor ( var i = 0; i < rgList.length; i++ )\r\n\t\t\t{\r\n\t\t\t\tif ( oItem.bundleid && rgList[i].bundleid == oItem.bundleid )\r\n\t\t\t\t{\r\n\t\t\t\t\treturn rgList[i];\r\n\t\t\t\t}\r\n\t\t\t\telse if ( oItem.packageid && rgList[i].packageid == oItem.packageid )\r\n\t\t\t\t{\r\n\t\t\t\t\treturn rgList[i];\r\n\t\t\t\t}\r\n\t\t\t\telse if ( oItem.appid && rgList[i].appid == oItem.appid )\r\n\t\t\t\t{\r\n\t\t\t\t\treturn rgList[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\r\n\tFilterItemsForDisplay: function( rgItems, strSettingsName, cMinItemsToDisplay, cMaxItemsToDisplay, rgAdditionalSettings )\r\n\t{\r\n\t\tvar Settings = this.oSettings[strSettingsName] || {};\r\n\t\tvar ApplicableSettings = this.oApplicableSettings[strSettingsName] || {};\r\n\r\n\t\t// Allow sections to have additional, section-specific settings. We'll use jQuery to shallow copy the settings\r\n\t\t// object so we don't pollute future calls.\r\n\t\tif( rgAdditionalSettings )\r\n\t\t{\r\n\t\t\tSettings = jQuery.extend({}, Settings, rgAdditionalSettings);\r\n\r\n\t\t\t// Ensure our feature is turned on as an applicable setting\r\n\t\t\tfor( var strKey in rgAdditionalSettings )\r\n\t\t\t\trgAdditionalSettings[strKey] = true;\r\n\r\n\t\t\tApplicableSettings = jQuery.extend({}, ApplicableSettings, rgAdditionalSettings);\r\n\t\t}\r\n\r\n\t\tif ( !cMaxItemsToDisplay )\r\n\t\t\tcMaxItemsToDisplay = cMinItemsToDisplay;\r\n\r\n\t\treturn GStoreItemData.FilterItemsForDisplay( rgItems, Settings, ApplicableSettings, cMaxItemsToDisplay, cMinItemsToDisplay )\r\n\t},\r\n\r\n\tFilterAndPrioritizeCapsules: function( rgCapsules, strPriorityListKey, strSettingsName, AdditionalSettings, oShownItems, cMinItemsToDisplay )\r\n\t{\r\n\t\t// initialize the shown item list\r\n\t\tif ( !oShownItems.rgAppIds )\r\n\t\t\t$J.extend( oShownItems, { rgAppIds: [], rgPackageIds: [], rgBundleIds: [] }, oShownItems );\r\n\r\n\t\tvar rgPriorityList = g_rgAppPriorityLists[strPriorityListKey] || [];\r\n\t\tvar rgItems = [];\r\n\t\tvar rgUnidentifiedCaps = [];\r\n\r\n\t\tfor ( var i = 0; i < rgCapsules.length; i++ )\r\n\t\t{\r\n\t\t\tvar $capsule = $J( rgCapsules[i] );\r\n\t\t\tvar itemid = GDynamicStorePage.ItemIDFromCapsule( $capsule );\r\n\r\n\t\t\tif ( !itemid )\r\n\t\t\t{\r\n\t\t\t\t// if there's no item associated, preseve it; it's probably a sale page or event\r\n\t\t\t\trgUnidentifiedCaps.push( $capsule );\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\telse if ( !GDynamicStorePage.BItemValid( itemid, oShownItems ) )\r\n\t\t\t{\r\n\t\t\t\t// duplicate\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\titemid.capsule = $capsule;\r\n\t\t\trgItems.push( itemid );\r\n\t\t}\r\n\r\n\t\trgItems =  SortItemListByPriorityList( rgItems, strPriorityListKey );\r\n\t\tvar rgItems = GDynamicStorePage.FilterItemsForDisplay( rgItems, strSettingsName, cMinItemsToDisplay, rgItems.length, AdditionalSettings );\r\n\r\n\t\t// put anything we didn't understand at the front\r\n\t\twhile ( rgUnidentifiedCaps.length )\r\n\t\t\trgItems.unshift( { capsule: rgUnidentifiedCaps.shift(), priority: 1 } );\r\n\r\n\t\treturn rgItems;\r\n\t},\r\n\r\n\tFilterAndPrioritizeItems: function( rgItems, strPriorityListKey, strSettingsName, AdditionalSettings, oShownItems, cMinItemsToDisplay )\r\n\t{\r\n\t\t// initialize the shown item list\r\n\t\tif ( !oShownItems.rgAppIds )\r\n\t\t\t$J.extend( oShownItems, { rgAppIds: [], rgPackageIds: [], rgBundleIds: [] }, oShownItems );\r\n\r\n\t\t// first filter out items that are dupes of ones we've already been asked to list\r\n\t\tvar rgItemsNoDupes = [];\r\n\t\tfor( var i = 0; i < rgItems.length; i++ )\r\n\t\t{\r\n\t\t\tif ( GDynamicStorePage.BItemValid( rgItems[i], oShownItems ) )\r\n\t\t\t\trgItemsNoDupes.push( rgItems[i] );\r\n\t\t}\r\n\t\trgItemsNoDupes = SortItemListByPriorityList( rgItemsNoDupes, strPriorityListKey );\r\n\t\treturn GDynamicStorePage.FilterItemsForDisplay( rgItemsNoDupes, strSettingsName, cMinItemsToDisplay, rgItemsNoDupes.length, AdditionalSettings );\r\n\t},\r\n};\r\n\r\nvar g_rgAppPriorityLists = {};\r\nvar g_rgAppPriorityListMaps = {};\r\nfunction InitAppPriorityLists( rgAppPriorityLists )\r\n{\r\n\t$J.extend( g_rgAppPriorityLists, rgAppPriorityLists );\r\n}\r\n\r\nfunction GetAppPriorityListMap( strPriorityListName )\r\n{\r\n\tif ( !g_rgAppPriorityListMaps[strPriorityListName] )\r\n\t{\r\n\t\tvar rgAppPriorityList = g_rgAppPriorityLists[strPriorityListName] || [];\r\n\r\n\t\tvar rgPositionByApp = {};\r\n\t\tfor ( var i = 0; i < rgAppPriorityList.length; i++ )\r\n\t\t\trgPositionByApp[ ItemKey( rgAppPriorityList[i] ) ] = i;\r\n\r\n\t\tg_rgAppPriorityListMaps[strPriorityListName] = rgPositionByApp;\r\n\t}\r\n\r\n\treturn g_rgAppPriorityListMaps[strPriorityListName];\r\n}\r\n\r\nfunction ItemKey( rgItem )\r\n{\r\n\tif ( rgItem.appid )\r\n\t\treturn 'a' + rgItem.appid;\r\n\telse if ( rgItem.packageid )\r\n\t\treturn 'p' + rgItem.packageid;\r\n\telse if ( rgItem.bundleid )\r\n\t\treturn 'b' + rgItem.bundleid;\r\n\r\n\treturn 'unknown';\r\n}\r\n\r\nfunction SortItemListByPriorityList( rgItemList, strPriorityListName )\r\n{\r\n\tvar rgPositionByApp = GetAppPriorityListMap( strPriorityListName );\r\n\tif ( !rgPositionByApp )\r\n\t\treturn rgItemList.slice();\r\n\r\n\t/*\r\n\tjavascript sort is stable (except in IE), so this shouldn't be needed\r\n\tfor ( var i = 0; i < rgItemList.length; i++ )\r\n\t{\r\n\t\tvar key = ItemKey( rgItemList[i] );\r\n\t\tif ( key && rgPositionByApp[key] === undefined )\r\n\t\t\trgPositionByApp[key] = i + 1000;\r\n\t}\r\n\t */\r\n\r\n\tvar rgItemListSorted = rgItemList.slice();\r\n\trgItemListSorted.sort( function( a, b ) {\r\n\t\tvar posA = rgPositionByApp[ ItemKey( a ) ];\r\n\t\tvar posB = rgPositionByApp[ ItemKey( b ) ];\r\n\t\treturn ( posA !== undefined ? posA : 1000 ) - ( posB !== undefined ? posB : 1000 );\r\n\t});\r\n\r\n\tDEBUG_LogItemList( strPriorityListName, rgItemListSorted );\r\n\r\n\treturn rgItemListSorted;\r\n}\r\n\r\nfunction DEBUG_LogItemList( strListName, rgItems )\r\n{\r\n\t}\r\n\r\nfunction ShowHowDoDiscoveryQueuesWorkDialog()\r\n{\r\n\t$J.get(\r\n\t\t'https://store.steampowered.com/explore/howitworks/',\r\n\t\t{\r\n\t\t\tl : 'schinese'\r\n\t\t},\r\n\t\tfunction( data )\r\n\t\t{\r\n\t\t\tShowAlertDialog( '它是如何运作的？', data );\r\n\t\t}\r\n\t);\r\n}\r\n\r\nfunction GetAvatarURL( strHash, strSize )\r\n{\r\n\treturn \"https:\\/\\/media.st.dl.pinyuncloud.com\\/steamcommunity\\/public\\/images\\/avatars\\/\" + strHash.substring( 0, 2 ) + '/' + strHash + strSize + '.jpg';\r\n}\r\n\r\nfunction GetScreenshotURL( appid, filename, sizeStr )\r\n{\r\n\tif( sizeStr )\r\n\t\treturn 'https://media.st.dl.pinyuncloud.com/steam/' + 'apps/' + appid + '/' + filename.replace('.jpg', sizeStr + '.jpg');\r\n\r\n\treturn 'https://media.st.dl.pinyuncloud.com/steam/' + 'apps/' + appid + '/' + filename;\r\n}\r\n\r\n\r\nfunction UpdatePricesForAdditionalCartDiscount( $Selector, nCartDiscount )\r\n{\r\n\tif ( !nCartDiscount )\r\n\t\treturn;\r\n\r\n\tvar strSelector = '[data-price-final]';\r\n\tvar $DynamicElements = [];\r\n\tif ( $Selector )\r\n\t{\r\n\t\tif ( $Selector.is( strSelector ) )\r\n\t\t\t$DynamicElements = $Selector;\r\n\t\telse\r\n\t\t\t$DynamicElements = $Selector.find( strSelector );\r\n\t}\r\n\telse\r\n\t{\r\n\t\t$DynamicElements = $J( strSelector );\r\n\t}\r\n\r\n\tfor ( var i = 0; i < $DynamicElements.length; i++ )\r\n\t{\r\n\t\t$element = $J($DynamicElements[i]);\r\n\t\tvar nFinalPrice = parseInt($element.attr('data-price-final'));\r\n\t\t$element.addClass( 'additional_cart_discount_container' );\r\n\r\n\t\tif (!nFinalPrice)\r\n\t\t\tcontinue;\r\n\r\n\t\tvar nToSubtract = Math.min(nFinalPrice, nCartDiscount);\r\n\t\tvar bNowFree = (nFinalPrice - nToSubtract) <= 0;\r\n\r\n\t\tvar strAdditionalDiscountBlock = '<div class=\"additional_cart_discount_amount\">-' + GStoreItemData.fnFormatCurrency(nToSubtract) + '</div>';\r\n\t\tvar strFinalPriceBlock = '<div class=\"additional_cart_discount_final\">' + GStoreItemData.fnFormatCurrency(nFinalPrice - nToSubtract) + '</div>';\r\n  \t\tvar $additionalDiscount = $J('<div class=\"additional_cart_discount' + ( bNowFree ? ' NowFree\"' : '\"' ) + ' data-test=\"' + nFinalPrice + '\">' + strAdditionalDiscountBlock + strFinalPriceBlock + '</div>');\r\n\t\t//var $additionalDiscount = $J('<div class=\"additional_cart_discount\" data-test=\"' + nFinalPrice + '\">' + strAdditionalDiscountBlock + strFinalPriceBlock + '</div>');\r\n\t\tvar $basePriceStrikeout = $J('<div class=\"basePriceStrikeout\" />');\r\n\t\t$element.append($basePriceStrikeout);\r\n\t\t$element.append($additionalDiscount);\r\n\t}\r\n}\r\n\r\n\r\nfunction UpdateStoreBannerForAdditionalCartDiscount( nCartDiscount )\r\n{\r\n\tif ( !nCartDiscount )\r\n\t\treturn false;\r\n\r\n\tvar strTemplate = ' \\\r\n\t<div class=\"placeHolder_lunarSale2019_giftActiveBar\">\t\\\r\n\t\t<div class=\"lunarSale2019_contentContainer\"> \\\r\n\t\t<div class=\"lunar_sale_poinks01\"> \\\r\n\t\t<div class=\"lunar_sale_sparkle sparkle01\"> \\\r\n\t\t\t<div class=\"sparkleStar star1\"></div> \\\r\n\t\t\t<div class=\"sparkleStar star2\"></div> \\\r\n\t\t\t<div class=\"sparkleStar star3\"></div> \\\r\n\t\t</div> \\\r\n\t\t</div> \\\r\n\t\t<div class=\"lunar_sale_title\"><img src=\"https://store.st.dl.pinyuncloud.com/public/images/promo/lunar2019/lny2019_title_zh-cn.png\"/></div> \\\r\n\t\t<div class=\"lunar_sale_spacer lunar_leftspacer\"></div> \\\r\n\t\t<div class=\"lunar_sale_supersavings_label\"><div class=\"highlight\">%header%</div><div class=\"subtitle\">%discount%</div></div> \\\r\n\t\t<div class=\"lunar_sale_spacer lunar_rightspacer\">\\\r\n\t\t<div class=\"lunar_sale_poinks02\"> \\\r\n\t\t\t<div class=\"lunar_sale_sparkle sparkle02\"> \\\r\n\t\t\t\t<div class=\"sparkleStar star1\"></div> \\\r\n\t\t\t\t<div class=\"sparkleStar star2\"></div> \\\r\n\t\t\t\t<div class=\"sparkleStar star3\"></div> \\\r\n\t\t\t</div> \\\r\n\t\t</div> \\\r\n\t\t</div> \\\r\n\t\t</div> \\\r\n\t</div> \\\r\n\t';\r\n\r\n\r\n\tvar strAmount = GStoreItemData.fnFormatCurrency( nCartDiscount );\r\n\tvar strHeader = '激活奖励省钱模式';\r\n\tvar strDiscount = '您的购物车将省 %amount%！'.replace( '%amount%', strAmount );\r\n\tstrTemplate = strTemplate.replace( '%header%', strHeader );\r\n\tstrTemplate = strTemplate.replace( '%discount%', strDiscount );\r\n\r\n\t$Elements = $J( '[data-cart-banner-spot]' );\r\n\tfor ( var i = 0; i < $Elements.length; i++ )\r\n\t{\r\n\t\t$element = $J( $Elements[i] );\r\n\t\t$element.replaceWith( $J( strTemplate ) );\r\n\t}\r\n\r\n\treturn true;\r\n}\r\n\r\nfunction UpdateStoreBannerForPromotionalDiscount( nDiscount, nMinCartAmount, nAvailableUseCount )\r\n{\r\n\tif ( !nDiscount )\r\n\t\treturn false;\r\n\r\n\tif ( !nAvailableUseCount )\r\n\t\treturn false;\r\n\r\n\tif ( $J( 'body.events_hub' ).length )\r\n\t\treturn false;\r\n\r\n\tvar strTemplate = ' \\\r\n\t<div id=\"promo_header_banner\" class=\"placeHolder_summerSale2020_promotionDetailsBar\" style=\"display:none;\">\t\\\r\n\t\t<div class=\"summerSale2020_contentContainer\"> \\\r\n\t\t<div class=\"summersale2020_supersavings_title\">%title%</div> \\\r\n\t\t<div class=\"summersale2020_supersavings_label\"><div class=\"highlight\">%header%</div><div class=\"subtitle\">%discount%</div></div> \\\r\n\t\t</div> \\\r\n\t\t</div> \\\r\n\t</div> \\\r\n\t';\r\n\r\n\r\n\tvar strAmount = GStoreItemData.fnFormatCurrency( nDiscount, true );\r\n\tvar strMinAmount = GStoreItemData.fnFormatCurrency( nMinCartAmount, true );\r\n\r\n\tvar strTitle = '公路旅行特别优惠';\r\n\tvar strHeader = '购物满 %min_amount%，额外再省 %amount%'.replace( '%amount%', strAmount ).replace( '%min_amount%', strMinAmount );\r\n\tvar strDiscount = '折扣于付款时应用';\r\n\tstrTemplate = strTemplate.replace( '%title%', strTitle );\r\n\tstrTemplate = strTemplate.replace( '%header%', strHeader );\r\n\tstrTemplate = strTemplate.replace( '%discount%', strDiscount );\r\n\r\n\t$Elements = $J( '[data-cart-banner-spot]' );\r\n\tfor ( var i = 0; i < $Elements.length; i++ )\r\n\t{\r\n\t\t$element = $J( $Elements[i] );\r\n\t\t$element.replaceWith( $J( strTemplate ) );\r\n\t\t$J( '#promo_header_banner' ).slideDown( 500 );\r\n\t}\r\n\r\n\treturn true;\r\n}\r\n\r\n\r\n","Steam — 顶级在线游戏平台_files/header_logo.png":{"size":10863,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/a4e79c73ee13cb25b60fc4b0ba1f690c/1629089701.png"},"Steam — 顶级在线游戏平台_files/header_menu_hamburger.png":{"size":3777,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/eabc76eb57feae44add7faead028521e/1629089702.png"},"Steam — 顶级在线游戏平台_files/icon-broadcasts.svg":{"size":1536,"type":"image/svg+xml","url":"chenzicongokq6eqkx/txc233.cn/d681f523eaae5cd2368935891d03a802/1629089702.svg"},"Steam — 顶级在线游戏平台_files/icon-controllers.svg":{"size":1345,"type":"image/svg+xml","url":"chenzicongokq6eqkx/txc233.cn/9b54ed8dee168401d489687ccf49d475/1629089703.svg"},"Steam — 顶级在线游戏平台_files/icon-earlyaccess.svg":{"size":909,"type":"image/svg+xml","url":"chenzicongokq6eqkx/txc233.cn/eb6a8f3b1987ef551c5cba0e3c8a31bc/1629089704.svg"},"Steam — 顶级在线游戏平台_files/icon-gamehubs.svg":{"size":1693,"type":"image/svg+xml","url":"chenzicongokq6eqkx/txc233.cn/82d5cdd07fbf92996b76f983b73b86a0/1629089705.svg"},"Steam — 顶级在线游戏平台_files/icon-languages.svg":{"size":679,"type":"image/svg+xml","url":"chenzicongokq6eqkx/txc233.cn/a2aef9e2a1009158f3cb70eec2ec037d/1629089706.svg"},"Steam — 顶级在线游戏平台_files/icon-macos.svg":{"size":1212,"type":"image/svg+xml","url":"chenzicongokq6eqkx/txc233.cn/a12cffb3b582f0d0f6ea9c9c36b74a5e/1629089707.svg"},"Steam — 顶级在线游戏平台_files/icon-steamchat.svg":{"size":775,"type":"image/svg+xml","url":"chenzicongokq6eqkx/txc233.cn/9c57532ff10253666f56fc7f30cc5f80/1629089708.svg"},"Steam — 顶级在线游戏平台_files/icon-steammobile.svg":{"size":1032,"type":"image/svg+xml","url":"chenzicongokq6eqkx/txc233.cn/116677d9305f23100d373b7d4be25deb/1629089709.svg"},"Steam — 顶级在线游戏平台_files/icon-steamworkshop.svg":{"size":1472,"type":"image/svg+xml","url":"chenzicongokq6eqkx/txc233.cn/11c7d3f8b5183772bf69caed9e87785c/1629089709.svg"},"Steam — 顶级在线游戏平台_files/jquery-1.8.3.min.js":{"size":93637,"type":"text/javascript","url":"chenzicongokq6eqkx/txc233.cn/e1288116312e4728f98923c79b034b67/1629089710.js"},"Steam — 顶级在线游戏平台_files/logo_valve_footer.png":{"size":1846,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/574c350c7b23ae794d5276f8580e0838/1629089711.png"},"Steam — 顶级在线游戏平台_files/main.js":"\r\nfunction GotFlashPopup()\r\n{\r\n\tvar win = window.open( 'https://store.steampowered.com/gotflash','gotflash','width=536,height=546,resize=yes,scrollbars=yes');\r\n\twin.focus();\r\n}\r\n\r\n//\r\n// Page-able tabs\r\n//\r\nvar tabStart = { };\r\nvar tabMax = { };\r\nvar tabTransition = { };\r\nfunction PageTab( tab, delta, max, params )\r\n{\r\n\tif ( tabTransition[tab] )\r\n\t\treturn;\r\n\r\n\tif ( !tabStart[tab] )\r\n\t\ttabStart[tab] = 0;\r\n\tif ( !tabMax[tab] )\r\n\t\ttabMax[tab] = 0;\r\n\r\n\tif ( tabStart[tab] + delta >= max )\r\n\t\treturn;\r\n\r\n\ttabStart[tab] += delta;\r\n\ttabTransition[tab] = true;\r\n\tif ( tabStart[tab] > tabMax[tab] )\r\n\t{\r\n\t\tif ( !params )\r\n\t\t\tparams = {};\r\n\t\tparams.tab = tab;\r\n\t\tparams.start = tabStart[tab];\r\n\t\tparams.count = delta;\r\n\t\tnew Ajax.Updater(\r\n\t\t\t\t'tab_' + tab + '_items',\r\n\t\t\t\t'https://store.steampowered.com/search/tab',\r\n\t\t\t\t{ parameters: params, method: 'get', insertion: 'bottom', onComplete: TabCompletionClosure( tab, delta, max ) } );\r\n\t\ttabMax[tab] = tabStart[tab];\r\n\t}\r\n\telse\r\n\t{\r\n\t\tRollTab( tab, delta );\r\n\t\tTabUpdateCounts( tab, delta, max );\r\n\t}\r\n\r\n}\r\n\r\nfunction TabCompletionClosure( tab, delta, max )\r\n{\r\n\tvar tab_closure = tab;\r\n\tvar delta_closure = delta;\r\n\tvar max_closure = max;\r\n\treturn function() {\r\n\t\tRollTab( tab_closure, delta_closure );\r\n\t\tTabUpdateCounts( tab_closure, delta_closure, max_closure );\r\n\t};\r\n\r\n}\r\n\r\nfunction RollTab( tab, delta )\r\n{\r\n\tif ( $('tab_' + tab + '_items' ).hasClassName( 'twenty_smallcap_page_items' ) )\r\n\t{\r\n\t\tvar xdiff = 950;\r\n\t\tif ( delta > 0 )\r\n\t\t\txdiff = -xdiff;\r\n\t\tnew Effect.Move( $('tab_' + tab + '_items'), {x: xdiff, afterFinish: TabScrollFinishClosure( tab, delta ) } );\r\n\t}\r\n\telse\r\n\t{\r\n\t\t//standard tab\r\n\t\tvar ydiff = -RowHeightForTab( tab ) * delta;\r\n\t\tnew Effect.Move( $('tab_' + tab + '_items'), {y: ydiff, afterFinish: TabScrollFinishClosure( tab, delta ) } );\r\n\t}\r\n\tvar elTabArea = $('tab_' + tab + '_items').up('.tabarea' );\r\n\tif ( elTabArea )\r\n\t\tEffect.ScrollTo( elTabArea, { afterFinish: TabScrollFinishClosure( tab, delta ) } );\r\n}\r\n\r\nfunction TabScrollFinishClosure( tab, delta )\r\n{\r\n\tvar tab_closure = tab;\r\n\tvar delta_closure = delta;\r\n\treturn function() {\r\n\t\ttabTransition[tab_closure] = false;\r\n\t};\r\n}\r\n\r\nfunction TabUpdateCounts( tab, delta, max )\r\n{\r\n\tif ( $('tab_' + tab + '_count_start') )\r\n\t{\r\n\t\t$('tab_' + tab + '_count_start').update( tabStart[tab] + 1 );\r\n\t\t$('tab_' + tab + '_count_end').update( Math.min( tabStart[tab] + Math.abs(delta), max ) );\r\n\t}\r\n\telse\r\n\t{\r\n\t\t$('tab_' + tab + '_count').update( (tabStart[tab] + 1) + '-' + Math.min( tabStart[tab] + Math.abs(delta), max ) );\r\n\t}\r\n\tif ( tabStart[tab] > 0 )\r\n\t\t$('tab_' + tab + '_prev').style.visibility='visible';\r\n\telse\r\n\t\t$('tab_' + tab + '_prev').style.visibility='hidden';\r\n\r\n\tif ( tabStart[tab] + delta >= max )\r\n\t\t$('tab_' + tab + '_next').style.visibility='hidden';\r\n\telse\r\n\t\t$('tab_' + tab + '_next').style.visibility='visible';\r\n}\r\n\r\nfunction RowHeightForTab( tab )\r\n{\r\n\tvar tabRow = $('tab_' + tab + '_items' ).down( '.tab_row' );\r\n\treturn tabRow.getHeight();\r\n}\r\n\r\nfunction TabSelect( elem, target )\r\n{\r\n\t$J('#last_tab').val(target);\r\n\tvar $Elem = $JFromIDOrElement( elem );\r\n\t$Elem.siblings().removeClass( 'active' );\r\n\t$Elem.addClass( 'active' );\r\n\r\n\tif( target == \"tab_1_content\" )\r\n\t\ttarget = GetDefaultTabSelection();\r\n\r\n\tvar $Content = $JFromIDOrElement(target);\r\n\t$Content.siblings().hide();\r\n\t$Content.show();\r\n\r\n\t// Re-compute impression tracking visibility\r\n\tif ( typeof GDynamicStore != 'undefined' )\r\n\t{\r\n\t\tGDynamicStore.s_ImpressionTracker.CheckVisibility();\r\n\t}\r\n}\r\n\r\nfunction TabSelectStealth( target )\r\n{\r\n\tvar tab_content = $(target);\r\n\ttab_content.siblings().invoke( 'hide' );\r\n\ttab_content.show();\r\n\r\n\tSetDefaultTabSelection( target );\r\n}\r\n\r\nfunction GetDefaultTabSelection()\r\n{\r\n\tvar value = WebStorage.GetLocal( 'store_newreleases_filter_dlc' );\r\n\r\n\tif( value == null )\r\n\t\treturn \"tab_filtered_dlc_content\";\r\n\treturn value;\r\n}\r\n\r\nfunction SetDefaultTabSelection( tab )\r\n{\r\n\tWebStorage.SetLocal( 'store_newreleases_filter_dlc', tab );\r\n}\r\n\r\nfunction InitTabDefaults()\r\n{\r\n\tTabSelectStealth( GetDefaultTabSelection() );\r\n}\r\n\r\nfunction ScrollSmallCaps( name, delta, pageSize, totalCount, params )\r\n{\r\n\tvar targetid = 'sm_cap_' + name + '_scroll';\r\n\tvar elem = $( targetid );\r\n\tif ( elem.effect )\r\n\t\treturn;\r\n\r\n\tif ( !elem.curPos )\r\n\t{\r\n\t\telem.curPos = 0;\r\n\t}\r\n\tif ( !elem.maxLoaded )\r\n\t{\r\n\t\telem.maxLoaded = 0;\r\n\t}\r\n\r\n\telem.curPos += delta;\r\n\r\n\tif ( elem.curPos > elem.maxLoaded )\r\n\t{\r\n\t\telem.effect = true;\r\n\t\telem.maxLoaded++;\r\n\t\telem.style.width = ( ( elem.maxLoaded + 2 ) * 614 ) + 'px';\r\n\r\n\t\tif ( !params )\r\n\t\t\tparams = {};\r\n\t\tparams.name = name;\r\n\t\tparams.start = elem.curPos * pageSize + pageSize; // we are always loading one page ahead\r\n\t\tparams.count = pageSize;\r\n\t\tnew Ajax.Updater(\r\n\t\t\t\ttargetid,\r\n\t\t\t\t'https://store.steampowered.com/search/smallcapscroll',\r\n\t\t\t\t{ parameters: params, method: 'get', insertion: 'bottom', onComplete: UpdateSmallCapControl.bind( window, targetid, delta, pageSize, totalCount ) } );\r\n\t}\r\n\telse\r\n\t{\r\n\t\tUpdateSmallCapControl( targetid, delta, pageSize, totalCount );\r\n\t}\r\n\r\n}\r\n\r\nfunction ScrollStaticSmallCaps( targetid, delta, pageSize, totalCount )\r\n{\r\n\tvar elem = $( targetid );\r\n\tif ( elem.effect )\r\n\t\treturn;\r\n\r\n\tif ( !elem.curPos )\r\n\t{\r\n\t\telem.curPos = 0;\r\n\t}\r\n\r\n\telem.curPos += delta;\r\n\r\n\tUpdateSmallCapControl( targetid, delta, pageSize, totalCount );\r\n}\r\n\r\nfunction ScrollCarouselSmallCaps( targetid, delta, pageSize, totalCount )\r\n{\r\n\tvar elem = $( targetid );\r\n\tif ( elem.effect )\r\n\t\treturn;\r\n\r\n\tif ( !elem.curPos )\r\n\t{\r\n\t\telem.curPos = 0;\r\n\t}\r\n\r\n\telem.curPos += delta;\r\n\r\n\tvar max = Math.ceil( totalCount / pageSize ) - 1;\r\n\r\n\tvar nextLink = targetid + '_next';\r\n\tvar prevLink = targetid + '_prev';\r\n\tif ( elem.curPos >= max )\r\n\t\t$(nextLink).addClassName('disabled');\r\n\telse\r\n\t\t$(nextLink).removeClassName('disabled');\r\n\r\n\tif ( elem.curPos <= 0 )\r\n\t\t$(prevLink).addClassName('disabled');\r\n\telse\r\n\t\t$(prevLink).removeClassName('disabled');\r\n\r\n\r\n\tvar cb = function( targetid ) {\r\n\t\tvar elem = $( targetid );\r\n\t\telem.effect = false;\r\n\t\tif ( typeof GDynamicStore != 'undefined' )\r\n\t\t{\r\n\t\t\tGDynamicStore.s_ImpressionTracker.CheckVisibility();\r\n\t\t\tGDynamicStore.HandleCarouselChange( targetid, elem.curPos, pageSize );\r\n\t\t}\r\n\t};\r\n\r\n\telem.effect = new Effect.Move( elem, {x: -808 * delta, afterFinish: cb.bind( this, targetid ), duration: 0.4 } );\r\n\r\n}\r\n\r\n\r\nfunction UpdateSmallCapControl( targetid, delta, pageSize, totalCount )\r\n{\r\n\tvar elem = $( targetid );\r\n\tvar max = Math.ceil( totalCount / pageSize ) - 1;\r\n\tvar width = $(elem.parentNode).getWidth();\r\n\r\n\tvar nextLink = targetid + '_next';\r\n\tvar prevLink = targetid + '_prev';\r\n\tif ( elem.curPos >= max )\r\n\t\t$(nextLink).hide();\r\n\telse\r\n\t\t$(nextLink).show();\r\n\r\n\tif ( elem.curPos <= 0 )\r\n\t\t$(prevLink).hide();\r\n\telse\r\n\t\t$(prevLink).show();\r\n\r\n\tvar pageStart = elem.curPos * pageSize + 1;\r\n\tvar pageEnd = pageStart + ( pageSize - 1 );\r\n\tif ( $( targetid + '_page_start' ) )\r\n\t\t$( targetid + '_page_start' ).update( pageStart );\r\n\tif ( $( targetid + '_page_end' ) )\r\n\t\t$( targetid + '_page_end' ).update( Math.min( pageEnd, totalCount ) );\r\n\r\n\r\n\telem.effect = new Effect.Move( elem, {x: -width * delta, afterFinish: function() { elem.effect = false; }, duration: 0.4 } );\r\n\r\n}\r\n\r\n\r\nvar g_HoverState = {\r\n\ttarget: null,\r\n\thiding: false\r\n};\r\n\r\nfunction GetHoverState( $Elem )\r\n{\r\n\tvar oElemState = $Elem.data( 'oHoverState' );\r\n\tif ( !oElemState )\r\n\t{\r\n\t\toElemState = {};\r\n\t\t$Elem.data( 'oHoverState', oElemState );\r\n\t}\r\n\treturn oElemState;\r\n}\r\n\r\nfunction GameHover( elem, event, divHover, rgHoverData )\r\n{\r\n\tif (!event) var event = window.event;\r\n\tvar $Elem = $JFromIDOrElement(elem);\r\n\tvar $Hover = $JFromIDOrElement(divHover);\r\n\tvar bNewHoverSpeed = typeof ( g_bNewHoverSpeed) != 'undefined' && g_bNewHoverSpeed;\r\n\r\n\tvar oElemState = GetHoverState( $Elem );\r\n\r\n\tif ( !$Hover.length )\r\n\t{\r\n\t\t\t\t$Hover = $J(\"\\t\\t<div class=\\\"hover game_hover\\\" id=\\\"global_hover\\\" style=\\\"display: none; left: 0; top: 0;\\\">\\r\\n\\t\\t\\t<div class=\\\"game_hover_box hover_box\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"content\\\" id=\\\"global_hover_content\\\">\\r\\n\\t\\t\\t\\t<\\/div>\\r\\n\\t\\t\\t<\\/div>\\r\\n\\t\\t\\t<div class=\\\"hover_arrow_left\\\"><\\/div>\\r\\n\\t\\t\\t<div class=\\\"hover_arrow_right\\\"><\\/div>\\r\\n\\t\\t<\\/div>\");\r\n\t\t$J(document.body).append( $Hover );\r\n\t}\r\n\r\n\tif ( g_HoverState.hiding && $Hover.is(':visible') && g_HoverState.target == $Elem[0] )\r\n\t{\r\n\t\tShowWithFade( $Hover );\r\n\t}\r\n\telse if ( ( !$Hover.is(':visible') || g_HoverState.target != $Elem[0] ) && !oElemState.timer )\r\n\t{\r\n\t\toElemState.bWantsHover = true;\r\n\t\tvar accountId = ( typeof g_AccountID !== 'undefined' ) && !rgHoverData['public'] ? g_AccountID : 0;\r\n\t\tvar bPublic = rgHoverData['public'] || accountId == 0;\r\n\t\tvar strTargetPrefix = '';\r\n\t\tvar strUrlTarget = '';\r\n\t\tif ( rgHoverData['type'] == 'app' )\r\n\t\t{\r\n\t\t\tstrTargetPrefix = 'hover_app_';\r\n\t\t\tstrUrlTarget = 'apphover' + ( bPublic ? 'public' : '' ) + '/' + rgHoverData['id'];\r\n\t\t}\r\n\t\telse if ( rgHoverData['type'] == 'sub' )\r\n\t\t{\r\n\t\t\tstrTargetPrefix = 'hover_sub_';\r\n\t\t\tstrUrlTarget = 'subhover' + ( bPublic ? 'public' : '' ) + '/' + rgHoverData['id'];\r\n\t\t}\r\n\t\telse if ( rgHoverData['type'] == 'bundle' )\r\n\t\t{\r\n\t\t\tstrTargetPrefix = 'hover_bundle_';\r\n\t\t\tstrUrlTarget = 'bundle/' + rgHoverData['id'] + '/hover' + ( bPublic ? '_public' : '' ) + '/';\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( typeof GDynamicStore != 'undefined' )\r\n\t\t{\r\n\t\t\tstrUrlTarget += '?review_score_preference=' + ( !GDynamicStore.s_preferences['review_score_preference'] ? 0 : GDynamicStore.s_preferences['review_score_preference'] );\r\n\t\t}\r\n\r\n\t\tvar targetId = strTargetPrefix + rgHoverData['id'];\r\n\t\tvar $HoverData = $JFromIDOrElement( targetId );\r\n\t\tvar params = rgHoverData['params'] || {};\r\n\t\tvar nStartHoverTime = new Date().getTime();\r\n\t\tvar fnComputeHoverDelay = bNewHoverSpeed ?\r\n\t\t\tfunction() { return Math.max( 400 - ( new Date().getTime() - nStartHoverTime ), 200 );} :\r\n\t\t\tfunction() { return 200; };\r\n\r\n\t\tif ( !$HoverData.length && !oElemState.bAjaxRequestMade )\r\n\t\t{\r\n\t\t\tvar rgAjaxParams = { u: accountId };\r\n\t\t\tif ( bPublic )\r\n\t\t\t{\r\n\t\t\t\t// is cc needed?\r\n\t\t\t\trgAjaxParams = { /*cc: rgHoverData['cc'],*/ l: 'schinese' };\r\n\t\t\t}\r\n\t\t\tif ( rgHoverData['v6'] )\r\n\t\t\t{\r\n\t\t\t\trgAjaxParams['pagev6'] = true;\r\n\t\t\t}\r\n\t\t\tif ( $Elem.data('hoverDisableScreenshots') )\r\n\t\t\t{\r\n\t\t\t\trgAjaxParams['disableScreenshots'] = true;\r\n\t\t\t}\r\n\r\n\t\t\twindow.setTimeout( function() {\r\n\t\t\t\tif ( oElemState.bWantsHover && !oElemState.bAjaxRequestMade ) {\r\n\t\t\t\t\toElemState.bAjaxRequestMade = true;\r\n\t\t\t\t\t$J.get( 'https://store.steampowered.com/' + strUrlTarget, rgAjaxParams ).done( function( html )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar $Content = $J(html);\r\n\t\t\t\t\t\t$Content.hide();\r\n\t\t\t\t\t\t$Hover.find( '.content' ).append( $Content );\r\n\t\t\t\t\t\tShowGameHover( $Elem, $Hover, targetId, params, fnComputeHoverDelay()  );\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t}, bNewHoverSpeed ? 50 : 150 );\r\n\t\t}\r\n\t\tif ( !oElemState.timer )\r\n\t\t{\r\n\t\t\toElemState.timer = window.setTimeout(function () {\r\n\t\t\t\toElemState.timer = false;\r\n\t\t\t\toElemState.bReadyForHover = true;\r\n\t\t\t\tShowGameHover( $Elem, $Hover, targetId, params, fnComputeHoverDelay() );\r\n\t\t\t}, bNewHoverSpeed ? 100 : 300 );\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction HideGameHover( elem, event, divHover )\r\n{\r\n\tvar $Elem = $JFromIDOrElement( elem );\r\n\tvar $Hover = $JFromIDOrElement( divHover );\r\n\r\n\tvar oElemState = GetHoverState( $Elem );\r\n\r\n\tif ( !$Hover.length )\r\n\t\treturn;\r\n\r\n\tif (!event) var event = window.event;\r\n\tvar reltarget = $J( (event.relatedTarget) ? event.relatedTarget : event.toElement );\r\n\tif ( reltarget.length && $J.contains( $Elem[0], reltarget[0] ) )\r\n\t\treturn;\r\n\r\n\tif ( oElemState.timer )\r\n\t{\r\n\t\twindow.clearTimeout( oElemState.timer );\r\n\t\toElemState.timer = false;\r\n\t}\r\n\toElemState.bWantsHover = false;\r\n\toElemState.bReadyForHover = false;\r\n\r\n\tHideWithFade( divHover, 200 );\r\n}\r\n\r\nfunction ShowGameHover( elem, divHover, targetContent, params, speed )\r\n{\r\n\tvar $Elem = $JFromIDOrElement( elem );\r\n\tvar $Hover = $JFromIDOrElement( divHover );\r\n\tvar $Target = $JFromIDOrElement( targetContent );\r\n\r\n\tvar oElemState = GetHoverState( $Elem );\r\n\r\n\tif ( !$Target.length || !oElemState.bWantsHover || !oElemState.bReadyForHover || !$J.contains( document, $Elem[0] ) )\r\n\t\treturn;\r\n\r\n\t$Target.siblings().hide();\r\n\t$Target.show();\r\n\r\n\tg_HoverState.target = $Elem[0];\r\n\r\n\tvar $Toparea = $Target.find( '.hover_top_area' );\r\n\tif ( params && params.top_area_content )\r\n\t{\r\n\t\t$Toparea.html( params.top_area_content );\r\n\t\t$Toparea.show();\r\n\t}\r\n\telse if ( $Toparea.length )\r\n\t{\r\n\t\t$Toparea.hide();\r\n\t}\r\n\r\n\t// \"show\" the hover, but not \"visible\", letting us do some positioning\r\n\t$Hover.css( 'visibility', 'hidden' ).show();\r\n\r\n\tvar $HoverBox = $Hover.find( '.hover_box' );\r\n\tvar $HoverArrowLeft = $Hover.find( '.hover_arrow_left' );\r\n\tvar $HoverArrowRight = $Hover.find( '.hover_arrow_right' );\r\n\r\n\tvar offset = $Elem.offset();\r\n\tvar nWindowScrollTop = $J(window).scrollTop();\r\n\tvar nWindowScrollLeft = $J(window).scrollLeft();\r\n\tvar nViewportWidth = $J(window).width();\r\n\tvar nViewportHeight = $J(window).height();\r\n\r\n\tvar nHoverPositionLeft, nHoverPositionTop;\r\n\r\n\t\tvar $HoverArrow = $HoverArrowLeft;\r\n\tvar boxRightViewport = ( offset.left - nWindowScrollLeft ) + $Elem.outerWidth() + $HoverBox.width() + 14;\r\n\tvar nSpaceRight = nViewportWidth - boxRightViewport;\r\n\tvar nSpaceLeft = offset.left - $Hover.width();\r\n\tif( nSpaceLeft < -10 && nSpaceRight < -10 )\r\n\t{\r\n\t\t//no room at all\r\n\t\t$Hover.hide().css('visibility','');\r\n\t\treturn;\t//skip showing the hover\r\n\t}\r\n\telse if ( nSpaceRight < 14 && nSpaceLeft > nSpaceRight )\r\n\t{\r\n\t\t\t\tnHoverPositionLeft = offset.left - $Hover.outerWidth() + 8;\r\n\t\t$HoverArrow = $HoverArrowRight;\r\n\t\t$HoverArrowLeft.hide();\r\n\t\t$HoverArrowRight.show();\r\n\t}\r\n\telse\r\n\t{\r\n\t\t\t\tnHoverPositionLeft = offset.left + $Elem.outerWidth() - 8;\r\n\t\t$HoverArrowLeft.show();\r\n\t\t$HoverArrowRight.hide();\r\n\t}\r\n\r\n\tvar nTopAdjustment = -13;\t\r\n\t\t\t\tif ( $Elem.height() < 63 )\r\n\t\tnTopAdjustment =  Math.floor( $Elem.height() ) / 2 - 56;\r\n\tnHoverPositionTop = offset.top + nTopAdjustment;\r\n\t$Hover.offset( {top: nHoverPositionTop, left: nHoverPositionLeft} );\r\n\r\n\tvar nTargetTopViewport = ( offset.top - nWindowScrollTop ) + nTopAdjustment;\r\n\tif ( nTargetTopViewport + $HoverBox.height() + 8 > nViewportHeight )\r\n\t{\r\n\t\tvar nViewportAdjustment = ( $HoverBox.height() + 8 ) - ( nViewportHeight - nTargetTopViewport );\r\n\r\n\t\t\t\tnViewportAdjustment = Math.min( $HoverBox.height() - 74, nViewportAdjustment );\r\n\t\tvar nViewportAdjustedHoverTop = offset.top - nViewportAdjustment;\r\n\t\t$Hover.css( 'top', nViewportAdjustedHoverTop + 'px' );\r\n\r\n\t\t$HoverArrow.css( 'top', ( 48 + nHoverPositionTop - nViewportAdjustedHoverTop ) + 'px' );\r\n\t}\r\n\telse\r\n\t{\r\n\t\t$HoverArrow.css( 'top', '' );\r\n\t}\r\n\r\n\t$Hover.hide();\r\n\t$Hover.css( 'visibility', '' );\r\n\r\n\tShowWithFade( $Hover, speed );\r\n}\r\n\r\nfunction AddToWishlist( appid, divToHide, divToShowSuccess, divToShowError, navref, divToHide2 )\r\n{\r\n\tif ( !g_AccountID )\r\n\t{\r\n\t\tShowAlertDialog( \"\\u8bf7\\u767b\\u5f55\\u2026\", \"\\u60a8\\u5fc5\\u987b\\u767b\\u5f55 Steam \\u624d\\u80fd\\u5c06\\u7269\\u54c1\\u6dfb\\u52a0\\u81f3\\u613f\\u671b\\u5355\\u3002\" )\r\n\t\t.done( function() {\r\n\t\t\twindow.location.href = 'https://store.steampowered.com//login?redir=app/' + appid;\r\n\t\t} );\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar url = 'https://store.steampowered.com/api/addtowishlist';\r\n\tif ( navref )\r\n\t{\r\n\t\tMakeNavCookie( navref, url );\r\n\t}\r\n\r\n\t$J.post( url, {sessionid: g_sessionID, appid: appid} )\r\n\t\t.done( function( data ) {\r\n\t\t\t$JFromIDOrElement(divToHide).hide();\r\n\r\n\t\t\tif ( divToHide2 )\r\n\t\t\t\t$JFromIDOrElement(divToHide2).hide();\r\n\r\n\t\t\tif ( data && data.success ) {\r\n\t\t\t\t$JFromIDOrElement(divToShowSuccess).show();\r\n\t\t\t\tif ( data.saleTaskCompleted ) {\r\n\t\t\t\t\tNewStickerPackModal( '添加游戏至愿望单' );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n                $JFromIDOrElement(divToShowError).show();\r\n            }\r\n\r\n\t\t\tif ( typeof GDynamicStore != 'undefined' )\r\n\t\t\t\tGDynamicStore.InvalidateCache();\r\n\t\t}).fail( function() {\r\n\t\t\t$JFromIDOrElement(divToShowError).show();\r\n\t\t});\r\n}\r\n\r\nfunction RemoveFromWishlist( appid, divToHide, divToShowSuccess, divToShowError, navref, divToHide2 )\r\n{\r\n\tvar url = 'https://store.steampowered.com/api/removefromwishlist';\r\n\tif ( navref )\r\n\t{\r\n\t\tMakeNavCookie( navref, url );\r\n\t}\r\n\r\n\t$J.post( url, {sessionid: g_sessionID, appid: appid} )\r\n\t\t.done( function( data ) {\r\n\t\t\t$JFromIDOrElement(divToHide).hide();\r\n\r\n\t\t\tif ( divToHide2 )\r\n\t\t\t\t$JFromIDOrElement(divToHide2).hide();\r\n\r\n\t\t\tif ( data && data.success ) {\r\n\t\t\t\t$JFromIDOrElement(divToShowSuccess).show();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t$JFromIDOrElement(divToShowError).show();\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof GDynamicStore != 'undefined' )\r\n\t\t\t\tGDynamicStore.InvalidateCache();\r\n\t\t}).fail( function() {\r\n\t\t\t$JFromIDOrElement(divToShowError).show();\r\n\t\t});\r\n}\r\n\r\nfunction AddToWishlistButton( button, appid, navref )\r\n{\r\n\tvar url = 'https://store.steampowered.com/api/addtowishlist';\r\n\tif ( navref )\r\n\t{\r\n\t\tMakeNavCookie( navref, url );\r\n\t}\r\n\r\n\t$J.post( url, {sessionid: g_sessionID, appid: appid} )\r\n\t\t.done( function( data ) {\r\n\t\t\tif ( data && data.success )\r\n\t\t\t{\r\n\t\t\t\t$J(button).addClass('btn_disabled');\r\n\t\t\t\t$J('span',button).text(\"\\u5df2\\u5728\\u613f\\u671b\\u5355\\u4e2d\");\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t$J('span',button).text( \"\\u54ce\\u5440\\uff0c\\u5f88\\u62b1\\u6b49\\uff01\" );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof GDynamicStore != 'undefined' )\r\n\t\t\t\tGDynamicStore.InvalidateCache();\r\n\t\t} );\r\n}\r\n\r\nfunction IgnoreButton( button, appid )\r\n{\r\n\t$J.post( 'https://store.steampowered.com/recommended/ignorerecommendation/', {\r\n\t\tsessionid: g_sessionID,\r\n\t\tappid: appid\r\n\t}).done( function() {\r\n\t\t$J(button).addClass('btn_disabled');\r\n\t\tGDynamicStore.InvalidateCache();\r\n\t}).fail( function() {\r\n\t\tShowAlertDialog( '忽略应用', '在保存您的更改时出现问题。请稍后重试。' );\r\n\t});\r\n}\r\n\r\n// unlike wishlists, the \"divToHide\" is only hidden on success\r\nfunction RecommendGame( appid, steamworksappid, comment, rated_up, is_public, language, received_compensation, divBtn, onSuccessFunc, divToShowError, navref, bDisableComments )\r\n{\r\n\t$JFromIDOrElement(divBtn).hide();\r\n\tvar url = 'https://store.steampowered.com/friends/recommendgame';\r\n\tif ( navref )\r\n\t\tMakeNavCookie( navref, url );\r\n\r\n\t$J.post( url, {appid: appid, steamworksappid: steamworksappid, comment: comment, rated_up: rated_up, is_public: is_public, language: language, received_compensation: received_compensation, disable_comments: bDisableComments, sessionid: g_sessionID} )\r\n\t\t.done( function( data ) {\r\n\t\t\tif ( data && data.success )\r\n\t\t\t{\r\n\t\t\t\t$JFromIDOrElement(divToShowError).hide();\r\n\t\t\t\tonSuccessFunc();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t$JFromIDOrElement(divBtn).show();\r\n\t\t\t\tvar $Error = $JFromIDOrElement(divToShowError);\r\n\t\t\t\tif ( data && data.strError )\r\n\t\t\t\t{\r\n\t\t\t\t\tif ( !$Error.data( 'strOrigMessage' ) )\r\n\t\t\t\t\t\t$Error.data( 'strOrigMessage', $Error.html() );\r\n\t\t\t\t\t$Error.html( data.strError );\r\n\t\t\t\t}\r\n\t\t\t\telse if ( $Error.data( 'strOrigMessage' ) )\r\n\t\t\t\t\t$Error.html( $Error.data( 'strOrigMessage' ) );\r\n\t\t\t\t$Error.show();\r\n\t\t\t}\r\n\t\t} );\r\n}\r\n\r\n//hide a game from being recommended\r\nfunction HideRecommendation( type, itemid, divBtn, elemContainer )\r\n{\r\n\tvar parameters = { sessionid: g_sessionID };\r\n\r\n\tif ( type == 'app' )\r\n\t\tparameters.appid = itemid;\r\n\telse if ( type == 'sub' )\r\n\t\tparameters.subid = itemid;\r\n\telse\r\n\t{\r\n\t\t// invalid arguments\r\n\t\treturn false;\r\n\t}\r\n\r\n\t$(divBtn).hide();\r\n\r\n\tnew Ajax.Request( 'https://store.steampowered.com/recommended/ignorerecommendation/', {\r\n\t\tmethod: 'post',\r\n\t\tparameters: parameters,\r\n\t\tonSuccess: function( transport ) {\r\n\t\t\tif ( transport.responseJSON )\r\n\t\t\t{\r\n\t\t\t\tif ( $(elemContainer) )\r\n\t\t\t\t\t$(elemContainer).update( '<div class=\"recommendation_ignored\">好的，下一次，我们将会给您推荐别的内容</div>' );\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t$(divBtn).show();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\nvar g_OnWebPanelShownHandlers = Array();\r\nfunction SteamOnWebPanelShown()\r\n{\r\n\tfor ( var i = 0; i < g_OnWebPanelShownHandlers.length; i++ )\r\n\t{\r\n\t\tg_OnWebPanelShownHandlers[i]();\r\n\t}\r\n}\r\nfunction RegisterSteamOnWebPanelShownHandler( f )\r\n{\r\n\tg_OnWebPanelShownHandlers.push( f );\r\n}\r\n\r\nvar g_OnWebPanelHiddenHandlers = Array();\r\nfunction SteamOnWebPanelHidden()\r\n{\r\n\tfor( var i = 0; i < g_OnWebPanelHiddenHandlers.length; i++ )\r\n\t{\r\n\t\tg_OnWebPanelHiddenHandlers[i]();\r\n\t}\r\n}\r\nfunction RegisterSteamOnWebPanelHiddenHandler( f )\r\n{\r\n\tg_OnWebPanelHiddenHandlers.push( f );\r\n}\r\n\r\n\r\n$J( function() {\r\n\tInstrumentLinks();\r\n\r\n\t// add a jquery extension to handle our SNR stuff (we do this on load because jquery is included after this file)\r\n\tjQuery.fn.InstrumentLinks = function()\r\n\t{\r\n\t\tif ( this.is('a') )\r\n\t\t\tthis.each( function() { InstrumentLink( this ); } );\r\n\t\telse\r\n\t\t\tthis.find( 'a' ).each( function() { InstrumentLink( this ); } );\r\n\r\n\t\treturn this;\r\n\t};\r\n} );\r\n\r\nfunction ExtractSNR( href )\r\n{\r\n\tvar match = href.match( /[\\?&]snr=([^&]*)/ );\r\n\treturn match && match[1];\r\n}\r\n\r\nfunction ReplaceSNR( href, snr )\r\n{\r\n\treturn href.replace( /([\\?&]snr=)[^&]*/, '$1' + snr );\r\n}\r\n\r\n/**\r\n *\r\n * @param $Link\r\n * @param fnCallback\ttakes an SNR code, should return the new SNR code\r\n * @constructor\r\n */\r\nfunction ModifyLinkSNR( $Link, fnCallback )\r\n{\r\n\tvar href = $Link.attr('href');\r\n\tvar snr = href && ExtractSNR( href );\r\n\tif ( snr )\r\n\t{\r\n\t\t$Link.attr( 'href', ReplaceSNR( href, fnCallback( snr ) ) );\r\n\t}\r\n}\r\n\r\nfunction InstrumentLinks()\r\n{\r\n\t$J('A').each( function() { InstrumentLink( this ); } );\r\n}\r\n\r\nfunction InstrumentLink( link )\r\n{\r\n\tif ( link.bIsInstrumented )\r\n\t\treturn;\r\n\r\n\tvar bIsInstrumented = false;\r\n\t//  if the anchor uses javascript, then we don't want to monkey with any embedded URL's\r\n\tif ( !link.href.match( /^javascript/ ) )\r\n\t{\r\n\t\tvar navinfo = link.href.match( /[\\?&]snr=[^&]*(&|$)/ );\r\n\t\tif ( navinfo  )\r\n\t\t{\r\n\t\t\tbIsInstrumented = true;\r\n\t\t\t$J(link).click( function( event ) { InstrumentedLinkOnClick( event, link ); } );\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tvar outcinfo = link.href.match(/[\\?&]outc=([^&]*)(&|$)/);\r\n\t\t\tif ( outcinfo )\r\n\t\t\t{\r\n\t\t\t\tbIsInstrumented = true;\r\n\t\t\t\t$J(link).click( function (event) { InstrumentedLinkOnClick(event, link); } );\r\n\t\t\t}\r\n\t\t}\r\n\t\tif ( bIsInstrumented )\r\n\t\t{\r\n\t\t\tlink.bIsInstrumented = bIsInstrumented;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction InstrumentedLinkOnClick( event, link )\r\n{\r\n\tvar navinfo = link.href.match( /[\\?&]snr=([^&#]*)(&|$|#)/ );\r\n\tif ( navinfo )\r\n\t{\r\n\t\t\t}\r\n    var exprinfo = link.href.match( /[\\?&]outc=([^&#]*)(&|#|$)/ );\r\n    if ( exprinfo )\r\n    {\r\n        replacement = '';\r\n        if ( exprinfo[2] == '&' )\r\n            replacement = exprinfo[0][0];\r\n\t\telse\r\n\t\t\treplacement = navinfo[2];\r\n        link.href = link.href.replace( /[\\?&]outc=[^&#]*(&|#|$)/, replacement );\r\n        MakeOutcomeCookie( exprinfo[1], link.href );\r\n    }\r\n\r\n\treturn true;\r\n}\r\n\r\nfunction MakeNavCookie( snr, url )\r\n{\r\n\tvar dateExpires = new Date();\r\n\tdateExpires.setTime( dateExpires.getTime() + 1000 * 60 );\r\n\tdocument.cookie = 'snr=' + snr + '|' + encodeURIComponent( url ) +'; expires=' + dateExpires.toGMTString() + ';path=/';\r\n}\r\n\r\nfunction MakeOutcomeCookie( outc, url )\r\n{\r\n    var dateExpires = new Date();\r\n    dateExpires.setTime( dateExpires.getTime() + 1000 * 60 );\r\n    document.cookie = 'outc=' + outc +'; expires=' + dateExpires.toGMTString() + ';path=/';\r\n}\r\n\r\nfunction GetNavCookie()\r\n{\r\n    // get back the cookie that MakeNavCookie creates !\r\n    var ref = document.cookie.match( /\\ssnr=([^;]*);/ );\r\n    if ( ref )\r\n        return  ref[1];\r\n}\r\n\r\nvar g_iActiveSpotlight = 0;\r\n\r\nfunction AnimateSpotlightTransition( iCurSpotlight, iNextSpotlight )\r\n{\r\n\tvar $elSpotlights = $J('#spotlight_scroll').children();\r\n\tvar $Spotlight = $J( $elSpotlights[iCurSpotlight] );\r\n\tvar $NextSpotlight = $J( $elSpotlights[iNextSpotlight] );\r\n\r\n\tvar $Scroll = $JFromIDOrElement('spotlight_scroll');\r\n\t$Scroll.stop();\r\n\tvar curHeight = $Scroll.height();\r\n\r\n\t$Scroll.css( 'height', curHeight + 'px' );\r\n\r\n\t$Spotlight.css( 'position', 'absolute' );\r\n\t$NextSpotlight.css( 'position', 'absolute' );\r\n\r\n\tvar targetHeight = $NextSpotlight.height();\r\n\tif ( targetHeight != curHeight )\r\n\t\t$Scroll.animate( {height: targetHeight }, 250 );\r\n\r\n\t$Spotlight.stop();\r\n\t$Spotlight.fadeOut( 250 );\r\n\r\n\t$NextSpotlight.stop();\r\n\t$NextSpotlight.fadeTo( 200, 1.0 );\t//fadeTo rather than fadeIn in case it was already in a fade\r\n}\r\n\r\nfunction NextSpotlight( cMaxSpotlights )\r\n{\r\n\tif ( g_iActiveSpotlight + 1 >= cMaxSpotlights )\r\n\t\treturn;\r\n\tAnimateSpotlightTransition( g_iActiveSpotlight, ++g_iActiveSpotlight );\r\n\tUpdateSpotlightControls( cMaxSpotlights );\r\n}\r\n\r\nfunction expandTXItem( item )\r\n{\r\n\tvar blurb = $( item ).down( '.tx_record_row_blurb' );\r\n\r\n\tif ( !blurb )\r\n\t\treturn;\r\n\r\n\tif ( blurb.visible() )\r\n\t\tEffect.BlindUp( blurb, { duration: 0.25 } );\r\n\telse\r\n\t\tEffect.BlindDown( blurb, { duration: 0.25 } )\r\n}\r\n\r\nfunction PrevSpotlight( cMaxSpotlights )\r\n{\r\n\tif ( g_iActiveSpotlight <= 0 )\r\n\t\treturn;\r\n\tAnimateSpotlightTransition( g_iActiveSpotlight, --g_iActiveSpotlight );\r\n\tUpdateSpotlightControls( cMaxSpotlights );\r\n}\r\n\r\nfunction UpdateSpotlightControls( cMaxSpotlights )\r\n{\r\n\tif ( g_iActiveSpotlight < cMaxSpotlights - 1 )\r\n\t\t$JFromIDOrElement('spotlight_scroll_next').removeClass( 'disabled' );\r\n\telse\r\n\t\t$JFromIDOrElement('spotlight_scroll_next').addClass( 'disabled' );\r\n\r\n\tif ( g_iActiveSpotlight > 0 )\r\n\t\t$JFromIDOrElement('spotlight_scroll_prev').removeClass( 'disabled' );\r\n\telse\r\n\t\t$JFromIDOrElement('spotlight_scroll_prev').addClass( 'disabled' );\r\n\r\n\t$J('#spotlight_scroll_count_cur').text( g_iActiveSpotlight + 1 );\r\n}\r\n\r\nfunction InitDailyDealTimer( elTimer, nServerEndTime )\r\n{\r\n\tvar nTimeRemaining = nServerEndTime - g_ServerTime;\r\n\tif ( nTimeRemaining > 0 )\r\n\t{\r\n\t\tvar nEndTimeLocal = Math.round( new Date().getTime() / 1000 ) + nTimeRemaining;\r\n\t\tnew Countdown( elTimer, nEndTimeLocal );\r\n\t}\r\n}\r\n\r\nvar CCountdownManager = {\r\n\trgCountdowns: [],\r\n\tnIntervalId: null,\r\n\tbRefreshOnTimerEnd: false,\r\n\r\n\ttsInit: 0,\r\n\tbReadyForRefresh: false,\r\n\tbTriggeredRefresh: false,\r\n\r\n\tregisterCountdown: function( countdown )\r\n\t{\r\n\t\tthis.rgCountdowns.push( countdown );\r\n\t\tif ( !this.nIntervalId )\r\n\t\t{\r\n\t\t\tthis.nIntervalId = window.setInterval( this.refreshClocks.bind( this ), 1000 );\r\n\t\t\tthis.tsInit = Math.round( new Date().getTime() / 1000 );\r\n\t\t}\r\n\t},\r\n\r\n\trefreshClocks: function()\r\n\t{\r\n\t\tfor ( var i = 0; i < this.rgCountdowns.length; i++ )\r\n\t\t{\r\n\t\t\tvar countdown = this.rgCountdowns[i];\r\n\t\t\tif ( countdown.bEnded )\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tthis.rgCountdowns[i].refreshClock();\r\n\t\t\tif ( countdown.bEnded && this.bRefreshOnTimerEnd )\r\n\t\t\t\tthis.refreshOnUserAction();\r\n\t\t}\r\n\t},\r\n\r\n\trefreshOnUserAction: function()\r\n\t{\r\n\t\t// if a few seconds have passed, we'll refresh\r\n\t\tif ( !this.bReadyForRefresh && Math.round( new Date().getTime() / 1000 ) - this.tsInit >= 5 )\r\n\t\t{\r\n\t\t\tvar _this = this;\r\n\t\t\t$J(document).on( 'focus mousemove', function() { _this.doRefresh(); } );\r\n\t\t\tthis.bReadyForRefresh = true;\r\n\t\t}\r\n\t},\r\n\r\n\tdoRefresh: function()\r\n\t{\r\n\t\tif ( !this.bTriggeredRefresh )\r\n\t\t{\r\n\t\t\tthis.bTriggeredRefresh = true;\r\n\t\t\twindow.location.reload();\r\n\t\t}\r\n\t}\r\n};\r\n\r\nfunction Countdown( elClock, nEndTimeLocalTime )\r\n{\r\n\tthis.$Clock = $JFromIDOrElement( elClock );\r\n\tthis.nEndTime = nEndTimeLocalTime;\r\n\tthis.bEnded = false;\r\n\tthis.cbkExpired = null;\r\n\r\n\tif ( this.$Clock.length && nEndTimeLocalTime )\r\n\t{\r\n\t\tthis.refreshClock();\r\n\t\tCCountdownManager.registerCountdown(this);\r\n\t}\r\n}\r\n\r\nCountdown.prototype.setCallback = function( cbkExpired )\r\n{\r\n\tthis.cbkExpired = cbkExpired;\r\n};\r\n\r\nCountdown.prototype.refreshClock = function()\r\n{\r\n\tif ( this.bEnded )\r\n\t\treturn;\r\n\r\n\tvar timeCur = Math.round( new Date().getTime() / 1000 );\r\n\tvar secsRemaining = this.nEndTime - timeCur;\r\n\r\n\tif ( secsRemaining < 0 )\r\n\t{\r\n\t\tthis.bEnded = true;\r\n\t\tsecsRemaining = 0;\r\n\t}\r\n\r\n\tvar remainDays = Math.floor( secsRemaining / 86400 );\r\n\tvar remainHours = Math.floor( ( secsRemaining % 86400 ) / 3600 );\r\n\tvar remainMinutes = Math.floor( ( secsRemaining % 3600 ) / 60 );\r\n\tvar remainSeconds = secsRemaining % 60;\r\n\r\n\tif ( this.cbkExpired && secsRemaining < 1 )\r\n\t{\r\n\t\tthis.cbkExpired();\r\n\t\tthis.cbkExpired = null;\r\n\t}\r\n\r\n\tthis.render( remainDays, remainHours, remainMinutes, remainSeconds );\r\n};\r\n\r\nCountdown.prototype.render = function( remainDays, remainHours, remainMinutes, remainSeconds )\r\n{\r\n\tvar str = '';\r\n\tif ( remainDays < 3 )\r\n\t{\r\n\t\tremainHours += remainDays * 24;\r\n\t}\r\n\telse\r\n\t{\r\n\t\tstr += remainDays + ' 天 ';\r\n\t}\r\n\tstr += (remainHours < 10 ? '0' : '') + remainHours + ':';\r\n\tstr += (remainMinutes < 10 ? '0' : '') + remainMinutes + ':';\r\n\tstr += (remainSeconds < 10 ? '0' : '') + remainSeconds;\r\n\tthis.$Clock.text( str );\r\n};\r\n\r\nfunction GraphicalCountdown( nEndTimeLocalTime, strImagePath, strElPrefix )\r\n{\r\n\tthis.strImagePath = strImagePath;\r\n\tthis.strElPrefix = strElPrefix;\r\n\tthis.strExtension = '.png';\r\n\tthis.rgLastVals = {};\r\n\tCountdown.apply( this, [ null, nEndtimeLocalTime ] );\r\n}\r\nGraphicalCountdown.prototype = new Countdown;\r\nGraphicalCountdown.prototype.constructor = GraphicalCountdown;\r\n\r\nGraphicalCountdown.prototype.render = function( remainDays, remainHours, remainMinutes, remainSeconds )\r\n{\r\n\tremainHours += remainDays * 24;\r\n\tthis.setImage( 'hours_tens', Math.floor( remainHours / 10 ) );\r\n\tthis.setImage( 'hours_units', remainHours % 10 );\r\n\tthis.setImage( 'minutes_tens', Math.floor( remainMinutes / 10 ) );\r\n\tthis.setImage( 'minutes_units', remainMinutes % 10 );\r\n\tthis.setImage( 'seconds_tens', Math.floor( remainSeconds / 10 ) );\r\n\tthis.setImage( 'seconds_units', remainSeconds % 10 );\r\n};\r\n\r\nGraphicalCountdown.prototype.setImage = function( idSuffix, val )\r\n{\r\n\tif ( this.rgLastVals[idSuffix] != val )\r\n\t{\r\n\t\t$(this.strElPrefix + idSuffix).src = this.strImagePath + val + this.strExtension;\r\n\t\tthis.rgLastVals[idSuffix] = val;\r\n\t}\r\n};\r\n\r\n\r\n// SEARCH.JS\r\n\r\nvar g_oSuggestParams;\r\n\r\nfunction EnableSearchSuggestions( elemTerm, navcontext, cc, realm, l, rgUserPreferences, strPackageXMLVersion, elemSuggestionCtn, elemSuggestions )\r\n{\r\n\tvar $Term = $JFromIDOrElement(elemTerm);\r\n\tvar $SuggestionsCtn = elemSuggestionCtn ? $JFromIDOrElement(elemSuggestionCtn) : $J('#searchterm_options');\r\n\tvar $Suggestions = elemSuggestions ? $JFromIDOrElement(elemSuggestions) : $J('#search_suggestion_contents');\r\n\r\n\t$Term.parents('div.searchbox').click( function( event ) {\r\n\t\tif ( event.target && event.target.tagName != 'INPUT' )\r\n\t\t\t$J(elemTerm).focus();\r\n\t});\r\n\r\n\t// how long we wait after the first keypress after a search or page load\r\n\tvar k_nStartSearchTimeoutMS = 350;\r\n\r\n\t// how long we extend the wait after each keypress.  We always time out at 3x the base search timeout ms\r\n\tvar k_nSearchKeypressTimeoutExtensionMS = 125;\r\n\r\n\tvar sLastVal = $Term.val();\r\n\tvar nTermTimer = 0;\r\n\tvar tsScheduledTimer = 0;\r\n\tvar tsLastSearch = 0;\r\n\t$Term.on( 'keyup paste', function( event ) {\r\n\t\tvar sNewVal = $Term.val();\r\n\t\tif ( sNewVal != sLastVal )\r\n\t\t{\r\n\t\t\tvar tsChange = $J.now();\r\n\t\t\tvar msDelayBeforeTimeout = k_nStartSearchTimeoutMS;\r\n\t\t\tif ( !tsLastSearch )\r\n\t\t\t\ttsLastSearch = tsChange;\r\n\r\n\t\t\tif ( nTermTimer && tsScheduledTimer - tsChange < k_nSearchKeypressTimeoutExtensionMS && tsChange - tsLastSearch < 3 * k_nStartSearchTimeoutMS )\r\n\t\t\t{\r\n\t\t\t\t// we have one scheduled within 50ms, just bump it out a little\r\n\t\t\t\tmsDelayBeforeTimeout = k_nSearchKeypressTimeoutExtensionMS;\r\n\t\t\t\twindow.clearTimeout( nTermTimer );\r\n\t\t\t\tnTermTimer = 0;\r\n\t\t\t}\r\n\r\n\t\t\tif ( !nTermTimer )\r\n\t\t\t{\r\n\t\t\t\ttsScheduledTimer = $J.now() + msDelayBeforeTimeout;\r\n\t\t\t\tnTermTimer = window.setTimeout( function() {\r\n\t\t\t\t\tnTermTimer = 0;\r\n\t\t\t\t\ttsLastSearch = 0;\r\n\t\t\t\t\tsLastVal = $Term.val();\r\n\t\t\t\t\tSearchTimeout( $Term, v_trim( sLastVal ), $SuggestionsCtn, $Suggestions );\r\n\t\t\t\t}, msDelayBeforeTimeout);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t$Term.on( 'keydown', function( event ) { SearchSuggestOnKeyDown( event, $Term, $SuggestionsCtn, $Suggestions ); } );\r\n\t$Term.on( 'click focus', function( event ) { SearchSuggestClearDefaultSearchText( $Term, $SuggestionsCtn, $Suggestions ); } );\r\n\t$Term.on( 'blur', function( event ) { SearchSuggestSetDefaultSearchText( $Term, $SuggestionsCtn, $Suggestions ); } );\r\n\tg_oSuggestParams = {\r\n\t\tcc: cc,\r\n\t\trealm: realm,\r\n\t\tl:l,\r\n\t\texcluded_tags: rgUserPreferences['excluded_tags'],\r\n\t\texcluded_content_descriptors: rgUserPreferences['excluded_content_descriptors'],\r\n\t\tv: strPackageXMLVersion\r\n\t}\r\n}\r\nfunction SearchTimeout( $Term, value, $SuggestionsCtn, $Suggestions )\r\n{\r\n\tif ( value )\r\n\t{\r\n\t\tvar parameters = {term: value, f: 'games' };\r\n\t\t$J.extend( parameters, g_oSuggestParams );\r\n\t\t$J.get( 'https://store.steampowered.com/search/suggest', parameters).done( function( html ) {\r\n\t\t\t$Suggestions.html( html );\r\n\t\t\t$Suggestions.InstrumentLinks();\r\n\t\t\t$Suggestions.find('.match').attr('data-ds-options', 0);\r\n\t\t\tGDynamicStore.DecorateDynamicItems( $Suggestions );\r\n\t\t\t$Suggestions.find('a.match').each( function () {\r\n\t\t\t\tvar el = this;\r\n\t\t\t\t$J(el).on( 'mouseover', function( event ) { SearchSuggestOnMouseOver( event, $J(el) ); } );\r\n\t\t\t} );\r\n\t\t\tShowSuggestionsAsNecessary( false, $SuggestionsCtn, $Suggestions );\r\n\t\t} );\r\n\t}\r\n\telse\r\n\t{\r\n\t\t$Suggestions.empty();\r\n\t\tShowSuggestionsAsNecessary( false, $SuggestionsCtn, $Suggestions );\r\n\t}\r\n}\r\n\r\nfunction ShowSuggestionsAsNecessary( bForceHide, $SuggestionsCtn, $Suggestions )\r\n{\r\n\tif ( $Suggestions.children().length > 0 && !bForceHide )\r\n\t{\r\n\t\tShowWithFade( $SuggestionsCtn );\r\n\t}\r\n\telse\r\n\t{\r\n\t\tHideWithFade( $SuggestionsCtn );\r\n\t}\r\n}\r\nfunction SearchSuggestOnKeyDown( event, $Term, $SuggestionsCtn, $Suggestions )\r\n{\r\n\tif ( event.keyCode == 27 /* Event.KEY_ESC */ )\r\n\t{\r\n\t\tShowSuggestionsAsNecessary( true, $SuggestionsCtn, $Suggestions );\r\n\t}\r\n\telse if ( event.keyCode == 13 /* Event.KEY_RETURN */\r\n\t\t|| event.keyCode == 38 /* Event.KEY_UP */\r\n\t\t|| event.keyCode == 40 /* Event.KEY_DOWN */ )\r\n\t{\r\n\t\tif ( !$SuggestionsCtn.is( ':visible' ) )\r\n\t\t\treturn;\r\n\r\n\t\tvar $CurSuggestion = $Suggestions.children('.focus');\r\n\t\tvar $NewSuggestion = $J();\r\n\r\n\t\tif ( event.keyCode == 13 /* Event.KEY_RETURN */ )\r\n\t\t{\r\n\t\t\tif ( $CurSuggestion.length )\r\n\t\t\t{\r\n\t\t\t\twindow.location = $CurSuggestion.attr( 'href' );\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif ( event.keyCode == 38 /* Event.KEY_UP */ )\r\n\t\t\t{\r\n\t\t\t\tif ( $CurSuggestion.length )\r\n\t\t\t\t\t$NewSuggestion = $CurSuggestion.prev();\r\n\t\t\t\tif ( !$NewSuggestion.length )\r\n\t\t\t\t\t$NewSuggestion = $Suggestions.children('a.match:last-child');\r\n\t\t\t}\r\n\t\t\telse if ( event.keyCode == 40 /* Event.KEY_DOWN */ )\r\n\t\t\t{\r\n\t\t\t\tif ( $CurSuggestion.length )\r\n\t\t\t\t\t$NewSuggestion = $CurSuggestion.next();\r\n\t\t\t\tif ( !$NewSuggestion.length )\r\n\t\t\t\t\t$NewSuggestion = $Suggestions.children('a.match:first-child');\r\n\t\t\t}\r\n\r\n\t\t\tif ( $NewSuggestion.length  )\r\n\t\t\t{\r\n\t\t\t\t$CurSuggestion.removeClass( 'focus' );\r\n\t\t\t\t$NewSuggestion.addClass('focus');\r\n\t\t\t}\r\n\r\n\t\t\t//client webkit will move cursor on up/down\r\n\t\t\tevent.preventDefault();\r\n\t\t}\r\n\r\n\t}\r\n}\r\nfunction SearchSuggestOnMouseOver( event, $Suggestion )\r\n{\r\n\t$Suggestion.siblings().removeClass( 'focus');\r\n\t$Suggestion.addClass( 'focus' );\r\n}\r\n\r\nfunction SearchSuggestClearDefaultSearchText( $Term, $SuggestionsCtn, $Suggestions )\r\n{\r\n\tShowSuggestionsAsNecessary( false, $SuggestionsCtn, $Suggestions );\r\n\tSearchSuggestClearFixStyles($Term);\r\n}\r\n\r\nfunction SearchSuggestClearFixStyles($Term)\r\n{\r\n\t$Term.removeClass( 'default' );\r\n}\r\n\r\nfunction SearchSuggestSetDefaultSearchText( $Term, $SuggestionsCtn, $Suggestions )\r\n{\r\n\tShowSuggestionsAsNecessary( true, $SuggestionsCtn, $Suggestions );\r\n\tSearchSuggestSetFixStyles($Term);\r\n}\r\n\r\nfunction SearchSuggestSetFixStyles($Term)\r\n{\r\n\tvar text = $Term.val();\r\n\tif (text == '')\r\n\t{\r\n\t\t$Term.addClass( 'default' );\r\n\t}\r\n}\r\n\r\nfunction SearchSuggestCheckTerm( theform )\r\n{\r\n\t// no longer need to check for #text_search_the_store, but leaving here\r\n\t// in case we have other things we want to block in the future.\r\n\treturn true;\r\n}\r\n\r\n// HEADER.JS\r\n\r\n// We always want to have the timezone cookie set for PHP to use\r\nsetTimezoneCookies();\r\n\r\n\r\n// tags in the menu\r\nfunction EnsureStoreMenuTagsLoaded( strId )\r\n{\r\n\t// dynamic store can handle this in v6\r\n\tif ( typeof GDynamicStore != 'undefined' )\r\n\t\treturn;\r\n\r\n\tvar $Element = $J(strId);\r\n\tif ( !$Element.data('tags-loaded') )\r\n\t{\r\n\t\t$Element.data('tags-loaded', true );\r\n\r\n\t\tvar url = 'https://store.steampowered.com/tagdata/recommendedtags';\r\n\r\n\t\t$J.get( url, {ll: 'schinese'} ).done( function( data ) {\r\n\t\t\tvar rgYourPopularTags = data || [];\r\n\t\t\tif ( rgYourPopularTags.length > 0 )\r\n\t\t\t{\r\n\t\t\t\t$Element.empty();\r\n\t\t\t\t$Element.css( 'min-height', '' );\r\n\t\t\t\tfor( var i = 0; i < rgYourPopularTags.length && i < 5; i++ )\r\n\t\t\t\t{\r\n\t\t\t\t\tvar tag = rgYourPopularTags[i];\r\n\t\t\t\t\tvar $Link = $J('<a/>', {'class': 'popup_menu_item', 'href': 'https://store.steampowered.com/tag/zh-cn/' + encodeURIComponent( tag.name ) });\r\n\t\t\t\t\t$Link.text( tag.name );\r\n\t\t\t\t\t$Element.append( $Link );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}).fail( function() {\r\n\t\t}).always( function() {\r\n\t\t\t$Element.children( '.popup_menu_subarea').show();\r\n\t\t});\r\n\t}\r\n}\r\n\r\n\r\nfunction AddFreeLicense( subid, strDisplayName )\r\n{\r\n\tif ( window.g_bAddFreeLicenseInFlight )\r\n\t\treturn;\r\n\r\n\twindow.g_bAddFreeLicenseInFlight = true;\r\n\r\n\tvar posts = [];\r\n\tvar subids = ( typeof subid == \"number\" || typeof subid == \"string\" ? [ subid ] : subid );\r\n\r\n\tfor ( var i = 0; i < subids.length; i++ )\r\n\t{\r\n\t\tposts.push( $J.post( 'https://store.steampowered.com/checkout/addfreelicense/' + subids[i], { ajax: true, sessionid: g_sessionID }) );\r\n\t}\r\n\r\n\t$J.when.apply( $J, posts ).done( function() {\r\n\t\tShowAlertDialog(\r\n\t\t\tstrDisplayName,\r\n\t\t\t'%s 已经被添加至您的帐户。它已在您的 Steam 库中可用。'.replace( /%s/, strDisplayName )\r\n\t\t).done( function() {\r\n\t\t\twindow.location.reload();\r\n\t\t});\r\n\t\tif ( typeof GDynamicStore != 'undefined' )\r\n\t\t\tGDynamicStore.InvalidateCache();\r\n\t}).fail( function( jqXHR ) {\r\n\t\tvar data = V_ParseJSON( jqXHR.responseText );\r\n\t\tif ( data && data.purchaseresultdetail == 9 )\r\n\t\t\tShowAlertDialog( strDisplayName, '该产品已在您的 Steam 库中可用。' );\r\n\t\telse\r\n\t\t\tShowAlertDialog( strDisplayName, '添加该产品至您的帐户时出现问题。请稍后再试。' );\r\n\t}).always( function () {\r\n\t\tdelete window.g_bAddFreeLicenseInFlight;\r\n\t});\r\n}\r\n\r\n\r\nfunction AddFreeBundle( bundleid, strDisplayName )\r\n{\r\n\tif ( window.g_bAddFreeLicenseInFlight )\r\n\t\treturn;\r\n\r\n\twindow.g_bAddFreeLicenseInFlight = true;\r\n\r\n\tvar posts = [];\r\n\tposts.push( $J.post( 'https://store.steampowered.com/checkout/addfreebundle/' + bundleid, { ajax: true, sessionid: g_sessionID }) );\r\n\r\n\t$J.when.apply( $J, posts ).done( function() {\r\n\t\tShowAlertDialog(\r\n\t\t\tstrDisplayName,\r\n\t\t\t'%s 已经被添加至您的帐户。它已在您的 Steam 库中可用。'.replace( /%s/, strDisplayName )\r\n\t\t).done( function() {\r\n\t\t\twindow.location.reload();\r\n\t\t});\r\n\t\tif ( typeof GDynamicStore != 'undefined' )\r\n\t\t\tGDynamicStore.InvalidateCache();\r\n\t}).fail( function( jqXHR ) {\r\n\t\tvar data = V_ParseJSON( jqXHR.responseText );\r\n\t\tif ( data && data.purchaseresultdetail == 9 )\r\n\t\t\tShowAlertDialog( strDisplayName, '该产品已在您的 Steam 库中可用。' );\r\n\t\telse\r\n\t\t\tShowAlertDialog( strDisplayName, '添加该产品至您的帐户时出现问题。请稍后再试。' );\r\n\t}).always( function () {\r\n\t\tdelete window.g_bAddFreeLicenseInFlight;\r\n\t});\r\n}\r\n\r\n\r\nfunction ChangeLanguage( strTargetLanguage, bStayOnPage )\r\n{\r\n\tvar Modal = ShowBlockingWaitDialog( '更改语言', '' );\r\n\t$J.post( 'https://store.steampowered.com/account/setlanguage/', {language: strTargetLanguage, sessionid: g_sessionID })\r\n\t.done( function() {\r\n\t\tif ( bStayOnPage )\r\n\t\t\tModal.Dismiss();\r\n\t\telse\r\n\t\t{\r\n\t\t\t\t\t\tif( typeof g_AccountID  != 'undefined' && g_AccountID > 0 )\r\n\t\t\t\twindow.location = 'https://store.steampowered.com/account/languagepreferences/';\r\n\t\t\telse if ( window.location.href.match( /[?&]l=/ ) )\r\n\t\t\t\twindow.location = window.location.href.replace( /([?&])l=[^&]*&?/, '$1' );\r\n\t\t\telse\r\n\t\t\t\twindow.location.reload();\r\n\t\t}\r\n\t}).fail( function() {\r\n\t\tModal.Dismiss();\r\n\t\tShowAlertDialog( '更改语言', '在保存您的更改时出现问题。请稍后重试。' );\r\n\t});\r\n}\r\n\r\nfunction Logout()\r\n{\r\n\tvar $Form = $J('<form/>', {'action': 'https://store.steampowered.com/logout/', 'method': 'POST' } );\r\n\t$Form.append( $J('<input/>', {'type': 'hidden', 'name': 'sessionid', 'value': g_sessionID } ) );\r\n\t$Form.appendTo( 'body' );\r\n\t$Form.submit();\r\n}\r\n\r\nfunction getBestAvailNavData()\r\n{\r\n\tvar navData = jQuery.data( document, 'x_oldnav' );\r\n\tif ( navData == undefined )\r\n\t{\r\n\t\tnavData = jQuery.data( document, 'x_oldref' );\r\n\t}\r\n\tif ( navData === undefined )\r\n\t{\r\n\t\t// try to get what we need from the URL !\r\n\t\tvar rg = window.location.href.match( /[\\?&]snr=([^\\?&]*)($|&)/ );\r\n\t\tif ( rg )\r\n\t\t{\r\n\t\t\tnavData = rg[1];\r\n\t\t}\r\n\t}\r\n\treturn  navData;\r\n}\r\n\r\n// Function to add a package to a cart, assumes form setup on the page\r\nfunction addToCart( subid, dedupe )\r\n{\r\n\ttry\r\n\t{\r\n\t\t// Find all of the add to cart buttons displayed on the page\r\n\t\tvar filterAllButtons='a.btn_addtocart_content';\r\n\t\t// the filterString can be used to find the element that invoked us, since the subid appears within it\r\n\t\t// note that href*= specifies that href contains the string\r\n\t\tvar filterString = 'a[href*=' + subid + ']';\r\n\t\t// within the set of all buttons, get the index of the one that we are dealing with!\r\n\t\t// To do that, we find the anchor that invoked us within the larger set of add to cart buttons!\r\n\t\tvar allButtons = jQuery( filterAllButtons );\r\n\r\n\t\t// Check for quantity\r\n\t\tvar idx = ( dedupe !== undefined ) ? dedupe : 0;\r\n\t\tvar filterStringForm = 'form[name=add_to_cart_'+subid+']';\r\n\t\tvar $Form = jQuery( filterStringForm );\r\n\r\n\t\tif ( !$Form.length )\r\n\t\t{\r\n\t\t\t$Form= $J('<form/>', { name: 'add_to_cart_' + subid, action: 'https://store.steampowered.com/cart/', method: 'POST', style: 'display: none;' } );\r\n\t\t\t$Form.append( $J('<input/>', { type: 'hidden', name: 'action', value: 'add_to_cart' } ) );\r\n\t\t\t$Form.append( $J('<input/>', { type: 'hidden', name: 'subid', value: subid } ) );\r\n\t\t\t$Form.append( $J('<input/>', { type: 'hidden', name: 'sessionid', value: g_sessionID } ) );\r\n\r\n\t\t\tif ( typeof GStoreItemData !== 'undefined' )\r\n\t\t\t\t$Form.append( $J('<input/>', { type: 'hidden', name: 'snr', value: GStoreItemData.GetCurrentPageNavParams() } ) );\r\n\r\n\t\t\t$J(document.body).append( $Form );\r\n\t\t}\r\n\r\n\t\tvar quantity = jQuery( '#quantity_update_'+subid+'_'+idx ).val();\r\n\t\tif ( quantity !== undefined )\r\n\t\t{\r\n\t\t\tjQuery('<input type=\"hidden\">').attr({name: 'quantity', 'value': quantity}).appendTo($Form);\r\n\t\t}\r\n\r\n\t\t// do we have anything to examine?\r\n\t\tif ( allButtons.length > 0 )\r\n\t\t{\r\n\r\n\t\t\tvar navData = getBestAvailNavData();\r\n\t\t\tvar button;\r\n\t\t\tvar buttonOffset = { top : 0, left : 0 };\r\n\t\t\tvar buttonIndex = allButtons.index( jQuery( filterString ) );\r\n\t\t\t//\r\n\t\t\t//  Subscription pages have ambiguous add to cart buttons - we will try to 'dedupe' it !\r\n\t\t\t//\r\n\t\t\tif ( buttonIndex === -1 )\r\n\t\t\t{\r\n\t\t\t\tif ( dedupe !== undefined )\r\n\t\t\t\t{\r\n\t\t\t\t\tbuttonIndex = dedupe;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\t//  There is a chance this we're mistaken if the .php generation of the page\r\n\t\t\t\t\t//  didn't generate the addToCart() calls as we expect !\r\n\t\t\t\t\tbuttonIndex = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\t\t\tbutton = allButtons.eq(buttonIndex);\r\n\r\n\t\t\t//\r\n\t\t\t//  If we are certain we know what button was clicked, then we'll provide info on the form!\r\n\t\t\t//\r\n\t\t\tif ( button != null &&  button.length === 1 && typeof button.offset == 'function' )\r\n\t\t\t{\r\n\t\t\t\tbuttonOffset = button.offset();\r\n\t\t\t\tvar height = jQuery(window).height();\r\n\t\t\t\tvar width = jQuery(window).width();\r\n\t\t\t\t//\r\n\t\t\t\t//  We have all the components we want the standard button to submit to the server!\r\n\t\t\t\t//  we will now add input fields to the form we intend to submit.\r\n\t\t\t\t//\r\n\r\n\t\t\t\tvar begintime = jQuery.data(document, 'x_readytime');\r\n\r\n\t\t\t\tvar selecttime = 0.0;\r\n\t\t\t\tif ( begintime !== undefined )\r\n\t\t\t\t{\r\n\t\t\t\t\tselecttime = new Date().getTime() - begintime;\r\n\t\t\t\t}\r\n\t\t\t\tif ( $Form.length === 1 )\r\n\t\t\t\t{\r\n\t\t\t\t\t//  We include the 'hidden' attribute at this point, because of a believe compatibility issue with Internet Explorer!\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_selection', 'value' : buttonIndex } ).appendTo( $Form  );\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_choices', 'value' : allButtons.length } ).appendTo( $Form );\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_top', 'value' : buttonOffset.top } ).appendTo( $Form  );\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_left', 'value' : buttonOffset.left } ).appendTo( $Form );\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_window_height', 'value' : height } ).appendTo( $Form );\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_window_width', 'value' : width } ).appendTo( $Form );\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_select_time', 'value' : selecttime } ).appendTo( $Form );\r\n\t\t\t\t\tif ( navData )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar pipeSplit = new RegExp( /\\|/ );\r\n\t\t\t\t\t\tvar resultString = navData.split( pipeSplit )[0];\r\n\t\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_oldnav', 'value' : resultString } ).appendTo( $Form );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tcatch( e )\r\n\t{\r\n\t\t//console.log( e );\r\n\t\t\t}\r\n\t// Regardless of instrumentation failures, try to submit the form for the user.\r\n\ttry\r\n\t{\r\n\t\t$Form.submit();\r\n\t}\r\n\tcatch( e )\r\n\t{\r\n\t\t// swallow exceptions !\r\n\t}\r\n\r\n}\r\n\r\n// Function to handle quantity box changes per keystroke, largely to show error style if above max quantity\r\nfunction qtyBoxInputChanged( sIdSuffix, sAddToCartID )\r\n{\r\n\tlet elField = jQuery( \"#quantity_update_\" + sIdSuffix );\r\n\tlet elCartButton = jQuery( \"#\" + sAddToCartID );\r\n\tlet elUpdateButton = jQuery( \"#btn_quantity_update_\" + sIdSuffix );\r\n\r\n\ttry\r\n\t{\r\n\t\tlet sQty = elField.val();\r\n\t\tlet sQtyMax = elField.attr( 'max' );\r\n\t\tlet nQty = parseInt( sQty );\r\n\t\tlet nQtyMax = parseInt( sQtyMax );\r\n\r\n\t\tconst sDisabledClass = 'btn_disabled';\r\n\t\tconst sInvalidClass = 'qty_invalid';\r\n\r\n\t\tif ( nQty !== undefined )\r\n\t\t{\r\n\t\t\tif ( ( nQtyMax === undefined || isNaN( nQtyMax ) ) || ( !isNaN( nQty ) && nQty > 0 && nQty <= nQtyMax ) )\r\n\t\t\t{\r\n\t\t\t\telField.removeClass( sInvalidClass );\r\n\t\t\t\telCartButton.removeClass( sDisabledClass );\r\n\t\t\t\telCartButton.prop( 'disabled', false );\r\n\t\t\t\telUpdateButton.prop( 'disabled', false );\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\telField.addClass( sInvalidClass );\r\n\t\t\t\telCartButton.addClass( sDisabledClass );\r\n\t\t\t\telCartButton.prop( 'disabled', true );\r\n\t\t\t\telUpdateButton.prop( 'disabled', true );\r\n\t\t\t}\r\n\r\n\t\t\telUpdateButton.show();\r\n\t\t}\r\n\t}\r\n\tcatch( e )\r\n\t{\r\n\t\t// ignore\r\n\t}\r\n}\r\n\r\n// Function to add a package to a cart, assumes form setup on the page\r\nfunction updateQtyCart( formName, id )\r\n{\r\n\ttry\r\n\t{\r\n\t\t// Check for quantity\r\n\t\tvar quantity = jQuery( '#'+id ).val();\r\n\t\tif ( quantity !== undefined )\r\n\t\t{\r\n\t\t\tvar filterStringForm = 'form[name='+formName+']';\r\n\t\t\tvar formSelector = jQuery( filterStringForm );\r\n\t\t\tif ( formSelector.length === 1 )\r\n\t\t\t{\r\n\t\t\t\tjQuery('<input type=\"hidden\">').attr({name: 'quantity', 'value': quantity}).appendTo(formSelector);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tcatch( e )\r\n\t{\r\n\t\t//console.log( e );\r\n\t\t}\r\n\t// Regardless of instrumentation failures, try to submit the form for the user.\r\n\ttry\r\n\t{\r\n\t\tdocument.forms[formName].submit();\r\n\t}\r\n\tcatch( e )\r\n\t{\r\n\t\t// swallow exceptions !\r\n\t}\r\n\r\n}\r\n\r\n// Function to add a bundle to a cart, assumes form setup on the page\r\nfunction addBundleToCart( bundleid, dedupe )\r\n{\r\n\ttry\r\n\t{\r\n\t\t// Find all of the add to cart buttons displayed on the page\r\n\t\tvar filterAllButtons='a.btn_addtocart_content';\r\n\t\t// the filterString can be used to find the element that invoked us, since the subid appears within it\r\n\t\t// note that href*= specifies that href contains the string\r\n\t\tvar filterString = 'a[href*=' + bundleid + ']';\r\n\t\t// within the set of all buttons, get the index of the one that we are dealing with!\r\n\t\t// To do that, we find the anchor that invoked us within the larger set of add to cart buttons!\r\n\t\tvar allButtons = jQuery( filterAllButtons );\r\n\r\n\r\n\t\tvar filterStringForm = 'form[name=add_bundle_to_cart_'+bundleid+']';\r\n\t\tvar $Form = jQuery( filterStringForm );\r\n\r\n\t\tif ( !$Form.length )\r\n\t\t{\r\n\t\t\t$Form= $J('<form/>', { name: 'add_bundle_to_cart_' + bundleid, action: 'https://store.steampowered.com/cart/', method: 'POST', style: 'display: none;' } );\r\n\t\t\t$Form.append( $J('<input/>', { type: 'hidden', name: 'action', value: 'add_to_cart' } ) );\r\n\t\t\t$Form.append( $J('<input/>', { type: 'hidden', name: 'bundleid', value: bundleid } ) );\r\n\t\t\t$Form.append( $J('<input/>', { type: 'hidden', name: 'sessionid', value: g_sessionID } ) );\r\n\r\n\t\t\t$J(document.body).append( $Form );\r\n\t\t}\r\n\r\n\t\t// Check for quantity\r\n\t\tvar idx = ( dedupe !== undefined ) ? dedupe : 0;\r\n\t\tvar quantity = jQuery( '#quantity_update_'+bundleid+'_'+idx ).val();\r\n\t\tif ( quantity !== undefined )\r\n\t\t{\r\n\t\t\tif ( $Form.length === 1 )\r\n\t\t\t{\r\n\t\t\t\tjQuery('<input type=\"hidden\">').attr({name: 'quantity', 'value': quantity}).appendTo($Form);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// do we have anything to examine?\r\n\t\tif ( allButtons.length > 0 )\r\n\t\t{\r\n\r\n\t\t\tvar navData = getBestAvailNavData();\r\n\t\t\tvar button;\r\n\t\t\tvar buttonOffset = { top : 0, left : 0 };\r\n\t\t\tvar buttonIndex = allButtons.index( jQuery( filterString ) );\r\n\t\t\t//\r\n\t\t\t//  Subscription pages have ambiguous add to cart buttons - we will try to 'dedupe' it !\r\n\t\t\t//\r\n\t\t\tif ( buttonIndex === -1 )\r\n\t\t\t{\r\n\t\t\t\tif ( dedupe !== undefined )\r\n\t\t\t\t{\r\n\t\t\t\t\tbuttonIndex = dedupe;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\t//  There is a chance this we're mistaken if the .php generation of the page\r\n\t\t\t\t\t//  didn't generate the addToCart() calls as we expect !\r\n\t\t\t\t\tbuttonIndex = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\t\t\tbutton = allButtons.eq(buttonIndex);\r\n\r\n\t\t\t//\r\n\t\t\t//  If we are certain we know what button was clicked, then we'll provide info on the form!\r\n\t\t\t//\r\n\t\t\tif ( button != null &&  button.length === 1 && typeof button.offset == 'function' )\r\n\t\t\t{\r\n\t\t\t\tbuttonOffset = button.offset();\r\n\t\t\t\tvar height = jQuery(window).height();\r\n\t\t\t\tvar width = jQuery(window).width();\r\n\t\t\t\t//\r\n\t\t\t\t//  We have all the components we want the standard button to submit to the server!\r\n\t\t\t\t//  we will now add input fields to the form we intend to submit.\r\n\t\t\t\t//\r\n\t\t\t\tvar begintime = jQuery.data(document, 'x_readytime');\r\n\t\t\t\tvar selecttime = 0.0;\r\n\t\t\t\tif ( begintime !== undefined )\r\n\t\t\t\t{\r\n\t\t\t\t\tselecttime = new Date().getTime() - begintime;\r\n\t\t\t\t}\r\n\t\t\t\tif ( $Form.length === 1 )\r\n\t\t\t\t{\r\n\t\t\t\t\t//  We include the 'hidden' attribute at this point, because of a believe compatibility issue with Internet Explorer!\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_selection', 'value' : buttonIndex } ).appendTo( $Form  );\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_choices', 'value' : allButtons.length } ).appendTo( $Form );\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_top', 'value' : buttonOffset.top } ).appendTo( $Form  );\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_left', 'value' : buttonOffset.left } ).appendTo( $Form );\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_window_height', 'value' : height } ).appendTo( $Form );\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_window_width', 'value' : width } ).appendTo( $Form );\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_select_time', 'value' : selecttime } ).appendTo( $Form );\r\n\t\t\t\t\tif ( navData )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar pipeSplit = new RegExp( /\\|/ );\r\n\t\t\t\t\t\tvar resultString = navData.split( pipeSplit )[0];\r\n\t\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_oldnav', 'value' : resultString } ).appendTo( $Form );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tcatch( e )\r\n\t{\r\n\t\t//console.log( e );\r\n\t\t\t}\r\n\t// Regardless of instrumentation failures, try to submit the form for the user.\r\n\ttry\r\n\t{\r\n\t\t$Form.submit();\r\n\t}\r\n\tcatch( e )\r\n\t{\r\n\t\t// swallow exceptions !\r\n\t}\r\n\r\n}\r\n\r\nfunction addAllDlcToCart()\r\n{\r\n\ttry\r\n\t{\r\n\t\t// Find all of the add to cart buttons displayed on the page\r\n\t\tvar filterAllButtons='a.btn_addtocart_content';\r\n\t\t// the filterString can be used to find the element that invoked us, since the subid appears within it\r\n\t\t// note that href*= specifies that href contains the string\r\n\t\tvar filterString = 'a[href*=addAllDlcToCart]';\r\n\t\t// within the set of all buttons, get the index of the one that we are dealing with!\r\n\t\t// To do that, we find the anchor that invoked us within the larger set of add to cart buttons!\r\n\t\tvar allButtons = jQuery( filterAllButtons );\r\n\t\t// do we have anything to examine?\r\n\t\tif ( allButtons.length > 0 )\r\n\t\t{\r\n\r\n\t\t\tvar navData = getBestAvailNavData();\r\n\t\t\tvar button = null;\r\n\t\t\tvar buttonOffset = { top : 0, left : 0 };\r\n\t\t\tvar buttonIndex = allButtons.index( jQuery( filterString ) );\r\n\t\t\tif ( buttonIndex !== -1 )\r\n\t\t\t{\r\n\t\t\t\tbutton = allButtons.eq(buttonIndex);\r\n\t\t\t}\r\n\t\t\t//\r\n\t\t\t//  If we are certain we know what button was clicked, then we'll provide info on the form!\r\n\t\t\t//\r\n\t\t\tif ( button != null &&  button.length === 1 && typeof button.offset == 'function' )\r\n\t\t\t{\r\n\t\t\t\tbuttonOffset = button.offset();\r\n\t\t\t\tvar height = jQuery(window).height();\r\n\t\t\t\tvar width = jQuery(window).width();\r\n\t\t\t\t//\r\n\t\t\t\t//  We have all the components we want the standard button to submit to the server!\r\n\t\t\t\t//  we will now add input fields to the form we intend to submit.\r\n\t\t\t\t//\r\n\t\t\t\tvar filterStringForm = 'form[name=add_all_dlc_to_cart]';\r\n\t\t\t\tvar formSelector = jQuery( filterStringForm );\r\n\t\t\t\tvar begintime = jQuery.data(document, 'x_readytime');\r\n\t\t\t\tvar selecttime = 0.0;\r\n\t\t\t\tif ( begintime !== undefined )\r\n\t\t\t\t{\r\n\t\t\t\t\tselecttime = new Date().getTime() - begintime;\r\n\t\t\t\t}\r\n\t\t\t\tif ( formSelector.length === 1 )\r\n\t\t\t\t{\r\n\t\t\t\t\t//  We include the 'hidden' attribute at this point, because of a believe compatibility issue with Internet Explorer!\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_selection', 'value' : buttonIndex } ).appendTo( formSelector  );\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_choices', 'value' : allButtons.length } ).appendTo( formSelector );\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_top', 'value' : buttonOffset.top } ).appendTo( formSelector  );\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_left', 'value' : buttonOffset.left } ).appendTo( formSelector );\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_window_height', 'value' : height } ).appendTo( formSelector );\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_window_width', 'value' : width } ).appendTo( formSelector );\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_select_time', 'value' : selecttime } ).appendTo( formSelector );\r\n\t\t\t\t\tif ( navData )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar pipeSplit = new RegExp( /\\|/ );\r\n\t\t\t\t\t\tvar resultString = navData.split( pipeSplit )[0];\r\n\t\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_oldnav', 'value' : resultString } ).appendTo( formSelector );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tcatch( e )\r\n\t{\r\n\t\t//console.log( e );\r\n\t\t\t}\r\n\r\n\ttry\r\n\t{\r\n\t\tdocument.forms['add_all_dlc_to_cart'].submit();\r\n\t}\r\n\tcatch( e )\r\n\t{\r\n\t}\r\n}\r\n\r\nfunction removeFromCart( gid )\r\n{\r\n\ttry\r\n\t{\r\n\t\t// Find all of the add to cart buttons displayed on the page\r\n\t\tvar filterAllButtons='a.remove_link';\r\n\t\t// the filterString can be used to find the element that invoked us, since the subid appears within it\r\n\t\t// note that href*= specifies that href contains the string\r\n\t\tvar filterString = 'a[href*=' + gid + ']';\r\n\t\t// within the set of all buttons, get the index of the one that we are dealing with!\r\n\t\t// To do that, we find the anchor that invoked us within the larger set of add to cart buttons!\r\n\t\tvar allButtons = jQuery( filterAllButtons );\r\n\t\t// do we have anything to examine?\r\n\r\n\t\t// do we have anything to examine?\r\n\t\tif ( allButtons.length > 0 )\r\n\t\t{\r\n\t\t\tvar navData = getBestAvailNavData();\r\n\t\t\tvar buttonIndex = allButtons.index( jQuery( filterString ) );\r\n\t\t\t//\r\n\t\t\tvar button = allButtons.filter( jQuery( filterString ) );\r\n\t\t\tvar buttonOffset = { top : 0, left : 0 };\r\n\t\t\tif ( button != null &&  button.length === 1 && typeof button.offset == 'function' )\r\n\t\t\t{\r\n\t\t\t\tbuttonOffset = button.offset();\r\n\t\t\t\tvar height = jQuery(window).height();\r\n\t\t\t\tvar width = jQuery(window).width();\r\n\t\t\t\t//\r\n\t\t\t\t//  We have all the components we want the standard button to submit to the server!\r\n\t\t\t\t//  we will now add input fields to the form we intend to submit.\r\n\t\t\t\t//\r\n\t\t\t\tvar filterStringForm = 'form[name=remove_line_item]';\r\n\t\t\t\tvar formSelector = jQuery( filterStringForm );\r\n\t\t\t\tvar begintime = jQuery.data(document, 'x_readytime');\r\n\t\t\t\tvar selecttime = 0.0;\r\n\t\t\t\tif ( begintime !== undefined )\r\n\t\t\t\t{\r\n\t\t\t\t\tselecttime = new Date().getTime() - begintime;\r\n\t\t\t\t}\r\n\t\t\t\tif ( formSelector.length === 1 )\r\n\t\t\t\t{\r\n\t\t\t\t\t//  We include the 'hidden' attribute at this point, because of a believe compatibility issue with Internet Explorer!\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_selection', 'value' : buttonIndex } ).appendTo( formSelector  );\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_choices', 'value' : allButtons.length } ).appendTo( formSelector );\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_top', 'value' : buttonOffset.top } ).appendTo( formSelector  );\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_left', 'value' : buttonOffset.left } ).appendTo( formSelector );\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_window_height', 'value' : height } ).appendTo( formSelector );\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_window_width', 'value' : width } ).appendTo( formSelector );\r\n\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_select_time', 'value' : selecttime } ).appendTo( formSelector );\r\n\t\t\t\t\tif ( navData )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar pipeSplit = new RegExp( /\\|/ );\r\n\t\t\t\t\t\tvar resultString = navData.split( pipeSplit )[0];\r\n\t\t\t\t\t\tjQuery( '<input type=\"hidden\">' ).attr( { name: 'x_oldnav', 'value' : resultString } ).appendTo( formSelector );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tcatch( e )\r\n\t{\r\n\t\t\t}\r\n\ttry\r\n\t{\r\n\t\tdocument.getElementById('line_item_to_remove_gid').value = gid;\r\n\t\tdocument.forms['remove_line_item'].submit();\r\n\t}\r\n\tcatch( e )\r\n\t{\r\n\t\t\t}\r\n}\r\n\r\nfunction GamePurchaseDropdownSelectOption( dropdownName, subId, inCart )\r\n{\r\n\t\t$J('#add_to_cart_' + dropdownName + '_value').val( subId );\r\n\t$J('#add_to_cart_' + dropdownName + '_selected_text').html( $J('#add_to_cart_' + dropdownName + '_menu_option_' + subId).html() );\r\n\r\n\t$J('#add_to_cart_' + dropdownName + '_select_option').hide();\r\n\tif ( inCart )\r\n\t{\r\n\t\t$J('#add_to_cart_' + dropdownName + '_add_button').hide();\r\n\t\t$J('#add_to_cart_' + dropdownName + '_in_cart_button').show();\r\n\t}\r\n\telse\r\n\t{\r\n\t\t$J('#add_to_cart_' + dropdownName + '_add_button').show();\r\n\t\t$J('#add_to_cart_' + dropdownName + '_in_cart_button').hide();\r\n\t}\r\n\tHideMenu('game_purchase_dropdown_' + dropdownName + '_region', 'add_to_cart_' + dropdownName + '_menu');\r\n}\r\n\r\nfunction GamePurchaseDropdownAddToCart( dropdownName )\r\n{\r\n\t\tif ( $J('#add_to_cart_' + dropdownName + '_value').val() == '')\r\n\t{\r\n\t\tShowGamePurchaseDropdown( 'game_purchase_dropdown_' + dropdownName + '_region', 'add_to_cart_' + dropdownName + '_menu' );\r\n\t}\r\n\telse\r\n\t{\r\n\t\taddToCart( dropdownName );\r\n\t}\r\n}\r\n\r\nfunction ShowGamePurchaseDropdown( elemLink, elemPopup )\r\n{\r\n\tvar $Link = $JFromIDOrElement(elemLink);\r\n\tvar $Popup = $JFromIDOrElement(elemPopup);\r\n\r\n\tvar nWidth = $Link.outerWidth();\r\n\t$Popup.css( 'min-width', nWidth );\r\n\r\n\tShowMenu( elemLink, elemPopup, 'right', 'bottom' );\r\n}\r\n\r\nfunction AgeGateClear()\r\n{\r\n\tWebStorage.SetCookie('birthtime', 0, -1);\r\n\twindow.location.reload();\r\n}\r\n\r\nfunction InitHorizontalAutoSliders()\r\n{\r\n\t$J('.store_horizontal_autoslider' ).each( function() {\r\n\t\tvar $Scroll = $J(this);\r\n\t\tvar $Wrapper = $Scroll.wrap( $J('<div/>', {'class': 'store_horizontal_autoslider_ctn' } ) ).parent();\r\n\t\tvar $SliderCtn = $J('<div/>', {'class': 'slider_ctn store_autoslider'} );\r\n\t\tvar $SliderLeft = $J('<div/>', {'class': 'slider_left'} ).append($J('<span/>'));\r\n\t\tvar $SliderRight = $J('<div/>', {'class': 'slider_right'} ).append($J('<span/>'));\r\n\t\tvar $Slider = $J('<div/>', {'class': 'slider' } );\r\n\t\t$SliderCtn.append(\r\n\t\t\t$SliderLeft, $SliderRight,\r\n\t\t\t$J('<div/>', {'class': 'slider_bg' } ),\r\n\t\t\t$Slider.append( $J('<div/>', {'class': 'handle'} ) )\r\n\t\t);\r\n\t\t$Wrapper.after( $SliderCtn );\r\n\t\tvar fnFixHeight = function() { $Wrapper.height( $Scroll[0].clientHeight ); };\r\n\r\n\t\t$Wrapper.on('v_contentschanged.AutoSlider', function() {\r\n\t\t\tfnFixHeight();\r\n\t\t\t$Wrapper.find('img' ).one('load', fnFixHeight );\r\n\t\t} );\r\n\t\t$J(window ).on('resize.AutoSlider', fnFixHeight );\r\n\r\n\t\twindow.setTimeout( function() {\r\n\t\t\t$Wrapper.trigger('v_contentschanged.AutoSlider');\r\n\r\n\t\t\tvar Slider = new CScrollSlider( $Scroll, $SliderCtn );\r\n\r\n\t\t\tvar fnGetScrollIncrement = function() {\r\n\t\t\t\tvar $TryChild = $Scroll;\r\n\t\t\t\tdo\r\n\t\t\t\t{\r\n\t\t\t\t\t$TryChild = $TryChild.children().first();\r\n\t\t\t\t\tif ( $TryChild.width() && $TryChild.outerWidth() < $Scroll.width() )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// optional param determines whether or not we include margin\r\n\t\t\t\t\t\t// As a note, if you use selective margin make sure you're using\r\n\t\t\t\t\t\t// :not(:last-child) as it'll peek the first and you want to ensure\r\n\t\t\t\t\t\t// that element has the expected margin.\r\n\t\t\t\t\t\treturn $TryChild.outerWidth( true );\r\n\t\t\t\t\t}\r\n\t\t\t\t} while ( $TryChild.length );\r\n\r\n\t\t\t\treturn $Wrapper.width() / 3;\r\n\t\t\t};\r\n\r\n\t\t\t$SliderLeft.click( function() {\r\n\t\t\t\tSlider.SetValue( Slider.GetValue() - fnGetScrollIncrement(), 250 );\r\n\t\t\t});\r\n\t\t\t$SliderRight.click( function() {\r\n\t\t\t\tSlider.SetValue( Slider.GetValue() + fnGetScrollIncrement(), 250 );\r\n\t\t\t});\r\n\r\n\t\t}, 1 );\r\n\t});\r\n\r\n\t$J('.store_horizontal_minislider' ).each( function() {\r\n\t\tvar $Scroll = $J(this);\r\n\t\tvar $Wrapper = $Scroll.wrap( $J('<div/>', {'class': 'store_horizontal_minislider_ctn' } ) ).parent();\r\n\t\tvar $SliderLeft = $J('<div/>', {'class': 'slider_left'} ).append($J('<span/>'));\r\n\t\tvar $SliderRight = $J('<div/>', {'class': 'slider_right'} ).append($J('<span/>'));\r\n\r\n\t\t$Wrapper.append( $SliderLeft, $SliderRight );\r\n\r\n\t\tvar fnShowHideButtons = function()\r\n\t\t{\r\n\t\t\tvar nTallestChild = 0;\r\n\t\t\t$Scroll.children().each( function() {\r\n\t\t\t\tnTallestChild = Math.max( nTallestChild, $J(this ).outerHeight() );\r\n\t\t\t});\r\n\t\t\t$Wrapper.css('height', nTallestChild );\r\n\r\n\t\t\tif ( $Scroll.scrollLeft() <= 1 )\r\n\t\t\t\t$SliderLeft.hide();\r\n\t\t\telse\r\n\t\t\t\t$SliderLeft.show();\r\n\r\n\t\t\tif ( $Scroll.scrollLeft() + $Scroll.width() < $Scroll[0].scrollWidth - 1 )\r\n\t\t\t\t$SliderRight.show();\r\n\t\t\telse\r\n\t\t\t\t$SliderRight.hide();\r\n\t\t};\r\n\r\n\t\t$Scroll.on( 'scroll.AutoSlider v_contentschagned.AutoSlider', fnShowHideButtons );\r\n\t\t$J(window ).on('resize.AutoSlider', fnShowHideButtons );\r\n\r\n\t\t$SliderLeft.click( function() {\r\n\t\t\t$Scroll.animate( {scrollLeft: Math.max( 0, $Scroll.scrollLeft() - $Wrapper.width() ) } );\r\n\t\t\tfnShowHideButtons();\r\n\t\t} );\r\n\t\t$SliderRight.click( function() {\r\n\t\t\t$Scroll.animate( {scrollLeft: Math.min( $Scroll[0].scrollWidth - $Scroll.width(), $Scroll.scrollLeft() + $Wrapper.width() ) } );\r\n\t\t\tfnShowHideButtons();\r\n\t\t} );\r\n\r\n\t\twindow.setTimeout( fnShowHideButtons, 1 );\r\n\t});\r\n}\r\n\r\nfunction PreloadImages( elElement )\r\n{\r\n\t$J(elElement).find(\"*[data-background-image-url]\").each(function(i, j){\r\n\t\tvar $elTarget = $J(j);\r\n\t\t$elTarget.css({'background-image': 'url(' + $elTarget.data('background-image-url') + ')' });\r\n\t});\r\n\r\n\t$J(elElement).find(\"img[data-image-url]\").each(function(i, j){\r\n\t\tvar $elTarget = $J(j);\r\n\t\t$elTarget.attr('src', $elTarget.data('image-url') );\r\n\t});\r\n\r\n}\r\n\r\n\r\n// Common glue logic for a carousel of some kind\r\nvar CGenericCarousel = function( $elContainer, nSpeed, fnOnFocus, fnOnBlur, fnClickThumb, bNoWrap )\r\n{\r\n\tthis.$elContainer = $elContainer;\r\n\tthis.nSpeed = nSpeed;\r\n\tthis.fnOnFocus = fnOnFocus;\r\n\tthis.fnOnBlur = fnOnBlur;\r\n\tthis.fnClickThumb = fnClickThumb;\r\n\tthis.bNoWrap = bNoWrap;\r\n\tthis.nIndex = 0;\r\n\r\n\tthis.$elArrowLeft = $J('.arrow.left', this.$elContainer);\r\n\tthis.$elArrowRight = $J('.arrow.right', this.$elContainer);\r\n\r\n\tthis.UpdateItems();\r\n\tPreloadImages( this.$elItems[ this.nIndex ] );\r\n\r\n\t// get ready to preload images when we scroll.  Delay this a bit because these are low priority\r\n\t//\tand finding them forces layout via a slow jquery :visible call\r\n\tif ( this.nSpeed )\r\n\t\tsetTimeout( this.HintNearbyCapsules.bind(this), this.nSpeed * 750 );\r\n\r\n\tthis.fnOnFocus( this.nIndex );\r\n\r\n\tvar instance = this;\r\n\r\n\tthis.fnMouseOver = function(){\r\n\t\tclearInterval( instance.timerAdvance );\r\n\t};\r\n\r\n\tthis.fnMouseOut = function(){\r\n\r\n\t\tif( instance.timerAdvance )\r\n\t\t\tclearInterval( instance.timerAdvance );\r\n\r\n\t\tif( instance.nSpeed > 0 )\r\n\t\t{\r\n\t\t\tinstance.timerAdvance = setInterval ( function ()\r\n\t\t\t{\r\n\t\t\t\tif( !instance.bIsResponsive() )\r\n\t\t\t\t\tinstance.Advance ();\r\n\t\t\t}, nSpeed * 1000 );\r\n\t\t}\r\n\t};\r\n\r\n\tthis.fnMouseOut();\r\n\r\n\t$elContainer.bind('mouseover', function(e) { instance.fnMouseOver(); } );\r\n\t$elContainer.bind('mouseout', function(e) { instance.fnMouseOut(); }  );\r\n\t// If we get a scroll event, and we're in respondive, hint all remaining images\r\n\tthis.$elItems.parent().bind('scroll', function(e) { if( instance.bIsResponsive() ) PreloadImages( $elContainer ); }   );\r\n\r\n\t// Only bind a mouseover thumb event if we have one.\r\n\tif( fnClickThumb ) {\r\n\r\n\t\tthis.$elThumbs.each(function (i, j)\r\n\t\t{\r\n\r\n\t\t\t$J(j).bind('click touchstart', (function( index, ele ) {\r\n\t\t\t\treturn function() {\r\n\t\t\t\t\tinstance.fnClickThumb( index, ele );\r\n\t\t\t\t};}(i, j) )\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\t// Bind arrows (if we have them)\r\n\tthis.$elArrowLeft.click( function(e){ instance.Advance(-1); e.preventDefault(); return true; });\r\n\tthis.$elArrowRight.click( function(e){ instance.Advance(); e.preventDefault(); return true; });\r\n\r\n\tthis.$elContainer.attr('data-gpnav', 'columns' );//.attr('data-gpfocus',1);\r\n\tthis.$elContainer.on('v_gamepadpress', function( e, button ) {\r\n\t\tif ( button.button == 'BUMPER_BACK' )\r\n\t\t{\r\n\t\t\tinstance.Advance( -1, true );\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\telse if ( button.button == 'BUMPER_FORWARD' )\r\n\t\t{\r\n\t\t\t// -1 means go back 1, any other number means \"go to that index\".\r\n\t\t\tinstance.Advance( undefined, true );\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t}).on('focusin', function( e ) {\r\n\t\tif ( e.target != e.currentTarget )\r\n\t\t{\r\n\t\t\t// focus on a child element; make sure it's in view\r\n\t\t\tinstance.$elItems.each( function ( index ) {\r\n\t\t\t\t// $elItems are caps in main cluster, but pages in others\r\n\t\t\t\tif ( $J.contains( this, e.target ) || this == e.target )\r\n\t\t\t\t{\r\n\t\t\t\t\tif ( !$J(this).hasClass('focus') )\r\n\t\t\t\t\t\tinstance.Advance( index );\r\n\t\t\t\t\treturn false; // stop iterating\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tinstance.fnMouseOver();\r\n\t}).on('focusout', function() {\r\n\t\tinstance.fnMouseOut();\r\n\t});\r\n\r\n\tif( this.$elThumbs.length < 2 )\r\n\t{\r\n\t\tthis.$elThumbs.parent().css({'visibility':'hidden'})\r\n\t}\r\n\r\n\tthis.UpdateControls();\r\n\r\n};\r\n\r\n// Advances the carousel by one. Optionally pass in a specific index to advance to.\r\nCGenericCarousel.prototype.UpdateControls = function( )\r\n{\r\n\t// Only one item, so hide the arrows since they're not useful.\r\n\tif( this.nItems == 1 )\r\n\t{\r\n\t\tthis.$elArrowLeft.hide();\r\n\t\tthis.$elArrowRight.hide();\r\n\t\treturn;\r\n\t}\r\n\r\n\t// Our carousel does not wrap, so conditionally show/hider arrows\r\n\tif( this.bNoWrap )\r\n\t{\r\n\t\tif( this.nIndex == 0 )\r\n\t\t\tthis.$elArrowLeft.hide();\r\n\t\telse\r\n\t\t\tthis.$elArrowLeft.show();\r\n\r\n\t\tif( this.nIndex == this.nItems-1 )\r\n\t\t\tthis.$elArrowRight.hide();\r\n\t\telse\r\n\t\t\tthis.$elArrowRight.show();\r\n\r\n\t}\r\n\telse\r\n\t{\r\n\t\tthis.$elArrowLeft.show();\r\n\t\tthis.$elArrowRight.show();\r\n\t\treturn;\r\n\t}\r\n\r\n\r\n\r\n};\r\n\r\n// Start loading images further down the rotation.\r\nCGenericCarousel.prototype.HintNearbyCapsules = function( )\r\n{\r\n\tPreloadImages( this.$elItems[ this.nIndex ] );\r\n\r\n\t// If we're going to auto-scroll, hint the next item.\r\n\tif( this.nSpeed > 0 )\r\n\t{\r\n\t\tvar nNextIndex = this.GetNextValidIndex();\r\n\t\tvar elNextElement = this.$elItems[ nNextIndex ];\r\n\t\tPreloadImages( elNextElement );\r\n\t}\r\n};\r\n\r\n\r\nCGenericCarousel.prototype.UpdateItems = function()\r\n{\r\n\tthis.$elThumbs = $J('.carousel_thumbs', this.$elContainer).children();\r\n\tthis.$elItems = $J('.carousel_items', this.$elContainer).children();\r\n\tthis.nItems = this.$elItems.length;\r\n}\r\n\r\nCGenericCarousel.prototype.GetNextValidIndex = function( nNewIndex )\r\n{\r\n\tif( this.nItems == 0 )\r\n\t\treturn false;\r\n\r\n\tvar nIndex = this.nIndex;\r\n\r\n\tvar rgTargets = this.$elItems;\r\n\tvar nSearched = 0;\r\n\r\n\tif( nNewIndex < 0 ) // Allow index of -1 to go backwards.\r\n\t{\r\n\t\t// Skip hidden items\r\n\t\tdo\r\n\t\t{\r\n\t\t\tnIndex = ( nIndex + nNewIndex ) % this.nItems;\r\n\r\n\t\t\t// JS's % operator doesn't wrap, so we need to fix it...\r\n\t\t\tif( nIndex < 0 )\r\n\t\t\t\tnIndex += this.nItems;\r\n\r\n\t\t}\r\n\t\twhile( !$J( rgTargets[ nIndex ] ).is( \":visible\" ) && nSearched++ < this.nItems );\r\n\t}\r\n\telse if( nNewIndex !== undefined )\r\n\t{\r\n\t\tif( nIndex == nNewIndex )\r\n\t\t\treturn false\r\n\t\treturn nNewIndex;\r\n\t}\r\n\telse\r\n\t{\r\n\t\t// Skip hidden items\r\n\t\tdo\r\n\t\t{\r\n\t\t\tnIndex = ( nIndex + 1 ) % this.nItems;\r\n\t\t}\r\n\t\twhile( !$J( rgTargets[ nIndex ] ).is( \":visible\" ) && nSearched++ < this.nItems );\r\n\r\n\t}\r\n\r\n\treturn nIndex;\r\n}\r\n\r\nCGenericCarousel.prototype.bIsResponsive = function( )\r\n{\r\n\treturn window.UseSmallScreenMode && window.UseSmallScreenMode();\r\n}\r\n\r\nCGenericCarousel.prototype.Advance = function( nNewIndex, bApplyFocus )\r\n{\r\n\tif( this.bIsResponsive() )\r\n\t\treturn this.ResponsiveAdvance(nNewIndex);\r\n\r\n\tif( this.nItems == 0 )\r\n\t\treturn;\r\n\r\n\tvar nNextIndex = this.GetNextValidIndex( nNewIndex );\r\n\tif( nNextIndex == this.nIndex || nNextIndex === false )\r\n\t\treturn;\r\n\r\n\tthis.fnOnBlur( this.nIndex );\r\n\tthis.fnOnFocus( nNextIndex );\r\n\tthis.nIndex = nNextIndex;\r\n\r\n\tif ( bApplyFocus && typeof GPNavFocusChild !== 'undefined' )\r\n\t\tGPNavFocusChild( this.$elItems[this.nIndex] );\r\n\r\n\tthis.UpdateControls();\r\n\tthis.HintNearbyCapsules();\r\n}\r\n\r\n// Advance function may be (totally is) different in responsive mode\r\nCGenericCarousel.prototype.ResponsiveAdvance = function( nNewIndex )\r\n{\r\n\tvar $elTarget = this.$elItems.parent();\r\n\tvar nMaxScroll = this.$elItems.outerWidth( true ) * this.nItems - $elTarget.innerWidth();\r\n\tvar nCurrentScroll = $elTarget.scrollLeft();\r\n\tvar nScrollRate = this.$elItems.outerWidth( true );\r\n\tif( nScrollRate > $elTarget.innerWidth() * 1.1 )\r\n\t\tnScrollRate = $elTarget.innerWidth();\r\n\r\n\tvar nTargetScroll = nCurrentScroll + ( nNewIndex < 0 ? -1 : 1 ) * nScrollRate;\r\n\r\n\tif( nCurrentScroll == nMaxScroll && nCurrentScroll > nCurrentScroll)\r\n\t\tnTargetScroll = 0;\r\n\r\n\tif( nTargetScroll > nMaxScroll )\r\n\t\tnTargetScroll = nMaxScroll;\r\n\r\n\tif( nTargetScroll < 0 )\r\n\t\tnTargetScroll = 0;\r\n\r\n\t// Hintload capsules we're about to show\r\n\tthis.$elItems.each( function(i, j) {\r\n\t\tvar $el = $J(j);\r\n\t\tvar rgOffset = $el.offset();\r\n\t\tif( rgOffset.left < nScrollRate * 2 )\r\n\t\t{\r\n\t\t\tPreloadImages( $el );\r\n\t\t}\r\n\t});\r\n\r\n\t$J( $elTarget ).stop().animate({scrollLeft: nTargetScroll}, 800);\r\n\r\n}\r\n\r\n// Carousel which adds the 'focus' class to the active element. Can be used for fading carousels\r\n// @todo: This needs to be detangled from CGenericCarousel a bit more to be useful in other applications.....\r\nfunction CreateFadingCarousel( $elContainer, nSpeed, bNoWrap, fnOnBlur )\r\n{\r\n\r\n\tvar fnOnFocus = function(  nIndex )\r\n\t{\r\n\t\tthis.$elThumbs.removeClass( 'focus' );\r\n\t\tthis.$elItems.removeClass( 'focus' );\r\n\r\n\t\t$J( this.$elThumbs[nIndex] ).addClass('focus');\r\n\t\t$J( this.$elItems[nIndex] ).addClass('focus');\r\n\t\tif ( typeof GDynamicStore != 'undefined' && GDynamicStore.m_bLoadComplete ) {\r\n\t\t\tGDynamicStore.s_ImpressionTracker.TrackAppearanceIfVisible(this.$elItems[nIndex]);\r\n\t\t}\r\n\t}\r\n\r\n\tvar fnMouseOverThumb = function( index, element )\r\n\t{\r\n\t\tthis.Advance(index);\r\n\t};\r\n\tif( !fnOnBlur )\r\n\t\tfnOnBlur = function(){};\r\n\r\n\treturn new CGenericCarousel( $elContainer, nSpeed, fnOnFocus, fnOnBlur, fnMouseOverThumb, bNoWrap );\r\n\r\n}\r\n\r\n/**\r\n * Sets up a form to automagically save itself when edited.\r\n * Note: Ajax requests inside fnOnChange should bind their first param to async\r\n * @param elForm\r\n * @param fnOnChange\r\n * @constructor\r\n */\r\nfunction RegisterAutoSaveForm( elForm, fnOnChange )\r\n{\r\n\t// Time to wait before saving a changed element that hasn't explicitly lost focus\r\n\tvar nSaveDelay = 5000; // 5 seconds\r\n\r\n\t// Attempt to save if we're closing the tab in a dirty state\r\n\t$J( window ).on( 'unload', function(){\r\n\t\t$J( elForm ).trigger('saveform');\r\n\t} );\r\n\r\n\t$J( elForm ).on( 'saveform', function(){\r\n\r\n\t\tif (!$J.contains(document, elForm))\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t$J( 'input[type=text],input[type=radio],input[type=checkbox],select,textarea', elForm ).trigger('save');\r\n\t});\r\n\r\n\t// Text elements\r\n\t$J( 'input[type=text],textarea', elForm ).each(function(index, element ){\r\n\t\tvar curVal = element.value;\r\n\t\tvar timer = null;\r\n\r\n\t\tvar fnUpdateIfChanged = function( bAsync ){\r\n\t\t\tif( element.value != curVal )\r\n\t\t\t{\r\n\t\t\t\tcurVal = element.value;\r\n\t\t\t\tfnOnChange ( bAsync );\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$J(element).on('save', fnUpdateIfChanged.bind(null, false ) );\r\n\r\n\t\t$J(element).on('keyup', function(){\r\n\t\t\tif( timer != null )\r\n\t\t\t\tclearTimeout( timer );\r\n\t\t\ttimer = setTimeout( fnUpdateIfChanged.bind(null, true ), nSaveDelay );\r\n\t\t});\r\n\t});\r\n\r\n\t// input types that use .checked\r\n\t$J( 'input[type=checkbox],input[type=radio]', elForm ).each(function(index, element ){\r\n\t\tvar curVal = element.checked;\r\n\t\tvar timer = null;\r\n\r\n\t\tvar fnUpdateIfChanged = function( bAsync ){\r\n\t\t\tif( element.checked != curVal )\r\n\t\t\t{\r\n\t\t\t\tcurVal = element.checked;\r\n\t\t\t\tfnOnChange ( bAsync );\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$J(element).on('save', fnUpdateIfChanged.bind(null, false ));\r\n\r\n\t\t$J(element).on('change', function(){\r\n\t\t\tif( timer != null )\r\n\t\t\t\tclearTimeout( timer );\r\n\t\t\ttimer = setTimeout( fnUpdateIfChanged.bind(null, true ), nSaveDelay );\r\n\t\t});\r\n\t});\r\n\r\n\t// select boxes\r\n\t$J( 'select', elForm ).each(function(index, element ){\r\n\t\tvar curVal = element.selectedIndex;\r\n\t\tvar timer = null;\r\n\t\tconsole.log(element);\r\n\r\n\t\tvar fnUpdateIfChanged = function( bAsync ){\r\n\t\t\tif( element.selectedIndex != curVal )\r\n\t\t\t{\r\n\t\t\t\tcurVal = element.selectedIndex;\r\n\t\t\t\tfnOnChange ( bAsync );\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$J(element).on('save', fnUpdateIfChanged.bind(null, false ));\r\n\r\n\t\t$J(element).on('change', function(){\r\n\t\t\tif( timer != null )\r\n\t\t\t\tclearTimeout( timer );\r\n\t\t\ttimer = setTimeout( fnUpdateIfChanged.bind(null, true ), nSaveDelay );\r\n\t\t});\r\n\t});\r\n}\r\n\r\nfunction RecordAJAXPageView( url )\r\n{\r\n\tif ( typeof ga != \"undefined\" && ga )\r\n\t{\r\n\t\tvar rgURLs = [ 'https://store.steampowered.com/', 'https://store.steampowered.com/' ];\r\n\t\tfor ( var i = 0; i < rgURLs.length; ++i )\r\n\t\t{\r\n\t\t\tvar baseURL = rgURLs[i];\r\n\t\t\tvar idx = url.indexOf( baseURL );\r\n\t\t\tif ( idx != -1 )\r\n\t\t\t{\r\n\t\t\t\turl = url.substring( idx + baseURL.length );\r\n\t\t\t}\r\n\t\t\tga( 'send', 'pageview', url );\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nfunction FollowCuratorWithCallback( clanID, bFollow, onComplete )\r\n{\r\n\tvar bHaveUser = ( g_AccountID != 0 );\r\n\tif ( !bHaveUser )\r\n\t{\r\n\t\tShowAlertDialog(\"\\u8bf7\\u767b\\u5f55\", \"\\u60a8\\u5fc5\\u987b\\u767b\\u5f55\\u624d\\u80fd\\u5173\\u6ce8\\u9274\\u8d4f\\u5bb6\");\r\n\t\treturn;\r\n\t}\r\n\r\n\t$J.post(\r\n\t\t'https://store.steampowered.com/curators/ajaxfollow',\r\n\t\t{ 'clanid' : clanID, 'sessionid' : g_sessionID, 'follow' : bFollow ? 1 : 0 },\r\n\t\tfunction( data )\r\n\t\t{\r\n\t\t\tonComplete( bFollow );\r\n\t\t},\r\n\t\t'json'\r\n\t).fail( function()\r\n\t\t{\r\n\t\t\tShowAlertDialog( '错误', '尝试关注 Steam 鉴赏家时出现问题。可能出现的问题：<ul><li>您不能关注已经忽略的鉴赏家。</li><li>您一次只能关注最多 100 名鉴赏家。</li><li>受限帐户不能关注鉴赏家。</li></ul>' );\r\n\t\t}\r\n\t);\r\n\treturn false;\r\n}\r\n\r\nfunction IgnoreCuratorWithCallback( clanID, bIgnore, onComplete )\r\n{\r\n\tvar bHaveUser = ( g_AccountID != 0 );\r\n\tif ( !bHaveUser )\r\n\t{\r\n\t\tShowAlertDialog(\"\\u8bf7\\u767b\\u5f55\", \"\\u60a8\\u5fc5\\u987b\\u767b\\u5f55\\u624d\\u80fd\\u5ffd\\u7565 Steam \\u9274\\u8d4f\\u5bb6\");\r\n\t\treturn;\r\n\t}\r\n\r\n\t$J.post(\r\n\t\t'https://store.steampowered.com/curators/ajaxignore',\r\n\t\t{ 'clanid' : clanID, 'sessionid' : g_sessionID, 'ignore' : bIgnore ? 1 : 0 },\r\n\t\tfunction( data )\r\n\t\t{\r\n\t\t\tonComplete( bIgnore );\r\n\t\t\tGDynamicStore.InvalidateCache();\r\n\t\t},\r\n\t\t'json'\r\n\t).fail( function()\r\n\t\t{\r\n\t\t\tShowAlertDialog( '错误', '尝试忽略 Steam 鉴赏家时出现问题。<br>注意：您不能忽略已关注的鉴赏家。' );\r\n\t\t}\r\n\t);\r\n\treturn false;\r\n}\r\n\r\n","Steam — 顶级在线游戏平台_files/motiva_sans.css":"/*\r\n Font: \t\tMotiva Sans\r\n URL: \t\thttp://www.youworkforthem.com/product.php?sku=T2982\r\n Foundry: \tNiramekko\r\n Foundry: \thttp://www.youworkforthem.com/designer/293/niramekko\r\n Copyright:\tCopyright  2011 by Rodrigo Saiani. All rights reserved.\r\n Version: \t1.0\r\n Created:\tAugust 09, 2012\r\n License: \thttp://www.youworkforthem.com/font-license\r\n License: \tThe WebFont(s) listed in this document must follow the YouWorkForThem\r\n\t\t\t WebFont license rules. All other parties are strictly restricted\r\n\t\t\t from using the WebFonts(s) listed without a purchased license.\r\n\t\t\t All details above must always remain unaltered and visible in your CSS.\r\n */\r\n\r\n@font-face {\r\n\tfont-family: 'Motiva Sans';\r\n\tsrc: url('https://store.st.dl.pinyuncloud.com/public/shared/fonts/MotivaSans-Regular.ttf?v=4.015') format('truetype');\r\n\tfont-weight: normal;\r\n\tfont-style: normal;\r\n}\r\n\r\n@font-face {\r\n\tfont-family: 'Motiva Sans';\r\n\tsrc: url('https://store.st.dl.pinyuncloud.com/public/shared/fonts/MotivaSans-Light.ttf?v=4.015') format('truetype');\r\n\tfont-weight: 300; /* Light */\r\n\tfont-style: normal;\r\n}\r\n\r\n@font-face {\r\n\tfont-family: 'Motiva Sans';\r\n\tsrc: url('https://store.st.dl.pinyuncloud.com/public/shared/fonts/MotivaSans-Thin.ttf?v=4.015') format('truetype');\r\n\tfont-weight: 200; /* Ultra-Light / Thin */\r\n\tfont-style: normal;\r\n}\r\n\r\n@font-face {\r\n\tfont-family: 'Motiva Sans';\r\n\tsrc: url('https://store.st.dl.pinyuncloud.com/public/shared/fonts/MotivaSans-Medium.ttf?v=4.015') format('truetype');\r\n\tfont-weight: 500; /* Medium */\r\n\tfont-style: normal;\r\n}\r\n\r\n@font-face {\r\n\tfont-family: 'Motiva Sans';\r\n\tsrc: url('https://store.st.dl.pinyuncloud.com/public/shared/fonts/MotivaSans-Bold.ttf?v=4.015') format('truetype');\r\n\tfont-weight: bold;\r\n\tfont-style: normal;\r\n}\r\n\r\n@font-face {\r\n\tfont-family: 'Motiva Sans';\r\n\tsrc: url('https://store.st.dl.pinyuncloud.com/public/shared/fonts/MotivaSans-RegularItalic.ttf?v=4.015') format('truetype');\r\n\tfont-weight: normal;\r\n\tfont-style: italic;\r\n}\r\n\r\n@font-face {\r\n\tfont-family: 'Motiva Sans';\r\n\tsrc: url('https://store.st.dl.pinyuncloud.com/public/shared/fonts/MotivaSans-LightItalic.ttf?v=4.015') format('truetype');\r\n\tfont-weight: 300; /* Light */\r\n\tfont-style: italic;\r\n}\r\n\r\n@font-face {\r\n\tfont-family: 'Motiva Sans';\r\n\tsrc: url('https://store.st.dl.pinyuncloud.com/public/shared/fonts/MotivaSans-BoldItalic.ttf?v=4.015') format('truetype');\r\n\tfont-weight: bold;\r\n\tfont-style: italic;\r\n}\r\n\r\n@font-face {\r\n\tfont-family: 'Motiva Sans';\r\n\tsrc: url('https://store.st.dl.pinyuncloud.com/public/shared/fonts/MotivaSans-Black.ttf?v=4.015') format('truetype');\r\n\tfont-weight: 900; /* Black */\r\n\tfont-style: normal;\r\n}\r\n\r\n","Steam — 顶级在线游戏平台_files/newstore2016.css":"\r\nbody.v6.promoannounce {\r\n\r\n}\r\n\r\nbody.v6.promoannounce .page_content_container {\r\n\tbackground-image: none;\r\n\tbackground: -webkit-linear-gradient( top, rgba( 0, 0, 0, 1 ) 555px, rgba( 27, 40, 56, 1 ) 1317px);\r\n\tbackground: linear-gradient( to bottom, rgba( 0, 0, 0, 1 ) 555px, rgba( 27, 40, 56, 1 ) 1317px);\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-color: rgba( 27, 40, 56, 1 );\r\n\r\n}\r\n\r\n.page_header_bg {\r\n    position: absolute;\r\n    height: 400px;\r\n    width: 100%;\r\n    background-color: #66c0f4;\r\n\tbackground-image: url( 'https://media.st.dl.pinyuncloud.com/store/promo/newstore2016/header_background.jpg' );\r\n\tbackground-repeat: repeat-x;\r\n}\r\n\r\n.page_content.announce {\r\n    height: auto;\r\n}\r\n\r\n#title_text {\r\n    left: 0px;\r\n    top: 90px;\r\n    z-index: 1;\r\n}\r\n\r\n#title_desc {\r\n    top: 210px;\r\n    z-index: 1;\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 300; /* light */\r\n\r\n\t\t\tcolor: #fff;\r\n}\r\n\r\n#callouts {\r\n    position: relative;\r\n    height: 3723px;\r\n\r\n    background: url(https://media.st.dl.pinyuncloud.com/store/promo/newstore2016/homepage_long_01.jpg?v=1);\r\n    background-repeat: no-repeat;\r\n    background-position: center;\r\n    background-position-y: 365px;\r\n}\r\n\r\n.callout {\r\n    position: absolute;\r\n\tbackground: -webkit-linear-gradient( 100deg, #c6d4df 5%,#e2f4ff 95%);\r\n\tbackground: linear-gradient( 100deg, #c6d4df 5%,#e2f4ff 95%);\r\n    padding: 16px;\r\n    border-radius: 3px;\r\n    color: black;\r\n\tbox-shadow: 0 0 8px #000;\r\n\tborder: 1px solid #fff;\r\n}\r\n\r\n.callout_title {\r\n    font-size: 17px;\r\n\tcolor: #2a3e59;\r\n    padding-bottom: 8px;\r\n    text-transform: uppercase;\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: bold; /* bold */\r\n\r\n\t\t}\r\n\r\n.callout_desc {\r\n    font-size: 14px;\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: normal; /* normal */\r\n\r\n\t\t}\r\n\r\n#callout_quick_access {\r\n\ttop: 373px;\r\n    width: 310px;\r\n}\r\n#callout_personalize {\r\n\ttop: 337px;\r\n    right: 0px;\r\n    width: 310px;\r\n}\r\n#callout_great_deals {\r\n\ttop: 673px;\r\n    width: 300px;\r\n}\r\n#callout_smarter {\r\n\ttop: 770px;\r\n    right: 0px;\r\n    width: 235px;\r\n}\r\n#callout_recently_viewed {\r\n\ttop: 821px;\r\n    width: 150px;\r\n}\r\n#callout_friends_activity {\r\n\ttop: 1118px;\r\n    width: 310px;\r\n}\r\n#callout_discovery_queue {\r\n\ttop: 1253px;\r\n    right: 0px;\r\n    width: 310px;\r\n}\r\n#callout_blue_buttons {\r\n\ttop: 1483px;\r\n    width: 150px;\r\n}\r\n#callout_top_new_releases {\r\n    top: 1523px;\r\n    right: 0px;\r\n    width: 235px;\r\n}\r\n#callout_curators {\r\n\ttop: 1679px;\r\n\tright: 0px;\r\n     width: 235px;\r\n}\r\n#callout_your_updated_games {\r\n\ttop: 1954px;\r\n    width: 150px;\r\n}\r\n#callout_lists {\r\n\ttop: 2318px;\r\n    width: 310px;\r\n}\r\n#callout_more_personalization {\r\n\ttop: 2572px;\r\n    width: 310px;\r\n    right: 0px;\r\n}\r\n#callout_offers {\r\n\ttop: 2946px;\r\n    right: 0px;\r\n    width: 310px;\r\n}\r\n#callout_more_to_browse {\r\n\ttop: 3028px;\r\n    width: 150px;\r\n}\r\n\r\n#recent_updates_container {\r\n    position: relative;\r\n\tmargin-top: -44px;\r\n}\r\n\r\n.recent_updates_header_bg {\r\n    position: absolute;\r\n    background-color: #66c0f4;\r\n    background: -webkit-linear-gradient( 290deg, #66c0f4 5%,#111923 95%);\r\n\tbackground: linear-gradient( 160deg, #66c0f4 5%,#111923 95%);\r\n    height: 350px;\r\n    width: 100%;\r\n}\r\n\r\n#recent_updates_header {\r\n    position: relative;\r\n    height: 225px;\r\n    padding-top: 50px;\r\n}\r\n#recent_updates_header #title_text {\r\n    position: relative;\r\n    top: 0px;\r\n}\r\n#recent_updates_header #title_desc {\r\n    position: relative;\r\n    top: 0px;\r\n    padding-top: 20px;\r\n}\r\n\r\n#recent_updates {\r\n    position: relative;\r\n    padding: 15px;\r\n    background: -webkit-linear-gradient( top, rgba(0,0,0,1) 5%, rgba(0,0,0,0) 50%);\r\n\tbackground: linear-gradient( to bottom, rgba(0,0,0,1) 5%, rgba(0,0,0,0) 50%);\r\n}\r\n\r\n#recent_updates:before {\r\n    left: 25%;\r\n    border: transparent solid;\r\n    content: \" \";\r\n    height: 0;\r\n    width: 0;\r\n    position: absolute;\r\n    pointer-events: none;\r\n    border-color: rgba(199, 213, 224, 0);\r\n    border-bottom-color: #000000;\r\n    border-width: 30px;\r\n    margin-left: -30px;\r\n    margin-top: -60px;\r\n}\r\n\r\n.recent_update_section {\r\n    border-bottom: 1px solid #7092a5;\r\n    padding-bottom: 20px;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.recent_update_section .title_feature {\r\n    font-size: 17px;\r\n\tpadding-top: 9px;\r\n\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: bold; /* bold */\r\n\r\n\t\t\ttext-transform: uppercase;\r\n\tletter-spacing: 1px;\r\n}\r\n\r\n.date_feature {\r\n    padding-bottom: 20px;\r\n}\r\n\r\n.desc_feature {\r\n\tfont-size: 15px;\r\n\tline-height: 19px;\r\n}\r\n\r\n.update_image {\r\n\r\n}\r\n.update_image.left {\r\n    float: left;\r\n    padding-right: 50px;\r\n}\r\n.update_image.right {\r\n    float: right;\r\n    padding-left: 50px;\r\n}\r\n\r\n#explore_box {\r\n    margin-top: 0px;\r\n}","Steam — 顶级在线游戏平台_files/prototype-1.7.js":"\r\n/*  Prototype JavaScript framework, version 1.7\r\n *  (c) 2005-2010 Sam Stephenson\r\n *\r\n *  Prototype is freely distributable under the terms of an MIT-style license.\r\n *  For details, see the Prototype web site: http://www.prototypejs.org/\r\n *\r\n *--------------------------------------------------------------------------*/\r\n\r\nvar Prototype = {\r\n\r\n  Version: '1.7',\r\n\r\n  Browser: (function(){\r\n    var ua = navigator.userAgent;\r\n    var isOpera = Object.prototype.toString.call(window.opera) == '[object Opera]';\r\n    return {\r\n      IE:             !!window.attachEvent && !isOpera,\r\n      Opera:          isOpera,\r\n      WebKit:         ua.indexOf('AppleWebKit/') > -1,\r\n      Gecko:          ua.indexOf('Gecko') > -1 && ua.indexOf('KHTML') === -1,\r\n      MobileSafari:   /Apple.*Mobile/.test(ua)\r\n    }\r\n  })(),\r\n\r\n  BrowserFeatures: {\r\n    XPath: !!document.evaluate,\r\n\r\n    SelectorsAPI: !!document.querySelector,\r\n\r\n    ElementExtensions: (function() {\r\n      var constructor = window.Element || window.HTMLElement;\r\n      return !!(constructor && constructor.prototype);\r\n    })(),\r\n    SpecificElementExtensions: (function() {\r\n      if (typeof window.HTMLDivElement !== 'undefined')\r\n        return true;\r\n\r\n      var div = document.createElement('div'),\r\n          form = document.createElement('form'),\r\n          isSupported = false;\r\n\r\n      if (div['__proto__'] && (div['__proto__'] !== form['__proto__'])) {\r\n        isSupported = true;\r\n      }\r\n\r\n      div = form = null;\r\n\r\n      return isSupported;\r\n    })()\r\n  },\r\n\r\n  ScriptFragment: '<script[^>]*>([\\\\S\\\\s]*?)<\\/script>',\r\n  JSONFilter: /^\\/\\*-secure-([\\s\\S]*)\\*\\/\\s*$/,\r\n\r\n  emptyFunction: function() { },\r\n\r\n  K: function(x) { return x }\r\n};\r\n\r\nif (Prototype.Browser.MobileSafari)\r\n  Prototype.BrowserFeatures.SpecificElementExtensions = false;\r\n\r\n\r\nvar Abstract = { };\r\n\r\n\r\nvar Try = {\r\n  these: function() {\r\n    var returnValue;\r\n\r\n    for (var i = 0, length = arguments.length; i < length; i++) {\r\n      var lambda = arguments[i];\r\n      try {\r\n        returnValue = lambda();\r\n        break;\r\n      } catch (e) { }\r\n    }\r\n\r\n    return returnValue;\r\n  }\r\n};\r\n\r\n/* Based on Alex Arnell's inheritance implementation. */\r\n\r\nvar Class = (function() {\r\n\r\n  var IS_DONTENUM_BUGGY = (function(){\r\n    for (var p in { toString: 1 }) {\r\n      if (p === 'toString') return false;\r\n    }\r\n    return true;\r\n  })();\r\n\r\n  function subclass() {};\r\n  function create() {\r\n    var parent = null, properties = $A(arguments);\r\n    if (Object.isFunction(properties[0]))\r\n      parent = properties.shift();\r\n\r\n    function klass() {\r\n      this.initialize.apply(this, arguments);\r\n    }\r\n\r\n    Object.extend(klass, Class.Methods);\r\n    klass.superclass = parent;\r\n    klass.subclasses = [];\r\n\r\n    if (parent) {\r\n      subclass.prototype = parent.prototype;\r\n      klass.prototype = new subclass;\r\n      parent.subclasses.push(klass);\r\n    }\r\n\r\n    for (var i = 0, length = properties.length; i < length; i++)\r\n      klass.addMethods(properties[i]);\r\n\r\n    if (!klass.prototype.initialize)\r\n      klass.prototype.initialize = Prototype.emptyFunction;\r\n\r\n    klass.prototype.constructor = klass;\r\n    return klass;\r\n  }\r\n\r\n  function addMethods(source) {\r\n    var ancestor   = this.superclass && this.superclass.prototype,\r\n        properties = Object.keys(source);\r\n\r\n    if (IS_DONTENUM_BUGGY) {\r\n      if (source.toString != Object.prototype.toString)\r\n        properties.push(\"toString\");\r\n      if (source.valueOf != Object.prototype.valueOf)\r\n        properties.push(\"valueOf\");\r\n    }\r\n\r\n    for (var i = 0, length = properties.length; i < length; i++) {\r\n      var property = properties[i], value = source[property];\r\n      if (ancestor && Object.isFunction(value) &&\r\n          value.argumentNames()[0] == \"$super\") {\r\n        var method = value;\r\n        value = (function(m) {\r\n          return function() { return ancestor[m].apply(this, arguments); };\r\n        })(property).wrap(method);\r\n\r\n        value.valueOf = method.valueOf.bind(method);\r\n        value.toString = method.toString.bind(method);\r\n      }\r\n      this.prototype[property] = value;\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  return {\r\n    create: create,\r\n    Methods: {\r\n      addMethods: addMethods\r\n    }\r\n  };\r\n})();\r\n(function() {\r\n\r\n  var _toString = Object.prototype.toString,\r\n      NULL_TYPE = 'Null',\r\n      UNDEFINED_TYPE = 'Undefined',\r\n      BOOLEAN_TYPE = 'Boolean',\r\n      NUMBER_TYPE = 'Number',\r\n      STRING_TYPE = 'String',\r\n      OBJECT_TYPE = 'Object',\r\n      FUNCTION_CLASS = '[object Function]',\r\n      BOOLEAN_CLASS = '[object Boolean]',\r\n      NUMBER_CLASS = '[object Number]',\r\n      STRING_CLASS = '[object String]',\r\n      ARRAY_CLASS = '[object Array]',\r\n      DATE_CLASS = '[object Date]',\r\n      NATIVE_JSON_STRINGIFY_SUPPORT = window.JSON &&\r\n        typeof JSON.stringify === 'function' &&\r\n        JSON.stringify(0) === '0' &&\r\n        typeof JSON.stringify(Prototype.K) === 'undefined';\r\n\r\n  function Type(o) {\r\n    switch(o) {\r\n      case null: return NULL_TYPE;\r\n      case (void 0): return UNDEFINED_TYPE;\r\n    }\r\n    var type = typeof o;\r\n    switch(type) {\r\n      case 'boolean': return BOOLEAN_TYPE;\r\n      case 'number':  return NUMBER_TYPE;\r\n      case 'string':  return STRING_TYPE;\r\n    }\r\n    return OBJECT_TYPE;\r\n  }\r\n\r\n  function extend(destination, source) {\r\n    for (var property in source)\r\n      destination[property] = source[property];\r\n    return destination;\r\n  }\r\n\r\n  function inspect(object) {\r\n    try {\r\n      if (isUndefined(object)) return 'undefined';\r\n      if (object === null) return 'null';\r\n      return object.inspect ? object.inspect() : String(object);\r\n    } catch (e) {\r\n      if (e instanceof RangeError) return '...';\r\n      throw e;\r\n    }\r\n  }\r\n\r\n  function toJSON(value) {\r\n    return Str('', { '': value }, []);\r\n  }\r\n\r\n  function Str(key, holder, stack) {\r\n    var value = holder[key],\r\n        type = typeof value;\r\n\r\n    if (Type(value) === OBJECT_TYPE && typeof value.toJSON === 'function') {\r\n      value = value.toJSON(key);\r\n    }\r\n\r\n    var _class = _toString.call(value);\r\n\r\n    switch (_class) {\r\n      case NUMBER_CLASS:\r\n      case BOOLEAN_CLASS:\r\n      case STRING_CLASS:\r\n        value = value.valueOf();\r\n    }\r\n\r\n    switch (value) {\r\n      case null: return 'null';\r\n      case true: return 'true';\r\n      case false: return 'false';\r\n    }\r\n\r\n    type = typeof value;\r\n    switch (type) {\r\n      case 'string':\r\n        return value.inspect(true);\r\n      case 'number':\r\n        return isFinite(value) ? String(value) : 'null';\r\n      case 'object':\r\n\r\n        for (var i = 0, length = stack.length; i < length; i++) {\r\n          if (stack[i] === value) { throw new TypeError(); }\r\n        }\r\n        stack.push(value);\r\n\r\n        var partial = [];\r\n        if (_class === ARRAY_CLASS) {\r\n          for (var i = 0, length = value.length; i < length; i++) {\r\n            var str = Str(i, value, stack);\r\n            partial.push(typeof str === 'undefined' ? 'null' : str);\r\n          }\r\n          partial = '[' + partial.join(',') + ']';\r\n        } else {\r\n          var keys = Object.keys(value);\r\n          for (var i = 0, length = keys.length; i < length; i++) {\r\n            var key = keys[i], str = Str(key, value, stack);\r\n            if (typeof str !== \"undefined\") {\r\n               partial.push(key.inspect(true)+ ':' + str);\r\n             }\r\n          }\r\n          partial = '{' + partial.join(',') + '}';\r\n        }\r\n        stack.pop();\r\n        return partial;\r\n    }\r\n  }\r\n\r\n  function stringify(object) {\r\n    return JSON.stringify(object);\r\n  }\r\n\r\n  function toQueryString(object) {\r\n    return $H(object).toQueryString();\r\n  }\r\n\r\n  function toHTML(object) {\r\n    return object && object.toHTML ? object.toHTML() : String.interpret(object);\r\n  }\r\n\r\n  function keys(object) {\r\n    if (Type(object) !== OBJECT_TYPE) { throw new TypeError(); }\r\n    var results = [];\r\n    for (var property in object) {\r\n      if (object.hasOwnProperty(property)) {\r\n        results.push(property);\r\n      }\r\n    }\r\n    return results;\r\n  }\r\n\r\n  function values(object) {\r\n    var results = [];\r\n    for (var property in object)\r\n      results.push(object[property]);\r\n    return results;\r\n  }\r\n\r\n  function clone(object) {\r\n    return extend({ }, object);\r\n  }\r\n\r\n  function isElement(object) {\r\n    return !!(object && object.nodeType == 1);\r\n  }\r\n\r\n  function isArray(object) {\r\n    return _toString.call(object) === ARRAY_CLASS;\r\n  }\r\n\r\n  var hasNativeIsArray = (typeof Array.isArray == 'function')\r\n    && Array.isArray([]) && !Array.isArray({});\r\n\r\n  if (hasNativeIsArray) {\r\n    isArray = Array.isArray;\r\n  }\r\n\r\n  function isHash(object) {\r\n    return object instanceof Hash;\r\n  }\r\n\r\n  function isFunction(object) {\r\n    return _toString.call(object) === FUNCTION_CLASS;\r\n  }\r\n\r\n  function isString(object) {\r\n    return _toString.call(object) === STRING_CLASS;\r\n  }\r\n\r\n  function isNumber(object) {\r\n    return _toString.call(object) === NUMBER_CLASS;\r\n  }\r\n\r\n  function isDate(object) {\r\n    return _toString.call(object) === DATE_CLASS;\r\n  }\r\n\r\n  function isUndefined(object) {\r\n    return typeof object === \"undefined\";\r\n  }\r\n\r\n  extend(Object, {\r\n    extend:        extend,\r\n    inspect:       inspect,\r\n    toJSON:        NATIVE_JSON_STRINGIFY_SUPPORT ? stringify : toJSON,\r\n    toQueryString: toQueryString,\r\n    toHTML:        toHTML,\r\n    keys:          Object.keys || keys,\r\n    values:        values,\r\n    clone:         clone,\r\n    isElement:     isElement,\r\n    isArray:       isArray,\r\n    isHash:        isHash,\r\n    isFunction:    isFunction,\r\n    isString:      isString,\r\n    isNumber:      isNumber,\r\n    isDate:        isDate,\r\n    isUndefined:   isUndefined\r\n  });\r\n})();\r\nObject.extend(Function.prototype, (function() {\r\n  var slice = Array.prototype.slice;\r\n\r\n  function update(array, args) {\r\n    var arrayLength = array.length, length = args.length;\r\n    while (length--) array[arrayLength + length] = args[length];\r\n    return array;\r\n  }\r\n\r\n  function merge(array, args) {\r\n    array = slice.call(array, 0);\r\n    return update(array, args);\r\n  }\r\n\r\n  function argumentNames() {\r\n    var names = this.toString().match(/^[\\s\\(]*function[^(]*\\(([^)]*)\\)/)[1]\r\n      .replace(/\\/\\/.*?[\\r\\n]|\\/\\*(?:.|[\\r\\n])*?\\*\\//g, '')\r\n      .replace(/\\s+/g, '').split(',');\r\n    return names.length == 1 && !names[0] ? [] : names;\r\n  }\r\n\r\n  function bind(context) {\r\n    if (arguments.length < 2 && Object.isUndefined(arguments[0])) return this;\r\n    var __method = this, args = slice.call(arguments, 1);\r\n    return function() {\r\n      var a = merge(args, arguments);\r\n      return __method.apply(context, a);\r\n    }\r\n  }\r\n\r\n  function bindAsEventListener(context) {\r\n    var __method = this, args = slice.call(arguments, 1);\r\n    return function(event) {\r\n      var a = update([event || window.event], args);\r\n      return __method.apply(context, a);\r\n    }\r\n  }\r\n\r\n  function curry() {\r\n    if (!arguments.length) return this;\r\n    var __method = this, args = slice.call(arguments, 0);\r\n    return function() {\r\n      var a = merge(args, arguments);\r\n      return __method.apply(this, a);\r\n    }\r\n  }\r\n\r\n  function delay(timeout) {\r\n    var __method = this, args = slice.call(arguments, 1);\r\n    timeout = timeout * 1000;\r\n    return window.setTimeout(function() {\r\n      return __method.apply(__method, args);\r\n    }, timeout);\r\n  }\r\n\r\n  function defer() {\r\n    var args = update([0.01], arguments);\r\n    return this.delay.apply(this, args);\r\n  }\r\n\r\n  function wrap(wrapper) {\r\n    var __method = this;\r\n    return function() {\r\n      var a = update([__method.bind(this)], arguments);\r\n      return wrapper.apply(this, a);\r\n    }\r\n  }\r\n\r\n  function methodize() {\r\n    if (this._methodized) return this._methodized;\r\n    var __method = this;\r\n    return this._methodized = function() {\r\n      var a = update([this], arguments);\r\n      return __method.apply(null, a);\r\n    };\r\n  }\r\n\r\n  return {\r\n    argumentNames:       argumentNames,\r\n    bind:                bind,\r\n    bindAsEventListener: bindAsEventListener,\r\n    curry:               curry,\r\n    delay:               delay,\r\n    defer:               defer,\r\n    wrap:                wrap,\r\n    methodize:           methodize\r\n  }\r\n})());\r\n\r\n\r\n\r\n(function(proto) {\r\n\r\n\r\n  function toISOString() {\r\n    return this.getUTCFullYear() + '-' +\r\n      (this.getUTCMonth() + 1).toPaddedString(2) + '-' +\r\n      this.getUTCDate().toPaddedString(2) + 'T' +\r\n      this.getUTCHours().toPaddedString(2) + ':' +\r\n      this.getUTCMinutes().toPaddedString(2) + ':' +\r\n      this.getUTCSeconds().toPaddedString(2) + 'Z';\r\n  }\r\n\r\n\r\n  function toJSON() {\r\n    return this.toISOString();\r\n  }\r\n\r\n  if (!proto.toISOString) proto.toISOString = toISOString;\r\n  if (!proto.toJSON) proto.toJSON = toJSON;\r\n\r\n})(Date.prototype);\r\n\r\n\r\nRegExp.prototype.match = RegExp.prototype.test;\r\n\r\nRegExp.escape = function(str) {\r\n  return String(str).replace(/([.*+?^=!:${}()|[\\]\\/\\\\])/g, '\\\\$1');\r\n};\r\nvar PeriodicalExecuter = Class.create({\r\n  initialize: function(callback, frequency) {\r\n    this.callback = callback;\r\n    this.frequency = frequency;\r\n    this.currentlyExecuting = false;\r\n\r\n    this.registerCallback();\r\n  },\r\n\r\n  registerCallback: function() {\r\n    this.timer = setInterval(this.onTimerEvent.bind(this), this.frequency * 1000);\r\n  },\r\n\r\n  execute: function() {\r\n    this.callback(this);\r\n  },\r\n\r\n  stop: function() {\r\n    if (!this.timer) return;\r\n    clearInterval(this.timer);\r\n    this.timer = null;\r\n  },\r\n\r\n  onTimerEvent: function() {\r\n    if (!this.currentlyExecuting) {\r\n      try {\r\n        this.currentlyExecuting = true;\r\n        this.execute();\r\n        this.currentlyExecuting = false;\r\n      } catch(e) {\r\n        this.currentlyExecuting = false;\r\n        throw e;\r\n      }\r\n    }\r\n  }\r\n});\r\nObject.extend(String, {\r\n  interpret: function(value) {\r\n    return value == null ? '' : String(value);\r\n  },\r\n  specialChar: {\r\n    '\\b': '\\\\b',\r\n    '\\t': '\\\\t',\r\n    '\\n': '\\\\n',\r\n    '\\f': '\\\\f',\r\n    '\\r': '\\\\r',\r\n    '\\\\': '\\\\\\\\'\r\n  }\r\n});\r\n\r\nObject.extend(String.prototype, (function() {\r\n  var NATIVE_JSON_PARSE_SUPPORT = window.JSON &&\r\n    typeof JSON.parse === 'function' &&\r\n    JSON.parse('{\"test\": true}').test;\r\n\r\n  function prepareReplacement(replacement) {\r\n    if (Object.isFunction(replacement)) return replacement;\r\n    var template = new Template(replacement);\r\n    return function(match) { return template.evaluate(match) };\r\n  }\r\n\r\n  function gsub(pattern, replacement) {\r\n    var result = '', source = this, match;\r\n    replacement = prepareReplacement(replacement);\r\n\r\n    if (Object.isString(pattern))\r\n      pattern = RegExp.escape(pattern);\r\n\r\n    if (!(pattern.length || pattern.source)) {\r\n      replacement = replacement('');\r\n      return replacement + source.split('').join(replacement) + replacement;\r\n    }\r\n\r\n    while (source.length > 0) {\r\n      if (match = source.match(pattern)) {\r\n        result += source.slice(0, match.index);\r\n        result += String.interpret(replacement(match));\r\n        source  = source.slice(match.index + match[0].length);\r\n      } else {\r\n        result += source, source = '';\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  function sub(pattern, replacement, count) {\r\n    replacement = prepareReplacement(replacement);\r\n    count = Object.isUndefined(count) ? 1 : count;\r\n\r\n    return this.gsub(pattern, function(match) {\r\n      if (--count < 0) return match[0];\r\n      return replacement(match);\r\n    });\r\n  }\r\n\r\n  function scan(pattern, iterator) {\r\n    this.gsub(pattern, iterator);\r\n    return String(this);\r\n  }\r\n\r\n  function truncate(length, truncation) {\r\n    length = length || 30;\r\n    truncation = Object.isUndefined(truncation) ? '...' : truncation;\r\n    return this.length > length ?\r\n      this.slice(0, length - truncation.length) + truncation : String(this);\r\n  }\r\n\r\n  function strip() {\r\n    return this.replace(/^\\s+/, '').replace(/\\s+$/, '');\r\n  }\r\n\r\n  function stripTags() {\r\n    return this.replace(/<\\w+(\\s+(\"[^\"]*\"|'[^']*'|[^>])+)?>|<\\/\\w+>/gi, '');\r\n  }\r\n\r\n  function stripScripts() {\r\n    return this.replace(new RegExp(Prototype.ScriptFragment, 'img'), '');\r\n  }\r\n\r\n  function extractScripts() {\r\n    var matchAll = new RegExp(Prototype.ScriptFragment, 'img'),\r\n        matchOne = new RegExp(Prototype.ScriptFragment, 'im');\r\n    return (this.match(matchAll) || []).map(function(scriptTag) {\r\n      return (scriptTag.match(matchOne) || ['', ''])[1];\r\n    });\r\n  }\r\n\r\n  function evalScripts() {\r\n    return this.extractScripts().map(function(script) { return eval(script) });\r\n  }\r\n\r\n  function escapeHTML() {\r\n    return this.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');\r\n  }\r\n\r\n  function unescapeHTML() {\r\n    return this.stripTags().replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/&amp;/g,'&');\r\n  }\r\n\r\n\r\n  function toQueryParams(separator) {\r\n    var match = this.strip().match(/([^?#]*)(#.*)?$/);\r\n    if (!match) return { };\r\n\r\n    return match[1].split(separator || '&').inject({ }, function(hash, pair) {\r\n      if ((pair = pair.split('='))[0]) {\r\n        var key = decodeURIComponent(pair.shift()),\r\n            value = pair.length > 1 ? pair.join('=') : pair[0];\r\n\r\n        if (value != undefined) value = decodeURIComponent(value);\r\n\r\n        if (key in hash) {\r\n          if (!Object.isArray(hash[key])) hash[key] = [hash[key]];\r\n          hash[key].push(value);\r\n        }\r\n        else hash[key] = value;\r\n      }\r\n      return hash;\r\n    });\r\n  }\r\n\r\n  function toArray() {\r\n    return this.split('');\r\n  }\r\n\r\n  function succ() {\r\n    return this.slice(0, this.length - 1) +\r\n      String.fromCharCode(this.charCodeAt(this.length - 1) + 1);\r\n  }\r\n\r\n  function times(count) {\r\n    return count < 1 ? '' : new Array(count + 1).join(this);\r\n  }\r\n\r\n  function camelize() {\r\n    return this.replace(/-+(.)?/g, function(match, chr) {\r\n      return chr ? chr.toUpperCase() : '';\r\n    });\r\n  }\r\n\r\n  function capitalize() {\r\n    return this.charAt(0).toUpperCase() + this.substring(1).toLowerCase();\r\n  }\r\n\r\n  function underscore() {\r\n    return this.replace(/::/g, '/')\r\n               .replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')\r\n               .replace(/([a-z\\d])([A-Z])/g, '$1_$2')\r\n               .replace(/-/g, '_')\r\n               .toLowerCase();\r\n  }\r\n\r\n  function dasherize() {\r\n    return this.replace(/_/g, '-');\r\n  }\r\n\r\n  function inspect(useDoubleQuotes) {\r\n    var escapedString = this.replace(/[\\x00-\\x1f\\\\]/g, function(character) {\r\n      if (character in String.specialChar) {\r\n        return String.specialChar[character];\r\n      }\r\n      return '\\\\u00' + character.charCodeAt().toPaddedString(2, 16);\r\n    });\r\n    if (useDoubleQuotes) return '\"' + escapedString.replace(/\"/g, '\\\\\"') + '\"';\r\n    return \"'\" + escapedString.replace(/'/g, '\\\\\\'') + \"'\";\r\n  }\r\n\r\n  function unfilterJSON(filter) {\r\n    return this.replace(filter || Prototype.JSONFilter, '$1');\r\n  }\r\n\r\n  function isJSON() {\r\n    var str = this;\r\n    if (str.blank()) return false;\r\n    str = str.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@');\r\n    str = str.replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g, ']');\r\n    str = str.replace(/(?:^|:|,)(?:\\s*\\[)+/g, '');\r\n    return (/^[\\],:{}\\s]*$/).test(str);\r\n  }\r\n\r\n  function evalJSON(sanitize) {\r\n    var json = this.unfilterJSON(),\r\n        cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\r\n    if (cx.test(json)) {\r\n      json = json.replace(cx, function (a) {\r\n        return '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\r\n      });\r\n    }\r\n    try {\r\n      if (!sanitize || json.isJSON()) return eval('(' + json + ')');\r\n    } catch (e) { }\r\n    throw new SyntaxError('Badly formed JSON string: ' + this.inspect());\r\n  }\r\n\r\n  function parseJSON() {\r\n    var json = this.unfilterJSON();\r\n    return JSON.parse(json);\r\n  }\r\n\r\n  function include(pattern) {\r\n    return this.indexOf(pattern) > -1;\r\n  }\r\n\r\n  function startsWith(pattern) {\r\n    return this.lastIndexOf(pattern, 0) === 0;\r\n  }\r\n\r\n  function endsWith(pattern) {\r\n    var d = this.length - pattern.length;\r\n    return d >= 0 && this.indexOf(pattern, d) === d;\r\n  }\r\n\r\n  function empty() {\r\n    return this == '';\r\n  }\r\n\r\n  function blank() {\r\n    return /^\\s*$/.test(this);\r\n  }\r\n\r\n  function interpolate(object, pattern) {\r\n    return new Template(this, pattern).evaluate(object);\r\n  }\r\n\r\n  return {\r\n    gsub:           gsub,\r\n    sub:            sub,\r\n    scan:           scan,\r\n    truncate:       truncate,\r\n    strip:          String.prototype.trim || strip,\r\n    stripTags:      stripTags,\r\n    stripScripts:   stripScripts,\r\n    extractScripts: extractScripts,\r\n    evalScripts:    evalScripts,\r\n    escapeHTML:     escapeHTML,\r\n    unescapeHTML:   unescapeHTML,\r\n    toQueryParams:  toQueryParams,\r\n    parseQuery:     toQueryParams,\r\n    toArray:        toArray,\r\n    succ:           succ,\r\n    times:          times,\r\n    camelize:       camelize,\r\n    capitalize:     capitalize,\r\n    underscore:     underscore,\r\n    dasherize:      dasherize,\r\n    inspect:        inspect,\r\n    unfilterJSON:   unfilterJSON,\r\n    isJSON:         isJSON,\r\n    evalJSON:       NATIVE_JSON_PARSE_SUPPORT ? parseJSON : evalJSON,\r\n    include:        include,\r\n    startsWith:     startsWith,\r\n    endsWith:       endsWith,\r\n    empty:          empty,\r\n    blank:          blank,\r\n    interpolate:    interpolate\r\n  };\r\n})());\r\n\r\nvar Template = Class.create({\r\n  initialize: function(template, pattern) {\r\n    this.template = template.toString();\r\n    this.pattern = pattern || Template.Pattern;\r\n  },\r\n\r\n  evaluate: function(object) {\r\n    if (object && Object.isFunction(object.toTemplateReplacements))\r\n      object = object.toTemplateReplacements();\r\n\r\n    return this.template.gsub(this.pattern, function(match) {\r\n      if (object == null) return (match[1] + '');\r\n\r\n      var before = match[1] || '';\r\n      if (before == '\\\\') return match[2];\r\n\r\n      var ctx = object, expr = match[3],\r\n          pattern = /^([^.[]+|\\[((?:.*?[^\\\\])?)\\])(\\.|\\[|$)/;\r\n\r\n      match = pattern.exec(expr);\r\n      if (match == null) return before;\r\n\r\n      while (match != null) {\r\n        var comp = match[1].startsWith('[') ? match[2].replace(/\\\\\\\\]/g, ']') : match[1];\r\n        ctx = ctx[comp];\r\n        if (null == ctx || '' == match[3]) break;\r\n        expr = expr.substring('[' == match[3] ? match[1].length : match[0].length);\r\n        match = pattern.exec(expr);\r\n      }\r\n\r\n      return before + String.interpret(ctx);\r\n    });\r\n  }\r\n});\r\nTemplate.Pattern = /(^|.|\\r|\\n)(#\\{(.*?)\\})/;\r\n\r\nvar $break = { };\r\n\r\nvar Enumerable = (function() {\r\n  function each(iterator, context) {\r\n    var index = 0;\r\n    try {\r\n      this._each(function(value) {\r\n        iterator.call(context, value, index++);\r\n      });\r\n    } catch (e) {\r\n      if (e != $break) throw e;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  function eachSlice(number, iterator, context) {\r\n    var index = -number, slices = [], array = this.toArray();\r\n    if (number < 1) return array;\r\n    while ((index += number) < array.length)\r\n      slices.push(array.slice(index, index+number));\r\n    return slices.collect(iterator, context);\r\n  }\r\n\r\n  function all(iterator, context) {\r\n    iterator = iterator || Prototype.K;\r\n    var result = true;\r\n    this.each(function(value, index) {\r\n      result = result && !!iterator.call(context, value, index);\r\n      if (!result) throw $break;\r\n    });\r\n    return result;\r\n  }\r\n\r\n  function any(iterator, context) {\r\n    iterator = iterator || Prototype.K;\r\n    var result = false;\r\n    this.each(function(value, index) {\r\n      if (result = !!iterator.call(context, value, index))\r\n        throw $break;\r\n    });\r\n    return result;\r\n  }\r\n\r\n  function collect(iterator, context) {\r\n    iterator = iterator || Prototype.K;\r\n    var results = [];\r\n    this.each(function(value, index) {\r\n      results.push(iterator.call(context, value, index));\r\n    });\r\n    return results;\r\n  }\r\n\r\n  function detect(iterator, context) {\r\n    var result;\r\n    this.each(function(value, index) {\r\n      if (iterator.call(context, value, index)) {\r\n        result = value;\r\n        throw $break;\r\n      }\r\n    });\r\n    return result;\r\n  }\r\n\r\n  function findAll(iterator, context) {\r\n    var results = [];\r\n    this.each(function(value, index) {\r\n      if (iterator.call(context, value, index))\r\n        results.push(value);\r\n    });\r\n    return results;\r\n  }\r\n\r\n  function grep(filter, iterator, context) {\r\n    iterator = iterator || Prototype.K;\r\n    var results = [];\r\n\r\n    if (Object.isString(filter))\r\n      filter = new RegExp(RegExp.escape(filter));\r\n\r\n    this.each(function(value, index) {\r\n      if (filter.match(value))\r\n        results.push(iterator.call(context, value, index));\r\n    });\r\n    return results;\r\n  }\r\n\r\n  function include(object) {\r\n    if (Object.isFunction(this.indexOf))\r\n      if (this.indexOf(object) != -1) return true;\r\n\r\n    var found = false;\r\n    this.each(function(value) {\r\n      if (value == object) {\r\n        found = true;\r\n        throw $break;\r\n      }\r\n    });\r\n    return found;\r\n  }\r\n\r\n  function inGroupsOf(number, fillWith) {\r\n    fillWith = Object.isUndefined(fillWith) ? null : fillWith;\r\n    return this.eachSlice(number, function(slice) {\r\n      while(slice.length < number) slice.push(fillWith);\r\n      return slice;\r\n    });\r\n  }\r\n\r\n  function inject(memo, iterator, context) {\r\n    this.each(function(value, index) {\r\n      memo = iterator.call(context, memo, value, index);\r\n    });\r\n    return memo;\r\n  }\r\n\r\n  function invoke(method) {\r\n    var args = $A(arguments).slice(1);\r\n    return this.map(function(value) {\r\n      return value[method].apply(value, args);\r\n    });\r\n  }\r\n\r\n  function max(iterator, context) {\r\n    iterator = iterator || Prototype.K;\r\n    var result;\r\n    this.each(function(value, index) {\r\n      value = iterator.call(context, value, index);\r\n      if (result == null || value >= result)\r\n        result = value;\r\n    });\r\n    return result;\r\n  }\r\n\r\n  function min(iterator, context) {\r\n    iterator = iterator || Prototype.K;\r\n    var result;\r\n    this.each(function(value, index) {\r\n      value = iterator.call(context, value, index);\r\n      if (result == null || value < result)\r\n        result = value;\r\n    });\r\n    return result;\r\n  }\r\n\r\n  function partition(iterator, context) {\r\n    iterator = iterator || Prototype.K;\r\n    var trues = [], falses = [];\r\n    this.each(function(value, index) {\r\n      (iterator.call(context, value, index) ?\r\n        trues : falses).push(value);\r\n    });\r\n    return [trues, falses];\r\n  }\r\n\r\n  function pluck(property) {\r\n    var results = [];\r\n    this.each(function(value) {\r\n      results.push(value[property]);\r\n    });\r\n    return results;\r\n  }\r\n\r\n  function reject(iterator, context) {\r\n    var results = [];\r\n    this.each(function(value, index) {\r\n      if (!iterator.call(context, value, index))\r\n        results.push(value);\r\n    });\r\n    return results;\r\n  }\r\n\r\n  function sortBy(iterator, context) {\r\n    return this.map(function(value, index) {\r\n      return {\r\n        value: value,\r\n        criteria: iterator.call(context, value, index)\r\n      };\r\n    }).sort(function(left, right) {\r\n      var a = left.criteria, b = right.criteria;\r\n      return a < b ? -1 : a > b ? 1 : 0;\r\n    }).pluck('value');\r\n  }\r\n\r\n  function toArray() {\r\n    return this.map();\r\n  }\r\n\r\n  function zip() {\r\n    var iterator = Prototype.K, args = $A(arguments);\r\n    if (Object.isFunction(args.last()))\r\n      iterator = args.pop();\r\n\r\n    var collections = [this].concat(args).map($A);\r\n    return this.map(function(value, index) {\r\n      return iterator(collections.pluck(index));\r\n    });\r\n  }\r\n\r\n  function size() {\r\n    return this.toArray().length;\r\n  }\r\n\r\n  function inspect() {\r\n    return '#<Enumerable:' + this.toArray().inspect() + '>';\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return {\r\n    each:       each,\r\n    eachSlice:  eachSlice,\r\n    all:        all,\r\n    every:      all,\r\n    any:        any,\r\n    some:       any,\r\n    collect:    collect,\r\n    map:        collect,\r\n    detect:     detect,\r\n    findAll:    findAll,\r\n    select:     findAll,\r\n    filter:     findAll,\r\n    grep:       grep,\r\n    include:    include,\r\n    member:     include,\r\n    inGroupsOf: inGroupsOf,\r\n    inject:     inject,\r\n    invoke:     invoke,\r\n    max:        max,\r\n    min:        min,\r\n    partition:  partition,\r\n    pluck:      pluck,\r\n    reject:     reject,\r\n    sortBy:     sortBy,\r\n    toArray:    toArray,\r\n    entries:    toArray,\r\n    zip:        zip,\r\n    size:       size,\r\n    inspect:    inspect,\r\n    find:       detect\r\n  };\r\n})();\r\n\r\nfunction $A(iterable) {\r\n  if (!iterable) return [];\r\n  if ('toArray' in Object(iterable)) return iterable.toArray();\r\n  var length = iterable.length || 0, results = new Array(length);\r\n  while (length--) results[length] = iterable[length];\r\n  return results;\r\n}\r\n\r\n\r\nfunction $w(string) {\r\n  if (!Object.isString(string)) return [];\r\n  string = string.strip();\r\n  return string ? string.split(/\\s+/) : [];\r\n}\r\n\r\nArray.from = $A;\r\n\r\n\r\n(function() {\r\n  var arrayProto = Array.prototype,\r\n      slice = arrayProto.slice,\r\n      _each = arrayProto.forEach; // use native browser JS 1.6 implementation if available\r\n\r\n  function each(iterator, context) {\r\n    for (var i = 0, length = this.length >>> 0; i < length; i++) {\r\n      if (i in this) iterator.call(context, this[i], i, this);\r\n    }\r\n  }\r\n  if (!_each) _each = each;\r\n\r\n  function clear() {\r\n    this.length = 0;\r\n    return this;\r\n  }\r\n\r\n  function first() {\r\n    return this[0];\r\n  }\r\n\r\n  function last() {\r\n    return this[this.length - 1];\r\n  }\r\n\r\n  function compact() {\r\n    return this.select(function(value) {\r\n      return value != null;\r\n    });\r\n  }\r\n\r\n  function flatten() {\r\n    return this.inject([], function(array, value) {\r\n      if (Object.isArray(value))\r\n        return array.concat(value.flatten());\r\n      array.push(value);\r\n      return array;\r\n    });\r\n  }\r\n\r\n  function without() {\r\n    var values = slice.call(arguments, 0);\r\n    return this.select(function(value) {\r\n      return !values.include(value);\r\n    });\r\n  }\r\n\r\n  function reverse(inline) {\r\n    return (inline === false ? this.toArray() : this)._reverse();\r\n  }\r\n\r\n  function uniq(sorted) {\r\n    return this.inject([], function(array, value, index) {\r\n      if (0 == index || (sorted ? array.last() != value : !array.include(value)))\r\n        array.push(value);\r\n      return array;\r\n    });\r\n  }\r\n\r\n  function intersect(array) {\r\n    return this.uniq().findAll(function(item) {\r\n      return array.detect(function(value) { return item === value });\r\n    });\r\n  }\r\n\r\n\r\n  function clone() {\r\n    return slice.call(this, 0);\r\n  }\r\n\r\n  function size() {\r\n    return this.length;\r\n  }\r\n\r\n  function inspect() {\r\n    return '[' + this.map(Object.inspect).join(', ') + ']';\r\n  }\r\n\r\n  function indexOf(item, i) {\r\n    i || (i = 0);\r\n    var length = this.length;\r\n    if (i < 0) i = length + i;\r\n    for (; i < length; i++)\r\n      if (this[i] === item) return i;\r\n    return -1;\r\n  }\r\n\r\n  function lastIndexOf(item, i) {\r\n    i = isNaN(i) ? this.length : (i < 0 ? this.length + i : i) + 1;\r\n    var n = this.slice(0, i).reverse().indexOf(item);\r\n    return (n < 0) ? n : i - n - 1;\r\n  }\r\n\r\n  function concat() {\r\n    var array = slice.call(this, 0), item;\r\n    for (var i = 0, length = arguments.length; i < length; i++) {\r\n      item = arguments[i];\r\n      if (Object.isArray(item) && !('callee' in item)) {\r\n        for (var j = 0, arrayLength = item.length; j < arrayLength; j++)\r\n          array.push(item[j]);\r\n      } else {\r\n        array.push(item);\r\n      }\r\n    }\r\n    return array;\r\n  }\r\n\r\n  Object.extend(arrayProto, Enumerable);\r\n\r\n  if (!arrayProto._reverse)\r\n    arrayProto._reverse = arrayProto.reverse;\r\n\r\n  Object.extend(arrayProto, {\r\n    _each:     _each,\r\n    clear:     clear,\r\n    first:     first,\r\n    last:      last,\r\n    compact:   compact,\r\n    flatten:   flatten,\r\n    without:   without,\r\n    reverse:   reverse,\r\n    uniq:      uniq,\r\n    intersect: intersect,\r\n    clone:     clone,\r\n    toArray:   clone,\r\n    size:      size,\r\n    inspect:   inspect\r\n  });\r\n\r\n  var CONCAT_ARGUMENTS_BUGGY = (function() {\r\n    return [].concat(arguments)[0][0] !== 1;\r\n  })(1,2)\r\n\r\n  if (CONCAT_ARGUMENTS_BUGGY) arrayProto.concat = concat;\r\n\r\n  if (!arrayProto.indexOf) arrayProto.indexOf = indexOf;\r\n  if (!arrayProto.lastIndexOf) arrayProto.lastIndexOf = lastIndexOf;\r\n})();\r\nfunction $H(object) {\r\n  return new Hash(object);\r\n};\r\n\r\nvar Hash = Class.create(Enumerable, (function() {\r\n  function initialize(object) {\r\n    this._object = Object.isHash(object) ? object.toObject() : Object.clone(object);\r\n  }\r\n\r\n\r\n  function _each(iterator) {\r\n    for (var key in this._object) {\r\n      var value = this._object[key], pair = [key, value];\r\n      pair.key = key;\r\n      pair.value = value;\r\n      iterator(pair);\r\n    }\r\n  }\r\n\r\n  function set(key, value) {\r\n    return this._object[key] = value;\r\n  }\r\n\r\n  function get(key) {\r\n    if (this._object[key] !== Object.prototype[key])\r\n      return this._object[key];\r\n  }\r\n\r\n  function unset(key) {\r\n    var value = this._object[key];\r\n    delete this._object[key];\r\n    return value;\r\n  }\r\n\r\n  function toObject() {\r\n    return Object.clone(this._object);\r\n  }\r\n\r\n\r\n\r\n  function keys() {\r\n    return this.pluck('key');\r\n  }\r\n\r\n  function values() {\r\n    return this.pluck('value');\r\n  }\r\n\r\n  function index(value) {\r\n    var match = this.detect(function(pair) {\r\n      return pair.value === value;\r\n    });\r\n    return match && match.key;\r\n  }\r\n\r\n  function merge(object) {\r\n    return this.clone().update(object);\r\n  }\r\n\r\n  function update(object) {\r\n    return new Hash(object).inject(this, function(result, pair) {\r\n      result.set(pair.key, pair.value);\r\n      return result;\r\n    });\r\n  }\r\n\r\n  function toQueryPair(key, value) {\r\n    if (Object.isUndefined(value)) return key;\r\n    return key + '=' + encodeURIComponent(String.interpret(value));\r\n  }\r\n\r\n  function toQueryString() {\r\n    return this.inject([], function(results, pair) {\r\n      var key = encodeURIComponent(pair.key), values = pair.value;\r\n\r\n      if (values && typeof values == 'object') {\r\n        if (Object.isArray(values)) {\r\n          var queryValues = [];\r\n          for (var i = 0, len = values.length, value; i < len; i++) {\r\n            value = values[i];\r\n            queryValues.push(toQueryPair(key, value));\r\n          }\r\n          return results.concat(queryValues);\r\n        }\r\n      } else results.push(toQueryPair(key, values));\r\n      return results;\r\n    }).join('&');\r\n  }\r\n\r\n  function inspect() {\r\n    return '#<Hash:{' + this.map(function(pair) {\r\n      return pair.map(Object.inspect).join(': ');\r\n    }).join(', ') + '}>';\r\n  }\r\n\r\n  function clone() {\r\n    return new Hash(this);\r\n  }\r\n\r\n  return {\r\n    initialize:             initialize,\r\n    _each:                  _each,\r\n    set:                    set,\r\n    get:                    get,\r\n    unset:                  unset,\r\n    toObject:               toObject,\r\n    toTemplateReplacements: toObject,\r\n    keys:                   keys,\r\n    values:                 values,\r\n    index:                  index,\r\n    merge:                  merge,\r\n    update:                 update,\r\n    toQueryString:          toQueryString,\r\n    inspect:                inspect,\r\n    toJSON:                 toObject,\r\n    clone:                  clone\r\n  };\r\n})());\r\n\r\nHash.from = $H;\r\nObject.extend(Number.prototype, (function() {\r\n  function toColorPart() {\r\n    return this.toPaddedString(2, 16);\r\n  }\r\n\r\n  function succ() {\r\n    return this + 1;\r\n  }\r\n\r\n  function times(iterator, context) {\r\n    $R(0, this, true).each(iterator, context);\r\n    return this;\r\n  }\r\n\r\n  function toPaddedString(length, radix) {\r\n    var string = this.toString(radix || 10);\r\n    return '0'.times(length - string.length) + string;\r\n  }\r\n\r\n  function abs() {\r\n    return Math.abs(this);\r\n  }\r\n\r\n  function round() {\r\n    return Math.round(this);\r\n  }\r\n\r\n  function ceil() {\r\n    return Math.ceil(this);\r\n  }\r\n\r\n  function floor() {\r\n    return Math.floor(this);\r\n  }\r\n\r\n  return {\r\n    toColorPart:    toColorPart,\r\n    succ:           succ,\r\n    times:          times,\r\n    toPaddedString: toPaddedString,\r\n    abs:            abs,\r\n    round:          round,\r\n    ceil:           ceil,\r\n    floor:          floor\r\n  };\r\n})());\r\n\r\nfunction $R(start, end, exclusive) {\r\n  return new ObjectRange(start, end, exclusive);\r\n}\r\n\r\nvar ObjectRange = Class.create(Enumerable, (function() {\r\n  function initialize(start, end, exclusive) {\r\n    this.start = start;\r\n    this.end = end;\r\n    this.exclusive = exclusive;\r\n  }\r\n\r\n  function _each(iterator) {\r\n    var value = this.start;\r\n    while (this.include(value)) {\r\n      iterator(value);\r\n      value = value.succ();\r\n    }\r\n  }\r\n\r\n  function include(value) {\r\n    if (value < this.start)\r\n      return false;\r\n    if (this.exclusive)\r\n      return value < this.end;\r\n    return value <= this.end;\r\n  }\r\n\r\n  return {\r\n    initialize: initialize,\r\n    _each:      _each,\r\n    include:    include\r\n  };\r\n})());\r\n\r\n\r\n\r\nvar Ajax = {\r\n  getTransport: function() {\r\n    return Try.these(\r\n      function() {return new XMLHttpRequest()},\r\n      function() {return new ActiveXObject('Msxml2.XMLHTTP')},\r\n      function() {return new ActiveXObject('Microsoft.XMLHTTP')}\r\n    ) || false;\r\n  },\r\n\r\n  activeRequestCount: 0\r\n};\r\n\r\nAjax.Responders = {\r\n  responders: [],\r\n\r\n  _each: function(iterator) {\r\n    this.responders._each(iterator);\r\n  },\r\n\r\n  register: function(responder) {\r\n    if (!this.include(responder))\r\n      this.responders.push(responder);\r\n  },\r\n\r\n  unregister: function(responder) {\r\n    this.responders = this.responders.without(responder);\r\n  },\r\n\r\n  dispatch: function(callback, request, transport, json) {\r\n    this.each(function(responder) {\r\n      if (Object.isFunction(responder[callback])) {\r\n        try {\r\n          responder[callback].apply(responder, [request, transport, json]);\r\n        } catch (e) { }\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nObject.extend(Ajax.Responders, Enumerable);\r\n\r\nAjax.Responders.register({\r\n  onCreate:   function() { Ajax.activeRequestCount++ },\r\n  onComplete: function() { Ajax.activeRequestCount-- }\r\n});\r\nAjax.Base = Class.create({\r\n  initialize: function(options) {\r\n    this.options = {\r\n      method:       'post',\r\n      asynchronous: true,\r\n      contentType:  'application/x-www-form-urlencoded',\r\n      encoding:     'UTF-8',\r\n      parameters:   '',\r\n      evalJSON:     true,\r\n      evalJS:       true\r\n    };\r\n    Object.extend(this.options, options || { });\r\n\r\n    this.options.method = this.options.method.toLowerCase();\r\n\r\n    if (Object.isHash(this.options.parameters))\r\n      this.options.parameters = this.options.parameters.toObject();\r\n  }\r\n});\r\nAjax.Request = Class.create(Ajax.Base, {\r\n  _complete: false,\r\n\r\n  initialize: function($super, url, options) {\r\n    $super(options);\r\n    this.transport = Ajax.getTransport();\r\n    this.request(url);\r\n  },\r\n\r\n  request: function(url) {\r\n    this.url = url;\r\n    this.method = this.options.method;\r\n    var params = Object.isString(this.options.parameters) ?\r\n          this.options.parameters :\r\n          Object.toQueryString(this.options.parameters);\r\n\r\n    if (!['get', 'post'].include(this.method)) {\r\n      params += (params ? '&' : '') + \"_method=\" + this.method;\r\n      this.method = 'post';\r\n    }\r\n\r\n    if (params && this.method === 'get') {\r\n      this.url += (this.url.include('?') ? '&' : '?') + params;\r\n    }\r\n\r\n    this.parameters = params.toQueryParams();\r\n\r\n    try {\r\n      var response = new Ajax.Response(this);\r\n      if (this.options.onCreate) this.options.onCreate(response);\r\n      Ajax.Responders.dispatch('onCreate', this, response);\r\n\r\n      this.transport.open(this.method.toUpperCase(), this.url,\r\n        this.options.asynchronous);\r\n\r\n      if (this.options.asynchronous) this.respondToReadyState.bind(this).defer(1);\r\n\r\n      this.transport.onreadystatechange = this.onStateChange.bind(this);\r\n      this.setRequestHeaders();\r\n\r\n      this.body = this.method == 'post' ? (this.options.postBody || params) : null;\r\n      this.transport.send(this.body);\r\n\r\n      /* Force Firefox to handle ready state 4 for synchronous requests */\r\n      if (!this.options.asynchronous && this.transport.overrideMimeType)\r\n        this.onStateChange();\r\n\r\n    }\r\n    catch (e) {\r\n      this.dispatchException(e);\r\n    }\r\n  },\r\n\r\n  onStateChange: function() {\r\n    var readyState = this.transport.readyState;\r\n    if (readyState > 1 && !((readyState == 4) && this._complete))\r\n      this.respondToReadyState(this.transport.readyState);\r\n  },\r\n\r\n  setRequestHeaders: function() {\r\n    var headers = {\r\n      'X-Requested-With': 'XMLHttpRequest',\r\n      'X-Prototype-Version': Prototype.Version,\r\n      'Accept': 'text/javascript, text/html, application/xml, text/xml, */*'\r\n    };\r\n\r\n    if (this.method == 'post') {\r\n      headers['Content-type'] = this.options.contentType +\r\n        (this.options.encoding ? '; charset=' + this.options.encoding : '');\r\n\r\n      /* Force \"Connection: close\" for older Mozilla browsers to work\r\n       * around a bug where XMLHttpRequest sends an incorrect\r\n       * Content-length header. See Mozilla Bugzilla #246651.\r\n       */\r\n      if (this.transport.overrideMimeType &&\r\n          (navigator.userAgent.match(/Gecko\\/(\\d{4})/) || [0,2005])[1] < 2005)\r\n            headers['Connection'] = 'close';\r\n    }\r\n\r\n    if (typeof this.options.requestHeaders == 'object') {\r\n      var extras = this.options.requestHeaders;\r\n\r\n      if (Object.isFunction(extras.push))\r\n        for (var i = 0, length = extras.length; i < length; i += 2)\r\n          headers[extras[i]] = extras[i+1];\r\n      else\r\n        $H(extras).each(function(pair) { headers[pair.key] = pair.value });\r\n    }\r\n\r\n    for (var name in headers)\r\n      this.transport.setRequestHeader(name, headers[name]);\r\n  },\r\n\r\n  success: function() {\r\n    var status = this.getStatus();\r\n    return !status || (status >= 200 && status < 300) || status == 304;\r\n  },\r\n\r\n  getStatus: function() {\r\n    try {\r\n      if (this.transport.status === 1223) return 204;\r\n      return this.transport.status || 0;\r\n    } catch (e) { return 0 }\r\n  },\r\n\r\n  respondToReadyState: function(readyState) {\r\n    var state = Ajax.Request.Events[readyState], response = new Ajax.Response(this);\r\n\r\n    if (state == 'Complete') {\r\n      try {\r\n        this._complete = true;\r\n        (this.options['on' + response.status]\r\n         || this.options['on' + (this.success() ? 'Success' : 'Failure')]\r\n         || Prototype.emptyFunction)(response, response.headerJSON);\r\n      } catch (e) {\r\n        this.dispatchException(e);\r\n      }\r\n\r\n      var contentType = response.getHeader('Content-type');\r\n      if (this.options.evalJS == 'force'\r\n          || (this.options.evalJS && this.isSameOrigin() && contentType\r\n          && contentType.match(/^\\s*(text|application)\\/(x-)?(java|ecma)script(;.*)?\\s*$/i)))\r\n        this.evalResponse();\r\n    }\r\n\r\n    try {\r\n      (this.options['on' + state] || Prototype.emptyFunction)(response, response.headerJSON);\r\n      Ajax.Responders.dispatch('on' + state, this, response, response.headerJSON);\r\n    } catch (e) {\r\n      this.dispatchException(e);\r\n    }\r\n\r\n    if (state == 'Complete') {\r\n      this.transport.onreadystatechange = Prototype.emptyFunction;\r\n    }\r\n  },\r\n\r\n  isSameOrigin: function() {\r\n    var m = this.url.match(/^\\s*https?:\\/\\/[^\\/]*/);\r\n    return !m || (m[0] == '#{protocol}//#{domain}#{port}'.interpolate({\r\n      protocol: location.protocol,\r\n      domain: document.domain,\r\n      port: location.port ? ':' + location.port : ''\r\n    }));\r\n  },\r\n\r\n  getHeader: function(name) {\r\n    try {\r\n      return this.transport.getResponseHeader(name) || null;\r\n    } catch (e) { return null; }\r\n  },\r\n\r\n  evalResponse: function() {\r\n    try {\r\n      return eval((this.transport.responseText || '').unfilterJSON());\r\n    } catch (e) {\r\n      this.dispatchException(e);\r\n    }\r\n  },\r\n\r\n  dispatchException: function(exception) {\r\n    (this.options.onException || Prototype.emptyFunction)(this, exception);\r\n    Ajax.Responders.dispatch('onException', this, exception);\r\n  }\r\n});\r\n\r\nAjax.Request.Events =\r\n  ['Uninitialized', 'Loading', 'Loaded', 'Interactive', 'Complete'];\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nAjax.Response = Class.create({\r\n  initialize: function(request){\r\n    this.request = request;\r\n    var transport  = this.transport  = request.transport,\r\n        readyState = this.readyState = transport.readyState;\r\n\r\n    if ((readyState > 2 && !Prototype.Browser.IE) || readyState == 4) {\r\n      this.status       = this.getStatus();\r\n      this.statusText   = this.getStatusText();\r\n      this.responseText = String.interpret(transport.responseText);\r\n      this.headerJSON   = this._getHeaderJSON();\r\n    }\r\n\r\n    if (readyState == 4) {\r\n      var xml = transport.responseXML;\r\n      this.responseXML  = Object.isUndefined(xml) ? null : xml;\r\n      this.responseJSON = this._getResponseJSON();\r\n    }\r\n  },\r\n\r\n  status:      0,\r\n\r\n  statusText: '',\r\n\r\n  getStatus: Ajax.Request.prototype.getStatus,\r\n\r\n  getStatusText: function() {\r\n    try {\r\n      return this.transport.statusText || '';\r\n    } catch (e) { return '' }\r\n  },\r\n\r\n  getHeader: Ajax.Request.prototype.getHeader,\r\n\r\n  getAllHeaders: function() {\r\n    try {\r\n      return this.getAllResponseHeaders();\r\n    } catch (e) { return null }\r\n  },\r\n\r\n  getResponseHeader: function(name) {\r\n    return this.transport.getResponseHeader(name);\r\n  },\r\n\r\n  getAllResponseHeaders: function() {\r\n    return this.transport.getAllResponseHeaders();\r\n  },\r\n\r\n  _getHeaderJSON: function() {\r\n    var json = this.getHeader('X-JSON');\r\n    if (!json) return null;\r\n    json = decodeURIComponent(escape(json));\r\n    try {\r\n      return json.evalJSON(this.request.options.sanitizeJSON ||\r\n        !this.request.isSameOrigin());\r\n    } catch (e) {\r\n      this.request.dispatchException(e);\r\n    }\r\n  },\r\n\r\n  _getResponseJSON: function() {\r\n    var options = this.request.options;\r\n    if (!options.evalJSON || (options.evalJSON != 'force' &&\r\n      !(this.getHeader('Content-type') || '').include('application/json')) ||\r\n        this.responseText.blank())\r\n          return null;\r\n    try {\r\n      return this.responseText.evalJSON(options.sanitizeJSON ||\r\n        !this.request.isSameOrigin());\r\n    } catch (e) {\r\n      this.request.dispatchException(e);\r\n    }\r\n  }\r\n});\r\n\r\nAjax.Updater = Class.create(Ajax.Request, {\r\n  initialize: function($super, container, url, options) {\r\n    this.container = {\r\n      success: (container.success || container),\r\n      failure: (container.failure || (container.success ? null : container))\r\n    };\r\n\r\n    options = Object.clone(options);\r\n    var onComplete = options.onComplete;\r\n    options.onComplete = (function(response, json) {\r\n      this.updateContent(response.responseText);\r\n      if (Object.isFunction(onComplete)) onComplete(response, json);\r\n    }).bind(this);\r\n\r\n    $super(url, options);\r\n  },\r\n\r\n  updateContent: function(responseText) {\r\n    var receiver = this.container[this.success() ? 'success' : 'failure'],\r\n        options = this.options;\r\n\r\n    if (!options.evalScripts) responseText = responseText.stripScripts();\r\n\r\n    if (receiver = $(receiver)) {\r\n      if (options.insertion) {\r\n        if (Object.isString(options.insertion)) {\r\n          var insertion = { }; insertion[options.insertion] = responseText;\r\n          receiver.insert(insertion);\r\n        }\r\n        else options.insertion(receiver, responseText);\r\n      }\r\n      else receiver.update(responseText);\r\n    }\r\n  }\r\n});\r\n\r\nAjax.PeriodicalUpdater = Class.create(Ajax.Base, {\r\n  initialize: function($super, container, url, options) {\r\n    $super(options);\r\n    this.onComplete = this.options.onComplete;\r\n\r\n    this.frequency = (this.options.frequency || 2);\r\n    this.decay = (this.options.decay || 1);\r\n\r\n    this.updater = { };\r\n    this.container = container;\r\n    this.url = url;\r\n\r\n    this.start();\r\n  },\r\n\r\n  start: function() {\r\n    this.options.onComplete = this.updateComplete.bind(this);\r\n    this.onTimerEvent();\r\n  },\r\n\r\n  stop: function() {\r\n    this.updater.options.onComplete = undefined;\r\n    clearTimeout(this.timer);\r\n    (this.onComplete || Prototype.emptyFunction).apply(this, arguments);\r\n  },\r\n\r\n  updateComplete: function(response) {\r\n    if (this.options.decay) {\r\n      this.decay = (response.responseText == this.lastText ?\r\n        this.decay * this.options.decay : 1);\r\n\r\n      this.lastText = response.responseText;\r\n    }\r\n    this.timer = this.onTimerEvent.bind(this).delay(this.decay * this.frequency);\r\n  },\r\n\r\n  onTimerEvent: function() {\r\n    this.updater = new Ajax.Updater(this.container, this.url, this.options);\r\n  }\r\n});\r\n\r\n\r\nfunction $(element) {\r\n  if (arguments.length > 1) {\r\n    for (var i = 0, elements = [], length = arguments.length; i < length; i++)\r\n      elements.push($(arguments[i]));\r\n    return elements;\r\n  }\r\n  if (Object.isString(element))\r\n    element = document.getElementById(element);\r\n  return Element.extend(element);\r\n}\r\n\r\nif (Prototype.BrowserFeatures.XPath) {\r\n  document._getElementsByXPath = function(expression, parentElement) {\r\n    var results = [];\r\n    var query = document.evaluate(expression, $(parentElement) || document,\r\n      null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);\r\n    for (var i = 0, length = query.snapshotLength; i < length; i++)\r\n      results.push(Element.extend(query.snapshotItem(i)));\r\n    return results;\r\n  };\r\n}\r\n\r\n/*--------------------------------------------------------------------------*/\r\n\r\nif (!Node) var Node = { };\r\n\r\nif (!Node.ELEMENT_NODE) {\r\n  Object.extend(Node, {\r\n    ELEMENT_NODE: 1,\r\n    ATTRIBUTE_NODE: 2,\r\n    TEXT_NODE: 3,\r\n    CDATA_SECTION_NODE: 4,\r\n    ENTITY_REFERENCE_NODE: 5,\r\n    ENTITY_NODE: 6,\r\n    PROCESSING_INSTRUCTION_NODE: 7,\r\n    COMMENT_NODE: 8,\r\n    DOCUMENT_NODE: 9,\r\n    DOCUMENT_TYPE_NODE: 10,\r\n    DOCUMENT_FRAGMENT_NODE: 11,\r\n    NOTATION_NODE: 12\r\n  });\r\n}\r\n\r\n\r\n\r\n(function(global) {\r\n  function shouldUseCache(tagName, attributes) {\r\n    if (tagName === 'select') return false;\r\n    if ('type' in attributes) return false;\r\n    return true;\r\n  }\r\n\r\n  var HAS_EXTENDED_CREATE_ELEMENT_SYNTAX = (function(){\r\n    try {\r\n      var el = document.createElement('<input name=\"x\">');\r\n      return el.tagName.toLowerCase() === 'input' && el.name === 'x';\r\n    }\r\n    catch(err) {\r\n      return false;\r\n    }\r\n  })();\r\n\r\n  var element = global.Element;\r\n\r\n  global.Element = function(tagName, attributes) {\r\n    attributes = attributes || { };\r\n    tagName = tagName.toLowerCase();\r\n    var cache = Element.cache;\r\n\r\n    if (HAS_EXTENDED_CREATE_ELEMENT_SYNTAX && attributes.name) {\r\n      tagName = '<' + tagName + ' name=\"' + attributes.name + '\">';\r\n      delete attributes.name;\r\n      return Element.writeAttribute(document.createElement(tagName), attributes);\r\n    }\r\n\r\n    if (!cache[tagName]) cache[tagName] = Element.extend(document.createElement(tagName));\r\n\r\n    var node = shouldUseCache(tagName, attributes) ?\r\n     cache[tagName].cloneNode(false) : document.createElement(tagName);\r\n\r\n    return Element.writeAttribute(node, attributes);\r\n  };\r\n\r\n  Object.extend(global.Element, element || { });\r\n  if (element) global.Element.prototype = element.prototype;\r\n\r\n})(this);\r\n\r\nElement.idCounter = 1;\r\nElement.cache = { };\r\n\r\nElement._purgeElement = function(element) {\r\n  var uid = element._prototypeUID;\r\n  if (uid) {\r\n    Element.stopObserving(element);\r\n    element._prototypeUID = void 0;\r\n    delete Element.Storage[uid];\r\n  }\r\n}\r\n\r\nElement.Methods = {\r\n  visible: function(element) {\r\n    return $(element).style.display != 'none';\r\n  },\r\n\r\n  toggle: function(element) {\r\n    element = $(element);\r\n    Element[Element.visible(element) ? 'hide' : 'show'](element);\r\n    return element;\r\n  },\r\n\r\n  hide: function(element) {\r\n    element = $(element);\r\n    element.style.display = 'none';\r\n    return element;\r\n  },\r\n\r\n  show: function(element) {\r\n    element = $(element);\r\n    element.style.display = '';\r\n    return element;\r\n  },\r\n\r\n  remove: function(element) {\r\n    element = $(element);\r\n    element.parentNode.removeChild(element);\r\n    return element;\r\n  },\r\n\r\n  update: (function(){\r\n\r\n    var SELECT_ELEMENT_INNERHTML_BUGGY = (function(){\r\n      var el = document.createElement(\"select\"),\r\n          isBuggy = true;\r\n      el.innerHTML = \"<option value=\\\"test\\\">test</option>\";\r\n      if (el.options && el.options[0]) {\r\n        isBuggy = el.options[0].nodeName.toUpperCase() !== \"OPTION\";\r\n      }\r\n      el = null;\r\n      return isBuggy;\r\n    })();\r\n\r\n    var TABLE_ELEMENT_INNERHTML_BUGGY = (function(){\r\n      try {\r\n        var el = document.createElement(\"table\");\r\n        if (el && el.tBodies) {\r\n          el.innerHTML = \"<tbody><tr><td>test</td></tr></tbody>\";\r\n          var isBuggy = typeof el.tBodies[0] == \"undefined\";\r\n          el = null;\r\n          return isBuggy;\r\n        }\r\n      } catch (e) {\r\n        return true;\r\n      }\r\n    })();\r\n\r\n    var LINK_ELEMENT_INNERHTML_BUGGY = (function() {\r\n      try {\r\n        var el = document.createElement('div');\r\n        el.innerHTML = \"<link>\";\r\n        var isBuggy = (el.childNodes.length === 0);\r\n        el = null;\r\n        return isBuggy;\r\n      } catch(e) {\r\n        return true;\r\n      }\r\n    })();\r\n\r\n    var ANY_INNERHTML_BUGGY = SELECT_ELEMENT_INNERHTML_BUGGY ||\r\n     TABLE_ELEMENT_INNERHTML_BUGGY || LINK_ELEMENT_INNERHTML_BUGGY;\r\n\r\n    var SCRIPT_ELEMENT_REJECTS_TEXTNODE_APPENDING = (function () {\r\n      var s = document.createElement(\"script\"),\r\n          isBuggy = false;\r\n      try {\r\n        s.appendChild(document.createTextNode(\"\"));\r\n        isBuggy = !s.firstChild ||\r\n          s.firstChild && s.firstChild.nodeType !== 3;\r\n      } catch (e) {\r\n        isBuggy = true;\r\n      }\r\n      s = null;\r\n      return isBuggy;\r\n    })();\r\n\r\n\r\n    function update(element, content) {\r\n      element = $(element);\r\n      var purgeElement = Element._purgeElement;\r\n\r\n      var descendants = element.getElementsByTagName('*'),\r\n       i = descendants.length;\r\n      while (i--) purgeElement(descendants[i]);\r\n\r\n      if (content && content.toElement)\r\n        content = content.toElement();\r\n\r\n      if (Object.isElement(content))\r\n        return element.update().insert(content);\r\n\r\n      content = Object.toHTML(content);\r\n\r\n      var tagName = element.tagName.toUpperCase();\r\n\r\n      if (tagName === 'SCRIPT' && SCRIPT_ELEMENT_REJECTS_TEXTNODE_APPENDING) {\r\n        element.text = content;\r\n        return element;\r\n      }\r\n\r\n      if (ANY_INNERHTML_BUGGY) {\r\n        if (tagName in Element._insertionTranslations.tags) {\r\n          while (element.firstChild) {\r\n            element.removeChild(element.firstChild);\r\n          }\r\n          Element._getContentFromAnonymousElement(tagName, content.stripScripts())\r\n            .each(function(node) {\r\n              element.appendChild(node)\r\n            });\r\n        } else if (LINK_ELEMENT_INNERHTML_BUGGY && Object.isString(content) && content.indexOf('<link') > -1) {\r\n          while (element.firstChild) {\r\n            element.removeChild(element.firstChild);\r\n          }\r\n          var nodes = Element._getContentFromAnonymousElement(tagName, content.stripScripts(), true);\r\n          nodes.each(function(node) { element.appendChild(node) });\r\n        }\r\n        else {\r\n          element.innerHTML = content.stripScripts();\r\n        }\r\n      }\r\n      else {\r\n        element.innerHTML = content.stripScripts();\r\n      }\r\n\r\n      content.evalScripts.bind(content).defer();\r\n      return element;\r\n    }\r\n\r\n    return update;\r\n  })(),\r\n\r\n  replace: function(element, content) {\r\n    element = $(element);\r\n    if (content && content.toElement) content = content.toElement();\r\n    else if (!Object.isElement(content)) {\r\n      content = Object.toHTML(content);\r\n      var range = element.ownerDocument.createRange();\r\n      range.selectNode(element);\r\n      content.evalScripts.bind(content).defer();\r\n      content = range.createContextualFragment(content.stripScripts());\r\n    }\r\n    element.parentNode.replaceChild(content, element);\r\n    return element;\r\n  },\r\n\r\n  insert: function(element, insertions) {\r\n    element = $(element);\r\n\r\n    if (Object.isString(insertions) || Object.isNumber(insertions) ||\r\n        Object.isElement(insertions) || (insertions && (insertions.toElement || insertions.toHTML)))\r\n          insertions = {bottom:insertions};\r\n\r\n    var content, insert, tagName, childNodes;\r\n\r\n    for (var position in insertions) {\r\n      content  = insertions[position];\r\n      position = position.toLowerCase();\r\n      insert = Element._insertionTranslations[position];\r\n\r\n      if (content && content.toElement) content = content.toElement();\r\n      if (Object.isElement(content)) {\r\n        insert(element, content);\r\n        continue;\r\n      }\r\n\r\n      content = Object.toHTML(content);\r\n\r\n      tagName = ((position == 'before' || position == 'after')\r\n        ? element.parentNode : element).tagName.toUpperCase();\r\n\r\n      childNodes = Element._getContentFromAnonymousElement(tagName, content.stripScripts());\r\n\r\n      if (position == 'top' || position == 'after') childNodes.reverse();\r\n      childNodes.each(insert.curry(element));\r\n\r\n      content.evalScripts.bind(content).defer();\r\n    }\r\n\r\n    return element;\r\n  },\r\n\r\n  wrap: function(element, wrapper, attributes) {\r\n    element = $(element);\r\n    if (Object.isElement(wrapper))\r\n      $(wrapper).writeAttribute(attributes || { });\r\n    else if (Object.isString(wrapper)) wrapper = new Element(wrapper, attributes);\r\n    else wrapper = new Element('div', wrapper);\r\n    if (element.parentNode)\r\n      element.parentNode.replaceChild(wrapper, element);\r\n    wrapper.appendChild(element);\r\n    return wrapper;\r\n  },\r\n\r\n  inspect: function(element) {\r\n    element = $(element);\r\n    var result = '<' + element.tagName.toLowerCase();\r\n    $H({'id': 'id', 'className': 'class'}).each(function(pair) {\r\n      var property = pair.first(),\r\n          attribute = pair.last(),\r\n          value = (element[property] || '').toString();\r\n      if (value) result += ' ' + attribute + '=' + value.inspect(true);\r\n    });\r\n    return result + '>';\r\n  },\r\n\r\n  recursivelyCollect: function(element, property, maximumLength) {\r\n    element = $(element);\r\n    maximumLength = maximumLength || -1;\r\n    var elements = [];\r\n\r\n    while (element = element[property]) {\r\n      if (element.nodeType == 1)\r\n        elements.push(Element.extend(element));\r\n      if (elements.length == maximumLength)\r\n        break;\r\n    }\r\n\r\n    return elements;\r\n  },\r\n\r\n  ancestors: function(element) {\r\n    return Element.recursivelyCollect(element, 'parentNode');\r\n  },\r\n\r\n  descendants: function(element) {\r\n    return Element.select(element, \"*\");\r\n  },\r\n\r\n  firstDescendant: function(element) {\r\n    element = $(element).firstChild;\r\n    while (element && element.nodeType != 1) element = element.nextSibling;\r\n    return $(element);\r\n  },\r\n\r\n  immediateDescendants: function(element) {\r\n    var results = [], child = $(element).firstChild;\r\n    while (child) {\r\n      if (child.nodeType === 1) {\r\n        results.push(Element.extend(child));\r\n      }\r\n      child = child.nextSibling;\r\n    }\r\n    return results;\r\n  },\r\n\r\n  previousSiblings: function(element, maximumLength) {\r\n    return Element.recursivelyCollect(element, 'previousSibling');\r\n  },\r\n\r\n  nextSiblings: function(element) {\r\n    return Element.recursivelyCollect(element, 'nextSibling');\r\n  },\r\n\r\n  siblings: function(element) {\r\n    element = $(element);\r\n    return Element.previousSiblings(element).reverse()\r\n      .concat(Element.nextSiblings(element));\r\n  },\r\n\r\n  match: function(element, selector) {\r\n    element = $(element);\r\n    if (Object.isString(selector))\r\n      return Prototype.Selector.match(element, selector);\r\n    return selector.match(element);\r\n  },\r\n\r\n  up: function(element, expression, index) {\r\n    element = $(element);\r\n    if (arguments.length == 1) return $(element.parentNode);\r\n    var ancestors = Element.ancestors(element);\r\n    return Object.isNumber(expression) ? ancestors[expression] :\r\n      Prototype.Selector.find(ancestors, expression, index);\r\n  },\r\n\r\n  down: function(element, expression, index) {\r\n    element = $(element);\r\n    if (arguments.length == 1) return Element.firstDescendant(element);\r\n    return Object.isNumber(expression) ? Element.descendants(element)[expression] :\r\n      Element.select(element, expression)[index || 0];\r\n  },\r\n\r\n  previous: function(element, expression, index) {\r\n    element = $(element);\r\n    if (Object.isNumber(expression)) index = expression, expression = false;\r\n    if (!Object.isNumber(index)) index = 0;\r\n\r\n    if (expression) {\r\n      return Prototype.Selector.find(element.previousSiblings(), expression, index);\r\n    } else {\r\n      return element.recursivelyCollect(\"previousSibling\", index + 1)[index];\r\n    }\r\n  },\r\n\r\n  next: function(element, expression, index) {\r\n    element = $(element);\r\n    if (Object.isNumber(expression)) index = expression, expression = false;\r\n    if (!Object.isNumber(index)) index = 0;\r\n\r\n    if (expression) {\r\n      return Prototype.Selector.find(element.nextSiblings(), expression, index);\r\n    } else {\r\n      var maximumLength = Object.isNumber(index) ? index + 1 : 1;\r\n      return element.recursivelyCollect(\"nextSibling\", index + 1)[index];\r\n    }\r\n  },\r\n\r\n\r\n  select: function(element) {\r\n    element = $(element);\r\n    var expressions = Array.prototype.slice.call(arguments, 1).join(', ');\r\n    return Prototype.Selector.select(expressions, element);\r\n  },\r\n\r\n  adjacent: function(element) {\r\n    element = $(element);\r\n    var expressions = Array.prototype.slice.call(arguments, 1).join(', ');\r\n    return Prototype.Selector.select(expressions, element.parentNode).without(element);\r\n  },\r\n\r\n  identify: function(element) {\r\n    element = $(element);\r\n    var id = Element.readAttribute(element, 'id');\r\n    if (id) return id;\r\n    do { id = 'anonymous_element_' + Element.idCounter++ } while ($(id));\r\n    Element.writeAttribute(element, 'id', id);\r\n    return id;\r\n  },\r\n\r\n  readAttribute: function(element, name) {\r\n    element = $(element);\r\n    if (Prototype.Browser.IE) {\r\n      var t = Element._attributeTranslations.read;\r\n      if (t.values[name]) return t.values[name](element, name);\r\n      if (t.names[name]) name = t.names[name];\r\n      if (name.include(':')) {\r\n        return (!element.attributes || !element.attributes[name]) ? null :\r\n         element.attributes[name].value;\r\n      }\r\n    }\r\n    return element.getAttribute(name);\r\n  },\r\n\r\n  writeAttribute: function(element, name, value) {\r\n    element = $(element);\r\n    var attributes = { }, t = Element._attributeTranslations.write;\r\n\r\n    if (typeof name == 'object') attributes = name;\r\n    else attributes[name] = Object.isUndefined(value) ? true : value;\r\n\r\n    for (var attr in attributes) {\r\n      name = t.names[attr] || attr;\r\n      value = attributes[attr];\r\n      if (t.values[attr]) name = t.values[attr](element, value);\r\n      if (value === false || value === null)\r\n        element.removeAttribute(name);\r\n      else if (value === true)\r\n        element.setAttribute(name, name);\r\n      else element.setAttribute(name, value);\r\n    }\r\n    return element;\r\n  },\r\n\r\n  getHeight: function(element) {\r\n    return Element.getDimensions(element).height;\r\n  },\r\n\r\n  getWidth: function(element) {\r\n    return Element.getDimensions(element).width;\r\n  },\r\n\r\n  classNames: function(element) {\r\n    return new Element.ClassNames(element);\r\n  },\r\n\r\n  hasClassName: function(element, className) {\r\n    if (!(element = $(element))) return;\r\n    var elementClassName = element.className;\r\n    return (elementClassName.length > 0 && (elementClassName == className ||\r\n      new RegExp(\"(^|\\\\s)\" + className + \"(\\\\s|$)\").test(elementClassName)));\r\n  },\r\n\r\n  addClassName: function(element, className) {\r\n    if (!(element = $(element))) return;\r\n    if (!Element.hasClassName(element, className))\r\n      element.className += (element.className ? ' ' : '') + className;\r\n    return element;\r\n  },\r\n\r\n  removeClassName: function(element, className) {\r\n    if (!(element = $(element))) return;\r\n    element.className = element.className.replace(\r\n      new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\"), ' ').strip();\r\n    return element;\r\n  },\r\n\r\n  toggleClassName: function(element, className) {\r\n    if (!(element = $(element))) return;\r\n    return Element[Element.hasClassName(element, className) ?\r\n      'removeClassName' : 'addClassName'](element, className);\r\n  },\r\n\r\n  cleanWhitespace: function(element) {\r\n    element = $(element);\r\n    var node = element.firstChild;\r\n    while (node) {\r\n      var nextNode = node.nextSibling;\r\n      if (node.nodeType == 3 && !/\\S/.test(node.nodeValue))\r\n        element.removeChild(node);\r\n      node = nextNode;\r\n    }\r\n    return element;\r\n  },\r\n\r\n  empty: function(element) {\r\n    return $(element).innerHTML.blank();\r\n  },\r\n\r\n  descendantOf: function(element, ancestor) {\r\n    element = $(element), ancestor = $(ancestor);\r\n\r\n    if (element.compareDocumentPosition)\r\n      return (element.compareDocumentPosition(ancestor) & 8) === 8;\r\n\r\n    if (ancestor.contains)\r\n      return ancestor.contains(element) && ancestor !== element;\r\n\r\n    while (element = element.parentNode)\r\n      if (element == ancestor) return true;\r\n\r\n    return false;\r\n  },\r\n\r\n  scrollTo: function(element) {\r\n    element = $(element);\r\n    var pos = Element.cumulativeOffset(element);\r\n    window.scrollTo(pos[0], pos[1]);\r\n    return element;\r\n  },\r\n\r\n  getStyle: function(element, style) {\r\n    element = $(element);\r\n    style = style == 'float' ? 'cssFloat' : style.camelize();\r\n    var value = element.style[style];\r\n    if (!value || value == 'auto') {\r\n      var css = document.defaultView.getComputedStyle(element, null);\r\n      value = css ? css[style] : null;\r\n    }\r\n    if (style == 'opacity') return value ? parseFloat(value) : 1.0;\r\n    return value == 'auto' ? null : value;\r\n  },\r\n\r\n  getOpacity: function(element) {\r\n    return $(element).getStyle('opacity');\r\n  },\r\n\r\n  setStyle: function(element, styles) {\r\n    element = $(element);\r\n    var elementStyle = element.style, match;\r\n    if (Object.isString(styles)) {\r\n      element.style.cssText += ';' + styles;\r\n      return styles.include('opacity') ?\r\n        element.setOpacity(styles.match(/opacity:\\s*(\\d?\\.?\\d*)/)[1]) : element;\r\n    }\r\n    for (var property in styles)\r\n      if (property == 'opacity') element.setOpacity(styles[property]);\r\n      else\r\n        elementStyle[(property == 'float' || property == 'cssFloat') ?\r\n          (Object.isUndefined(elementStyle.styleFloat) ? 'cssFloat' : 'styleFloat') :\r\n            property] = styles[property];\r\n\r\n    return element;\r\n  },\r\n\r\n  setOpacity: function(element, value) {\r\n    element = $(element);\r\n    element.style.opacity = (value == 1 || value === '') ? '' :\r\n      (value < 0.00001) ? 0 : value;\r\n    return element;\r\n  },\r\n\r\n  makePositioned: function(element) {\r\n    element = $(element);\r\n    var pos = Element.getStyle(element, 'position');\r\n    if (pos == 'static' || !pos) {\r\n      element._madePositioned = true;\r\n      element.style.position = 'relative';\r\n      if (Prototype.Browser.Opera) {\r\n        element.style.top = 0;\r\n        element.style.left = 0;\r\n      }\r\n    }\r\n    return element;\r\n  },\r\n\r\n  undoPositioned: function(element) {\r\n    element = $(element);\r\n    if (element._madePositioned) {\r\n      element._madePositioned = undefined;\r\n      element.style.position =\r\n        element.style.top =\r\n        element.style.left =\r\n        element.style.bottom =\r\n        element.style.right = '';\r\n    }\r\n    return element;\r\n  },\r\n\r\n  makeClipping: function(element) {\r\n    element = $(element);\r\n    if (element._overflow) return element;\r\n    element._overflow = Element.getStyle(element, 'overflow') || 'auto';\r\n    if (element._overflow !== 'hidden')\r\n      element.style.overflow = 'hidden';\r\n    return element;\r\n  },\r\n\r\n  undoClipping: function(element) {\r\n    element = $(element);\r\n    if (!element._overflow) return element;\r\n    element.style.overflow = element._overflow == 'auto' ? '' : element._overflow;\r\n    element._overflow = null;\r\n    return element;\r\n  },\r\n\r\n  clonePosition: function(element, source) {\r\n    var options = Object.extend({\r\n      setLeft:    true,\r\n      setTop:     true,\r\n      setWidth:   true,\r\n      setHeight:  true,\r\n      offsetTop:  0,\r\n      offsetLeft: 0\r\n    }, arguments[2] || { });\r\n\r\n    source = $(source);\r\n    var p = Element.viewportOffset(source), delta = [0, 0], parent = null;\r\n\r\n    element = $(element);\r\n\r\n    if (Element.getStyle(element, 'position') == 'absolute') {\r\n      parent = Element.getOffsetParent(element);\r\n      delta = Element.viewportOffset(parent);\r\n    }\r\n\r\n    if (parent == document.body) {\r\n      delta[0] -= document.body.offsetLeft;\r\n      delta[1] -= document.body.offsetTop;\r\n    }\r\n\r\n    if (options.setLeft)   element.style.left  = (p[0] - delta[0] + options.offsetLeft) + 'px';\r\n    if (options.setTop)    element.style.top   = (p[1] - delta[1] + options.offsetTop) + 'px';\r\n    if (options.setWidth)  element.style.width = source.offsetWidth + 'px';\r\n    if (options.setHeight) element.style.height = source.offsetHeight + 'px';\r\n    return element;\r\n  }\r\n};\r\n\r\nObject.extend(Element.Methods, {\r\n  getElementsBySelector: Element.Methods.select,\r\n\r\n  childElements: Element.Methods.immediateDescendants\r\n});\r\n\r\nElement._attributeTranslations = {\r\n  write: {\r\n    names: {\r\n      className: 'class',\r\n      htmlFor:   'for'\r\n    },\r\n    values: { }\r\n  }\r\n};\r\n\r\nif (Prototype.Browser.Opera) {\r\n  Element.Methods.getStyle = Element.Methods.getStyle.wrap(\r\n    function(proceed, element, style) {\r\n      switch (style) {\r\n        case 'height': case 'width':\r\n          if (!Element.visible(element)) return null;\r\n\r\n          var dim = parseInt(proceed(element, style), 10);\r\n\r\n          if (dim !== element['offset' + style.capitalize()])\r\n            return dim + 'px';\r\n\r\n          var properties;\r\n          if (style === 'height') {\r\n            properties = ['border-top-width', 'padding-top',\r\n             'padding-bottom', 'border-bottom-width'];\r\n          }\r\n          else {\r\n            properties = ['border-left-width', 'padding-left',\r\n             'padding-right', 'border-right-width'];\r\n          }\r\n          return properties.inject(dim, function(memo, property) {\r\n            var val = proceed(element, property);\r\n            return val === null ? memo : memo - parseInt(val, 10);\r\n          }) + 'px';\r\n        default: return proceed(element, style);\r\n      }\r\n    }\r\n  );\r\n\r\n  Element.Methods.readAttribute = Element.Methods.readAttribute.wrap(\r\n    function(proceed, element, attribute) {\r\n      if (attribute === 'title') return element.title;\r\n      return proceed(element, attribute);\r\n    }\r\n  );\r\n}\r\n\r\nelse if (Prototype.Browser.IE) {\r\n  Element.Methods.getStyle = function(element, style) {\r\n    element = $(element);\r\n    style = (style == 'float' || style == 'cssFloat') ? 'styleFloat' : style.camelize();\r\n    var value = element.style[style];\r\n    if (!value && element.currentStyle) value = element.currentStyle[style];\r\n\r\n    if (style == 'opacity') {\r\n      if (value = (element.getStyle('filter') || '').match(/alpha\\(opacity=(.*)\\)/))\r\n        if (value[1]) return parseFloat(value[1]) / 100;\r\n      return 1.0;\r\n    }\r\n\r\n    if (value == 'auto') {\r\n      if ((style == 'width' || style == 'height') && (element.getStyle('display') != 'none'))\r\n        return element['offset' + style.capitalize()] + 'px';\r\n      return null;\r\n    }\r\n    return value;\r\n  };\r\n\r\n  Element.Methods.setOpacity = function(element, value) {\r\n    function stripAlpha(filter){\r\n      return filter.replace(/alpha\\([^\\)]*\\)/gi,'');\r\n    }\r\n    element = $(element);\r\n    var currentStyle = element.currentStyle;\r\n    if ((currentStyle && !currentStyle.hasLayout) ||\r\n      (!currentStyle && element.style.zoom == 'normal'))\r\n        element.style.zoom = 1;\r\n\r\n    var filter = element.getStyle('filter'), style = element.style;\r\n    if (value == 1 || value === '') {\r\n      (filter = stripAlpha(filter)) ?\r\n        style.filter = filter : style.removeAttribute('filter');\r\n      return element;\r\n    } else if (value < 0.00001) value = 0;\r\n    style.filter = stripAlpha(filter) +\r\n      'alpha(opacity=' + (value * 100) + ')';\r\n    return element;\r\n  };\r\n\r\n  Element._attributeTranslations = (function(){\r\n\r\n    var classProp = 'className',\r\n        forProp = 'for',\r\n        el = document.createElement('div');\r\n\r\n    el.setAttribute(classProp, 'x');\r\n\r\n    if (el.className !== 'x') {\r\n      el.setAttribute('class', 'x');\r\n      if (el.className === 'x') {\r\n        classProp = 'class';\r\n      }\r\n    }\r\n    el = null;\r\n\r\n    el = document.createElement('label');\r\n    el.setAttribute(forProp, 'x');\r\n    if (el.htmlFor !== 'x') {\r\n      el.setAttribute('htmlFor', 'x');\r\n      if (el.htmlFor === 'x') {\r\n        forProp = 'htmlFor';\r\n      }\r\n    }\r\n    el = null;\r\n\r\n    return {\r\n      read: {\r\n        names: {\r\n          'class':      classProp,\r\n          'className':  classProp,\r\n          'for':        forProp,\r\n          'htmlFor':    forProp\r\n        },\r\n        values: {\r\n          _getAttr: function(element, attribute) {\r\n            return element.getAttribute(attribute);\r\n          },\r\n          _getAttr2: function(element, attribute) {\r\n            return element.getAttribute(attribute, 2);\r\n          },\r\n          _getAttrNode: function(element, attribute) {\r\n            var node = element.getAttributeNode(attribute);\r\n            return node ? node.value : \"\";\r\n          },\r\n          _getEv: (function(){\r\n\r\n            var el = document.createElement('div'), f;\r\n            el.onclick = Prototype.emptyFunction;\r\n            var value = el.getAttribute('onclick');\r\n\r\n            if (String(value).indexOf('{') > -1) {\r\n              f = function(element, attribute) {\r\n                attribute = element.getAttribute(attribute);\r\n                if (!attribute) return null;\r\n                attribute = attribute.toString();\r\n                attribute = attribute.split('{')[1];\r\n                attribute = attribute.split('}')[0];\r\n                return attribute.strip();\r\n              };\r\n            }\r\n            else if (value === '') {\r\n              f = function(element, attribute) {\r\n                attribute = element.getAttribute(attribute);\r\n                if (!attribute) return null;\r\n                return attribute.strip();\r\n              };\r\n            }\r\n            el = null;\r\n            return f;\r\n          })(),\r\n          _flag: function(element, attribute) {\r\n            return $(element).hasAttribute(attribute) ? attribute : null;\r\n          },\r\n          style: function(element) {\r\n            return element.style.cssText.toLowerCase();\r\n          },\r\n          title: function(element) {\r\n            return element.title;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  })();\r\n\r\n  Element._attributeTranslations.write = {\r\n    names: Object.extend({\r\n      cellpadding: 'cellPadding',\r\n      cellspacing: 'cellSpacing'\r\n    }, Element._attributeTranslations.read.names),\r\n    values: {\r\n      checked: function(element, value) {\r\n        element.checked = !!value;\r\n      },\r\n\r\n      style: function(element, value) {\r\n        element.style.cssText = value ? value : '';\r\n      }\r\n    }\r\n  };\r\n\r\n  Element._attributeTranslations.has = {};\r\n\r\n  $w('colSpan rowSpan vAlign dateTime accessKey tabIndex ' +\r\n      'encType maxLength readOnly longDesc frameBorder').each(function(attr) {\r\n    Element._attributeTranslations.write.names[attr.toLowerCase()] = attr;\r\n    Element._attributeTranslations.has[attr.toLowerCase()] = attr;\r\n  });\r\n\r\n  (function(v) {\r\n    Object.extend(v, {\r\n      href:        v._getAttr2,\r\n      src:         v._getAttr2,\r\n      type:        v._getAttr,\r\n      action:      v._getAttrNode,\r\n      disabled:    v._flag,\r\n      checked:     v._flag,\r\n      readonly:    v._flag,\r\n      multiple:    v._flag,\r\n      onload:      v._getEv,\r\n      onunload:    v._getEv,\r\n      onclick:     v._getEv,\r\n      ondblclick:  v._getEv,\r\n      onmousedown: v._getEv,\r\n      onmouseup:   v._getEv,\r\n      onmouseover: v._getEv,\r\n      onmousemove: v._getEv,\r\n      onmouseout:  v._getEv,\r\n      onfocus:     v._getEv,\r\n      onblur:      v._getEv,\r\n      onkeypress:  v._getEv,\r\n      onkeydown:   v._getEv,\r\n      onkeyup:     v._getEv,\r\n      onsubmit:    v._getEv,\r\n      onreset:     v._getEv,\r\n      onselect:    v._getEv,\r\n      onchange:    v._getEv\r\n    });\r\n  })(Element._attributeTranslations.read.values);\r\n\r\n  if (Prototype.BrowserFeatures.ElementExtensions) {\r\n    (function() {\r\n      function _descendants(element) {\r\n        var nodes = element.getElementsByTagName('*'), results = [];\r\n        for (var i = 0, node; node = nodes[i]; i++)\r\n          if (node.tagName !== \"!\") // Filter out comment nodes.\r\n            results.push(node);\r\n        return results;\r\n      }\r\n\r\n      Element.Methods.down = function(element, expression, index) {\r\n        element = $(element);\r\n        if (arguments.length == 1) return element.firstDescendant();\r\n        return Object.isNumber(expression) ? _descendants(element)[expression] :\r\n          Element.select(element, expression)[index || 0];\r\n      }\r\n    })();\r\n  }\r\n\r\n}\r\n\r\nelse if (Prototype.Browser.Gecko && /rv:1\\.8\\.0/.test(navigator.userAgent)) {\r\n  Element.Methods.setOpacity = function(element, value) {\r\n    element = $(element);\r\n    element.style.opacity = (value == 1) ? 0.999999 :\r\n      (value === '') ? '' : (value < 0.00001) ? 0 : value;\r\n    return element;\r\n  };\r\n}\r\n\r\nelse if (Prototype.Browser.WebKit) {\r\n  Element.Methods.setOpacity = function(element, value) {\r\n    element = $(element);\r\n    element.style.opacity = (value == 1 || value === '') ? '' :\r\n      (value < 0.00001) ? 0 : value;\r\n\r\n    if (value == 1)\r\n      if (element.tagName.toUpperCase() == 'IMG' && element.width) {\r\n        element.width++; element.width--;\r\n      } else try {\r\n        var n = document.createTextNode(' ');\r\n        element.appendChild(n);\r\n        element.removeChild(n);\r\n      } catch (e) { }\r\n\r\n    return element;\r\n  };\r\n}\r\n\r\nif ('outerHTML' in document.documentElement) {\r\n  Element.Methods.replace = function(element, content) {\r\n    element = $(element);\r\n\r\n    if (content && content.toElement) content = content.toElement();\r\n    if (Object.isElement(content)) {\r\n      element.parentNode.replaceChild(content, element);\r\n      return element;\r\n    }\r\n\r\n    content = Object.toHTML(content);\r\n    var parent = element.parentNode, tagName = parent.tagName.toUpperCase();\r\n\r\n    if (Element._insertionTranslations.tags[tagName]) {\r\n      var nextSibling = element.next(),\r\n          fragments = Element._getContentFromAnonymousElement(tagName, content.stripScripts());\r\n      parent.removeChild(element);\r\n      if (nextSibling)\r\n        fragments.each(function(node) { parent.insertBefore(node, nextSibling) });\r\n      else\r\n        fragments.each(function(node) { parent.appendChild(node) });\r\n    }\r\n    else element.outerHTML = content.stripScripts();\r\n\r\n    content.evalScripts.bind(content).defer();\r\n    return element;\r\n  };\r\n}\r\n\r\nElement._returnOffset = function(l, t) {\r\n  var result = [l, t];\r\n  result.left = l;\r\n  result.top = t;\r\n  return result;\r\n};\r\n\r\nElement._getContentFromAnonymousElement = function(tagName, html, force) {\r\n  var div = new Element('div'),\r\n      t = Element._insertionTranslations.tags[tagName];\r\n\r\n  var workaround = false;\r\n  if (t) workaround = true;\r\n  else if (force) {\r\n    workaround = true;\r\n    t = ['', '', 0];\r\n  }\r\n\r\n  if (workaround) {\r\n    div.innerHTML = '&nbsp;' + t[0] + html + t[1];\r\n    div.removeChild(div.firstChild);\r\n    for (var i = t[2]; i--; ) {\r\n      div = div.firstChild;\r\n    }\r\n  }\r\n  else {\r\n    div.innerHTML = html;\r\n  }\r\n  return $A(div.childNodes);\r\n};\r\n\r\nElement._insertionTranslations = {\r\n  before: function(element, node) {\r\n    element.parentNode.insertBefore(node, element);\r\n  },\r\n  top: function(element, node) {\r\n    element.insertBefore(node, element.firstChild);\r\n  },\r\n  bottom: function(element, node) {\r\n    element.appendChild(node);\r\n  },\r\n  after: function(element, node) {\r\n    element.parentNode.insertBefore(node, element.nextSibling);\r\n  },\r\n  tags: {\r\n    TABLE:  ['<table>',                '</table>',                   1],\r\n    TBODY:  ['<table><tbody>',         '</tbody></table>',           2],\r\n    TR:     ['<table><tbody><tr>',     '</tr></tbody></table>',      3],\r\n    TD:     ['<table><tbody><tr><td>', '</td></tr></tbody></table>', 4],\r\n    SELECT: ['<select>',               '</select>',                  1]\r\n  }\r\n};\r\n\r\n(function() {\r\n  var tags = Element._insertionTranslations.tags;\r\n  Object.extend(tags, {\r\n    THEAD: tags.TBODY,\r\n    TFOOT: tags.TBODY,\r\n    TH:    tags.TD\r\n  });\r\n})();\r\n\r\nElement.Methods.Simulated = {\r\n  hasAttribute: function(element, attribute) {\r\n    attribute = Element._attributeTranslations.has[attribute] || attribute;\r\n    var node = $(element).getAttributeNode(attribute);\r\n    return !!(node && node.specified);\r\n  }\r\n};\r\n\r\nElement.Methods.ByTag = { };\r\n\r\nObject.extend(Element, Element.Methods);\r\n\r\n(function(div) {\r\n\r\n  if (!Prototype.BrowserFeatures.ElementExtensions && div['__proto__']) {\r\n    window.HTMLElement = { };\r\n    window.HTMLElement.prototype = div['__proto__'];\r\n    Prototype.BrowserFeatures.ElementExtensions = true;\r\n  }\r\n\r\n  div = null;\r\n\r\n})(document.createElement('div'));\r\n\r\nElement.extend = (function() {\r\n\r\n  function checkDeficiency(tagName) {\r\n    if (typeof window.Element != 'undefined') {\r\n      var proto = window.Element.prototype;\r\n      if (proto) {\r\n        var id = '_' + (Math.random()+'').slice(2),\r\n            el = document.createElement(tagName);\r\n        proto[id] = 'x';\r\n        var isBuggy = (el[id] !== 'x');\r\n        delete proto[id];\r\n        el = null;\r\n        return isBuggy;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function extendElementWith(element, methods) {\r\n    for (var property in methods) {\r\n      var value = methods[property];\r\n      if (Object.isFunction(value) && !(property in element))\r\n        element[property] = value.methodize();\r\n    }\r\n  }\r\n\r\n  var HTMLOBJECTELEMENT_PROTOTYPE_BUGGY = checkDeficiency('object');\r\n\r\n  if (Prototype.BrowserFeatures.SpecificElementExtensions) {\r\n    if (HTMLOBJECTELEMENT_PROTOTYPE_BUGGY) {\r\n      return function(element) {\r\n        if (element && typeof element._extendedByPrototype == 'undefined') {\r\n          var t = element.tagName;\r\n          if (t && (/^(?:object|applet|embed)$/i.test(t))) {\r\n            extendElementWith(element, Element.Methods);\r\n            extendElementWith(element, Element.Methods.Simulated);\r\n            extendElementWith(element, Element.Methods.ByTag[t.toUpperCase()]);\r\n          }\r\n        }\r\n        return element;\r\n      }\r\n    }\r\n    return Prototype.K;\r\n  }\r\n\r\n  var Methods = { }, ByTag = Element.Methods.ByTag;\r\n\r\n  var extend = Object.extend(function(element) {\r\n    if (!element || typeof element._extendedByPrototype != 'undefined' ||\r\n        element.nodeType != 1 || element == window) return element;\r\n\r\n    var methods = Object.clone(Methods),\r\n        tagName = element.tagName.toUpperCase();\r\n\r\n    if (ByTag[tagName]) Object.extend(methods, ByTag[tagName]);\r\n\r\n    extendElementWith(element, methods);\r\n\r\n    element._extendedByPrototype = Prototype.emptyFunction;\r\n    return element;\r\n\r\n  }, {\r\n    refresh: function() {\r\n      if (!Prototype.BrowserFeatures.ElementExtensions) {\r\n        Object.extend(Methods, Element.Methods);\r\n        Object.extend(Methods, Element.Methods.Simulated);\r\n      }\r\n    }\r\n  });\r\n\r\n  extend.refresh();\r\n  return extend;\r\n})();\r\n\r\nif (document.documentElement.hasAttribute) {\r\n  Element.hasAttribute = function(element, attribute) {\r\n    return element.hasAttribute(attribute);\r\n  };\r\n}\r\nelse {\r\n  Element.hasAttribute = Element.Methods.Simulated.hasAttribute;\r\n}\r\n\r\nElement.addMethods = function(methods) {\r\n  var F = Prototype.BrowserFeatures, T = Element.Methods.ByTag;\r\n\r\n  if (!methods) {\r\n    Object.extend(Form, Form.Methods);\r\n    Object.extend(Form.Element, Form.Element.Methods);\r\n    Object.extend(Element.Methods.ByTag, {\r\n      \"FORM\":     Object.clone(Form.Methods),\r\n      \"INPUT\":    Object.clone(Form.Element.Methods),\r\n      \"SELECT\":   Object.clone(Form.Element.Methods),\r\n      \"TEXTAREA\": Object.clone(Form.Element.Methods),\r\n      \"BUTTON\":   Object.clone(Form.Element.Methods)\r\n    });\r\n  }\r\n\r\n  if (arguments.length == 2) {\r\n    var tagName = methods;\r\n    methods = arguments[1];\r\n  }\r\n\r\n  if (!tagName) Object.extend(Element.Methods, methods || { });\r\n  else {\r\n    if (Object.isArray(tagName)) tagName.each(extend);\r\n    else extend(tagName);\r\n  }\r\n\r\n  function extend(tagName) {\r\n    tagName = tagName.toUpperCase();\r\n    if (!Element.Methods.ByTag[tagName])\r\n      Element.Methods.ByTag[tagName] = { };\r\n    Object.extend(Element.Methods.ByTag[tagName], methods);\r\n  }\r\n\r\n  function copy(methods, destination, onlyIfAbsent) {\r\n    onlyIfAbsent = onlyIfAbsent || false;\r\n    for (var property in methods) {\r\n      var value = methods[property];\r\n      if (!Object.isFunction(value)) continue;\r\n      if (!onlyIfAbsent || !(property in destination))\r\n        destination[property] = value.methodize();\r\n    }\r\n  }\r\n\r\n  function findDOMClass(tagName) {\r\n    var klass;\r\n    var trans = {\r\n      \"OPTGROUP\": \"OptGroup\", \"TEXTAREA\": \"TextArea\", \"P\": \"Paragraph\",\r\n      \"FIELDSET\": \"FieldSet\", \"UL\": \"UList\", \"OL\": \"OList\", \"DL\": \"DList\",\r\n      \"DIR\": \"Directory\", \"H1\": \"Heading\", \"H2\": \"Heading\", \"H3\": \"Heading\",\r\n      \"H4\": \"Heading\", \"H5\": \"Heading\", \"H6\": \"Heading\", \"Q\": \"Quote\",\r\n      \"INS\": \"Mod\", \"DEL\": \"Mod\", \"A\": \"Anchor\", \"IMG\": \"Image\", \"CAPTION\":\r\n      \"TableCaption\", \"COL\": \"TableCol\", \"COLGROUP\": \"TableCol\", \"THEAD\":\r\n      \"TableSection\", \"TFOOT\": \"TableSection\", \"TBODY\": \"TableSection\", \"TR\":\r\n      \"TableRow\", \"TH\": \"TableCell\", \"TD\": \"TableCell\", \"FRAMESET\":\r\n      \"FrameSet\", \"IFRAME\": \"IFrame\"\r\n    };\r\n    if (trans[tagName]) klass = 'HTML' + trans[tagName] + 'Element';\r\n    if (window[klass]) return window[klass];\r\n    klass = 'HTML' + tagName + 'Element';\r\n    if (window[klass]) return window[klass];\r\n    klass = 'HTML' + tagName.capitalize() + 'Element';\r\n    if (window[klass]) return window[klass];\r\n\r\n    var element = document.createElement(tagName),\r\n        proto = element['__proto__'] || element.constructor.prototype;\r\n\r\n    element = null;\r\n    return proto;\r\n  }\r\n\r\n  var elementPrototype = window.HTMLElement ? HTMLElement.prototype :\r\n   Element.prototype;\r\n\r\n  if (F.ElementExtensions) {\r\n    copy(Element.Methods, elementPrototype);\r\n    copy(Element.Methods.Simulated, elementPrototype, true);\r\n  }\r\n\r\n  if (F.SpecificElementExtensions) {\r\n    for (var tag in Element.Methods.ByTag) {\r\n      var klass = findDOMClass(tag);\r\n      if (Object.isUndefined(klass)) continue;\r\n      copy(T[tag], klass.prototype);\r\n    }\r\n  }\r\n\r\n  Object.extend(Element, Element.Methods);\r\n  delete Element.ByTag;\r\n\r\n  if (Element.extend.refresh) Element.extend.refresh();\r\n  Element.cache = { };\r\n};\r\n\r\n\r\ndocument.viewport = {\r\n\r\n  getDimensions: function() {\r\n    return { width: this.getWidth(), height: this.getHeight() };\r\n  },\r\n\r\n  getScrollOffsets: function() {\r\n    return Element._returnOffset(\r\n      window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft,\r\n      window.pageYOffset || document.documentElement.scrollTop  || document.body.scrollTop);\r\n  }\r\n};\r\n\r\n(function(viewport) {\r\n  var B = Prototype.Browser, doc = document, element, property = {};\r\n\r\n  function getRootElement() {\r\n    if (B.WebKit && !doc.evaluate)\r\n      return document;\r\n\r\n    if (B.Opera && window.parseFloat(window.opera.version()) < 9.5)\r\n      return document.body;\r\n\r\n    return document.documentElement;\r\n  }\r\n\r\n  function define(D) {\r\n    if (!element) element = getRootElement();\r\n\r\n    property[D] = 'client' + D;\r\n\r\n    viewport['get' + D] = function() { return element[property[D]] };\r\n    return viewport['get' + D]();\r\n  }\r\n\r\n  viewport.getWidth  = define.curry('Width');\r\n\r\n  viewport.getHeight = define.curry('Height');\r\n})(document.viewport);\r\n\r\n\r\nElement.Storage = {\r\n  UID: 1\r\n};\r\n\r\nElement.addMethods({\r\n  getStorage: function(element) {\r\n    if (!(element = $(element))) return;\r\n\r\n    var uid;\r\n    if (element === window) {\r\n      uid = 0;\r\n    } else {\r\n      if (typeof element._prototypeUID === \"undefined\")\r\n        element._prototypeUID = Element.Storage.UID++;\r\n      uid = element._prototypeUID;\r\n    }\r\n\r\n    if (!Element.Storage[uid])\r\n      Element.Storage[uid] = $H();\r\n\r\n    return Element.Storage[uid];\r\n  },\r\n\r\n  store: function(element, key, value) {\r\n    if (!(element = $(element))) return;\r\n\r\n    if (arguments.length === 2) {\r\n      Element.getStorage(element).update(key);\r\n    } else {\r\n      Element.getStorage(element).set(key, value);\r\n    }\r\n\r\n    return element;\r\n  },\r\n\r\n  retrieve: function(element, key, defaultValue) {\r\n    if (!(element = $(element))) return;\r\n    var hash = Element.getStorage(element), value = hash.get(key);\r\n\r\n    if (Object.isUndefined(value)) {\r\n      hash.set(key, defaultValue);\r\n      value = defaultValue;\r\n    }\r\n\r\n    return value;\r\n  },\r\n\r\n  clone: function(element, deep) {\r\n    if (!(element = $(element))) return;\r\n    var clone = element.cloneNode(deep);\r\n    clone._prototypeUID = void 0;\r\n    if (deep) {\r\n      var descendants = Element.select(clone, '*'),\r\n          i = descendants.length;\r\n      while (i--) {\r\n        descendants[i]._prototypeUID = void 0;\r\n      }\r\n    }\r\n    return Element.extend(clone);\r\n  },\r\n\r\n  purge: function(element) {\r\n    if (!(element = $(element))) return;\r\n    var purgeElement = Element._purgeElement;\r\n\r\n    purgeElement(element);\r\n\r\n    var descendants = element.getElementsByTagName('*'),\r\n     i = descendants.length;\r\n\r\n    while (i--) purgeElement(descendants[i]);\r\n\r\n    return null;\r\n  }\r\n});\r\n\r\n(function() {\r\n\r\n  function toDecimal(pctString) {\r\n    var match = pctString.match(/^(\\d+)%?$/i);\r\n    if (!match) return null;\r\n    return (Number(match[1]) / 100);\r\n  }\r\n\r\n  function getPixelValue(value, property, context) {\r\n    var element = null;\r\n    if (Object.isElement(value)) {\r\n      element = value;\r\n      value = element.getStyle(property);\r\n    }\r\n\r\n    if (value === null) {\r\n      return null;\r\n    }\r\n\r\n    if ((/^(?:-)?\\d+(\\.\\d+)?(px)?$/i).test(value)) {\r\n      return window.parseFloat(value);\r\n    }\r\n\r\n    var isPercentage = value.include('%'), isViewport = (context === document.viewport);\r\n\r\n    if (/\\d/.test(value) && element && element.runtimeStyle && !(isPercentage && isViewport)) {\r\n      var style = element.style.left, rStyle = element.runtimeStyle.left;\r\n      element.runtimeStyle.left = element.currentStyle.left;\r\n      element.style.left = value || 0;\r\n      value = element.style.pixelLeft;\r\n      element.style.left = style;\r\n      element.runtimeStyle.left = rStyle;\r\n\r\n      return value;\r\n    }\r\n\r\n    if (element && isPercentage) {\r\n      context = context || element.parentNode;\r\n      var decimal = toDecimal(value);\r\n      var whole = null;\r\n      var position = element.getStyle('position');\r\n\r\n      var isHorizontal = property.include('left') || property.include('right') ||\r\n       property.include('width');\r\n\r\n      var isVertical =  property.include('top') || property.include('bottom') ||\r\n        property.include('height');\r\n\r\n      if (context === document.viewport) {\r\n        if (isHorizontal) {\r\n          whole = document.viewport.getWidth();\r\n        } else if (isVertical) {\r\n          whole = document.viewport.getHeight();\r\n        }\r\n      } else {\r\n        if (isHorizontal) {\r\n          whole = $(context).measure('width');\r\n        } else if (isVertical) {\r\n          whole = $(context).measure('height');\r\n        }\r\n      }\r\n\r\n      return (whole === null) ? 0 : whole * decimal;\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  function toCSSPixels(number) {\r\n    if (Object.isString(number) && number.endsWith('px')) {\r\n      return number;\r\n    }\r\n    return number + 'px';\r\n  }\r\n\r\n  function isDisplayed(element) {\r\n    var originalElement = element;\r\n    while (element && element.parentNode) {\r\n      var display = element.getStyle('display');\r\n      if (display === 'none') {\r\n        return false;\r\n      }\r\n      element = $(element.parentNode);\r\n    }\r\n    return true;\r\n  }\r\n\r\n  var hasLayout = Prototype.K;\r\n  if ('currentStyle' in document.documentElement) {\r\n    hasLayout = function(element) {\r\n      if (!element.currentStyle.hasLayout) {\r\n        element.style.zoom = 1;\r\n      }\r\n      return element;\r\n    };\r\n  }\r\n\r\n  function cssNameFor(key) {\r\n    if (key.include('border')) key = key + '-width';\r\n    return key.camelize();\r\n  }\r\n\r\n  Element.Layout = Class.create(Hash, {\r\n    initialize: function($super, element, preCompute) {\r\n      $super();\r\n      this.element = $(element);\r\n\r\n      Element.Layout.PROPERTIES.each( function(property) {\r\n        this._set(property, null);\r\n      }, this);\r\n\r\n      if (preCompute) {\r\n        this._preComputing = true;\r\n        this._begin();\r\n        Element.Layout.PROPERTIES.each( this._compute, this );\r\n        this._end();\r\n        this._preComputing = false;\r\n      }\r\n    },\r\n\r\n    _set: function(property, value) {\r\n      return Hash.prototype.set.call(this, property, value);\r\n    },\r\n\r\n    set: function(property, value) {\r\n      throw \"Properties of Element.Layout are read-only.\";\r\n    },\r\n\r\n    get: function($super, property) {\r\n      var value = $super(property);\r\n      return value === null ? this._compute(property) : value;\r\n    },\r\n\r\n    _begin: function() {\r\n      if (this._prepared) return;\r\n\r\n      var element = this.element;\r\n      if (isDisplayed(element)) {\r\n        this._prepared = true;\r\n        return;\r\n      }\r\n\r\n      var originalStyles = {\r\n        position:   element.style.position   || '',\r\n        width:      element.style.width      || '',\r\n        visibility: element.style.visibility || '',\r\n        display:    element.style.display    || ''\r\n      };\r\n\r\n      element.store('prototype_original_styles', originalStyles);\r\n\r\n      var position = element.getStyle('position'),\r\n       width = element.getStyle('width');\r\n\r\n      if (width === \"0px\" || width === null) {\r\n        element.style.display = 'block';\r\n        width = element.getStyle('width');\r\n      }\r\n\r\n      var context = (position === 'fixed') ? document.viewport :\r\n       element.parentNode;\r\n\r\n      element.setStyle({\r\n        position:   'absolute',\r\n        visibility: 'hidden',\r\n        display:    'block'\r\n      });\r\n\r\n      var positionedWidth = element.getStyle('width');\r\n\r\n      var newWidth;\r\n      if (width && (positionedWidth === width)) {\r\n        newWidth = getPixelValue(element, 'width', context);\r\n      } else if (position === 'absolute' || position === 'fixed') {\r\n        newWidth = getPixelValue(element, 'width', context);\r\n      } else {\r\n        var parent = element.parentNode, pLayout = $(parent).getLayout();\r\n\r\n        newWidth = pLayout.get('width') -\r\n         this.get('margin-left') -\r\n         this.get('border-left') -\r\n         this.get('padding-left') -\r\n         this.get('padding-right') -\r\n         this.get('border-right') -\r\n         this.get('margin-right');\r\n      }\r\n\r\n      element.setStyle({ width: newWidth + 'px' });\r\n\r\n      this._prepared = true;\r\n    },\r\n\r\n    _end: function() {\r\n      var element = this.element;\r\n      var originalStyles = element.retrieve('prototype_original_styles');\r\n      element.store('prototype_original_styles', null);\r\n      element.setStyle(originalStyles);\r\n      this._prepared = false;\r\n    },\r\n\r\n    _compute: function(property) {\r\n      var COMPUTATIONS = Element.Layout.COMPUTATIONS;\r\n      if (!(property in COMPUTATIONS)) {\r\n        throw \"Property not found.\";\r\n      }\r\n\r\n      return this._set(property, COMPUTATIONS[property].call(this, this.element));\r\n    },\r\n\r\n    toObject: function() {\r\n      var args = $A(arguments);\r\n      var keys = (args.length === 0) ? Element.Layout.PROPERTIES :\r\n       args.join(' ').split(' ');\r\n      var obj = {};\r\n      keys.each( function(key) {\r\n        if (!Element.Layout.PROPERTIES.include(key)) return;\r\n        var value = this.get(key);\r\n        if (value != null) obj[key] = value;\r\n      }, this);\r\n      return obj;\r\n    },\r\n\r\n    toHash: function() {\r\n      var obj = this.toObject.apply(this, arguments);\r\n      return new Hash(obj);\r\n    },\r\n\r\n    toCSS: function() {\r\n      var args = $A(arguments);\r\n      var keys = (args.length === 0) ? Element.Layout.PROPERTIES :\r\n       args.join(' ').split(' ');\r\n      var css = {};\r\n\r\n      keys.each( function(key) {\r\n        if (!Element.Layout.PROPERTIES.include(key)) return;\r\n        if (Element.Layout.COMPOSITE_PROPERTIES.include(key)) return;\r\n\r\n        var value = this.get(key);\r\n        if (value != null) css[cssNameFor(key)] = value + 'px';\r\n      }, this);\r\n      return css;\r\n    },\r\n\r\n    inspect: function() {\r\n      return \"#<Element.Layout>\";\r\n    }\r\n  });\r\n\r\n  Object.extend(Element.Layout, {\r\n    PROPERTIES: $w('height width top left right bottom border-left border-right border-top border-bottom padding-left padding-right padding-top padding-bottom margin-top margin-bottom margin-left margin-right padding-box-width padding-box-height border-box-width border-box-height margin-box-width margin-box-height'),\r\n\r\n    COMPOSITE_PROPERTIES: $w('padding-box-width padding-box-height margin-box-width margin-box-height border-box-width border-box-height'),\r\n\r\n    COMPUTATIONS: {\r\n      'height': function(element) {\r\n        if (!this._preComputing) this._begin();\r\n\r\n        var bHeight = this.get('border-box-height');\r\n        if (bHeight <= 0) {\r\n          if (!this._preComputing) this._end();\r\n          return 0;\r\n        }\r\n\r\n        var bTop = this.get('border-top'),\r\n         bBottom = this.get('border-bottom');\r\n\r\n        var pTop = this.get('padding-top'),\r\n         pBottom = this.get('padding-bottom');\r\n\r\n        if (!this._preComputing) this._end();\r\n\r\n        return bHeight - bTop - bBottom - pTop - pBottom;\r\n      },\r\n\r\n      'width': function(element) {\r\n        if (!this._preComputing) this._begin();\r\n\r\n        var bWidth = this.get('border-box-width');\r\n        if (bWidth <= 0) {\r\n          if (!this._preComputing) this._end();\r\n          return 0;\r\n        }\r\n\r\n        var bLeft = this.get('border-left'),\r\n         bRight = this.get('border-right');\r\n\r\n        var pLeft = this.get('padding-left'),\r\n         pRight = this.get('padding-right');\r\n\r\n        if (!this._preComputing) this._end();\r\n\r\n        return bWidth - bLeft - bRight - pLeft - pRight;\r\n      },\r\n\r\n      'padding-box-height': function(element) {\r\n        var height = this.get('height'),\r\n         pTop = this.get('padding-top'),\r\n         pBottom = this.get('padding-bottom');\r\n\r\n        return height + pTop + pBottom;\r\n      },\r\n\r\n      'padding-box-width': function(element) {\r\n        var width = this.get('width'),\r\n         pLeft = this.get('padding-left'),\r\n         pRight = this.get('padding-right');\r\n\r\n        return width + pLeft + pRight;\r\n      },\r\n\r\n      'border-box-height': function(element) {\r\n        if (!this._preComputing) this._begin();\r\n        var height = element.offsetHeight;\r\n        if (!this._preComputing) this._end();\r\n        return height;\r\n      },\r\n\r\n      'border-box-width': function(element) {\r\n        if (!this._preComputing) this._begin();\r\n        var width = element.offsetWidth;\r\n        if (!this._preComputing) this._end();\r\n        return width;\r\n      },\r\n\r\n      'margin-box-height': function(element) {\r\n        var bHeight = this.get('border-box-height'),\r\n         mTop = this.get('margin-top'),\r\n         mBottom = this.get('margin-bottom');\r\n\r\n        if (bHeight <= 0) return 0;\r\n\r\n        return bHeight + mTop + mBottom;\r\n      },\r\n\r\n      'margin-box-width': function(element) {\r\n        var bWidth = this.get('border-box-width'),\r\n         mLeft = this.get('margin-left'),\r\n         mRight = this.get('margin-right');\r\n\r\n        if (bWidth <= 0) return 0;\r\n\r\n        return bWidth + mLeft + mRight;\r\n      },\r\n\r\n      'top': function(element) {\r\n        var offset = element.positionedOffset();\r\n        return offset.top;\r\n      },\r\n\r\n      'bottom': function(element) {\r\n        var offset = element.positionedOffset(),\r\n         parent = element.getOffsetParent(),\r\n         pHeight = parent.measure('height');\r\n\r\n        var mHeight = this.get('border-box-height');\r\n\r\n        return pHeight - mHeight - offset.top;\r\n      },\r\n\r\n      'left': function(element) {\r\n        var offset = element.positionedOffset();\r\n        return offset.left;\r\n      },\r\n\r\n      'right': function(element) {\r\n        var offset = element.positionedOffset(),\r\n         parent = element.getOffsetParent(),\r\n         pWidth = parent.measure('width');\r\n\r\n        var mWidth = this.get('border-box-width');\r\n\r\n        return pWidth - mWidth - offset.left;\r\n      },\r\n\r\n      'padding-top': function(element) {\r\n        return getPixelValue(element, 'paddingTop');\r\n      },\r\n\r\n      'padding-bottom': function(element) {\r\n        return getPixelValue(element, 'paddingBottom');\r\n      },\r\n\r\n      'padding-left': function(element) {\r\n        return getPixelValue(element, 'paddingLeft');\r\n      },\r\n\r\n      'padding-right': function(element) {\r\n        return getPixelValue(element, 'paddingRight');\r\n      },\r\n\r\n      'border-top': function(element) {\r\n        return getPixelValue(element, 'borderTopWidth');\r\n      },\r\n\r\n      'border-bottom': function(element) {\r\n        return getPixelValue(element, 'borderBottomWidth');\r\n      },\r\n\r\n      'border-left': function(element) {\r\n        return getPixelValue(element, 'borderLeftWidth');\r\n      },\r\n\r\n      'border-right': function(element) {\r\n        return getPixelValue(element, 'borderRightWidth');\r\n      },\r\n\r\n      'margin-top': function(element) {\r\n        return getPixelValue(element, 'marginTop');\r\n      },\r\n\r\n      'margin-bottom': function(element) {\r\n        return getPixelValue(element, 'marginBottom');\r\n      },\r\n\r\n      'margin-left': function(element) {\r\n        return getPixelValue(element, 'marginLeft');\r\n      },\r\n\r\n      'margin-right': function(element) {\r\n        return getPixelValue(element, 'marginRight');\r\n      }\r\n    }\r\n  });\r\n\r\n  if ('getBoundingClientRect' in document.documentElement) {\r\n    Object.extend(Element.Layout.COMPUTATIONS, {\r\n      'right': function(element) {\r\n        var parent = hasLayout(element.getOffsetParent());\r\n        var rect = element.getBoundingClientRect(),\r\n         pRect = parent.getBoundingClientRect();\r\n\r\n        return (pRect.right - rect.right).round();\r\n      },\r\n\r\n      'bottom': function(element) {\r\n        var parent = hasLayout(element.getOffsetParent());\r\n        var rect = element.getBoundingClientRect(),\r\n         pRect = parent.getBoundingClientRect();\r\n\r\n        return (pRect.bottom - rect.bottom).round();\r\n      }\r\n    });\r\n  }\r\n\r\n  Element.Offset = Class.create({\r\n    initialize: function(left, top) {\r\n      this.left = left.round();\r\n      this.top  = top.round();\r\n\r\n      this[0] = this.left;\r\n      this[1] = this.top;\r\n    },\r\n\r\n    relativeTo: function(offset) {\r\n      return new Element.Offset(\r\n        this.left - offset.left,\r\n        this.top  - offset.top\r\n      );\r\n    },\r\n\r\n    inspect: function() {\r\n      return \"#<Element.Offset left: #{left} top: #{top}>\".interpolate(this);\r\n    },\r\n\r\n    toString: function() {\r\n      return \"[#{left}, #{top}]\".interpolate(this);\r\n    },\r\n\r\n    toArray: function() {\r\n      return [this.left, this.top];\r\n    }\r\n  });\r\n\r\n  function getLayout(element, preCompute) {\r\n    return new Element.Layout(element, preCompute);\r\n  }\r\n\r\n  function measure(element, property) {\r\n    return $(element).getLayout().get(property);\r\n  }\r\n\r\n  function getDimensions(element) {\r\n    element = $(element);\r\n    var display = Element.getStyle(element, 'display');\r\n\r\n    if (display && display !== 'none') {\r\n      return { width: element.offsetWidth, height: element.offsetHeight };\r\n    }\r\n\r\n    var style = element.style;\r\n    var originalStyles = {\r\n      visibility: style.visibility,\r\n      position:   style.position,\r\n      display:    style.display\r\n    };\r\n\r\n    var newStyles = {\r\n      visibility: 'hidden',\r\n      display:    'block'\r\n    };\r\n\r\n    if (originalStyles.position !== 'fixed')\r\n      newStyles.position = 'absolute';\r\n\r\n    Element.setStyle(element, newStyles);\r\n\r\n    var dimensions = {\r\n      width:  element.offsetWidth,\r\n      height: element.offsetHeight\r\n    };\r\n\r\n    Element.setStyle(element, originalStyles);\r\n\r\n    return dimensions;\r\n  }\r\n\r\n  function getOffsetParent(element) {\r\n    element = $(element);\r\n\r\n    if (isDocument(element) || isDetached(element) || isBody(element) || isHtml(element))\r\n      return $(document.body);\r\n\r\n    var isInline = (Element.getStyle(element, 'display') === 'inline');\r\n    if (!isInline && element.offsetParent) return $(element.offsetParent);\r\n\r\n    while ((element = element.parentNode) && element !== document.body) {\r\n      if (Element.getStyle(element, 'position') !== 'static') {\r\n        return isHtml(element) ? $(document.body) : $(element);\r\n      }\r\n    }\r\n\r\n    return $(document.body);\r\n  }\r\n\r\n\r\n  function cumulativeOffset(element) {\r\n    element = $(element);\r\n    var valueT = 0, valueL = 0;\r\n    if (element.parentNode) {\r\n      do {\r\n        valueT += element.offsetTop  || 0;\r\n        valueL += element.offsetLeft || 0;\r\n        element = element.offsetParent;\r\n      } while (element);\r\n    }\r\n    return new Element.Offset(valueL, valueT);\r\n  }\r\n\r\n  function positionedOffset(element) {\r\n    element = $(element);\r\n\r\n    var layout = element.getLayout();\r\n\r\n    var valueT = 0, valueL = 0;\r\n    do {\r\n      valueT += element.offsetTop  || 0;\r\n      valueL += element.offsetLeft || 0;\r\n      element = element.offsetParent;\r\n      if (element) {\r\n        if (isBody(element)) break;\r\n        var p = Element.getStyle(element, 'position');\r\n        if (p !== 'static') break;\r\n      }\r\n    } while (element);\r\n\r\n    valueL -= layout.get('margin-top');\r\n    valueT -= layout.get('margin-left');\r\n\r\n    return new Element.Offset(valueL, valueT);\r\n  }\r\n\r\n  function cumulativeScrollOffset(element) {\r\n    var valueT = 0, valueL = 0;\r\n    do {\r\n      valueT += element.scrollTop  || 0;\r\n      valueL += element.scrollLeft || 0;\r\n      element = element.parentNode;\r\n    } while (element);\r\n    return new Element.Offset(valueL, valueT);\r\n  }\r\n\r\n  function viewportOffset(forElement) {\r\n    element = $(element);\r\n    var valueT = 0, valueL = 0, docBody = document.body;\r\n\r\n    var element = forElement;\r\n    do {\r\n      valueT += element.offsetTop  || 0;\r\n      valueL += element.offsetLeft || 0;\r\n      if (element.offsetParent == docBody &&\r\n        Element.getStyle(element, 'position') == 'absolute') break;\r\n    } while (element = element.offsetParent);\r\n\r\n    element = forElement;\r\n    do {\r\n      if (element != docBody) {\r\n        valueT -= element.scrollTop  || 0;\r\n        valueL -= element.scrollLeft || 0;\r\n      }\r\n    } while (element = element.parentNode);\r\n    return new Element.Offset(valueL, valueT);\r\n  }\r\n\r\n  function absolutize(element) {\r\n    element = $(element);\r\n\r\n    if (Element.getStyle(element, 'position') === 'absolute') {\r\n      return element;\r\n    }\r\n\r\n    var offsetParent = getOffsetParent(element);\r\n    var eOffset = element.viewportOffset(),\r\n     pOffset = offsetParent.viewportOffset();\r\n\r\n    var offset = eOffset.relativeTo(pOffset);\r\n    var layout = element.getLayout();\r\n\r\n    element.store('prototype_absolutize_original_styles', {\r\n      left:   element.getStyle('left'),\r\n      top:    element.getStyle('top'),\r\n      width:  element.getStyle('width'),\r\n      height: element.getStyle('height')\r\n    });\r\n\r\n    element.setStyle({\r\n      position: 'absolute',\r\n      top:    offset.top + 'px',\r\n      left:   offset.left + 'px',\r\n      width:  layout.get('width') + 'px',\r\n      height: layout.get('height') + 'px'\r\n    });\r\n\r\n    return element;\r\n  }\r\n\r\n  function relativize(element) {\r\n    element = $(element);\r\n    if (Element.getStyle(element, 'position') === 'relative') {\r\n      return element;\r\n    }\r\n\r\n    var originalStyles =\r\n     element.retrieve('prototype_absolutize_original_styles');\r\n\r\n    if (originalStyles) element.setStyle(originalStyles);\r\n    return element;\r\n  }\r\n\r\n  if (Prototype.Browser.IE) {\r\n    getOffsetParent = getOffsetParent.wrap(\r\n      function(proceed, element) {\r\n        element = $(element);\r\n\r\n        if (isDocument(element) || isDetached(element) || isBody(element) || isHtml(element))\r\n          return $(document.body);\r\n\r\n        var position = element.getStyle('position');\r\n        if (position !== 'static') return proceed(element);\r\n\r\n        element.setStyle({ position: 'relative' });\r\n        var value = proceed(element);\r\n        element.setStyle({ position: position });\r\n        return value;\r\n      }\r\n    );\r\n\r\n    positionedOffset = positionedOffset.wrap(function(proceed, element) {\r\n      element = $(element);\r\n      if (!element.parentNode) return new Element.Offset(0, 0);\r\n      var position = element.getStyle('position');\r\n      if (position !== 'static') return proceed(element);\r\n\r\n      var offsetParent = element.getOffsetParent();\r\n      if (offsetParent && offsetParent.getStyle('position') === 'fixed')\r\n        hasLayout(offsetParent);\r\n\r\n      element.setStyle({ position: 'relative' });\r\n      var value = proceed(element);\r\n      element.setStyle({ position: position });\r\n      return value;\r\n    });\r\n  } else if (Prototype.Browser.Webkit) {\r\n    cumulativeOffset = function(element) {\r\n      element = $(element);\r\n      var valueT = 0, valueL = 0;\r\n      do {\r\n        valueT += element.offsetTop  || 0;\r\n        valueL += element.offsetLeft || 0;\r\n        if (element.offsetParent == document.body)\r\n          if (Element.getStyle(element, 'position') == 'absolute') break;\r\n\r\n        element = element.offsetParent;\r\n      } while (element);\r\n\r\n      return new Element.Offset(valueL, valueT);\r\n    };\r\n  }\r\n\r\n\r\n  Element.addMethods({\r\n    getLayout:              getLayout,\r\n    measure:                measure,\r\n    getDimensions:          getDimensions,\r\n    getOffsetParent:        getOffsetParent,\r\n    cumulativeOffset:       cumulativeOffset,\r\n    positionedOffset:       positionedOffset,\r\n    cumulativeScrollOffset: cumulativeScrollOffset,\r\n    viewportOffset:         viewportOffset,\r\n    absolutize:             absolutize,\r\n    relativize:             relativize\r\n  });\r\n\r\n  function isBody(element) {\r\n    return element.nodeName.toUpperCase() === 'BODY';\r\n  }\r\n\r\n  function isHtml(element) {\r\n    return element.nodeName.toUpperCase() === 'HTML';\r\n  }\r\n\r\n  function isDocument(element) {\r\n    return element.nodeType === Node.DOCUMENT_NODE;\r\n  }\r\n\r\n  function isDetached(element) {\r\n    return element !== document.body &&\r\n     !Element.descendantOf(element, document.body);\r\n  }\r\n\r\n  if ('getBoundingClientRect' in document.documentElement) {\r\n    Element.addMethods({\r\n      viewportOffset: function(element) {\r\n        element = $(element);\r\n        if (isDetached(element)) return new Element.Offset(0, 0);\r\n\r\n        var rect = element.getBoundingClientRect(),\r\n         docEl = document.documentElement;\r\n        return new Element.Offset(rect.left - docEl.clientLeft,\r\n         rect.top - docEl.clientTop);\r\n      }\r\n    });\r\n  }\r\n})();\r\nwindow.$$ = function() {\r\n  var expression = $A(arguments).join(', ');\r\n  return Prototype.Selector.select(expression, document);\r\n};\r\n\r\nPrototype.Selector = (function() {\r\n\r\n  function select() {\r\n    throw new Error('Method \"Prototype.Selector.select\" must be defined.');\r\n  }\r\n\r\n  function match() {\r\n    throw new Error('Method \"Prototype.Selector.match\" must be defined.');\r\n  }\r\n\r\n  function find(elements, expression, index) {\r\n    index = index || 0;\r\n    var match = Prototype.Selector.match, length = elements.length, matchIndex = 0, i;\r\n\r\n    for (i = 0; i < length; i++) {\r\n      if (match(elements[i], expression) && index == matchIndex++) {\r\n        return Element.extend(elements[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  function extendElements(elements) {\r\n    for (var i = 0, length = elements.length; i < length; i++) {\r\n      Element.extend(elements[i]);\r\n    }\r\n    return elements;\r\n  }\r\n\r\n\r\n  var K = Prototype.K;\r\n\r\n  return {\r\n    select: select,\r\n    match: match,\r\n    find: find,\r\n    extendElements: (Element.extend === K) ? K : extendElements,\r\n    extendElement: Element.extend\r\n  };\r\n})();\r\nPrototype._original_property = window.Sizzle;\r\n/*!\r\n * Sizzle CSS Selector Engine - v1.0\r\n *  Copyright 2009, The Dojo Foundation\r\n *  Released under the MIT, BSD, and GPL Licenses.\r\n *  More information: http://sizzlejs.com/\r\n */\r\n(function(){\r\n\r\nvar chunker = /((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^[\\]]*\\]|['\"][^'\"]*['\"]|[^[\\]'\"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g,\r\n\tdone = 0,\r\n\ttoString = Object.prototype.toString,\r\n\thasDuplicate = false,\r\n\tbaseHasDuplicate = true;\r\n\r\n[0, 0].sort(function(){\r\n\tbaseHasDuplicate = false;\r\n\treturn 0;\r\n});\r\n\r\nvar Sizzle = function(selector, context, results, seed) {\r\n\tresults = results || [];\r\n\tvar origContext = context = context || document;\r\n\r\n\tif ( context.nodeType !== 1 && context.nodeType !== 9 ) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\tif ( !selector || typeof selector !== \"string\" ) {\r\n\t\treturn results;\r\n\t}\r\n\r\n\tvar parts = [], m, set, checkSet, check, mode, extra, prune = true, contextXML = isXML(context),\r\n\t\tsoFar = selector;\r\n\r\n\twhile ( (chunker.exec(\"\"), m = chunker.exec(soFar)) !== null ) {\r\n\t\tsoFar = m[3];\r\n\r\n\t\tparts.push( m[1] );\r\n\r\n\t\tif ( m[2] ) {\r\n\t\t\textra = m[3];\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tif ( parts.length > 1 && origPOS.exec( selector ) ) {\r\n\t\tif ( parts.length === 2 && Expr.relative[ parts[0] ] ) {\r\n\t\t\tset = posProcess( parts[0] + parts[1], context );\r\n\t\t} else {\r\n\t\t\tset = Expr.relative[ parts[0] ] ?\r\n\t\t\t\t[ context ] :\r\n\t\t\t\tSizzle( parts.shift(), context );\r\n\r\n\t\t\twhile ( parts.length ) {\r\n\t\t\t\tselector = parts.shift();\r\n\r\n\t\t\t\tif ( Expr.relative[ selector ] )\r\n\t\t\t\t\tselector += parts.shift();\r\n\r\n\t\t\t\tset = posProcess( selector, set );\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tif ( !seed && parts.length > 1 && context.nodeType === 9 && !contextXML &&\r\n\t\t\t\tExpr.match.ID.test(parts[0]) && !Expr.match.ID.test(parts[parts.length - 1]) ) {\r\n\t\t\tvar ret = Sizzle.find( parts.shift(), context, contextXML );\r\n\t\t\tcontext = ret.expr ? Sizzle.filter( ret.expr, ret.set )[0] : ret.set[0];\r\n\t\t}\r\n\r\n\t\tif ( context ) {\r\n\t\t\tvar ret = seed ?\r\n\t\t\t\t{ expr: parts.pop(), set: makeArray(seed) } :\r\n\t\t\t\tSizzle.find( parts.pop(), parts.length === 1 && (parts[0] === \"~\" || parts[0] === \"+\") && context.parentNode ? context.parentNode : context, contextXML );\r\n\t\t\tset = ret.expr ? Sizzle.filter( ret.expr, ret.set ) : ret.set;\r\n\r\n\t\t\tif ( parts.length > 0 ) {\r\n\t\t\t\tcheckSet = makeArray(set);\r\n\t\t\t} else {\r\n\t\t\t\tprune = false;\r\n\t\t\t}\r\n\r\n\t\t\twhile ( parts.length ) {\r\n\t\t\t\tvar cur = parts.pop(), pop = cur;\r\n\r\n\t\t\t\tif ( !Expr.relative[ cur ] ) {\r\n\t\t\t\t\tcur = \"\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpop = parts.pop();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( pop == null ) {\r\n\t\t\t\t\tpop = context;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tExpr.relative[ cur ]( checkSet, pop, contextXML );\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tcheckSet = parts = [];\r\n\t\t}\r\n\t}\r\n\r\n\tif ( !checkSet ) {\r\n\t\tcheckSet = set;\r\n\t}\r\n\r\n\tif ( !checkSet ) {\r\n\t\tthrow \"Syntax error, unrecognized expression: \" + (cur || selector);\r\n\t}\r\n\r\n\tif ( toString.call(checkSet) === \"[object Array]\" ) {\r\n\t\tif ( !prune ) {\r\n\t\t\tresults.push.apply( results, checkSet );\r\n\t\t} else if ( context && context.nodeType === 1 ) {\r\n\t\t\tfor ( var i = 0; checkSet[i] != null; i++ ) {\r\n\t\t\t\tif ( checkSet[i] && (checkSet[i] === true || checkSet[i].nodeType === 1 && contains(context, checkSet[i])) ) {\r\n\t\t\t\t\tresults.push( set[i] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor ( var i = 0; checkSet[i] != null; i++ ) {\r\n\t\t\t\tif ( checkSet[i] && checkSet[i].nodeType === 1 ) {\r\n\t\t\t\t\tresults.push( set[i] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tmakeArray( checkSet, results );\r\n\t}\r\n\r\n\tif ( extra ) {\r\n\t\tSizzle( extra, origContext, results, seed );\r\n\t\tSizzle.uniqueSort( results );\r\n\t}\r\n\r\n\treturn results;\r\n};\r\n\r\nSizzle.uniqueSort = function(results){\r\n\tif ( sortOrder ) {\r\n\t\thasDuplicate = baseHasDuplicate;\r\n\t\tresults.sort(sortOrder);\r\n\r\n\t\tif ( hasDuplicate ) {\r\n\t\t\tfor ( var i = 1; i < results.length; i++ ) {\r\n\t\t\t\tif ( results[i] === results[i-1] ) {\r\n\t\t\t\t\tresults.splice(i--, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn results;\r\n};\r\n\r\nSizzle.matches = function(expr, set){\r\n\treturn Sizzle(expr, null, null, set);\r\n};\r\n\r\nSizzle.find = function(expr, context, isXML){\r\n\tvar set, match;\r\n\r\n\tif ( !expr ) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\tfor ( var i = 0, l = Expr.order.length; i < l; i++ ) {\r\n\t\tvar type = Expr.order[i], match;\r\n\r\n\t\tif ( (match = Expr.leftMatch[ type ].exec( expr )) ) {\r\n\t\t\tvar left = match[1];\r\n\t\t\tmatch.splice(1,1);\r\n\r\n\t\t\tif ( left.substr( left.length - 1 ) !== \"\\\\\" ) {\r\n\t\t\t\tmatch[1] = (match[1] || \"\").replace(/\\\\/g, \"\");\r\n\t\t\t\tset = Expr.find[ type ]( match, context, isXML );\r\n\t\t\t\tif ( set != null ) {\r\n\t\t\t\t\texpr = expr.replace( Expr.match[ type ], \"\" );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif ( !set ) {\r\n\t\tset = context.getElementsByTagName(\"*\");\r\n\t}\r\n\r\n\treturn {set: set, expr: expr};\r\n};\r\n\r\nSizzle.filter = function(expr, set, inplace, not){\r\n\tvar old = expr, result = [], curLoop = set, match, anyFound,\r\n\t\tisXMLFilter = set && set[0] && isXML(set[0]);\r\n\r\n\twhile ( expr && set.length ) {\r\n\t\tfor ( var type in Expr.filter ) {\r\n\t\t\tif ( (match = Expr.match[ type ].exec( expr )) != null ) {\r\n\t\t\t\tvar filter = Expr.filter[ type ], found, item;\r\n\t\t\t\tanyFound = false;\r\n\r\n\t\t\t\tif ( curLoop == result ) {\r\n\t\t\t\t\tresult = [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( Expr.preFilter[ type ] ) {\r\n\t\t\t\t\tmatch = Expr.preFilter[ type ]( match, curLoop, inplace, result, not, isXMLFilter );\r\n\r\n\t\t\t\t\tif ( !match ) {\r\n\t\t\t\t\t\tanyFound = found = true;\r\n\t\t\t\t\t} else if ( match === true ) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( match ) {\r\n\t\t\t\t\tfor ( var i = 0; (item = curLoop[i]) != null; i++ ) {\r\n\t\t\t\t\t\tif ( item ) {\r\n\t\t\t\t\t\t\tfound = filter( item, match, i, curLoop );\r\n\t\t\t\t\t\t\tvar pass = not ^ !!found;\r\n\r\n\t\t\t\t\t\t\tif ( inplace && found != null ) {\r\n\t\t\t\t\t\t\t\tif ( pass ) {\r\n\t\t\t\t\t\t\t\t\tanyFound = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tcurLoop[i] = false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if ( pass ) {\r\n\t\t\t\t\t\t\t\tresult.push( item );\r\n\t\t\t\t\t\t\t\tanyFound = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( found !== undefined ) {\r\n\t\t\t\t\tif ( !inplace ) {\r\n\t\t\t\t\t\tcurLoop = result;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\texpr = expr.replace( Expr.match[ type ], \"\" );\r\n\r\n\t\t\t\t\tif ( !anyFound ) {\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( expr == old ) {\r\n\t\t\tif ( anyFound == null ) {\r\n\t\t\t\tthrow \"Syntax error, unrecognized expression: \" + expr;\r\n\t\t\t} else {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\told = expr;\r\n\t}\r\n\r\n\treturn curLoop;\r\n};\r\n\r\nvar Expr = Sizzle.selectors = {\r\n\torder: [ \"ID\", \"NAME\", \"TAG\" ],\r\n\tmatch: {\r\n\t\tID: /#((?:[\\w\\u00c0-\\uFFFF-]|\\\\.)+)/,\r\n\t\tCLASS: /\\.((?:[\\w\\u00c0-\\uFFFF-]|\\\\.)+)/,\r\n\t\tNAME: /\\[name=['\"]*((?:[\\w\\u00c0-\\uFFFF-]|\\\\.)+)['\"]*\\]/,\r\n\t\tATTR: /\\[\\s*((?:[\\w\\u00c0-\\uFFFF-]|\\\\.)+)\\s*(?:(\\S?=)\\s*(['\"]*)(.*?)\\3|)\\s*\\]/,\r\n\t\tTAG: /^((?:[\\w\\u00c0-\\uFFFF\\*-]|\\\\.)+)/,\r\n\t\tCHILD: /:(only|nth|last|first)-child(?:\\((even|odd|[\\dn+-]*)\\))?/,\r\n\t\tPOS: /:(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\))?(?=[^-]|$)/,\r\n\t\tPSEUDO: /:((?:[\\w\\u00c0-\\uFFFF-]|\\\\.)+)(?:\\((['\"]*)((?:\\([^\\)]+\\)|[^\\2\\(\\)]*)+)\\2\\))?/\r\n\t},\r\n\tleftMatch: {},\r\n\tattrMap: {\r\n\t\t\"class\": \"className\",\r\n\t\t\"for\": \"htmlFor\"\r\n\t},\r\n\tattrHandle: {\r\n\t\thref: function(elem){\r\n\t\t\treturn elem.getAttribute(\"href\");\r\n\t\t}\r\n\t},\r\n\trelative: {\r\n\t\t\"+\": function(checkSet, part, isXML){\r\n\t\t\tvar isPartStr = typeof part === \"string\",\r\n\t\t\t\tisTag = isPartStr && !/\\W/.test(part),\r\n\t\t\t\tisPartStrNotTag = isPartStr && !isTag;\r\n\r\n\t\t\tif ( isTag && !isXML ) {\r\n\t\t\t\tpart = part.toUpperCase();\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var i = 0, l = checkSet.length, elem; i < l; i++ ) {\r\n\t\t\t\tif ( (elem = checkSet[i]) ) {\r\n\t\t\t\t\twhile ( (elem = elem.previousSibling) && elem.nodeType !== 1 ) {}\r\n\r\n\t\t\t\t\tcheckSet[i] = isPartStrNotTag || elem && elem.nodeName === part ?\r\n\t\t\t\t\t\telem || false :\r\n\t\t\t\t\t\telem === part;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( isPartStrNotTag ) {\r\n\t\t\t\tSizzle.filter( part, checkSet, true );\r\n\t\t\t}\r\n\t\t},\r\n\t\t\">\": function(checkSet, part, isXML){\r\n\t\t\tvar isPartStr = typeof part === \"string\";\r\n\r\n\t\t\tif ( isPartStr && !/\\W/.test(part) ) {\r\n\t\t\t\tpart = isXML ? part : part.toUpperCase();\r\n\r\n\t\t\t\tfor ( var i = 0, l = checkSet.length; i < l; i++ ) {\r\n\t\t\t\t\tvar elem = checkSet[i];\r\n\t\t\t\t\tif ( elem ) {\r\n\t\t\t\t\t\tvar parent = elem.parentNode;\r\n\t\t\t\t\t\tcheckSet[i] = parent.nodeName === part ? parent : false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor ( var i = 0, l = checkSet.length; i < l; i++ ) {\r\n\t\t\t\t\tvar elem = checkSet[i];\r\n\t\t\t\t\tif ( elem ) {\r\n\t\t\t\t\t\tcheckSet[i] = isPartStr ?\r\n\t\t\t\t\t\t\telem.parentNode :\r\n\t\t\t\t\t\t\telem.parentNode === part;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( isPartStr ) {\r\n\t\t\t\t\tSizzle.filter( part, checkSet, true );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"\": function(checkSet, part, isXML){\r\n\t\t\tvar doneName = done++, checkFn = dirCheck;\r\n\r\n\t\t\tif ( !/\\W/.test(part) ) {\r\n\t\t\t\tvar nodeCheck = part = isXML ? part : part.toUpperCase();\r\n\t\t\t\tcheckFn = dirNodeCheck;\r\n\t\t\t}\r\n\r\n\t\t\tcheckFn(\"parentNode\", part, doneName, checkSet, nodeCheck, isXML);\r\n\t\t},\r\n\t\t\"~\": function(checkSet, part, isXML){\r\n\t\t\tvar doneName = done++, checkFn = dirCheck;\r\n\r\n\t\t\tif ( typeof part === \"string\" && !/\\W/.test(part) ) {\r\n\t\t\t\tvar nodeCheck = part = isXML ? part : part.toUpperCase();\r\n\t\t\t\tcheckFn = dirNodeCheck;\r\n\t\t\t}\r\n\r\n\t\t\tcheckFn(\"previousSibling\", part, doneName, checkSet, nodeCheck, isXML);\r\n\t\t}\r\n\t},\r\n\tfind: {\r\n\t\tID: function(match, context, isXML){\r\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && !isXML ) {\r\n\t\t\t\tvar m = context.getElementById(match[1]);\r\n\t\t\t\treturn m ? [m] : [];\r\n\t\t\t}\r\n\t\t},\r\n\t\tNAME: function(match, context, isXML){\r\n\t\t\tif ( typeof context.getElementsByName !== \"undefined\" ) {\r\n\t\t\t\tvar ret = [], results = context.getElementsByName(match[1]);\r\n\r\n\t\t\t\tfor ( var i = 0, l = results.length; i < l; i++ ) {\r\n\t\t\t\t\tif ( results[i].getAttribute(\"name\") === match[1] ) {\r\n\t\t\t\t\t\tret.push( results[i] );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn ret.length === 0 ? null : ret;\r\n\t\t\t}\r\n\t\t},\r\n\t\tTAG: function(match, context){\r\n\t\t\treturn context.getElementsByTagName(match[1]);\r\n\t\t}\r\n\t},\r\n\tpreFilter: {\r\n\t\tCLASS: function(match, curLoop, inplace, result, not, isXML){\r\n\t\t\tmatch = \" \" + match[1].replace(/\\\\/g, \"\") + \" \";\r\n\r\n\t\t\tif ( isXML ) {\r\n\t\t\t\treturn match;\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var i = 0, elem; (elem = curLoop[i]) != null; i++ ) {\r\n\t\t\t\tif ( elem ) {\r\n\t\t\t\t\tif ( not ^ (elem.className && (\" \" + elem.className + \" \").indexOf(match) >= 0) ) {\r\n\t\t\t\t\t\tif ( !inplace )\r\n\t\t\t\t\t\t\tresult.push( elem );\r\n\t\t\t\t\t} else if ( inplace ) {\r\n\t\t\t\t\t\tcurLoop[i] = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tID: function(match){\r\n\t\t\treturn match[1].replace(/\\\\/g, \"\");\r\n\t\t},\r\n\t\tTAG: function(match, curLoop){\r\n\t\t\tfor ( var i = 0; curLoop[i] === false; i++ ){}\r\n\t\t\treturn curLoop[i] && isXML(curLoop[i]) ? match[1] : match[1].toUpperCase();\r\n\t\t},\r\n\t\tCHILD: function(match){\r\n\t\t\tif ( match[1] == \"nth\" ) {\r\n\t\t\t\tvar test = /(-?)(\\d*)n((?:\\+|-)?\\d*)/.exec(\r\n\t\t\t\t\tmatch[2] == \"even\" && \"2n\" || match[2] == \"odd\" && \"2n+1\" ||\r\n\t\t\t\t\t!/\\D/.test( match[2] ) && \"0n+\" + match[2] || match[2]);\r\n\r\n\t\t\t\tmatch[2] = (test[1] + (test[2] || 1)) - 0;\r\n\t\t\t\tmatch[3] = test[3] - 0;\r\n\t\t\t}\r\n\r\n\t\t\tmatch[0] = done++;\r\n\r\n\t\t\treturn match;\r\n\t\t},\r\n\t\tATTR: function(match, curLoop, inplace, result, not, isXML){\r\n\t\t\tvar name = match[1].replace(/\\\\/g, \"\");\r\n\r\n\t\t\tif ( !isXML && Expr.attrMap[name] ) {\r\n\t\t\t\tmatch[1] = Expr.attrMap[name];\r\n\t\t\t}\r\n\r\n\t\t\tif ( match[2] === \"~=\" ) {\r\n\t\t\t\tmatch[4] = \" \" + match[4] + \" \";\r\n\t\t\t}\r\n\r\n\t\t\treturn match;\r\n\t\t},\r\n\t\tPSEUDO: function(match, curLoop, inplace, result, not){\r\n\t\t\tif ( match[1] === \"not\" ) {\r\n\t\t\t\tif ( ( chunker.exec(match[3]) || \"\" ).length > 1 || /^\\w/.test(match[3]) ) {\r\n\t\t\t\t\tmatch[3] = Sizzle(match[3], null, null, curLoop);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar ret = Sizzle.filter(match[3], curLoop, inplace, true ^ not);\r\n\t\t\t\t\tif ( !inplace ) {\r\n\t\t\t\t\t\tresult.push.apply( result, ret );\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t} else if ( Expr.match.POS.test( match[0] ) || Expr.match.CHILD.test( match[0] ) ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\treturn match;\r\n\t\t},\r\n\t\tPOS: function(match){\r\n\t\t\tmatch.unshift( true );\r\n\t\t\treturn match;\r\n\t\t}\r\n\t},\r\n\tfilters: {\r\n\t\tenabled: function(elem){\r\n\t\t\treturn elem.disabled === false && elem.type !== \"hidden\";\r\n\t\t},\r\n\t\tdisabled: function(elem){\r\n\t\t\treturn elem.disabled === true;\r\n\t\t},\r\n\t\tchecked: function(elem){\r\n\t\t\treturn elem.checked === true;\r\n\t\t},\r\n\t\tselected: function(elem){\r\n\t\t\telem.parentNode.selectedIndex;\r\n\t\t\treturn elem.selected === true;\r\n\t\t},\r\n\t\tparent: function(elem){\r\n\t\t\treturn !!elem.firstChild;\r\n\t\t},\r\n\t\tempty: function(elem){\r\n\t\t\treturn !elem.firstChild;\r\n\t\t},\r\n\t\thas: function(elem, i, match){\r\n\t\t\treturn !!Sizzle( match[3], elem ).length;\r\n\t\t},\r\n\t\theader: function(elem){\r\n\t\t\treturn /h\\d/i.test( elem.nodeName );\r\n\t\t},\r\n\t\ttext: function(elem){\r\n\t\t\treturn \"text\" === elem.type;\r\n\t\t},\r\n\t\tradio: function(elem){\r\n\t\t\treturn \"radio\" === elem.type;\r\n\t\t},\r\n\t\tcheckbox: function(elem){\r\n\t\t\treturn \"checkbox\" === elem.type;\r\n\t\t},\r\n\t\tfile: function(elem){\r\n\t\t\treturn \"file\" === elem.type;\r\n\t\t},\r\n\t\tpassword: function(elem){\r\n\t\t\treturn \"password\" === elem.type;\r\n\t\t},\r\n\t\tsubmit: function(elem){\r\n\t\t\treturn \"submit\" === elem.type;\r\n\t\t},\r\n\t\timage: function(elem){\r\n\t\t\treturn \"image\" === elem.type;\r\n\t\t},\r\n\t\treset: function(elem){\r\n\t\t\treturn \"reset\" === elem.type;\r\n\t\t},\r\n\t\tbutton: function(elem){\r\n\t\t\treturn \"button\" === elem.type || elem.nodeName.toUpperCase() === \"BUTTON\";\r\n\t\t},\r\n\t\tinput: function(elem){\r\n\t\t\treturn /input|select|textarea|button/i.test(elem.nodeName);\r\n\t\t}\r\n\t},\r\n\tsetFilters: {\r\n\t\tfirst: function(elem, i){\r\n\t\t\treturn i === 0;\r\n\t\t},\r\n\t\tlast: function(elem, i, match, array){\r\n\t\t\treturn i === array.length - 1;\r\n\t\t},\r\n\t\teven: function(elem, i){\r\n\t\t\treturn i % 2 === 0;\r\n\t\t},\r\n\t\todd: function(elem, i){\r\n\t\t\treturn i % 2 === 1;\r\n\t\t},\r\n\t\tlt: function(elem, i, match){\r\n\t\t\treturn i < match[3] - 0;\r\n\t\t},\r\n\t\tgt: function(elem, i, match){\r\n\t\t\treturn i > match[3] - 0;\r\n\t\t},\r\n\t\tnth: function(elem, i, match){\r\n\t\t\treturn match[3] - 0 == i;\r\n\t\t},\r\n\t\teq: function(elem, i, match){\r\n\t\t\treturn match[3] - 0 == i;\r\n\t\t}\r\n\t},\r\n\tfilter: {\r\n\t\tPSEUDO: function(elem, match, i, array){\r\n\t\t\tvar name = match[1], filter = Expr.filters[ name ];\r\n\r\n\t\t\tif ( filter ) {\r\n\t\t\t\treturn filter( elem, i, match, array );\r\n\t\t\t} else if ( name === \"contains\" ) {\r\n\t\t\t\treturn (elem.textContent || elem.innerText || \"\").indexOf(match[3]) >= 0;\r\n\t\t\t} else if ( name === \"not\" ) {\r\n\t\t\t\tvar not = match[3];\r\n\r\n\t\t\t\tfor ( var i = 0, l = not.length; i < l; i++ ) {\r\n\t\t\t\t\tif ( not[i] === elem ) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tCHILD: function(elem, match){\r\n\t\t\tvar type = match[1], node = elem;\r\n\t\t\tswitch (type) {\r\n\t\t\t\tcase 'only':\r\n\t\t\t\tcase 'first':\r\n\t\t\t\t\twhile ( (node = node.previousSibling) )  {\r\n\t\t\t\t\t\tif ( node.nodeType === 1 ) return false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( type == 'first') return true;\r\n\t\t\t\t\tnode = elem;\r\n\t\t\t\tcase 'last':\r\n\t\t\t\t\twhile ( (node = node.nextSibling) )  {\r\n\t\t\t\t\t\tif ( node.nodeType === 1 ) return false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn true;\r\n\t\t\t\tcase 'nth':\r\n\t\t\t\t\tvar first = match[2], last = match[3];\r\n\r\n\t\t\t\t\tif ( first == 1 && last == 0 ) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar doneName = match[0],\r\n\t\t\t\t\t\tparent = elem.parentNode;\r\n\r\n\t\t\t\t\tif ( parent && (parent.sizcache !== doneName || !elem.nodeIndex) ) {\r\n\t\t\t\t\t\tvar count = 0;\r\n\t\t\t\t\t\tfor ( node = parent.firstChild; node; node = node.nextSibling ) {\r\n\t\t\t\t\t\t\tif ( node.nodeType === 1 ) {\r\n\t\t\t\t\t\t\t\tnode.nodeIndex = ++count;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tparent.sizcache = doneName;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar diff = elem.nodeIndex - last;\r\n\t\t\t\t\tif ( first == 0 ) {\r\n\t\t\t\t\t\treturn diff == 0;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn ( diff % first == 0 && diff / first >= 0 );\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tID: function(elem, match){\r\n\t\t\treturn elem.nodeType === 1 && elem.getAttribute(\"id\") === match;\r\n\t\t},\r\n\t\tTAG: function(elem, match){\r\n\t\t\treturn (match === \"*\" && elem.nodeType === 1) || elem.nodeName === match;\r\n\t\t},\r\n\t\tCLASS: function(elem, match){\r\n\t\t\treturn (\" \" + (elem.className || elem.getAttribute(\"class\")) + \" \")\r\n\t\t\t\t.indexOf( match ) > -1;\r\n\t\t},\r\n\t\tATTR: function(elem, match){\r\n\t\t\tvar name = match[1],\r\n\t\t\t\tresult = Expr.attrHandle[ name ] ?\r\n\t\t\t\t\tExpr.attrHandle[ name ]( elem ) :\r\n\t\t\t\t\telem[ name ] != null ?\r\n\t\t\t\t\t\telem[ name ] :\r\n\t\t\t\t\t\telem.getAttribute( name ),\r\n\t\t\t\tvalue = result + \"\",\r\n\t\t\t\ttype = match[2],\r\n\t\t\t\tcheck = match[4];\r\n\r\n\t\t\treturn result == null ?\r\n\t\t\t\ttype === \"!=\" :\r\n\t\t\t\ttype === \"=\" ?\r\n\t\t\t\tvalue === check :\r\n\t\t\t\ttype === \"*=\" ?\r\n\t\t\t\tvalue.indexOf(check) >= 0 :\r\n\t\t\t\ttype === \"~=\" ?\r\n\t\t\t\t(\" \" + value + \" \").indexOf(check) >= 0 :\r\n\t\t\t\t!check ?\r\n\t\t\t\tvalue && result !== false :\r\n\t\t\t\ttype === \"!=\" ?\r\n\t\t\t\tvalue != check :\r\n\t\t\t\ttype === \"^=\" ?\r\n\t\t\t\tvalue.indexOf(check) === 0 :\r\n\t\t\t\ttype === \"$=\" ?\r\n\t\t\t\tvalue.substr(value.length - check.length) === check :\r\n\t\t\t\ttype === \"|=\" ?\r\n\t\t\t\tvalue === check || value.substr(0, check.length + 1) === check + \"-\" :\r\n\t\t\t\tfalse;\r\n\t\t},\r\n\t\tPOS: function(elem, match, i, array){\r\n\t\t\tvar name = match[2], filter = Expr.setFilters[ name ];\r\n\r\n\t\t\tif ( filter ) {\r\n\t\t\t\treturn filter( elem, i, match, array );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\nvar origPOS = Expr.match.POS;\r\n\r\nfor ( var type in Expr.match ) {\r\n\tExpr.match[ type ] = new RegExp( Expr.match[ type ].source + /(?![^\\[]*\\])(?![^\\(]*\\))/.source );\r\n\tExpr.leftMatch[ type ] = new RegExp( /(^(?:.|\\r|\\n)*?)/.source + Expr.match[ type ].source );\r\n}\r\n\r\nvar makeArray = function(array, results) {\r\n\tarray = Array.prototype.slice.call( array, 0 );\r\n\r\n\tif ( results ) {\r\n\t\tresults.push.apply( results, array );\r\n\t\treturn results;\r\n\t}\r\n\r\n\treturn array;\r\n};\r\n\r\ntry {\r\n\tArray.prototype.slice.call( document.documentElement.childNodes, 0 );\r\n\r\n} catch(e){\r\n\tmakeArray = function(array, results) {\r\n\t\tvar ret = results || [];\r\n\r\n\t\tif ( toString.call(array) === \"[object Array]\" ) {\r\n\t\t\tArray.prototype.push.apply( ret, array );\r\n\t\t} else {\r\n\t\t\tif ( typeof array.length === \"number\" ) {\r\n\t\t\t\tfor ( var i = 0, l = array.length; i < l; i++ ) {\r\n\t\t\t\t\tret.push( array[i] );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor ( var i = 0; array[i]; i++ ) {\r\n\t\t\t\t\tret.push( array[i] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ret;\r\n\t};\r\n}\r\n\r\nvar sortOrder;\r\n\r\nif ( document.documentElement.compareDocumentPosition ) {\r\n\tsortOrder = function( a, b ) {\r\n\t\tif ( !a.compareDocumentPosition || !b.compareDocumentPosition ) {\r\n\t\t\tif ( a == b ) {\r\n\t\t\t\thasDuplicate = true;\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tvar ret = a.compareDocumentPosition(b) & 4 ? -1 : a === b ? 0 : 1;\r\n\t\tif ( ret === 0 ) {\r\n\t\t\thasDuplicate = true;\r\n\t\t}\r\n\t\treturn ret;\r\n\t};\r\n} else if ( \"sourceIndex\" in document.documentElement ) {\r\n\tsortOrder = function( a, b ) {\r\n\t\tif ( !a.sourceIndex || !b.sourceIndex ) {\r\n\t\t\tif ( a == b ) {\r\n\t\t\t\thasDuplicate = true;\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tvar ret = a.sourceIndex - b.sourceIndex;\r\n\t\tif ( ret === 0 ) {\r\n\t\t\thasDuplicate = true;\r\n\t\t}\r\n\t\treturn ret;\r\n\t};\r\n} else if ( document.createRange ) {\r\n\tsortOrder = function( a, b ) {\r\n\t\tif ( !a.ownerDocument || !b.ownerDocument ) {\r\n\t\t\tif ( a == b ) {\r\n\t\t\t\thasDuplicate = true;\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tvar aRange = a.ownerDocument.createRange(), bRange = b.ownerDocument.createRange();\r\n\t\taRange.setStart(a, 0);\r\n\t\taRange.setEnd(a, 0);\r\n\t\tbRange.setStart(b, 0);\r\n\t\tbRange.setEnd(b, 0);\r\n\t\tvar ret = aRange.compareBoundaryPoints(Range.START_TO_END, bRange);\r\n\t\tif ( ret === 0 ) {\r\n\t\t\thasDuplicate = true;\r\n\t\t}\r\n\t\treturn ret;\r\n\t};\r\n}\r\n\r\n(function(){\r\n\tvar form = document.createElement(\"div\"),\r\n\t\tid = \"script\" + (new Date).getTime();\r\n\tform.innerHTML = \"<a name='\" + id + \"'/>\";\r\n\r\n\tvar root = document.documentElement;\r\n\troot.insertBefore( form, root.firstChild );\r\n\r\n\tif ( !!document.getElementById( id ) ) {\r\n\t\tExpr.find.ID = function(match, context, isXML){\r\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && !isXML ) {\r\n\t\t\t\tvar m = context.getElementById(match[1]);\r\n\t\t\t\treturn m ? m.id === match[1] || typeof m.getAttributeNode !== \"undefined\" && m.getAttributeNode(\"id\").nodeValue === match[1] ? [m] : undefined : [];\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tExpr.filter.ID = function(elem, match){\r\n\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" && elem.getAttributeNode(\"id\");\r\n\t\t\treturn elem.nodeType === 1 && node && node.nodeValue === match;\r\n\t\t};\r\n\t}\r\n\r\n\troot.removeChild( form );\r\n\troot = form = null; // release memory in IE\r\n})();\r\n\r\n(function(){\r\n\r\n\tvar div = document.createElement(\"div\");\r\n\tdiv.appendChild( document.createComment(\"\") );\r\n\r\n\tif ( div.getElementsByTagName(\"*\").length > 0 ) {\r\n\t\tExpr.find.TAG = function(match, context){\r\n\t\t\tvar results = context.getElementsByTagName(match[1]);\r\n\r\n\t\t\tif ( match[1] === \"*\" ) {\r\n\t\t\t\tvar tmp = [];\r\n\r\n\t\t\t\tfor ( var i = 0; results[i]; i++ ) {\r\n\t\t\t\t\tif ( results[i].nodeType === 1 ) {\r\n\t\t\t\t\t\ttmp.push( results[i] );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tresults = tmp;\r\n\t\t\t}\r\n\r\n\t\t\treturn results;\r\n\t\t};\r\n\t}\r\n\r\n\tdiv.innerHTML = \"<a href='#'></a>\";\r\n\tif ( div.firstChild && typeof div.firstChild.getAttribute !== \"undefined\" &&\r\n\t\t\tdiv.firstChild.getAttribute(\"href\") !== \"#\" ) {\r\n\t\tExpr.attrHandle.href = function(elem){\r\n\t\t\treturn elem.getAttribute(\"href\", 2);\r\n\t\t};\r\n\t}\r\n\r\n\tdiv = null; // release memory in IE\r\n})();\r\n\r\nif ( document.querySelectorAll ) (function(){\r\n\tvar oldSizzle = Sizzle, div = document.createElement(\"div\");\r\n\tdiv.innerHTML = \"<p class='TEST'></p>\";\r\n\r\n\tif ( div.querySelectorAll && div.querySelectorAll(\".TEST\").length === 0 ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tSizzle = function(query, context, extra, seed){\r\n\t\tcontext = context || document;\r\n\r\n\t\tif ( !seed && context.nodeType === 9 && !isXML(context) ) {\r\n\t\t\ttry {\r\n\t\t\t\treturn makeArray( context.querySelectorAll(query), extra );\r\n\t\t\t} catch(e){}\r\n\t\t}\r\n\r\n\t\treturn oldSizzle(query, context, extra, seed);\r\n\t};\r\n\r\n\tfor ( var prop in oldSizzle ) {\r\n\t\tSizzle[ prop ] = oldSizzle[ prop ];\r\n\t}\r\n\r\n\tdiv = null; // release memory in IE\r\n})();\r\n\r\nif ( document.getElementsByClassName && document.documentElement.getElementsByClassName ) (function(){\r\n\tvar div = document.createElement(\"div\");\r\n\tdiv.innerHTML = \"<div class='test e'></div><div class='test'></div>\";\r\n\r\n\tif ( div.getElementsByClassName(\"e\").length === 0 )\r\n\t\treturn;\r\n\r\n\tdiv.lastChild.className = \"e\";\r\n\r\n\tif ( div.getElementsByClassName(\"e\").length === 1 )\r\n\t\treturn;\r\n\r\n\tExpr.order.splice(1, 0, \"CLASS\");\r\n\tExpr.find.CLASS = function(match, context, isXML) {\r\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && !isXML ) {\r\n\t\t\treturn context.getElementsByClassName(match[1]);\r\n\t\t}\r\n\t};\r\n\r\n\tdiv = null; // release memory in IE\r\n})();\r\n\r\nfunction dirNodeCheck( dir, cur, doneName, checkSet, nodeCheck, isXML ) {\r\n\tvar sibDir = dir == \"previousSibling\" && !isXML;\r\n\tfor ( var i = 0, l = checkSet.length; i < l; i++ ) {\r\n\t\tvar elem = checkSet[i];\r\n\t\tif ( elem ) {\r\n\t\t\tif ( sibDir && elem.nodeType === 1 ){\r\n\t\t\t\telem.sizcache = doneName;\r\n\t\t\t\telem.sizset = i;\r\n\t\t\t}\r\n\t\t\telem = elem[dir];\r\n\t\t\tvar match = false;\r\n\r\n\t\t\twhile ( elem ) {\r\n\t\t\t\tif ( elem.sizcache === doneName ) {\r\n\t\t\t\t\tmatch = checkSet[elem.sizset];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( elem.nodeType === 1 && !isXML ){\r\n\t\t\t\t\telem.sizcache = doneName;\r\n\t\t\t\t\telem.sizset = i;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( elem.nodeName === cur ) {\r\n\t\t\t\t\tmatch = elem;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\telem = elem[dir];\r\n\t\t\t}\r\n\r\n\t\t\tcheckSet[i] = match;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction dirCheck( dir, cur, doneName, checkSet, nodeCheck, isXML ) {\r\n\tvar sibDir = dir == \"previousSibling\" && !isXML;\r\n\tfor ( var i = 0, l = checkSet.length; i < l; i++ ) {\r\n\t\tvar elem = checkSet[i];\r\n\t\tif ( elem ) {\r\n\t\t\tif ( sibDir && elem.nodeType === 1 ) {\r\n\t\t\t\telem.sizcache = doneName;\r\n\t\t\t\telem.sizset = i;\r\n\t\t\t}\r\n\t\t\telem = elem[dir];\r\n\t\t\tvar match = false;\r\n\r\n\t\t\twhile ( elem ) {\r\n\t\t\t\tif ( elem.sizcache === doneName ) {\r\n\t\t\t\t\tmatch = checkSet[elem.sizset];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( elem.nodeType === 1 ) {\r\n\t\t\t\t\tif ( !isXML ) {\r\n\t\t\t\t\t\telem.sizcache = doneName;\r\n\t\t\t\t\t\telem.sizset = i;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( typeof cur !== \"string\" ) {\r\n\t\t\t\t\t\tif ( elem === cur ) {\r\n\t\t\t\t\t\t\tmatch = true;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else if ( Sizzle.filter( cur, [elem] ).length > 0 ) {\r\n\t\t\t\t\t\tmatch = elem;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\telem = elem[dir];\r\n\t\t\t}\r\n\r\n\t\t\tcheckSet[i] = match;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nvar contains = document.compareDocumentPosition ?  function(a, b){\r\n\treturn a.compareDocumentPosition(b) & 16;\r\n} : function(a, b){\r\n\treturn a !== b && (a.contains ? a.contains(b) : true);\r\n};\r\n\r\nvar isXML = function(elem){\r\n\treturn elem.nodeType === 9 && elem.documentElement.nodeName !== \"HTML\" ||\r\n\t\t!!elem.ownerDocument && elem.ownerDocument.documentElement.nodeName !== \"HTML\";\r\n};\r\n\r\nvar posProcess = function(selector, context){\r\n\tvar tmpSet = [], later = \"\", match,\r\n\t\troot = context.nodeType ? [context] : context;\r\n\r\n\twhile ( (match = Expr.match.PSEUDO.exec( selector )) ) {\r\n\t\tlater += match[0];\r\n\t\tselector = selector.replace( Expr.match.PSEUDO, \"\" );\r\n\t}\r\n\r\n\tselector = Expr.relative[selector] ? selector + \"*\" : selector;\r\n\r\n\tfor ( var i = 0, l = root.length; i < l; i++ ) {\r\n\t\tSizzle( selector, root[i], tmpSet );\r\n\t}\r\n\r\n\treturn Sizzle.filter( later, tmpSet );\r\n};\r\n\r\n\r\nwindow.Sizzle = Sizzle;\r\n\r\n})();\r\n\r\n;(function(engine) {\r\n  var extendElements = Prototype.Selector.extendElements;\r\n\r\n  function select(selector, scope) {\r\n    return extendElements(engine(selector, scope || document));\r\n  }\r\n\r\n  function match(element, selector) {\r\n    return engine.matches(selector, [element]).length == 1;\r\n  }\r\n\r\n  Prototype.Selector.engine = engine;\r\n  Prototype.Selector.select = select;\r\n  Prototype.Selector.match = match;\r\n})(Sizzle);\r\n\r\nwindow.Sizzle = Prototype._original_property;\r\ndelete Prototype._original_property;\r\n\r\nvar Form = {\r\n  reset: function(form) {\r\n    form = $(form);\r\n    form.reset();\r\n    return form;\r\n  },\r\n\r\n  serializeElements: function(elements, options) {\r\n    if (typeof options != 'object') options = { hash: !!options };\r\n    else if (Object.isUndefined(options.hash)) options.hash = true;\r\n    var key, value, submitted = false, submit = options.submit, accumulator, initial;\r\n\r\n    if (options.hash) {\r\n      initial = {};\r\n      accumulator = function(result, key, value) {\r\n        if (key in result) {\r\n          if (!Object.isArray(result[key])) result[key] = [result[key]];\r\n          result[key].push(value);\r\n        } else result[key] = value;\r\n        return result;\r\n      };\r\n    } else {\r\n      initial = '';\r\n      accumulator = function(result, key, value) {\r\n        return result + (result ? '&' : '') + encodeURIComponent(key) + '=' + encodeURIComponent(value);\r\n      }\r\n    }\r\n\r\n    return elements.inject(initial, function(result, element) {\r\n      if (!element.disabled && element.name) {\r\n        key = element.name; value = $(element).getValue();\r\n        if (value != null && element.type != 'file' && (element.type != 'submit' || (!submitted &&\r\n            submit !== false && (!submit || key == submit) && (submitted = true)))) {\r\n          result = accumulator(result, key, value);\r\n        }\r\n      }\r\n      return result;\r\n    });\r\n  }\r\n};\r\n\r\nForm.Methods = {\r\n  serialize: function(form, options) {\r\n    return Form.serializeElements(Form.getElements(form), options);\r\n  },\r\n\r\n  getElements: function(form) {\r\n    var elements = $(form).getElementsByTagName('*'),\r\n        element,\r\n        arr = [ ],\r\n        serializers = Form.Element.Serializers;\r\n    for (var i = 0; element = elements[i]; i++) {\r\n      arr.push(element);\r\n    }\r\n    return arr.inject([], function(elements, child) {\r\n      if (serializers[child.tagName.toLowerCase()])\r\n        elements.push(Element.extend(child));\r\n      return elements;\r\n    })\r\n  },\r\n\r\n  getInputs: function(form, typeName, name) {\r\n    form = $(form);\r\n    var inputs = form.getElementsByTagName('input');\r\n\r\n    if (!typeName && !name) return $A(inputs).map(Element.extend);\r\n\r\n    for (var i = 0, matchingInputs = [], length = inputs.length; i < length; i++) {\r\n      var input = inputs[i];\r\n      if ((typeName && input.type != typeName) || (name && input.name != name))\r\n        continue;\r\n      matchingInputs.push(Element.extend(input));\r\n    }\r\n\r\n    return matchingInputs;\r\n  },\r\n\r\n  disable: function(form) {\r\n    form = $(form);\r\n    Form.getElements(form).invoke('disable');\r\n    return form;\r\n  },\r\n\r\n  enable: function(form) {\r\n    form = $(form);\r\n    Form.getElements(form).invoke('enable');\r\n    return form;\r\n  },\r\n\r\n  findFirstElement: function(form) {\r\n    var elements = $(form).getElements().findAll(function(element) {\r\n      return 'hidden' != element.type && !element.disabled;\r\n    });\r\n    var firstByIndex = elements.findAll(function(element) {\r\n      return element.hasAttribute('tabIndex') && element.tabIndex >= 0;\r\n    }).sortBy(function(element) { return element.tabIndex }).first();\r\n\r\n    return firstByIndex ? firstByIndex : elements.find(function(element) {\r\n      return /^(?:input|select|textarea)$/i.test(element.tagName);\r\n    });\r\n  },\r\n\r\n  focusFirstElement: function(form) {\r\n    form = $(form);\r\n    var element = form.findFirstElement();\r\n    if (element) element.activate();\r\n    return form;\r\n  },\r\n\r\n  request: function(form, options) {\r\n    form = $(form), options = Object.clone(options || { });\r\n\r\n    var params = options.parameters, action = form.readAttribute('action') || '';\r\n    if (action.blank()) action = window.location.href;\r\n    options.parameters = form.serialize(true);\r\n\r\n    if (params) {\r\n      if (Object.isString(params)) params = params.toQueryParams();\r\n      Object.extend(options.parameters, params);\r\n    }\r\n\r\n    if (form.hasAttribute('method') && !options.method)\r\n      options.method = form.method;\r\n\r\n    return new Ajax.Request(action, options);\r\n  }\r\n};\r\n\r\n/*--------------------------------------------------------------------------*/\r\n\r\n\r\nForm.Element = {\r\n  focus: function(element) {\r\n    $(element).focus();\r\n    return element;\r\n  },\r\n\r\n  select: function(element) {\r\n    $(element).select();\r\n    return element;\r\n  }\r\n};\r\n\r\nForm.Element.Methods = {\r\n\r\n  serialize: function(element) {\r\n    element = $(element);\r\n    if (!element.disabled && element.name) {\r\n      var value = element.getValue();\r\n      if (value != undefined) {\r\n        var pair = { };\r\n        pair[element.name] = value;\r\n        return Object.toQueryString(pair);\r\n      }\r\n    }\r\n    return '';\r\n  },\r\n\r\n  getValue: function(element) {\r\n    element = $(element);\r\n    var method = element.tagName.toLowerCase();\r\n    return Form.Element.Serializers[method](element);\r\n  },\r\n\r\n  setValue: function(element, value) {\r\n    element = $(element);\r\n    var method = element.tagName.toLowerCase();\r\n    Form.Element.Serializers[method](element, value);\r\n    return element;\r\n  },\r\n\r\n  clear: function(element) {\r\n    $(element).value = '';\r\n    return element;\r\n  },\r\n\r\n  present: function(element) {\r\n    return $(element).value != '';\r\n  },\r\n\r\n  activate: function(element) {\r\n    element = $(element);\r\n    try {\r\n      element.focus();\r\n      if (element.select && (element.tagName.toLowerCase() != 'input' ||\r\n          !(/^(?:button|reset|submit)$/i.test(element.type))))\r\n        element.select();\r\n    } catch (e) { }\r\n    return element;\r\n  },\r\n\r\n  disable: function(element) {\r\n    element = $(element);\r\n    element.disabled = true;\r\n    return element;\r\n  },\r\n\r\n  enable: function(element) {\r\n    element = $(element);\r\n    element.disabled = false;\r\n    return element;\r\n  }\r\n};\r\n\r\n/*--------------------------------------------------------------------------*/\r\n\r\nvar Field = Form.Element;\r\n\r\nvar $F = Form.Element.Methods.getValue;\r\n\r\n/*--------------------------------------------------------------------------*/\r\n\r\nForm.Element.Serializers = (function() {\r\n  function input(element, value) {\r\n    switch (element.type.toLowerCase()) {\r\n      case 'checkbox':\r\n      case 'radio':\r\n        return inputSelector(element, value);\r\n      default:\r\n        return valueSelector(element, value);\r\n    }\r\n  }\r\n\r\n  function inputSelector(element, value) {\r\n    if (Object.isUndefined(value))\r\n      return element.checked ? element.value : null;\r\n    else element.checked = !!value;\r\n  }\r\n\r\n  function valueSelector(element, value) {\r\n    if (Object.isUndefined(value)) return element.value;\r\n    else element.value = value;\r\n  }\r\n\r\n  function select(element, value) {\r\n    if (Object.isUndefined(value))\r\n      return (element.type === 'select-one' ? selectOne : selectMany)(element);\r\n\r\n    var opt, currentValue, single = !Object.isArray(value);\r\n    for (var i = 0, length = element.length; i < length; i++) {\r\n      opt = element.options[i];\r\n      currentValue = this.optionValue(opt);\r\n      if (single) {\r\n        if (currentValue == value) {\r\n          opt.selected = true;\r\n          return;\r\n        }\r\n      }\r\n      else opt.selected = value.include(currentValue);\r\n    }\r\n  }\r\n\r\n  function selectOne(element) {\r\n    var index = element.selectedIndex;\r\n    return index >= 0 ? optionValue(element.options[index]) : null;\r\n  }\r\n\r\n  function selectMany(element) {\r\n    var values, length = element.length;\r\n    if (!length) return null;\r\n\r\n    for (var i = 0, values = []; i < length; i++) {\r\n      var opt = element.options[i];\r\n      if (opt.selected) values.push(optionValue(opt));\r\n    }\r\n    return values;\r\n  }\r\n\r\n  function optionValue(opt) {\r\n    return Element.hasAttribute(opt, 'value') ? opt.value : opt.text;\r\n  }\r\n\r\n  return {\r\n    input:         input,\r\n    inputSelector: inputSelector,\r\n    textarea:      valueSelector,\r\n    select:        select,\r\n    selectOne:     selectOne,\r\n    selectMany:    selectMany,\r\n    optionValue:   optionValue,\r\n    button:        valueSelector\r\n  };\r\n})();\r\n\r\n/*--------------------------------------------------------------------------*/\r\n\r\n\r\nAbstract.TimedObserver = Class.create(PeriodicalExecuter, {\r\n  initialize: function($super, element, frequency, callback) {\r\n    $super(callback, frequency);\r\n    this.element   = $(element);\r\n    this.lastValue = this.getValue();\r\n  },\r\n\r\n  execute: function() {\r\n    var value = this.getValue();\r\n    if (Object.isString(this.lastValue) && Object.isString(value) ?\r\n        this.lastValue != value : String(this.lastValue) != String(value)) {\r\n      this.callback(this.element, value);\r\n      this.lastValue = value;\r\n    }\r\n  }\r\n});\r\n\r\nForm.Element.Observer = Class.create(Abstract.TimedObserver, {\r\n  getValue: function() {\r\n    return Form.Element.getValue(this.element);\r\n  }\r\n});\r\n\r\nForm.Observer = Class.create(Abstract.TimedObserver, {\r\n  getValue: function() {\r\n    return Form.serialize(this.element);\r\n  }\r\n});\r\n\r\n/*--------------------------------------------------------------------------*/\r\n\r\nAbstract.EventObserver = Class.create({\r\n  initialize: function(element, callback) {\r\n    this.element  = $(element);\r\n    this.callback = callback;\r\n\r\n    this.lastValue = this.getValue();\r\n    if (this.element.tagName.toLowerCase() == 'form')\r\n      this.registerFormCallbacks();\r\n    else\r\n      this.registerCallback(this.element);\r\n  },\r\n\r\n  onElementEvent: function() {\r\n    var value = this.getValue();\r\n    if (this.lastValue != value) {\r\n      this.callback(this.element, value);\r\n      this.lastValue = value;\r\n    }\r\n  },\r\n\r\n  registerFormCallbacks: function() {\r\n    Form.getElements(this.element).each(this.registerCallback, this);\r\n  },\r\n\r\n  registerCallback: function(element) {\r\n    if (element.type) {\r\n      switch (element.type.toLowerCase()) {\r\n        case 'checkbox':\r\n        case 'radio':\r\n          Event.observe(element, 'click', this.onElementEvent.bind(this));\r\n          break;\r\n        default:\r\n          Event.observe(element, 'change', this.onElementEvent.bind(this));\r\n          break;\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nForm.Element.EventObserver = Class.create(Abstract.EventObserver, {\r\n  getValue: function() {\r\n    return Form.Element.getValue(this.element);\r\n  }\r\n});\r\n\r\nForm.EventObserver = Class.create(Abstract.EventObserver, {\r\n  getValue: function() {\r\n    return Form.serialize(this.element);\r\n  }\r\n});\r\n(function() {\r\n\r\n  var Event = {\r\n    KEY_BACKSPACE: 8,\r\n    KEY_TAB:       9,\r\n    KEY_RETURN:   13,\r\n    KEY_ESC:      27,\r\n    KEY_LEFT:     37,\r\n    KEY_UP:       38,\r\n    KEY_RIGHT:    39,\r\n    KEY_DOWN:     40,\r\n    KEY_DELETE:   46,\r\n    KEY_HOME:     36,\r\n    KEY_END:      35,\r\n    KEY_PAGEUP:   33,\r\n    KEY_PAGEDOWN: 34,\r\n    KEY_INSERT:   45,\r\n\r\n    cache: {}\r\n  };\r\n\r\n  var docEl = document.documentElement;\r\n  var MOUSEENTER_MOUSELEAVE_EVENTS_SUPPORTED = 'onmouseenter' in docEl\r\n    && 'onmouseleave' in docEl;\r\n\r\n\r\n\r\n  var isIELegacyEvent = function(event) { return false; };\r\n\r\n  if (window.attachEvent) {\r\n    if (window.addEventListener) {\r\n      isIELegacyEvent = function(event) {\r\n        return !(event instanceof window.Event);\r\n      };\r\n    } else {\r\n      isIELegacyEvent = function(event) { return true; };\r\n    }\r\n  }\r\n\r\n  var _isButton;\r\n\r\n  function _isButtonForDOMEvents(event, code) {\r\n    return event.which ? (event.which === code + 1) : (event.button === code);\r\n  }\r\n\r\n  var legacyButtonMap = { 0: 1, 1: 4, 2: 2 };\r\n  function _isButtonForLegacyEvents(event, code) {\r\n    return event.button === legacyButtonMap[code];\r\n  }\r\n\r\n  function _isButtonForWebKit(event, code) {\r\n    switch (code) {\r\n      case 0: return event.which == 1 && !event.metaKey;\r\n      case 1: return event.which == 2 || (event.which == 1 && event.metaKey);\r\n      case 2: return event.which == 3;\r\n      default: return false;\r\n    }\r\n  }\r\n\r\n  if (window.attachEvent) {\r\n    if (!window.addEventListener) {\r\n      _isButton = _isButtonForLegacyEvents;\r\n    } else {\r\n      _isButton = function(event, code) {\r\n        return isIELegacyEvent(event) ? _isButtonForLegacyEvents(event, code) :\r\n         _isButtonForDOMEvents(event, code);\r\n      }\r\n    }\r\n  } else if (Prototype.Browser.WebKit) {\r\n    _isButton = _isButtonForWebKit;\r\n  } else {\r\n    _isButton = _isButtonForDOMEvents;\r\n  }\r\n\r\n  function isLeftClick(event)   { return _isButton(event, 0) }\r\n\r\n  function isMiddleClick(event) { return _isButton(event, 1) }\r\n\r\n  function isRightClick(event)  { return _isButton(event, 2) }\r\n\r\n  function element(event) {\r\n    event = Event.extend(event);\r\n\r\n    var node = event.target, type = event.type,\r\n     currentTarget = event.currentTarget;\r\n\r\n    if (currentTarget && currentTarget.tagName) {\r\n      if (type === 'load' || type === 'error' ||\r\n        (type === 'click' && currentTarget.tagName.toLowerCase() === 'input'\r\n          && currentTarget.type === 'radio'))\r\n            node = currentTarget;\r\n    }\r\n\r\n    if (node.nodeType == Node.TEXT_NODE)\r\n      node = node.parentNode;\r\n\r\n    return Element.extend(node);\r\n  }\r\n\r\n  function findElement(event, expression) {\r\n    var element = Event.element(event);\r\n\r\n    if (!expression) return element;\r\n    while (element) {\r\n      if (Object.isElement(element) && Prototype.Selector.match(element, expression)) {\r\n        return Element.extend(element);\r\n      }\r\n      element = element.parentNode;\r\n    }\r\n  }\r\n\r\n  function pointer(event) {\r\n    return { x: pointerX(event), y: pointerY(event) };\r\n  }\r\n\r\n  function pointerX(event) {\r\n    var docElement = document.documentElement,\r\n     body = document.body || { scrollLeft: 0 };\r\n\r\n    return event.pageX || (event.clientX +\r\n      (docElement.scrollLeft || body.scrollLeft) -\r\n      (docElement.clientLeft || 0));\r\n  }\r\n\r\n  function pointerY(event) {\r\n    var docElement = document.documentElement,\r\n     body = document.body || { scrollTop: 0 };\r\n\r\n    return  event.pageY || (event.clientY +\r\n       (docElement.scrollTop || body.scrollTop) -\r\n       (docElement.clientTop || 0));\r\n  }\r\n\r\n\r\n  function stop(event) {\r\n    Event.extend(event);\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    event.stopped = true;\r\n  }\r\n\r\n\r\n  Event.Methods = {\r\n    isLeftClick:   isLeftClick,\r\n    isMiddleClick: isMiddleClick,\r\n    isRightClick:  isRightClick,\r\n\r\n    element:     element,\r\n    findElement: findElement,\r\n\r\n    pointer:  pointer,\r\n    pointerX: pointerX,\r\n    pointerY: pointerY,\r\n\r\n    stop: stop\r\n  };\r\n\r\n  var methods = Object.keys(Event.Methods).inject({ }, function(m, name) {\r\n    m[name] = Event.Methods[name].methodize();\r\n    return m;\r\n  });\r\n\r\n  if (window.attachEvent) {\r\n    function _relatedTarget(event) {\r\n      var element;\r\n      switch (event.type) {\r\n        case 'mouseover':\r\n        case 'mouseenter':\r\n          element = event.fromElement;\r\n          break;\r\n        case 'mouseout':\r\n        case 'mouseleave':\r\n          element = event.toElement;\r\n          break;\r\n        default:\r\n          return null;\r\n      }\r\n      return Element.extend(element);\r\n    }\r\n\r\n    var additionalMethods = {\r\n      stopPropagation: function() { this.cancelBubble = true },\r\n      preventDefault:  function() { this.returnValue = false },\r\n      inspect: function() { return '[object Event]' }\r\n    };\r\n\r\n    Event.extend = function(event, element) {\r\n      if (!event) return false;\r\n\r\n      if (!isIELegacyEvent(event)) return event;\r\n\r\n      if (event._extendedByPrototype) return event;\r\n      event._extendedByPrototype = Prototype.emptyFunction;\r\n\r\n      var pointer = Event.pointer(event);\r\n\r\n      Object.extend(event, {\r\n        target: event.srcElement || element,\r\n        relatedTarget: _relatedTarget(event),\r\n        pageX:  pointer.x,\r\n        pageY:  pointer.y\r\n      });\r\n\r\n      Object.extend(event, methods);\r\n      Object.extend(event, additionalMethods);\r\n\r\n      return event;\r\n    };\r\n  } else {\r\n    Event.extend = Prototype.K;\r\n  }\r\n\r\n  if (window.addEventListener) {\r\n    Event.prototype = window.Event.prototype || document.createEvent('HTMLEvents').__proto__;\r\n    Object.extend(Event.prototype, methods);\r\n  }\r\n\r\n  function _createResponder(element, eventName, handler) {\r\n    var registry = Element.retrieve(element, 'prototype_event_registry');\r\n\r\n    if (Object.isUndefined(registry)) {\r\n      CACHE.push(element);\r\n      registry = Element.retrieve(element, 'prototype_event_registry', $H());\r\n    }\r\n\r\n    var respondersForEvent = registry.get(eventName);\r\n    if (Object.isUndefined(respondersForEvent)) {\r\n      respondersForEvent = [];\r\n      registry.set(eventName, respondersForEvent);\r\n    }\r\n\r\n    if (respondersForEvent.pluck('handler').include(handler)) return false;\r\n\r\n    var responder;\r\n    if (eventName.include(\":\")) {\r\n      responder = function(event) {\r\n        if (Object.isUndefined(event.eventName))\r\n          return false;\r\n\r\n        if (event.eventName !== eventName)\r\n          return false;\r\n\r\n        Event.extend(event, element);\r\n        handler.call(element, event);\r\n      };\r\n    } else {\r\n      if (!MOUSEENTER_MOUSELEAVE_EVENTS_SUPPORTED &&\r\n       (eventName === \"mouseenter\" || eventName === \"mouseleave\")) {\r\n        if (eventName === \"mouseenter\" || eventName === \"mouseleave\") {\r\n          responder = function(event) {\r\n            Event.extend(event, element);\r\n\r\n            var parent = event.relatedTarget;\r\n            while (parent && parent !== element) {\r\n              try { parent = parent.parentNode; }\r\n              catch(e) { parent = element; }\r\n            }\r\n\r\n            if (parent === element) return;\r\n\r\n            handler.call(element, event);\r\n          };\r\n        }\r\n      } else {\r\n        responder = function(event) {\r\n          Event.extend(event, element);\r\n          handler.call(element, event);\r\n        };\r\n      }\r\n    }\r\n\r\n    responder.handler = handler;\r\n    respondersForEvent.push(responder);\r\n    return responder;\r\n  }\r\n\r\n  function _destroyCache() {\r\n    for (var i = 0, length = CACHE.length; i < length; i++) {\r\n      Event.stopObserving(CACHE[i]);\r\n      CACHE[i] = null;\r\n    }\r\n  }\r\n\r\n  var CACHE = [];\r\n\r\n  if (Prototype.Browser.IE)\r\n    window.attachEvent('onunload', _destroyCache);\r\n\r\n  if (Prototype.Browser.WebKit)\r\n    window.addEventListener('unload', Prototype.emptyFunction, false);\r\n\r\n\r\n  var _getDOMEventName = Prototype.K,\r\n      translations = { mouseenter: \"mouseover\", mouseleave: \"mouseout\" };\r\n\r\n  if (!MOUSEENTER_MOUSELEAVE_EVENTS_SUPPORTED) {\r\n    _getDOMEventName = function(eventName) {\r\n      return (translations[eventName] || eventName);\r\n    };\r\n  }\r\n\r\n  function observe(element, eventName, handler) {\r\n    element = $(element);\r\n\r\n    var responder = _createResponder(element, eventName, handler);\r\n\r\n    if (!responder) return element;\r\n\r\n    if (eventName.include(':')) {\r\n      if (element.addEventListener)\r\n        element.addEventListener(\"dataavailable\", responder, false);\r\n      else {\r\n        element.attachEvent(\"ondataavailable\", responder);\r\n        element.attachEvent(\"onlosecapture\", responder);\r\n      }\r\n    } else {\r\n      var actualEventName = _getDOMEventName(eventName);\r\n\r\n      if (element.addEventListener)\r\n        element.addEventListener(actualEventName, responder, false);\r\n      else\r\n        element.attachEvent(\"on\" + actualEventName, responder);\r\n    }\r\n\r\n    return element;\r\n  }\r\n\r\n  function stopObserving(element, eventName, handler) {\r\n    element = $(element);\r\n\r\n    var registry = Element.retrieve(element, 'prototype_event_registry');\r\n    if (!registry) return element;\r\n\r\n    if (!eventName) {\r\n      registry.each( function(pair) {\r\n        var eventName = pair.key;\r\n        stopObserving(element, eventName);\r\n      });\r\n      return element;\r\n    }\r\n\r\n    var responders = registry.get(eventName);\r\n    if (!responders) return element;\r\n\r\n    if (!handler) {\r\n      responders.each(function(r) {\r\n        stopObserving(element, eventName, r.handler);\r\n      });\r\n      return element;\r\n    }\r\n\r\n    var i = responders.length, responder;\r\n    while (i--) {\r\n      if (responders[i].handler === handler) {\r\n        responder = responders[i];\r\n        break;\r\n      }\r\n    }\r\n    if (!responder) return element;\r\n\r\n    if (eventName.include(':')) {\r\n      if (element.removeEventListener)\r\n        element.removeEventListener(\"dataavailable\", responder, false);\r\n      else {\r\n        element.detachEvent(\"ondataavailable\", responder);\r\n        element.detachEvent(\"onlosecapture\", responder);\r\n      }\r\n    } else {\r\n      var actualEventName = _getDOMEventName(eventName);\r\n      if (element.removeEventListener)\r\n        element.removeEventListener(actualEventName, responder, false);\r\n      else\r\n        element.detachEvent('on' + actualEventName, responder);\r\n    }\r\n\r\n    registry.set(eventName, responders.without(responder));\r\n\r\n    return element;\r\n  }\r\n\r\n  function fire(element, eventName, memo, bubble) {\r\n    element = $(element);\r\n\r\n    if (Object.isUndefined(bubble))\r\n      bubble = true;\r\n\r\n    if (element == document && document.createEvent && !element.dispatchEvent)\r\n      element = document.documentElement;\r\n\r\n    var event;\r\n    if (document.createEvent) {\r\n      event = document.createEvent('HTMLEvents');\r\n      event.initEvent('dataavailable', bubble, true);\r\n    } else {\r\n      event = document.createEventObject();\r\n      event.eventType = bubble ? 'ondataavailable' : 'onlosecapture';\r\n    }\r\n\r\n    event.eventName = eventName;\r\n    event.memo = memo || { };\r\n\r\n    if (document.createEvent)\r\n      element.dispatchEvent(event);\r\n    else\r\n      element.fireEvent(event.eventType, event);\r\n\r\n    return Event.extend(event);\r\n  }\r\n\r\n  Event.Handler = Class.create({\r\n    initialize: function(element, eventName, selector, callback) {\r\n      this.element   = $(element);\r\n      this.eventName = eventName;\r\n      this.selector  = selector;\r\n      this.callback  = callback;\r\n      this.handler   = this.handleEvent.bind(this);\r\n    },\r\n\r\n    start: function() {\r\n      Event.observe(this.element, this.eventName, this.handler);\r\n      return this;\r\n    },\r\n\r\n    stop: function() {\r\n      Event.stopObserving(this.element, this.eventName, this.handler);\r\n      return this;\r\n    },\r\n\r\n    handleEvent: function(event) {\r\n      var element = Event.findElement(event, this.selector);\r\n      if (element) this.callback.call(this.element, event, element);\r\n    }\r\n  });\r\n\r\n  function on(element, eventName, selector, callback) {\r\n    element = $(element);\r\n    if (Object.isFunction(selector) && Object.isUndefined(callback)) {\r\n      callback = selector, selector = null;\r\n    }\r\n\r\n    return new Event.Handler(element, eventName, selector, callback).start();\r\n  }\r\n\r\n  Object.extend(Event, Event.Methods);\r\n\r\n  Object.extend(Event, {\r\n    fire:          fire,\r\n    observe:       observe,\r\n    stopObserving: stopObserving,\r\n    on:            on\r\n  });\r\n\r\n  Element.addMethods({\r\n    fire:          fire,\r\n\r\n    observe:       observe,\r\n\r\n    stopObserving: stopObserving,\r\n\r\n    on:            on\r\n  });\r\n\r\n  Object.extend(document, {\r\n    fire:          fire.methodize(),\r\n\r\n    observe:       observe.methodize(),\r\n\r\n    stopObserving: stopObserving.methodize(),\r\n\r\n    on:            on.methodize(),\r\n\r\n    loaded:        false\r\n  });\r\n\r\n  if (window.Event) Object.extend(window.Event, Event);\r\n  else window.Event = Event;\r\n})();\r\n\r\n(function() {\r\n  /* Support for the DOMContentLoaded event is based on work by Dan Webb,\r\n     Matthias Miller, Dean Edwards, John Resig, and Diego Perini. */\r\n\r\n  var timer;\r\n\r\n  function fireContentLoadedEvent() {\r\n    if (document.loaded) return;\r\n    if (timer) window.clearTimeout(timer);\r\n    document.loaded = true;\r\n    document.fire('dom:loaded');\r\n  }\r\n\r\n  function checkReadyState() {\r\n    if (document.readyState === 'complete') {\r\n      document.stopObserving('readystatechange', checkReadyState);\r\n      fireContentLoadedEvent();\r\n    }\r\n  }\r\n\r\n  function pollDoScroll() {\r\n    try { document.documentElement.doScroll('left'); }\r\n    catch(e) {\r\n      timer = pollDoScroll.defer();\r\n      return;\r\n    }\r\n    fireContentLoadedEvent();\r\n  }\r\n\r\n  if (document.addEventListener) {\r\n    document.addEventListener('DOMContentLoaded', fireContentLoadedEvent, false);\r\n  } else {\r\n    document.observe('readystatechange', checkReadyState);\r\n    if (window == top)\r\n      timer = pollDoScroll.defer();\r\n  }\r\n\r\n  Event.observe(window, 'load', fireContentLoadedEvent);\r\n})();\r\n\r\nElement.addMethods();\r\n\r\n/*------------------------------- DEPRECATED -------------------------------*/\r\n\r\nHash.toQueryString = Object.toQueryString;\r\n\r\nvar Toggle = { display: Element.toggle };\r\n\r\nElement.Methods.childOf = Element.Methods.descendantOf;\r\n\r\nvar Insertion = {\r\n  Before: function(element, content) {\r\n    return Element.insert(element, {before:content});\r\n  },\r\n\r\n  Top: function(element, content) {\r\n    return Element.insert(element, {top:content});\r\n  },\r\n\r\n  Bottom: function(element, content) {\r\n    return Element.insert(element, {bottom:content});\r\n  },\r\n\r\n  After: function(element, content) {\r\n    return Element.insert(element, {after:content});\r\n  }\r\n};\r\n\r\nvar $continue = new Error('\"throw $continue\" is deprecated, use \"return\" instead');\r\n\r\nvar Position = {\r\n  includeScrollOffsets: false,\r\n\r\n  prepare: function() {\r\n    this.deltaX =  window.pageXOffset\r\n                || document.documentElement.scrollLeft\r\n                || document.body.scrollLeft\r\n                || 0;\r\n    this.deltaY =  window.pageYOffset\r\n                || document.documentElement.scrollTop\r\n                || document.body.scrollTop\r\n                || 0;\r\n  },\r\n\r\n  within: function(element, x, y) {\r\n    if (this.includeScrollOffsets)\r\n      return this.withinIncludingScrolloffsets(element, x, y);\r\n    this.xcomp = x;\r\n    this.ycomp = y;\r\n    this.offset = Element.cumulativeOffset(element);\r\n\r\n    return (y >= this.offset[1] &&\r\n            y <  this.offset[1] + element.offsetHeight &&\r\n            x >= this.offset[0] &&\r\n            x <  this.offset[0] + element.offsetWidth);\r\n  },\r\n\r\n  withinIncludingScrolloffsets: function(element, x, y) {\r\n    var offsetcache = Element.cumulativeScrollOffset(element);\r\n\r\n    this.xcomp = x + offsetcache[0] - this.deltaX;\r\n    this.ycomp = y + offsetcache[1] - this.deltaY;\r\n    this.offset = Element.cumulativeOffset(element);\r\n\r\n    return (this.ycomp >= this.offset[1] &&\r\n            this.ycomp <  this.offset[1] + element.offsetHeight &&\r\n            this.xcomp >= this.offset[0] &&\r\n            this.xcomp <  this.offset[0] + element.offsetWidth);\r\n  },\r\n\r\n  overlap: function(mode, element) {\r\n    if (!mode) return 0;\r\n    if (mode == 'vertical')\r\n      return ((this.offset[1] + element.offsetHeight) - this.ycomp) /\r\n        element.offsetHeight;\r\n    if (mode == 'horizontal')\r\n      return ((this.offset[0] + element.offsetWidth) - this.xcomp) /\r\n        element.offsetWidth;\r\n  },\r\n\r\n\r\n  cumulativeOffset: Element.Methods.cumulativeOffset,\r\n\r\n  positionedOffset: Element.Methods.positionedOffset,\r\n\r\n  absolutize: function(element) {\r\n    Position.prepare();\r\n    return Element.absolutize(element);\r\n  },\r\n\r\n  relativize: function(element) {\r\n    Position.prepare();\r\n    return Element.relativize(element);\r\n  },\r\n\r\n  realOffset: Element.Methods.cumulativeScrollOffset,\r\n\r\n  offsetParent: Element.Methods.getOffsetParent,\r\n\r\n  page: Element.Methods.viewportOffset,\r\n\r\n  clone: function(source, target, options) {\r\n    options = options || { };\r\n    return Element.clonePosition(target, source, options);\r\n  }\r\n};\r\n\r\n/*--------------------------------------------------------------------------*/\r\n\r\nif (!document.getElementsByClassName) document.getElementsByClassName = function(instanceMethods){\r\n  function iter(name) {\r\n    return name.blank() ? null : \"[contains(concat(' ', @class, ' '), ' \" + name + \" ')]\";\r\n  }\r\n\r\n  instanceMethods.getElementsByClassName = Prototype.BrowserFeatures.XPath ?\r\n  function(element, className) {\r\n    className = className.toString().strip();\r\n    var cond = /\\s/.test(className) ? $w(className).map(iter).join('') : iter(className);\r\n    return cond ? document._getElementsByXPath('.//*' + cond, element) : [];\r\n  } : function(element, className) {\r\n    className = className.toString().strip();\r\n    var elements = [], classNames = (/\\s/.test(className) ? $w(className) : null);\r\n    if (!classNames && !className) return elements;\r\n\r\n    var nodes = $(element).getElementsByTagName('*');\r\n    className = ' ' + className + ' ';\r\n\r\n    for (var i = 0, child, cn; child = nodes[i]; i++) {\r\n      if (child.className && (cn = ' ' + child.className + ' ') && (cn.include(className) ||\r\n          (classNames && classNames.all(function(name) {\r\n            return !name.toString().blank() && cn.include(' ' + name + ' ');\r\n          }))))\r\n        elements.push(Element.extend(child));\r\n    }\r\n    return elements;\r\n  };\r\n\r\n  return function(className, parentElement) {\r\n    return $(parentElement || document.body).getElementsByClassName(className);\r\n  };\r\n}(Element.Methods);\r\n\r\n/*--------------------------------------------------------------------------*/\r\n\r\nElement.ClassNames = Class.create();\r\nElement.ClassNames.prototype = {\r\n  initialize: function(element) {\r\n    this.element = $(element);\r\n  },\r\n\r\n  _each: function(iterator) {\r\n    this.element.className.split(/\\s+/).select(function(name) {\r\n      return name.length > 0;\r\n    })._each(iterator);\r\n  },\r\n\r\n  set: function(className) {\r\n    this.element.className = className;\r\n  },\r\n\r\n  add: function(classNameToAdd) {\r\n    if (this.include(classNameToAdd)) return;\r\n    this.set($A(this).concat(classNameToAdd).join(' '));\r\n  },\r\n\r\n  remove: function(classNameToRemove) {\r\n    if (!this.include(classNameToRemove)) return;\r\n    this.set($A(this).without(classNameToRemove).join(' '));\r\n  },\r\n\r\n  toString: function() {\r\n    return $A(this).join(' ');\r\n  }\r\n};\r\n\r\nObject.extend(Element.ClassNames.prototype, Enumerable);\r\n\r\n/*--------------------------------------------------------------------------*/\r\n\r\n(function() {\r\n  window.Selector = Class.create({\r\n    initialize: function(expression) {\r\n      this.expression = expression.strip();\r\n    },\r\n\r\n    findElements: function(rootElement) {\r\n      return Prototype.Selector.select(this.expression, rootElement);\r\n    },\r\n\r\n    match: function(element) {\r\n      return Prototype.Selector.match(element, this.expression);\r\n    },\r\n\r\n    toString: function() {\r\n      return this.expression;\r\n    },\r\n\r\n    inspect: function() {\r\n      return \"#<Selector: \" + this.expression + \">\";\r\n    }\r\n  });\r\n\r\n  Object.extend(Selector, {\r\n    matchElements: function(elements, expression) {\r\n      var match = Prototype.Selector.match,\r\n          results = [];\r\n\r\n      for (var i = 0, length = elements.length; i < length; i++) {\r\n        var element = elements[i];\r\n        if (match(element, expression)) {\r\n          results.push(Element.extend(element));\r\n        }\r\n      }\r\n      return results;\r\n    },\r\n\r\n    findElement: function(elements, expression, index) {\r\n      index = index || 0;\r\n      var matchIndex = 0, element;\r\n      for (var i = 0, length = elements.length; i < length; i++) {\r\n        element = elements[i];\r\n        if (Prototype.Selector.match(element, expression) && index === matchIndex++) {\r\n          return Element.extend(element);\r\n        }\r\n      }\r\n    },\r\n\r\n    findChildElements: function(element, expressions) {\r\n      var selector = expressions.toArray().join(', ');\r\n      return Prototype.Selector.select(selector, element || document);\r\n    }\r\n  });\r\n})();\r\n\r\n","Steam — 顶级在线游戏平台_files/rellax.min.js":{"size":3534,"type":"text/javascript","url":"chenzicongokq6eqkx/txc233.cn/29b231b211d707a52646e585521dcc54/1629089717.js"},"Steam — 顶级在线游戏平台_files/shared_global.css":"\r\n\r\n\t/* Avatars */\r\n\r\n.playerAvatar,\r\n.friend_block_holder .friend_block_avatar,\r\n.friend_activity .friend_block_avatar {\r\n\twidth: 34px;\r\n\theight: 34px;\r\n\tposition: relative;\r\n\tborder-radius: 0;\r\n\tpadding: 1px;\r\n\r\n}\r\n\r\n/* Offline State */\r\n.playerAvatar.offline,\r\n.friend_block_holder.friend_status_offline .friend_block_avatar,\r\n.friend_activity.friend_status_offline .friend_block_avatar,\r\n.appHubIconHolder.offline,\r\n.avatar_block_status_offline,\r\n.appHubIconHolder.ignored {\r\n\r\n\tbackground: -webkit-linear-gradient( top, rgba(106,106,106,1) 5%, rgba(85,85,85,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(106,106,106,1) 5%, rgba(85,85,85,1) 95%);\r\n\t/* IE <= 9 doesn't support rounded corners and gradient.  The gradient isn't too noticable so just disable the filter in IE9 */\r\n\tfilter: none;\r\n}\r\n.playerAvatar.offline img,\r\n.friend_status_offline .friend_block_avatar img,\r\n.appHubIconHolder.offline img,\r\n.avatar_block_status_offline img {\r\n\tbackground: -webkit-linear-gradient( top, #515151 5%, #474747 95%);\r\n\tbackground: linear-gradient( to bottom, #515151 5%, #474747 95%);\r\n}\r\n\r\n/* Online State */\r\n.playerAvatar.online,\r\n.friend_block_holder.friend_status_online .friend_block_avatar,\r\n.friend_activity.friend_status_online .friend_block_avatar,\r\n.appHubIconHolder.online,\r\n.avatar_block_status_online {\r\n\tbackground-color: #57cbde;\r\n\r\n\tbackground: -webkit-linear-gradient( top, rgba(83,164,196,1) 5%, rgba(69,128,151,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(83,164,196,1) 5%, rgba(69,128,151,1) 95%);\r\n\t/* IE <= 9 doesn't support rounded corners and gradient.  The gradient isn't too noticable so just disable the filter in IE9 */\r\n\tfilter: none;\r\n}\r\n.playerAvatar.online img,\r\n.friend_status_online .friend_block_avatar img,\r\n.appHubIconHolder.online img,\r\n.avatar_block_status_online img {\r\n\tbackground: -webkit-linear-gradient( top, #41778f 5%, #3d697b 95%);\r\n\tbackground: linear-gradient( to bottom, #41778f 5%, #3d697b 95%);\r\n}\r\n\r\n/* In-Game State */\r\n.playerAvatar.in-game,\r\n.friend_block_holder.friend_status_in-game .friend_block_avatar,\r\n.friend_activity.friend_status_in-game .friend_block_avatar,\r\n.appHubIconHolder.in-game,\r\n.avatar_block_status_in-game {\r\n\tbackground-color: #90ba3c;\r\n\r\n\tbackground: -webkit-linear-gradient( top, rgba(143,185,59,1) 5%, rgba(110,140,49,1) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(143,185,59,1) 5%, rgba(110,140,49,1) 95%);\r\n\t/* IE <= 9 doesn't support rounded corners and gradient.  The gradient isn't too noticable so just disable the filter in IE9 */\r\n\tfilter: none;\r\n}\r\n.playerAvatar.in-game img,\r\n.friend_status_in-game .friend_block_avatar img,\r\n.appHubIconHolder.in-game img,\r\n.avatar_block_status_in-game img {\r\n\tbackground: -webkit-linear-gradient( top, #66812e 5%, #59702b 95%);\r\n\tbackground: linear-gradient( to bottom, #66812e 5%, #59702b 95%);\r\n}\r\n\r\n\r\n/* Golden State */\r\n.playerAvatar.golden,\r\n.friend_block_holder.friend_status_golden .friend_block_avatar,\r\n.friend_activity.friend_status_golden .friend_block_avatar,\r\n.appHubIconHolder.golden,\r\n.avatar_block_status_golden {\r\n\tbackground-color: #e4ca63;\r\n\r\n\tbackground: -webkit-linear-gradient( 305deg, #d5bf6a 10%,#ffe2a9 40%,#ba995c 52%,#ba995c 61%,#d5bf6a 85%);\r\n\tbackground: linear-gradient( 145deg, #d5bf6a 10%,#ffe2a9 40%,#ba995c 52%,#ba995c 61%,#d5bf6a 85%);\r\n}\r\n\r\n/*\r\n.playerAvatar.golden img,\r\n.friend_status_golden .friend_block_avatar img,\r\n.appHubIconHolder.golden img,\r\n.avatar_block_status_golden img {\r\n\tbackground-color: #e4ca63\r\n\tbackground: -webkit-linear-gradient( 305deg, #d5bf6a 10%,#ffe2a9 40%,#ba995c 52%,#ba995c 61%,#d5bf6a 85%);\r\n\tbackground: linear-gradient( 145deg, #d5bf6a 10%,#ffe2a9 40%,#ba995c 52%,#ba995c 61%,#d5bf6a 85%);\r\n}\r\n*/\r\n\r\n.playerAvatar.ignored {\r\n}\r\n\r\n.playerAvatar img,\r\n.friend_block_holder .friend_block_avatar img,\r\n.friend_activity .friend_block_avatar img {\r\n\twidth: 32px;\r\n\theight: 32px;\r\n\tpadding: 1px;\r\n\tborder-radius: 0;\r\n\tborder: none;\r\n}\r\n\r\n.playerAvatar .profile_avatar_frame {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tz-index: 1;\r\n\tpointer-events: none;\r\n}\r\n.playerAvatar .profile_avatar_frame > img {\r\n\ttransform: scale(1.23);\r\n\twidth: 32px;\r\n\theight: 32px;\r\n\tbackground: none;\r\n}\r\n\r\n.playerAvatar.medium {\r\n\twidth: 66px;\r\n\theight: 66px;\r\n}\r\n\r\n.playerAvatar.medium img {\r\n\twidth: 64px;\r\n\theight: 64px;\r\n}\r\n.playerAvatar.medium .profile_avatar_frame > img {\r\n\twidth: 64px;\r\n\theight: 64px;\r\n\ttransform: scale(1.225);\r\n}\r\n\r\n\r\n.playerAvatar.full {\r\n\twidth: 186px;\r\n\theight: 186px;\r\n}\r\n\r\n.playerAvatar.full img {\r\n\twidth: 184px;\r\n\theight: 184px;\r\n}\r\n\r\n.playerAvatar.tiny {\r\n\twidth: 24px;\r\n\theight: 24px;\r\n}\r\n\r\n.playerAvatar.tiny img {\r\n\twidth: 22px;\r\n\theight: 22px;\r\n}\r\n\r\n.playerAvatar_friendindicator {\r\n\tposition: absolute;\r\n\tleft: 26px;\r\n\ttop: 23px;\r\n\tbackground-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/friendindicator_small.png' );\r\n\twidth: 20px;\r\n\theight: 20px;\r\n\tz-index: 2;\r\n\r\n\tcursor: pointer;\r\n}\r\n\r\n.persona, a.persona, .persona a,\r\n.friend_status_offline, .friend_status_offline div, .friend_status_offline a {\r\n\tcolor:#898989;\r\n}\r\n\r\n.persona.online, a.persona.online, .persona.online a,\r\n.friend_status_online, .friend_status_online div, .friend_status_online a {\r\n\tcolor:#57cbde;\r\n}\r\n\r\n.persona.in-game, a.persona.in-game, .persona.in-game a,\r\n.friend_status_in-game, .friend_status_in-game div, .friend_status_in-game a {\r\n\tcolor:#90ba3c;\r\n}\r\n\r\n.persona.golden, a.persona.golden, .persona.golden a,\r\n.friend_status_golden, .friend_status_golden div, .friend_status_golden a {\r\n\tcolor:#e4ca63;\r\n}\r\n\r\n.border_color_offline {\r\n\tborder-color:#898989;\r\n}\r\n\r\n.border_color_online {\r\n\tborder-color:#57cbde;\r\n}\r\n\r\n.border_color_in-game {\r\n\tborder-color:#90ba3c;\r\n}\r\n\r\n.border_color_golden {\r\n\tborder-color: #e4ca64;\r\n}\r\n\r\n.miniprofile_hover {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tz-index: 1200;\r\n\tfont-family: \"Motiva Sans\", sans-serif;\r\n}\r\n\r\n.miniprofile_hover_inner.shadow_content {\r\n\tmargin: 11px;\r\n}\r\n\r\n.miniprofile_container {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\r\n\twidth: 328px;\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: normal; /* normal */\r\n\r\n\t\t}\r\n\r\n.miniprofile_playersection {\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\r\n\tz-index: 1;\r\n\theight: 62px;\r\n\tpadding: 16px;\r\n}\r\n\r\n.miniprofile_playersection .playersection_avatar {\r\n\twidth: 90px;\r\n\theight: 90px;\r\n\tbackground: none;\r\n\tborder-bottom-width: 2px;\r\n\tborder-bottom-style: solid;\r\n}\r\n\r\n.miniprofile_playersection .playersection_avatar img {\r\n\twidth: 90px;\r\n\theight: 90px;\r\n\tbox-sizing: border-box;\r\n\tbackground: none;\r\n}\r\n\r\n.miniprofile_playersection .playersection_avatar_frame {\r\n\tposition: absolute;\r\n\tz-index: 1;\r\n\twidth: 107px;\r\n\theight: 107px;\r\n\ttop: 8px;\r\n\tleft: 8px;\r\n\tpointer-events: none;\r\n}\r\n.miniprofile_playersection .playersection_avatar_frame > img {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground: none;\r\n}\r\n\r\n.miniprofile_playersection .player_content {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\r\n\tpadding-left: 16px;\r\n\r\n\ttext-shadow: 1px 1px 4px #000;\r\n}\r\n\r\n.miniprofile_playersection .player_content .persona {\r\n\tfont-size: 20px;\r\n}\r\n\r\n.miniprofile_playersection .player_content .persona,\r\n.miniprofile_playersection .player_content .secondaryname {\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\twidth: 200px;\r\n}\r\n\r\n.miniprofile_playersection .player_content .friend_status_offline {\r\n\tfont-size: 10px;\r\n}\r\n\r\n.miniprofile_gamesection {\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tposition: relative;\r\n\r\n\tmin-height: 64px;\r\n}\r\n\r\n.miniprofile_gamesection .game_logo {\r\n\twidth: 90px;\r\n\theight: 34px;\r\n\ttop: 18px;\r\n\tleft: 16px;\r\n\tposition: absolute;\r\n}\r\n\r\n.miniprofile_gamesection .miniprofile_game_details {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\r\n\tpadding: 8px 8px 8px 122px;\r\n\tfont-size: 14px;\r\n\r\n\talign-self: center;\r\n}\r\n\r\n.miniprofile_gamesection .miniprofile_game_details .game_state,\r\n.miniprofile_gamesection .miniprofile_game_details .rich_presence {\r\n\tfont-size: 12px;\r\n\tcolor: rgb( 98, 129, 59 );\r\n}\r\n\r\n.miniprofile_gamesection .miniprofile_game_details .miniprofile_game_name {\r\n\tcolor: #90ba3c;\r\n}\r\n\r\n.miniprofile_detailssection {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\r\n\tpadding: 16px 16px 8px 16px;\r\n}\r\n\r\n.miniprofile_detailssection.not_in_game {\r\n\tpadding-top: 24px;\r\n}\r\n\r\n.miniprofile_featuredcontainer {\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\r\n\theight: 34px;\r\n\tpadding-left: 16px;\r\n\tmargin-bottom: 8px;\r\n}\r\n\r\n.miniprofile_featuredcontainer .badge_icon {\r\n\twidth: 34px;\r\n\theight: 34px;\r\n\tposition: relative;\r\n}\r\n\r\n.miniprofile_featuredcontainer .description {\r\n\tmargin-left: 12px;\r\n\tmargin-top: auto;\r\n\tmargin-bottom: auto;\r\n\tfont-size: 14px;\r\n\toverflow: hidden;\r\n\twhite-space: nowrap;\r\n\r\n\tfont-family: \"Motiva Sans\", Arial, Helvetica, sans-serif;\r\n}\r\n\r\n.miniprofile_featuredcontainer .description .name {\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\tcolor: #b1b1b1;\r\n}\r\n\r\n.miniprofile_featuredcontainer .description .xp {\r\n\tfont-size: 12px;\r\n\tcolor: #6b6a6a;\r\n}\r\n\r\n.miniprofile_featuredcontainer .friendPlayerLevel {\r\n\tmargin-top: 0;\r\n}\r\n\r\n.miniprofile_background {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\toverflow: hidden;\r\n\tz-index: -3;\r\n\tbackground: radial-gradient( ellipse farthest-corner at 20% 30%, rgb( 76, 80, 91 ) 0%, rgb( 52, 55, 63 ) 50%, rgb( 40, 44, 50 ) 100% );\r\n\r\n}\r\n\r\n.miniprofile_backgroundblur {\r\n\twidth: 380px;\r\n\theight: 380px;\r\n\tfilter: blur( 10px ) saturate( 2 );\r\n\tposition: absolute;\r\n\tleft: -60px;\r\n\ttop: -60px;\r\n\topacity: 0.4;\r\n\t-webkit-mask: radial-gradient( ellipse farthest-corner at 150px 150px, rgba( 0, 0, 0, 1 ) 0%, rgba( 0, 0, 0, 0.6 ) 20%, rgba( 0, 0, 0, 0.3 ) 34%, rgba( 0, 0, 0, 0 ) 64% );\r\n\tmask: radial-gradient( ellipse farthest-corner at 150px 150px, rgba( 0, 0, 0, 1 ) 0%, rgba( 0, 0, 0, 0.6 ) 20%, rgba( 0, 0, 0, 0.3 ) 34%, rgba( 0, 0, 0, 0 ) 64% );\r\n\tmix-blend-mode: screen;\r\n}\r\n\r\n.miniprofile_backdropblur {\r\n\tbackdrop-filter: blur(4px);\r\n\t-webkit-backdrop-filter: blur(4px);\r\n}\r\n\r\n.miniprofile_backdrop {\r\n\tbackground: linear-gradient( to bottom, rgba( 24, 26, 30, .7 ) 5%, rgba( 24, 26, 30, .4 ) 95% );\r\n}\r\n\r\n.miniprofile_content {\r\n\twidth: 302px;\r\n\tborder-radius: 3px;\r\n\r\n\tcolor: #828282;\r\n\tfont-size: 14px;\r\n\r\n\tposition: relative;\r\n}\r\n\r\n.miniprofile_nameplatecontainer {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\r\n\tz-index: -1;\r\n}\r\n\r\n.miniprofile_nameplate {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tobject-fit: cover;\r\n\tobject-position: top right;\r\n}\r\n\r\n/*\r\n * GENERIC POPUP\r\n */\r\n\r\n.pulldown {\r\n\tpadding-left: 5px;\r\n\tpadding-right: 18px;\r\n\tbackground-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/popups/btn_arrow_down_padded.png' );\r\n\tbackground-position: right center;\r\n\tbackground-repeat: no-repeat;\r\n\r\n\tcursor: pointer;\r\n}\r\nbody.v6 .pulldown {\r\n\tmargin-right: 5px;\r\n}\r\nspan.popup_menu_pulldown_indicator {\r\n\tdisplay: inline-block;\r\n\tbackground-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/popups/btn_arrow_down.png' );\r\n\tvertical-align: middle;\r\n\twidth: 9px;\r\n\theight: 4px;\r\n}\r\n#admin_drop {\r\n    border-radius: 2px;\r\n    border: none;\r\n    padding: 1px;\r\n    display: inline-block;\r\n    cursor: pointer;\r\n    text-decoration: none !important;\r\n    color: #67c1f5 !important;\r\n    background: rgba( 103, 193, 245, 0.2 )\r\n}\r\n#admin_drop:hover {\r\n    text-decoration: none !important;\r\n    color: #fff !important;\r\n    background: #417a9b;\r\n    background: -webkit-linear-gradient( 150deg, #417a9b 5%,#67c1f5 95%);\r\n    background: linear-gradient( -60deg, #417a9b 5%,#67c1f5 95%);\r\n}\r\n#admin_drop span {\r\n    padding: 0 22px 0 15px;\r\n    margin-right: 8px;\r\n    font-size: 15px;\r\n    line-height: 30px;\r\n}\r\n\r\n\r\n.popup_block_new {\r\n\tz-index: 200;\r\n\tposition: absolute;\r\n\tbox-shadow: 0 0 12px #000000;\r\n}\r\n\r\n.popup_block_new.popup_block_hidden_until_visible\r\n{\r\n\topacity: 1.0;\r\n\ttransition: opacity 200ms;\r\n}\r\n\r\n.popup_block_new.popup_block_hidden_until_visible:not(.visible)\r\n{\r\n\topacity: 0;\r\n\tpointer-events: none;\r\n}\r\n\r\n@media screen and (max-width: 910px)\r\n{\r\n\thtml.responsive .popup_block_new.responsive_slidedown {\r\n\t\tposition: static;\r\n\t\tbox-shadow: none;\r\n\t}\r\n}\r\n\r\n.popup_block_new .popup_body {\r\n\tborder: 1px solid #171a21;\r\n\r\n\tposition: relative;\r\n\r\n\tbackground-color: #171a21;\r\n\r\n}\r\n\r\nbody.v6 .popup_block_new .popup_body.popup_menu {\r\n\tpadding: 6px 0px;\r\n}\r\n\r\n.popup_menu .popup_menu_item {\r\n\tdisplay: block;\r\n\tpadding: 5px 12px;\r\n\tcolor: #b8b6b4;\r\n\ttext-transform: none;\r\n\tfont-family: Motiva Sans, Arial, Helvectica, Verdana, sans-serif;\r\n\tfont-size: 12px;\r\n\tfont-weight: normal;\r\n\tline-height: normal;\r\n\ttext-align: left;\r\n\tcursor: pointer;\r\n}\r\n\r\n\r\n#genre_flyout .popup_menu .popup_menu_item {\r\n\tfont-size: 13px;\r\n\tpadding: 5px 14px;\r\n}\r\n\r\n@media screen and (max-width: 910px)\r\n{\r\n\thtml.responsive .popup_menu .popup_menu_item {\r\n\t\tfont-size: 14px;\r\n\t\tline-height: 18px;\r\n\t}\r\n\r\n}\r\n\thtml.responsive.touch .popup_menu .popup_menu_item {\r\n\t\tfont-size: 14px;\r\n\t\tline-height: 18px;\r\n\t}\r\n\r\n.popup_menu a.popup_menu_item {\r\n\ttext-decoration: none;\r\n}\r\n\r\n.popup_menu span.popup_menu_item {\r\n\tcursor: default;\r\n}\r\n\r\n.popup_menu .popup_menu_item:hover, .popup_menu .popup_menu_item.focus {\r\n\tcolor: #ffffff;\r\n\ttext-decoration: none;\r\n}\r\n\r\n\r\n.popup_menu_subheader {\r\n\tcolor: #9e9995;\r\n\tfont-size: 11px;\r\n\tpadding: 2px 12px 3px 12px;\r\n\tcursor: default;\r\n}\r\n\r\n.popup_menu_item, .popup_menu_subheader {\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.popup_menu_hint {\r\n\tfloat: right;\r\n\tmargin-left: 8px;\r\n}\r\n\r\n.popup_menu_subarea {\r\n\tcolor: #9e9995;\r\n\tfont-size: 11px;\r\n\tbackground-color: #3b3938;\r\n\tmargin: 8px 12px;\r\n\tpadding: 8px;\r\n\ttext-align: center;\r\n}\r\n\r\n.popup_menu_subarea_inner {\r\n\tmargin: 0 auto;\r\n\twidth: 138px;\r\n}\r\n\r\n\r\n.popup_menu .hr {\r\n\theight: 1px;\r\n\tbackground-color: #82807c;\r\n\tmargin: 10px 12px 0 12px;\r\n}\r\n\r\n\r\n\r\n.friendPlayerLevel {\r\n\tdisplay: inline-block;\r\n\tfont-size: 16px;\r\n\tborder-radius: 16px;\r\n\tborder: solid white 2px;\r\n\theight: 28px;\r\n\twidth: 28px;\r\n\tline-height: 28px;\r\n\ttext-align: center;\r\n\r\n\tcursor: default;\r\n}\r\n\r\n\r\n.friendPlayerLevel .friendPlayerLevelNum {\r\n\tcolor: #e5e5e5;\r\n}\r\n\r\n.friendPlayerLevel.lvl_0 {\r\n\tborder-color: #9b9b9b;\r\n}\r\n\r\n.friendPlayerLevel.lvl_10 {\r\n\tborder-color: #c02942;\r\n}\r\n\r\n.friendPlayerLevel.lvl_20 {\r\n\tborder-color: #d95b43;\r\n}\r\n\r\n.friendPlayerLevel.lvl_30 {\r\n\tborder-color: #fecc23;\r\n}\r\n\r\n.friendPlayerLevel.lvl_40 {\r\n\tborder-color: #467a3c;\r\n}\r\n\r\n.friendPlayerLevel.lvl_50 {\r\n\tborder-color: #4e8ddb;\r\n}\r\n\r\n.friendPlayerLevel.lvl_60 {\r\n\tborder-color: #7652c9;\r\n}\r\n\r\n.friendPlayerLevel.lvl_70 {\r\n\tborder-color: #c252c9;\r\n}\r\n\r\n.friendPlayerLevel.lvl_80 {\r\n\tborder-color: #542437;\r\n}\r\n\r\n.friendPlayerLevel.lvl_90 {\r\n\tborder-color: #997c52;\r\n}\r\n\r\n.friendPlayerLevel.lvl_100, .friendPlayerLevel.lvl_200,\r\n\t.friendPlayerLevel.lvl_300, .friendPlayerLevel.lvl_400,\r\n\t.friendPlayerLevel.lvl_500, .friendPlayerLevel.lvl_600,\r\n\t.friendPlayerLevel.lvl_700, .friendPlayerLevel.lvl_800,\r\n\t.friendPlayerLevel.lvl_900, .friendPlayerLevel.lvl_1000,\r\n\t.friendPlayerLevel.lvl_1100, .friendPlayerLevel.lvl_1200,\r\n\t.friendPlayerLevel.lvl_1300, .friendPlayerLevel.lvl_1400,\r\n\t.friendPlayerLevel.lvl_1500, .friendPlayerLevel.lvl_1600,\r\n\t.friendPlayerLevel.lvl_1700, .friendPlayerLevel.lvl_1800,\r\n\t.friendPlayerLevel.lvl_1900, .friendPlayerLevel.lvl_2000,\r\n\t.friendPlayerLevel.lvl_2100, .friendPlayerLevel.lvl_2200,\r\n\t.friendPlayerLevel.lvl_2300, .friendPlayerLevel.lvl_2400,\r\n\t.friendPlayerLevel.lvl_2500, .friendPlayerLevel.lvl_2600,\r\n\t.friendPlayerLevel.lvl_2700, .friendPlayerLevel.lvl_2800,\r\n\t.friendPlayerLevel.lvl_2900, .friendPlayerLevel.lvl_3000,\r\n\t.friendPlayerLevel.lvl_3100, .friendPlayerLevel.lvl_3200,\r\n\t.friendPlayerLevel.lvl_3300, .friendPlayerLevel.lvl_3400,\r\n\t.friendPlayerLevel.lvl_3500, .friendPlayerLevel.lvl_3600,\r\n\t.friendPlayerLevel.lvl_3700, .friendPlayerLevel.lvl_3800,\r\n\t.friendPlayerLevel.lvl_3900, .friendPlayerLevel.lvl_4000,\r\n\t.friendPlayerLevel.lvl_4100, .friendPlayerLevel.lvl_4200,\r\n\t.friendPlayerLevel.lvl_4300, .friendPlayerLevel.lvl_4400,\r\n\t.friendPlayerLevel.lvl_4500, .friendPlayerLevel.lvl_4600,\r\n\t.friendPlayerLevel.lvl_4700, .friendPlayerLevel.lvl_4800,\r\n\t.friendPlayerLevel.lvl_4900, .friendPlayerLevel.lvl_5000\r\n{\r\n\tborder: none;\r\n\tborder-radius: 0;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: 0 0;\r\n\r\n\tfont-size: 14px;\r\n\r\n\theight: 32px;\r\n\twidth: 32px;\r\n\tline-height: 32px;\r\n\ttext-shadow: 1px 1px #1a1a1a;\r\n}\r\n\r\n.friendPlayerLevel.lvl_100 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_hexagons.png' ); }\r\n.friendPlayerLevel.lvl_200 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_shields.png' ); }\r\n.friendPlayerLevel.lvl_300 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_books.png' );  }\r\n.friendPlayerLevel.lvl_400 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_chevrons.png' );  }\r\n.friendPlayerLevel.lvl_500 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_circle2.png' );  }\r\n.friendPlayerLevel.lvl_600 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_angle.png' );  }\r\n.friendPlayerLevel.lvl_700 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_flag.png' );  }\r\n.friendPlayerLevel.lvl_800 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_wings.png' );  }\r\n.friendPlayerLevel.lvl_900 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_arrows.png' );  }\r\n.friendPlayerLevel.lvl_1000 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_crystals.png' );  }\r\n.friendPlayerLevel.lvl_1100 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_space.png' );  }\r\n.friendPlayerLevel.lvl_1200 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_waterelement.png' );  }\r\n.friendPlayerLevel.lvl_1300 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_fireelement.png' );  }\r\n.friendPlayerLevel.lvl_1400 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_earthelement.png' );  }\r\n.friendPlayerLevel.lvl_1500 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_airelement_1-2.png' );  }\r\n.friendPlayerLevel.lvl_1600 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_airelement_3-4.png' );  }\r\n.friendPlayerLevel.lvl_1700 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_airelement_5-6.png' );  }\r\n.friendPlayerLevel.lvl_1800 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_airelement_7-8.png' );  }\r\n.friendPlayerLevel.lvl_1900 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_airelement_9-10.png' );  }\r\n.friendPlayerLevel.lvl_2000 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_geo_1-2.png?v=2' );  }\r\n.friendPlayerLevel.lvl_2100 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_geo_3-4.png?v=2' );  }\r\n.friendPlayerLevel.lvl_2200 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_geo_5-6.png?v=2' );  }\r\n.friendPlayerLevel.lvl_2300 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_geo_7-8.png?v=2' );  }\r\n.friendPlayerLevel.lvl_2400 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_geo_9-10.png?v=2' );  }\r\n.friendPlayerLevel.lvl_2500 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_mandala_1-2.png?v=2' );  }\r\n.friendPlayerLevel.lvl_2600 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_mandala_3-4.png?v=2' );  }\r\n.friendPlayerLevel.lvl_2700 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_mandala_5-6.png?v=2' );  }\r\n.friendPlayerLevel.lvl_2800 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_mandala_7-8.png?v=2' );  }\r\n.friendPlayerLevel.lvl_2900 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_mandala_9-10.png?v=2' );  }\r\n.friendPlayerLevel.lvl_3000 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_spiro_1-2.png?v=2' );  }\r\n.friendPlayerLevel.lvl_3100 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_spiro_3-4.png?v=2' );  }\r\n.friendPlayerLevel.lvl_3200 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_spiro_5-6.png?v=2' );  }\r\n.friendPlayerLevel.lvl_3300 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_spiro_7-8.png?v=2' );  }\r\n.friendPlayerLevel.lvl_3400 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_spiro_9-10.png?v=2' );  }\r\n.friendPlayerLevel.lvl_3500 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_patterns_1-2.png?v=2' );  }\r\n.friendPlayerLevel.lvl_3600 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_patterns_3-4.png?v=2' );  }\r\n.friendPlayerLevel.lvl_3700 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_patterns_5-6.png?v=2' );  }\r\n.friendPlayerLevel.lvl_3800 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_patterns_7-8.png?v=2' );  }\r\n.friendPlayerLevel.lvl_3900 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_patterns_9-10.png?v=2' );  }\r\n.friendPlayerLevel.lvl_4000 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_shapes_1.png?v=2' );  }\r\n.friendPlayerLevel.lvl_4100 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_shapes_2.png?v=2' );  }\r\n.friendPlayerLevel.lvl_4200 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_shapes_3.png?v=2' );  }\r\n.friendPlayerLevel.lvl_4300 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_shapes_4.png?v=2' );  }\r\n.friendPlayerLevel.lvl_4400 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_shapes_5.png?v=2' );  }\r\n.friendPlayerLevel.lvl_4500 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_grunge_1.png?v=2' );  }\r\n.friendPlayerLevel.lvl_4600 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_grunge_2.png?v=2' );  }\r\n.friendPlayerLevel.lvl_4700 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_grunge_3.png?v=2' );  }\r\n.friendPlayerLevel.lvl_4800 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_grunge_4.png?v=2' );  }\r\n.friendPlayerLevel.lvl_4900 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_grunge_5.png?v=2' );  }\r\n.friendPlayerLevel.lvl_5000 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_halftone_1.png?v=2' );  }\r\n.friendPlayerLevel.lvl_5100 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_halftone_2.png?v=2' );  }\r\n.friendPlayerLevel.lvl_5200 { background-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/community/levels_halftone_3.png?v=2' );  }\r\n\r\n.friendPlayerLevel.lvl_plus_10 {\r\n\tbackground-position: 0 -32px;\r\n}\r\n.friendPlayerLevel.lvl_plus_20 {\r\n\tbackground-position: 0 -64px;\r\n}\r\n.friendPlayerLevel.lvl_plus_30 {\r\n\tbackground-position: 0 -96px;\r\n}\r\n.friendPlayerLevel.lvl_plus_40 {\r\n\tbackground-position: 0 -128px;\r\n}\r\n.friendPlayerLevel.lvl_plus_50 {\r\n\tbackground-position: 0 -160px;\r\n}\r\n.friendPlayerLevel.lvl_plus_60 {\r\n\tbackground-position: 0 -192px;\r\n}\r\n.friendPlayerLevel.lvl_plus_70 {\r\n\tbackground-position: 0 -224px;\r\n}\r\n.friendPlayerLevel.lvl_plus_80 {\r\n\tbackground-position: 0 -256px;\r\n}\r\n.friendPlayerLevel.lvl_plus_90 {\r\n\tbackground-position: 0 -288px;\r\n}\r\n\r\n\r\n\r\n.newmodal {\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: normal; /* normal */\r\n\r\n\t\t\tposition: absolute;\r\n\r\n\tmax-width: 900px;\t/* our page width */\r\n\tmin-width: 500px;\r\n\r\n\tbackground: radial-gradient(circle at top left, rgba(74, 81, 92, 0.4) 0%, rgba(75, 81, 92, 0) 60%), #25282e;\r\n}\r\n\r\n.newmodal_background {\r\n\tposition: fixed;\r\n\tz-index: 900;\r\n\tbackground: #000000;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n}\r\n\r\n.newmodal_header .title_text {\r\n\tpadding: 32px 32px 0px 32px;\r\n\tdisplay: block;\r\n}\r\n.newmodal_header .subtitle_text {\r\n\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 200; /* thin */\r\n\r\n\t\t    font-size: 19px;\r\n    text-transform: none;\r\n    line-height: 20px;\r\n    letter-spacing: 0px;\r\n    padding: 0px 32px 0px 32px;\r\n    display: block;\r\n}\r\n.modal_top_bar {\r\n\twidth: 100%;\r\n\theight: 1px;\r\n\tbackground: linear-gradient(to right, #00ccff, #3366ff);\r\n}\r\n\r\n.newmodal_header {\r\n\tpadding: 0px 0px 0px 0px;\r\n\ttext-align: left;\r\n\r\n\tfont-weight: 300;\r\n\tfont-size: 32px;\r\n\tline-height: 36px;\r\n\tletter-spacing: 2px;\r\n\tcolor: #ffffff;\r\n\ttext-transform: uppercase;\r\n\tflex-shrink: 0;\r\n}\r\n@media screen and (max-width: 910px)\r\n{\r\n    html.responsive .newmodal_header .title_text {\r\n        padding: 32px 15px 0px 15px;\r\n    }\r\n    html.responsive .newmodal_content {\r\n\r\n        max-width: 646px;\r\n        min-width: 280px;\r\n    }\r\n}\r\n\r\n.newmodal_close {\r\n\tbackground-image: url( data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjVBREZBRDlBNzdCNzExRTI5ODAzRUE3MDU0Mzk5MjM5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjVBREZBRDlCNzdCNzExRTI5ODAzRUE3MDU0Mzk5MjM5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NUFERkFEOTg3N0I3MTFFMjk4MDNFQTcwNTQzOTkyMzkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NUFERkFEOTk3N0I3MTFFMjk4MDNFQTcwNTQzOTkyMzkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4iulRzAAABPElEQVR42mI8cuQIAyWABUqbAXEylH0fiDtwqI8FYhsoewEQH4cZcBaI64DYG8p/AVWADDyAeD4QMwPxJiA+BRJkgkr+BeJoIL4D5U8DYi0kzepAvAKq+TJU7V9kA0DgIxD7Q2lOIF4NpfmBeAuUfg3EPkD8BaaJCc2Z14A4EcoGuWAC1NkqQPwLqvkRsgYmLAG1HoiboOw0IA6EshNh/iZkAAjUA/FBJP5KIF6GTSEuAwygUQsDflAxogwQAuJ10AAExcpNKHsjEIsSMoAZGl2K0EALBeIIKFsOKSpxGtACxK5Qdi4QX4DiAqiYExB34TIgBIgrkAJtFpLcdKgYCBQBcRRMghGamUBxfhKIeaB+NkFOLFAAkjsDTZXfgdgK5DpYXvBGiqYpWDQzQMVAYZKDlDcuMFKanQECDAAqw0LA+GRiqAAAAABJRU5ErkJggg== );\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: center right;\r\n\tcursor: pointer;\r\n\tfloat: right;\r\n\tmargin-top: 9px;\r\n\tmargin-right: 9px;\r\n\theight: 16px;\r\n\twidth: 16px;\r\n\r\n\topacity: 0.7;\r\n}\r\n\r\n/* for labelling the close button with text, used on market */\r\n.newmodal_close.with_label {\r\n\tpadding-right: 24px;\r\n\twidth: auto;\r\n\tcolor: #ffffff;\r\n\tline-height: 16px;\r\n\tfont-size: 12px;\r\n}\r\n\r\n.newmodal_close:hover {\r\n\topacity: 1;\r\n}\r\n\r\n#ShareModal {\r\n    width: 290px;\r\n}\r\n\r\n.newmodal_content_border {\r\n\tpadding: 0 1px 1px 1px;\r\n    display: flex;\r\n}\r\n\r\n.newmodal_content {\r\n\r\n    width: 100%;\r\n\toverflow: auto;\r\n\tword-wrap: break-word;\r\n\r\n\tpadding: 32px;\r\n\r\n\tfont-size: 14px;\r\n\tcolor: #acb2b8;\r\n\r\n\tposition: relative;\r\n}\r\n\r\n.newmodal_content_innerbg {\r\n\tbackground-color: rgba(59, 63, 72, 0.5);\r\n\tpadding: 8px;\r\n\r\n\tcolor: #8f8f8f;\r\n}\r\n\r\n.newmodal_buttons {\r\n\ttext-align: right;\r\n}\r\n\r\n.newmodal_buttons .btn_medium {\r\n\tmargin-left: 12px;\r\n\tmargin-top: 12px;\r\n}\r\n\r\n.newmodal_prompt_description {\r\n\tfont-size: 14px;\r\n\tmargin-bottom: 8px;\r\n}\r\n\r\n.newmodal_prompt_input {\r\n}\r\n\r\n.newmodal_prompt_input input[type=text] {\r\n\twidth: 100%;\r\n}\r\n\r\n.newmodal_prompt_textarea {\r\n\theight: 396px;\r\n}\r\n\r\n.newmodal_prompt_with_textarea {\r\n\tdisplay: inline-block;\r\n\tpadding-top: 1px;\r\n\tpadding-bottom: 1px;\r\n\twidth: 500px;\r\n}\r\n\r\n.gray_bevel input, .gray_bevel textarea {\r\n\tborder: none;\r\n\toutline: none;\r\n\tbackground-color: rgba(0,0,0,0.2);\r\n\tborder: 1px solid #000;\r\n\tbox-shadow: 1px 1px 0 0 rgba( 91, 132, 181, 0.2 );\r\n\tfont-size: 13px;\r\n\tcolor: #BFBFBF;\r\n}\r\n\r\n.gray_bevel input:-moz-read-only, .gray_bevel textarea:-moz-read-only {\r\n\tbackground: transparent;\r\n\tborder: transparent;\r\n\tbox-shadow: none;\r\n\tcolor: #919191;\r\n}\r\n\r\n.gray_bevel input:read-only, .gray_bevel textarea:read-only {\r\n\tbackground: transparent;\r\n\tborder: transparent;\r\n\tbox-shadow: none;\r\n\tcolor: #919191;\r\n}\r\n\r\n.gray_bevel.fullwidth {\r\n\tdisplay: block;\r\n}\r\n\r\n.gray_bevel.fullwidth.for_text_input input, .gray_bevel.fullwidth textarea {\r\n\t/* narrow a bit to account for padding in the text area */\r\n\twidth: calc(100% - 8px);\r\n}\r\n\r\ninput.gray_bevel {\r\n\theight: 20px;\r\n}\r\n\r\ntextarea.gray_bevel, .gray_bevel textarea {\r\n\tresize: none;\r\n}\r\n\r\nselect.gray_bevel {\r\n\tbackground-color: #565658;\r\n\tborder-radius: 3px;\r\n\tborder: 1px solid #262627;\r\n\tbox-shadow: 1px 1px 0px #39393a;\r\n\tcolor: #BFBFBF;\r\n\r\n\tmargin-bottom: 6px;\r\n\toutline: none;\r\n\r\n\tpadding: 0px;\r\n\tline-height: 27px;\r\n\theight: 27px;\r\n\tfont-size: 14px;\r\n}\r\n\r\nselect.blueish {\r\n\tbackground-color: rgba( 255, 255, 255, 0.7 );\r\n\tcolor: #000;\r\n\tborder: 1px solid rgba( 255, 255, 255, 0.1 );\r\n\tborder-radius: 3px;\r\n\tbox-shadow: 1px 1px 0px #000;\r\n}\r\n\r\n.waiting_dialog_container\r\n{\r\n\tline-height: 32px;\r\n}\r\n\r\n.waiting_dialog_throbber\r\n{\r\n\twidth: 32px;\r\n\theight: 32px;\r\n\tbackground: url( 'https://community.akamai.steamstatic.com/public/images/login/throbber.gif' ) center center no-repeat;\r\n\tmargin-right: 5px;\r\n\tfloat: left;\r\n}\r\n\r\n.emoticon_hover {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tz-index: 1200;\r\n}\r\n\r\n.emoticon_hover_content {\r\n\tpadding: 6px 10px 6px 6px;\r\n\tbackground-color: #3b3938;\r\n\tborder: 1px solid #797979;\r\n\r\n\tmargin: 12px;\r\n\tbox-shadow: 0 0 12px #000000;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.emoticon_hover_content.client {\r\n\tmargin: 0;\r\n\tbox-shadow: none;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.emoticon_hover_content_inner {\r\n\tposition: relative;\r\n\tmin-height: 54px;\r\n\tpadding-left: 62px;\r\n\tfont-size: 13px;\r\n}\r\n\r\n.emoticon_hover_content_inner img.emoticon_large {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.emoticon_hover_title {\r\n\tpadding-top: 8px;\r\n\tcolor: #898989;\r\n}\r\n\r\n.emoticon_hover_desc {\r\n\tcolor: #686868;\r\n}\r\n\r\n.emoticon_hover_arrow {\r\n\twidth: 13px;\r\n\theight: 26px;\r\n\tbackground-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/popups/hover_arrow_both.gif' );\r\n\tbackground-repeat: no-repeat;\r\n\r\n\tposition: absolute;\r\n\ttop: 26px;\r\n}\r\n\r\n.emoticon_hover_arrow.left {\r\n\tbackground-position: left top;\r\n\r\n\tleft: 0;\r\n}\r\n\r\n.emoticon_hover_arrow.right {\r\n\tbackground-position: right top;\r\n\r\n\tright: 0;\r\n}\r\n\r\n\r\n\r\n/*\r\n * HEADER\r\n */\r\n\r\n/* apply 16px padding to the sides of all the page-wide divs to prevent content\r\n\tfrom touching the sides on small resolutions */\r\ndiv#footer, div#global_header, div#store_header, div#main, div.page_area {\r\n\tpadding-left: 16px;\r\n\tpadding-right: 16px;\r\n}\r\n\r\ndiv.page_content {\r\n\twidth: 940px;\r\n\tmargin: 0px auto;\r\n}\r\n\r\n\r\ndiv#global_header {\r\n\tbackground: #171a21;\r\n\tbackground-position: center top;\r\n\tmin-width: 940px;\r\n\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: normal; /* normal */\r\n\r\n\t\t\tfont-size: 14px;\r\n}\r\n\r\ndiv#global_header .content {\r\n\tbackground: #171a21;\r\n\tposition: relative;\r\n\twidth: 940px;\r\n\theight: 104px;\r\n\tmargin: 0px auto;\r\n\r\n\tz-index: 402;\r\n}\r\n\r\ndiv#global_actions {\r\n\tposition: absolute;\r\n\tright: 0px;\r\n\ttop: 6px;\r\n\r\n\theight: 21px;\r\n\tline-height: 21px;\r\n\r\n\tcolor: #b8b6b4;\r\n\tfont-size: 11px;\r\n\r\n\tz-index: 401;\r\n}\r\n\r\ndiv#global_actions a.global_action_link {\r\n\tpadding: 0 4px;\r\n}\r\n\r\ndiv#global_actions a.global_action_link, div.admin_actions a.global_action_link {\r\n\tcolor: #b8b6b4;\r\n}\r\n\r\ndiv#global_actions .global_action_link:hover, div.admin_actions .global_action_link:hover {\r\n\ttext-decoration: none;\r\n\tcolor: #ffffff;\r\n}\r\n\r\ndiv.admin_actions {\r\n\tposition: absolute;\r\n\tright: 0;\r\n\tbottom: 4px;\r\n\ttext-align: right;\r\n\tcolor: #b8b6b4;\r\n\tfont-size: 11px\r\n}\r\n\r\ndiv#global_actions #global_action_menu {\r\n\tline-height: 24px;\r\n\tvertical-align: top;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n#global_action_menu > * {\r\n\tvertical-align: top;\r\n}\r\n\r\ndiv#global_actions .user_avatar {\r\n\tdisplay: inline-block;\r\n\tmargin-left: 3px;\r\n}\r\n\r\ndiv#global_header div.logo {\r\n\tfloat: left;\r\n\tpadding-top: 30px;\r\n\tmargin-right: 40px;\r\n\twidth: 176px;\r\n\theight: 44px;\r\n}\r\n\r\ndiv#global_header .menuitem {\r\n\tdisplay: block;\r\n\tposition: relative;\r\n\r\n\tpadding-top: 45px;\r\n\tpadding-left: 7px;\r\n\tpadding-right: 7px;\r\n\tpadding-bottom: 7px;\r\n\tline-height: 16px;\r\n\r\n\tfloat: left;\r\n\tfont-size: 14px;\r\n\tcolor: #b8b6b4;\r\n\ttext-transform: uppercase;\r\n}\r\n\r\ndiv#global_header .menuitem.active, div#global_header .menuitem:hover {\r\n\tcolor: #ffffff;\r\n\ttext-decoration: none;\r\n}\r\n\r\ndiv#global_header .menuitem.active {\r\n\tbackground-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/header/globalheader_highlight.png' );\r\n\tbackground-repeat: repeat-x;\r\n}\r\n\r\ndiv#global_header .activebg {\r\n\tdisplay: none;\r\n}\r\n\r\n#header_wallet_balance {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n#header_wallet_ctn {\r\n\ttext-align: right;\r\n\tpadding-right: 15px;\r\n\tline-height: normal;\r\n}\r\n\r\n#language_pulldown, #account_pulldown {\r\n\tdisplay: inline-block;\r\n\tpadding-left: 4px;\r\n\tline-height: 25px;\r\n}\r\n\r\n#language_pulldown.focus, #account_pulldown.focus {\r\n\tcolor: #ffffff;\r\n}\r\n\r\n#account_dropdown > .popup_body {\r\n\twidth: 150px;\r\n}\r\n\r\n.header_installsteam_btn {\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\theight: 21px;\r\n\tline-height: 24px;\r\n\tmargin-right: 3px;\r\n}\r\n\r\n.header_installsteam_btn_green .header_installsteam_btn_leftcap, .header_installsteam_btn_green .header_installsteam_btn_rightcap, .header_installsteam_btn_green .header_installsteam_btn_content {\r\n\tbackground-color: #5c7e10;\r\n}\r\n\r\n.header_installsteam_btn_gray .header_installsteam_btn_leftcap, .header_installsteam_btn_gray .header_installsteam_btn_rightcap, .header_installsteam_btn_gray .header_installsteam_btn_content {\r\n\tbackground-color: #616a72;\r\n}\r\n\r\n.header_installsteam_btn_content {\r\n\tdisplay: inline-block;\r\n\tpadding-left: 35px;\r\n\tpadding-right: 9px;\r\n\tbackground-position: 10px 5px;\r\n\r\n\tbackground-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/header/btn_header_installsteam_download.png?v=1' );\r\n\tbackground-repeat:\tno-repeat;\r\n\ttext-decoration: none;\r\n\tcolor: #e5e4dc;\r\n\tfont-weight: normal;\r\n}\r\n\r\n.header_installsteam_btn_content:hover {\r\n\ttext-decoration: none;\r\n\tcolor: #ffffff;\r\n}\r\n\r\n.global_header_toggle_button {\r\n\tdisplay: inline-block;\r\n\tline-height: 24px;\r\n\tmargin: 0 3px 0 8px;\r\n\tcursor: pointer;\r\n\tbackground-color: #262625;\r\n}\r\n\r\n.global_header_toggle_button:hover,\r\n.global_header_toggle_button.focus {\r\n\tbackground-color: #575451;\r\n}\r\n\r\n/* make sure we override any global a styles on the site */\r\n.global_header_toggle_button,\r\na.global_header_toggle_button,\r\na.global_header_toggle_button:hover {\r\n\tcolor: #ffffff;\r\n\tfont-weight: normal;\r\n\tfont-size: 12px;\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: bold; /* bold */\r\n\r\n\t\t}\r\n\r\n.global_header_toggle_button.green,\r\n.global_header_toggle_button.has_notifications {\r\n\tbackground-color: #5c7e10;\r\n}\r\n\r\n.global_header_toggle_button.green:hover,\r\n.global_header_toggle_button.green.focus,\r\n.global_header_toggle_button.has_notifications:hover,\r\n.global_header_toggle_button.has_notifications.focus {\r\n\tbackground-color: #7ea64b;\r\n}\r\n\r\n.global_header_toggle_button.red {\r\n\tbackground-color: #9a3130;\r\n}\r\n\r\n.global_header_toggle_button.red:hover,\r\n.global_header_toggle_button.red.focus {\r\n\tbackground-color: #d75a5a;\r\n}\r\n\r\n.global_header_toggle_button.yellow {\r\n\tbackground-color: #bb9d2f;\r\n}\r\n\r\n.global_header_toggle_button.yellow:hover,\r\n.global_header_toggle_button.yellow.focus {\r\n\tbackground-color: #c1a643;\r\n}\r\n\r\n.global_header_account_alert {\r\n\tfont-weight: bold;\r\n\tpadding: 0 54px;\r\n}\r\n\r\na.global_header_account_alert:hover {\r\n\tcolor: #ffffff;\r\n}\r\n\r\n\r\ndiv#global_header .menuitem_new\r\n{\r\n\tposition: absolute;\r\n\ttop: 27px;\r\n\tfont-size: 11px;\r\n\tcolor: #85b0df\r\n}\r\n\r\ndiv#global_header .submenuitem\r\n{\r\n\ttext-decoration: none;\r\n\ttext-transform: uppercase;\r\n\tfont-size: 11px;\r\n\tcolor: #b8b6b4;\r\n\tpadding-right: 10px;\r\n}\r\n\r\ndiv#global_header .submenuitem.active, div#global_header .submenuitem:hover\r\n{\r\n\ttext-decoration: none;\r\n\tcolor: #ffffff;\r\n}\r\n\r\ndiv#global_header .submenuitem.moderator\r\n{\r\n\tcolor: #b80000;\r\n}\r\n\r\ndiv#global_header .submenuitem.active.moderator, div#global_header .submenuitem.moderator:hover\r\n{\r\n\tcolor: #ff0000;\r\n}\r\n\r\n.community_sub_nav\r\n{\r\n\tposition: absolute;\r\n\tleft: 7px;\r\n\ttop: 65px;\r\n\twidth: 650px;\r\n\tfont-size: 14px;\r\n}\r\n\r\n.menuitem.username {\r\n\tmax-width: 250px;\r\n\ttext-overflow: ellipsis;\r\n\toverflow: hidden;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n#global_header .supernav_container {\r\n\tposition: absolute;\r\n\tleft: 200px\r\n}\r\n\r\n.supernav_content {\r\n\tmax-width: 132px;\r\n\tbackground: #000 url(https://store.st.dl.pinyuncloud.com/public/shared/images/dd_web.jpg) top left no-repeat;\r\n\tpadding: 5px 15px 10px 15px;\r\n\tbox-shadow: 3px 3px 5px -3px #000;\r\n\ttext-align: left;\r\n\tz-index: 500;\r\n}\r\n\r\n.supernav_content a.submenuitem {\r\n\tdisplay: block;\r\n\tpadding: 6px 0;\r\n\ttext-transform: uppercase;\r\n\tfont-size: 12px;\r\n}\r\n\r\n.supernav_content a.submenuitem:hover {\r\n\tcolor: #4897cf;\r\n\ttext-decoration: none;\r\n}\r\n\r\n/* -------------- paging controls -------------*/\r\n.pagebtn, a.pagebtn {\r\n\tdisplay: inline-block;\r\n\tline-height: 24px;\r\n\tbackground-color: rgba( 103, 193, 245, 0.2 );\r\n\tborder: 1px transparent;\r\n\tborder-radius: 3px;\r\n\tcursor: pointer;\r\n\tpadding: 0px 16px;\r\n\tcolor: #66c0f4;\r\n}\r\n\r\n.pagebtn:not(.disabled):hover, a.pagebtn:not(.disabled):hover {\r\n\tbackground-color: #66c0f4;\r\n\tborder-color: #66c0f4;\r\n\tcolor: #fff;\r\n\ttext-decoration: none;\r\n}\r\n\r\n.pagebtn.disabled, .pagebtn.disabled:hover, a.pagebtn.disabled, a.pagebtn.disabled:hover {\r\n\tcursor: default;\r\n\topacity: 0.2;\r\n}\r\n\r\na.pagelink:hover {\r\n\ttext-decoration: underline;\r\n\tcolor: #ffffff;\r\n}\r\n\r\n\r\n/* steam inbox */\r\n\r\n\r\n/* notification box */\r\n\r\n#header_notification_area {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.header_notification_btn {\r\n\tpadding: 0 8px;\r\n}\r\n\r\n.header_notification_btn.has_notifications .header_notification_envelope {\r\n\tmargin-left: 4px;\r\n}\r\n\r\n.header_notification_btn.no_notifications .notification_count {\r\n\tdisplay: none;\r\n}\r\n\r\n.header_notification_btn.has_notifications {\r\n}\r\n\r\n#header_notification_dropdown .popup_menu {\r\n\tpadding: 2px;\r\n}\r\n\r\n#header_notification_dropdown .popup_menu_item {\r\n\tline-height: 36px;\r\n\tpadding: 0px 8px 0px 8px;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: left center;\r\n\tcolor: #bfbfbf;\r\n}\r\n\r\n#header_notification_dropdown .popup_menu_item:hover {\r\n\tcolor: #ffffff;\r\n\tbackground-color: #373d44;\r\n}\r\n\r\n#header_notification_dropdown .popup_menu_item.active_inbox_item {\r\n\tcolor: #70ba24;\r\n}\r\n\r\n.notification_ctn.hide_when_empty:not(.active_inbox_item) {\r\n\tdisplay: none;\r\n}\r\n\r\n.header_notification_dropdown_seperator {\r\n\theight: 1px;\r\n\tbackground-color: #262a31;\r\n}\r\n\r\n.notification_icon {\r\n\tdisplay: inline-block;\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tvertical-align: middle;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: center;\r\n\tmargin-right: 16px;\r\n\tposition: relative;\r\n\ttop: -2px;\r\n\r\n\tbackground-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/header/inbox_icons_sprite.png' );\r\n}\r\n\r\n.header_notification_comments .notification_icon {\r\n\tbackground-position: 0 0;\r\n}\r\n\r\n.header_notification_items .notification_icon {\r\n\tbackground-position: 0 -16px;\r\n}\r\n\r\n.header_notification_invites .notification_icon {\r\n\tbackground-position: 0 -32px;\r\n}\r\n\r\n.header_notification_gifts .notification_icon {\r\n\tbackground-position: 0 -48px;\r\n}\r\n\r\n.header_notification_offlinemessages .notification_icon {\r\n\tbackground-position: 0 -64px;\r\n}\r\n\r\n/* these are shown conditionally so not a big deal that they aren't in the sprite */\r\n.header_notification_tradeoffers .notification_icon {\r\n\tbackground-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/header/inbox_tradeoffers.png' );\r\n}\r\n\r\n.header_notification_asyncgame .notification_icon {\r\n\tbackground-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/header/inbox_async_game.png' );\r\n}\r\n\r\n.header_notification_asyncgameinvite .notification_icon {\r\n\tbackground-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/header/inbox_async_game_invite.png' );\r\n}\r\n\r\n/* re-uses comment icon */\r\n.header_notification_moderatormessage .notification_icon,\r\n.header_notification_helprequestreply .notification_icon {\r\n\tbackground-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/header/inbox_moderator_message.png' );\r\n}\r\n\r\n.header_parental_btn {\r\n\tpadding: 0 12px;\r\n\twidth: 23px;\r\n\tbackground-image: url( 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAbCAYAAABm409WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAaBJREFUeNrsls1LVkEUxn+v70sZCgXtEwVp405EoXbhHyDixoW6Fdy7adHejeAmCARx2aYoIoI2BYqCICJSuHkjdCGWSLyJ+PFzM8LlOvdDVITogeHMnWfmPsw5Z85MReUm0cQN498W6ACmgBWgDrwFRi6toMZap1o3jim1krHuQssi3puPp2UFYi5qBboLNv4k2CowAXwGPgGj6Ym1yOJaieDfCfYF8Dwx3h9EZ/OC3AB2CgTqwQ5GuPGiLKqW2EE12MMId1QkUAlxyENLjkCjSOAAWMr5+TGwmCOwX+YctKm/MlJ0Wm0K80ZS3KnaV5SmAD+ArQxuGTgN/S/AXoLbBNbKlooZ4CQ1tg58TGXT68T3O+BvGRehPlD/pFwwF7h7arc6rG4k+FV1SO0qKhWoA+pJSmBBfaiOqV/Vw4w4Hatv1EeVxI12H+gLZaI/9JsjrtsOWbYA/AR6Qrm4G5n74VzgGfAKaL9kMT4AXgLfgMnEATzHb4IvG14Ns2qz2pJuqPNeDx7HYlkDOoFd4CrPiyrQC3y/UHf+P1tuXeBsANSRhdSBmnm8AAAAAElFTkSuQmCC' );\r\n\tbackground-position: center;\r\n\tbackground-repeat: no-repeat;\r\n}\r\n\r\n.header_parental_btn img {\r\n\tvertical-align: middle;\r\n}\r\n\r\n#header_parental_link.header_parental_btn {\r\n\tcursor: pointer;\r\n}\r\n\r\n#header_parental_link.header_parental_locked:hover, .header_parental_locked.focus {\r\n\tbackground-position: 0 -86px;\r\n}\r\n\r\n#header_parental_link.header_parental_unlocked:hover, .header_parental_unlocked:focus {\r\n\tbackground-position: 0 -28px;\r\n}\r\n\r\n.header_parental_unlocked {\r\n\tbackground-position: 0 1px;\r\n}\r\n\r\n.header_parental_locked {\r\n\tbackground-position: 0 -57px;\r\n}\r\n\r\n/* dynamic links */\r\n.dynamiclink_box {\r\n\tposition: relative;\r\n\tfont-family: Helvetica, Arial, sans-serif;\r\nbackground: -webkit-linear-gradient( 30deg, rgba(87, 92, 104, 0.3) 5%,rgba(255,255,255,0.05) 95%);\r\n\tbackground: linear-gradient( 60deg, rgba(87, 92, 104, 0.3) 5%,rgba(255,255,255,0.05) 95%);\r\n\tborder-radius: 6px;\r\n\tpadding: 8px;\r\n\tmargin: 10px 0px 10px 0px;\r\n\r\n\tcursor: pointer;\r\n\toverflow: hidden;\r\n}\r\n\r\na.dynamiclink_box {\r\n\tdisplay: block;\r\n\ttext-decoration: none !important;\r\n}\r\n\r\n.dynamiclink_box.noPopup\r\n{\r\n\tcursor: default;\r\n}\r\n\r\n.dynamiclink_box.newspost .dynamiclink_description {\r\n\tpadding-top: 10px;\r\n}\r\n\r\n.dynamiclink_box:hover {\r\n\tborder-color: #97C0E3;\r\n}\r\n\r\nimg.dynamiclink_preview {\r\n\tfloat: left;\r\n\tmargin-right: 14px;\r\n\tmax-height: 88px;\r\n\tmax-width: 75%;\r\n}\r\n.dynamiclink_content {\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 300; /* light */\r\n\r\n\t\t\tcolor: rgb( 192, 192, 192 );\r\n\ttext-shadow: 0 0 16px rgb( 0, 0, 0 );\r\n\tfont-size: 13px;\r\n\tline-height: normal;\r\n\ttext-align: left;\r\n\tdisplay: flow-root;\r\n}\r\n.dynamiclink_name {\r\n\tfont-size: 15px;\r\n\tcolor: #aad8ec;\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 300; /* light */\r\n\r\n\t\t\tborder-bottom: 1px dotted rgba( 109, 207, 246, .6 );\r\n\tpadding-bottom: 0px;\r\n\tdisplay: inline-block;\r\n\tmargin-bottom: 6px;\r\n}\r\n.dynamiclink_name .dynamiclink_type {\r\n\tcolor: #c6d4df;\r\n}\r\n.dynamiclink_type {\r\n\tcolor: #c6d4df;\r\n}\r\n\t.dynamiclink_type a {\r\n\t\tcolor: #c6d4df;\r\n\t\ttext-decoration: underline;\r\n\t}\r\n\t.dynamiclink_type a:hover {\r\n\t\tcolor: #ffffff;\r\n\t\ttext-decoration: underline;\r\n\t}\r\n.dynamiclink_author {\r\n\tmin-height: 16px;\r\n\tfont-size: 12px;\r\n\tcolor: #95a6b2;\r\n\tmargin-bottom: 4px;\r\n}\r\n\t.dynamiclink_author a {\r\n\t\tcolor: #c6d4df;\r\n\t\ttext-decoration: underline;\r\n\t}\r\n\t.dynamiclink_author a:hover {\r\n\t\tcolor: #ffffff;\r\n\t\ttext-decoration: underline;\r\n\t}\r\n\t.dynamiclink_author span {\r\n\t\tcolor: #809fb7;\r\n\t}\r\n\t.dynamiclink_author img.app_icon {\r\n\t\tvertical-align: top;\r\n\t\tpadding-right: 5px;\r\n\t\theight: 16px;\r\n\t}\r\n.dynamiclink_url {\r\n\tmargin-top: 8px;\r\n}\r\n.dynamiclink_url a {\r\n\tcolor: #ffffff;\r\n\ttext-decoration: none;\r\n}\r\n.dynamiclink_url a:hover {\r\n\tcolor: #7bb7e3;\r\n\ttext-decoration: underline;\r\n}\r\n.dynamiclink_url a, .dynamiclink_authorname {\r\n\tcolor: #ffffff;\r\n}\r\n\r\n.dynamiclink_app {\r\n\tmin-height: 16px;\r\n\tfont-size: 12px;\r\n\tcolor: #95a6b2;\r\n\tmargin-bottom: 4px;\r\n}\r\n\t.dynamiclink_app a {\r\n\t\tcolor: #c6d4df;\r\n\t}\r\n\t.dynamiclink_app a:hover {\r\n\t\tcolor: #ffffff;\r\n\t\ttext-decoration: underline;\r\n\t}\r\n\t.dynamiclink_app span {\r\n\t\tcolor: #809fb7;\r\n\t}\r\n\t.dynamiclink_app img.app_icon {\r\n\t\tvertical-align: top;\r\n\t\tpadding-right: 5px;\r\n\t\theight: 16px;\r\n\t}\r\n\r\n.dynamiclink_youtubeviewvideoembedded {\r\n\tposition: relative;\r\n\tpadding-bottom: 56.25%; /* 16:9 */\r\n\tpadding-top: 25px;\r\n\theight: 0;\r\n}\r\n\r\n.dynamiclink_sketchfabmodelembedded {\r\n\tposition: relative;\r\n\tpadding-bottom: 56.25%; /* 16:9 */\r\n\tpadding-top: 25px;\r\n\theight: 0;\r\n}\r\n\r\n.dynamiclink_youtubeviewvideoembedded iframe {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.dynamiclink_youtubeviews {\r\n\tpadding-top: 4px;\r\n\tpadding-bottom: 4px;\r\n\tcolor: #bfbfbf;\r\n}\r\n\r\n.dynamiclink_sketchfabmodelembedded {\r\n\tposition: relative;\r\n\tpadding-bottom: 56.25%; /* 16:9 */\r\n\tpadding-top: 25px;\r\n\theight: 0;\r\n}\r\n.dynamiclink_sketchfabmodelembedded iframe {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\nimg.dynamiclink_sketchfab_play_overlay_image\r\n{\r\n\tposition: absolute;\r\n\tleft: 83px;\r\n\tmargin-left: -25px;\r\n\ttop: 50%;\r\n\tmargin-top: -25px;\r\n\twidth: 50px;\r\n\theight: 50px;\r\n}\r\n\r\n.dynamiclink_pointsshopitem {\r\n\r\n}\r\n.dynamiclink_pointsshopitem .dynamiclink_itemtype {\r\n\tpadding-bottom: 2px;\r\n}\r\n\r\n/* blur capsule images for games with adult content if the user has opted out of seeing them*/\r\n.app_has_adult_content {\r\n\toverflow: hidden;\r\n}\r\n.app_has_adult_content img.game_capsule {\r\n\tfilter: blur( 30px );\r\n}\r\n\r\n/* ugc with adult content */\r\n.ugc.has_adult_content\r\n{\r\n\toverflow: hidden;\r\n}\r\n.ugc.has_adult_content img,\r\n.ugc.has_adult_content div.imgWallItem\r\n{\r\n\tfilter: blur( 30px );\r\n}\r\n.ugc.banned.has_adult_content img,\r\n.ugc.banned.has_adult_content.profile_media_item\r\n{\r\n\tbox-shadow: inset 0px 0px 1px 1px #ff0000;\r\n}\r\n.ugc.has_adult_content.internet_explorer\r\n{\r\n\tbackground-color: black;\r\n}\r\n.ugc.has_adult_content.internet_explorer img\r\n{\r\n\topacity: 0;\r\n\tfilter: none;\r\n}\r\n\r\n.ugc.has_adult_content.internet_explorer div.imgWallItem\r\n{\r\n\tfilter: none;\r\n\topacity: 0.05;\r\n}\r\n\r\n.ugc.has_adult_content .workshopItemDetails,\r\n.ugc.has_adult_content .myguide_showcase_item\r\n{\r\n\topacity: 0.25;\r\n}\r\n\r\n.ugc.has_adult_content.ugc_show_warning_image::after\r\n{\r\n\tcontent: \"\";\r\n\tbackground: url( https://store.st.dl.pinyuncloud.com/public/shared/images/ico/icon_content_warning.png ) center center no-repeat;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tpointer-events: none;\r\n}\r\n.ugc.has_adult_content.dynamiclink_box::after\r\n{\r\n\twidth: 88px;\r\n}\r\n\r\n.ugc .ugc_warning\r\n{\r\n\tdisplay: none;\r\n}\r\n.ugc.has_adult_content .ugc_warning\r\n{\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\ttop: 12%;\r\n\tleft: 0;\r\n\tfont-size: 0.75em;\r\n\tvertical-align: top;\r\n\ttext-align: center;\r\n\tcolor: #ffffff;\r\n\tbackground-color: rgba(0,0,0,0.25);\r\n\tpadding-top: 10px;\r\n\tpadding-bottom: 10px;\r\n}\r\n.ugc.has_adult_content .ugc_warning:hover\r\n{\r\n\tcolor: #ffffff;\r\n}\r\n.ugc.has_adult_content .ugc_warning.large\r\n{\r\n\tfont-size: 1.25em;\r\n}\r\n\r\n.ugc.has_adult_content .ugc_warning .ugc_inline_option\r\n{\r\n\tdisplay: inline-block;\r\n\ttext-decoration: underline;\r\n}\r\n.ugc.has_adult_content .ugc_warning .ugc_inline_option:hover\r\n{\r\n\tcolor: #66C0F4;\r\n}\r\n\r\n.ugc.has_adult_content .ugc_warning .ugc_warning_image\r\n{\r\n\tmargin-top: 5px;\r\n\tbackground: url( https://store.st.dl.pinyuncloud.com/public/shared/images/ico/icon_content_warning.png ) center center no-repeat;\r\n\twidth: 100%;\r\n\theight: 36px;\r\n\tpointer-events: none;\r\n}\r\n\r\n/* ugc_options defines the per-ugc preferences dropdown */\r\n.ugc_options {\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\r\n\ttop: 0px;\r\n\tright: -5px;\r\n\tcursor: pointer;\r\n\topacity: 0;\r\n\tpadding: 5px 5px 0 0;\r\n\ttransition: opacity 0.2s, right 0.2s;\r\n\tz-index: 5;\r\n}\r\n\r\n.ugc_options > div {\r\n\twidth: 15px;\r\n\theight: 15px;\r\n\r\n\tbackground-color: rgba(54,97,125,1);\r\n\tbackground-image: url('https://store.st.dl.pinyuncloud.com/public/shared/images/v6/icon_expand.png');\r\n\tbackground-position: 4px 4px;\r\n\tborder-radius: 3px;\r\n\tbackground-repeat: no-repeat;\r\n\tbox-shadow: 0 0 3px #000;\r\n}\r\n\r\n.ugc_options:hover > div {\r\n\tbackground-color: #67c1f5;\r\n\tcolor: #fff;\r\n\tbackground-image: url('https://store.st.dl.pinyuncloud.com/public/shared/images/v6/icon_expand_white.png');\r\n}\r\n\r\n*:hover > .ugc_options, .ugc_hover.ugc_options {\r\n\topacity: 1;\r\n\tright: 0px;\r\n}\r\n\r\n.ugc_options_tooltip {\r\nbackground: -webkit-linear-gradient( top, #e3eaef 5%, #c7d5e0 95%);\r\n\tbackground: linear-gradient( to bottom, #e3eaef 5%, #c7d5e0 95%);\r\n\tpadding: 2px 8px;\r\n\tcolor: #fff;\r\n\tborder-radius: 3px;\r\n\tbox-shadow: 0 0 3px #000;\r\n}\r\n\r\n.ugc_options_tooltip > .option  {\r\n\tmargin: 5px 0;\r\n\tdisplay: block;\r\n\tcursor: pointer;\r\n\tbackground-color: rgba(0,0,0,0.1);\r\n\tborder-radius: 2px;\r\n\tpadding: 4px 8px;\r\n\tline-height: normal;\r\n\tfont-size: 11px;\r\n\tcolor: #407898;\r\n}\r\n.ugc_options_tooltip > .option:hover {\r\n\tcolor: #ffffff;\r\n\tbackground-color: #67c1f5;\r\n}\r\n\r\n\r\n\r\n.adult_content_age_gate_dialog {\r\n\ttext-align: center;\r\n\tmargin-bottom: 10px;\r\n}\r\n.adult_content_age_gate_dialog img {\r\n\twidth: 292px;\r\n}\r\n\r\n.adult_content_age_gate {\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 300; /* light */\r\n\r\n\t\t\ttext-align: center;\r\n\tmax-width: 940px;\r\n\tmargin: 0 auto;\r\n\r\n\tcolor: #ffffff;\r\n\tfont-size: 14px;\r\n\tline-height: 20px;\r\n\tpadding: 88px 5% 0 5%;\r\n}\r\n\r\n.adult_content_age_gate img {\r\n\tmax-width: 100%;\r\n\tbox-shadow: 0 0 40px rgba(102, 192, 244, 0.4);\r\n}\r\n\r\n.adult_content_age_gate p {\r\n\tpadding: 26px 0;\r\n\tfont-size: 18px;\r\n\tline-height: 26px;\r\n}\r\n\r\n.adult_content_age_gate p.descriptor {\r\n\tpadding-top: 5px;\r\n}\r\n\r\n.adult_content_age_gate p.descriptor span {\r\n\ttext-decoration: underline #7092a5;\r\n}\r\n.adult_content_age_gate label {\r\n\tvertical-align: text-bottom;\r\n}\r\n\r\n.adult_content_age_gate .edit_preferences {\r\n\tborder-top: 1px solid #779abc;\r\n\tmargin-top: 80px;\r\n\tpadding-top: 20px;\r\n\tpadding-bottom: 100px;\r\n}\r\n\r\n.adult_content_age_gate #ViewAllForApp {\r\n\tmargin-top: 20px;\r\n\tmargin-bottom: 20px;\r\n}\r\n\r\n.adult_content_age_gate .edit_preferences a {\r\n\ttext-decoration: underline;\r\n}\r\n.adult_content_age_gate .edit_preferences a:hover {\r\n\tcolor: #66c0f4;\r\n}\r\n\r\n.jsTooltip {\r\n\tbackground-color: #c2c2c2;\r\n\tpadding: 5px;\r\n\tborder-radius: 2px;\r\n\tbox-shadow: 0 0 3px #000;\r\n\tmax-width: 225px;\r\n\tcolor: #3d3d3f;\r\n\tfont-size: 11px;\r\n\ttext-align: left;\r\n}\r\n\r\n.Tooltip_mark {\r\n\tfont-size: 11px;\r\n}\r\n\r\n/* early access tag on reviews*/\r\n.early_access_review\r\n{\r\n\tbackground-color: #4d6c8b;\r\n\tborder: 1px solid #779abc;\r\n\ttext-transform: uppercase;\r\n\tfont-family: arial;\r\n\tfont-size: 11px;\r\n\tcolor: #9ac7f3;\r\n\tpadding: 1px 4px 0px 4px;\r\n\tmargin-bottom: 10px;\r\n\tmargin-right: 4px;\r\n\tdisplay: inline-block;\r\n\tcursor: default;\r\n\tline-height: 13px;\r\n}\r\n\r\n/* pre release tag on reviews*/\r\n.pre_release_review\r\n{\r\n\tbackground-color: #8b734d;\r\n\tborder: 1px solid #bca177;\r\n\ttext-transform: uppercase;\r\n\tfont-family: arial;\r\n\tfont-size: 11px;\r\n\tcolor: #dabb8a;\r\n\tpadding: 1px 4px 0px 4px;\r\n\tmargin-bottom: 10px;\r\n\tdisplay: inline-block;\r\n\tcursor: default;\r\n\tline-height: 13px;\r\n}\r\n\r\n/* shared bbcode styles */\r\n\r\nspan.bb_spoiler {\r\n\tcolor: #000000;\r\n\tbackground-color: #000000;\r\n\r\n\tpadding: 0px 8px;\r\n}\r\n\r\nspan.bb_spoiler:hover {\r\n\tcolor: #ffffff;\r\n}\r\n\r\nspan.bb_spoiler > span {\r\n\tvisibility: hidden;\r\n}\r\n\r\nspan.bb_spoiler:hover > span {\r\n\tvisibility: visible;\r\n}\r\n\r\nblockquote.bb_blockquote, .bb_wysiwyg blockquote {\r\n\tborder: 1px solid #56707f;\r\n\tborder-radius: 3px;\r\n\tpadding: 12px;\r\n\tmargin: 8px;\r\n\r\n\tfont-size: 92%;\r\n    display: table;\r\n    word-break: break-word;\r\n}\r\n.forumtopic_answer .answer_quote blockquote.bb_blockquote, .bb_wysiwyg blockquote {\r\n    border: 1px solid #457592;\r\n}\r\n\r\nblockquote.bb_blockquote.with_author {\r\n}\r\n\r\ndiv.bb_quoteauthor {\r\n\tfont-size: 92%;\r\n\tfont-style: italic;\r\n}\r\n\r\ndiv.bb_h1, .bb_wysiwyg h1 {\r\n\tfont-size: 20px;\r\n\tline-height: 23px;\r\n\tcolor: #5aa9d6;\r\n\tfont-weight: normal;\r\n    margin-bottom: 10px;\r\n    clear: both;\r\n}\r\ndiv.bb_h2, .bb_wysiwyg h2 {\r\n\tcolor: #5aa9d6;\r\n\tmargin-bottom: 6px;\r\n\tmargin-top: 8px;\r\n\tfont-size: 18px;\r\n\tline-height: 21px;\r\n\tfont-weight: 400;\r\n\tclear:both;\r\n}\r\ndiv.bb_h3, .bb_wysiwyg h3 {\r\n\tcolor: #5aa9d6;\r\n\tmargin-bottom: 6px;\r\n\tmargin-top: 8px;\r\n\tfont-size: 16px;\r\n\tline-height: 19px;\r\n\tfont-weight: 300;\r\n\tclear:both;\r\n}\r\n\r\n\r\nspan.bb_strike {\r\n\ttext-decoration: line-through;\r\n}\r\n\r\ndiv.bb_pullquote {\r\n    font-size: 18px;\r\n    font-weight: 600;\r\n}\r\n\r\nspan.bb_link_host {\r\n\tfont-size: 10px;\r\n\tcolor: #7e8391;\r\n\tpadding: 4px;\r\n\ttop: -1px;\r\n}\r\n\r\ndiv.bb_code, .bb_wysiwyg pre {\r\n\tborder: 1px solid #535354;\r\n\tborder-radius: 3px;\r\n\tpadding: 12px;\r\n\tmargin: 8px;\r\n\r\n\tfont-size: 11px;\r\n\tfont-family: Consolas,monospace;\r\n\twhite-space: pre;\r\n\twhite-space: pre-wrap;\r\n\toverflow-x: auto;\r\n}\r\n\r\nspan.bb_removedlink {\r\n\tcolor: #56707f;\r\n\tfont-weight: normal;\r\n\tfont-size: 80%;\r\n}\r\n\r\ndiv.bb_table\r\n{\r\n\tdisplay: table;\r\n\tfont-size: 12px;\r\n}\r\n\r\ndiv.bb_table div.bb_table_th\r\n{\r\n\tdisplay: table-cell;\r\n\tfont-weight: bold;\r\n\tborder: 1px solid #4d4d4d;\r\n\tpadding: 4px;\r\n}\r\n\r\ndiv.bb_table div.bb_table_th img.sharedFilePreviewImage\r\n{\r\n\tmargin: 0px;\r\n}\r\n\r\ndiv.bb_table div.bb_table_tr\r\n{\r\n\tdisplay: table-row;\r\n}\r\n\r\ndiv.bb_table div.bb_table_td\r\n{\r\n\tdisplay: table-cell;\r\n\tvertical-align: middle;\r\n\tborder: 1px solid #4d4d4d;\r\n\tpadding: 4px;\r\n}\r\n\r\ndiv.bb_table div.bb_table_td img.sharedFilePreviewImage\r\n{\r\n\tmargin: 0px;\r\n}\r\n\r\nvideo.bb_video {\r\n\twidth: 100%;\r\n}\r\n.bb_ul > li {\r\n    list-style-position: outside;\r\n}\r\n\r\n/* V6 */\r\n\r\nbody.v6 .store_nav .popup_block_new .popup_body, body.v6 #footer_nav .popup_block_new .popup_body {\r\n    border: none;\r\n    position: relative;\r\n    background: #417A9B;\r\n}\r\n\r\nbody.v6 .store_nav .popup_menu_subheader,\r\nbody.v6 #footer_nav .popup_menu_subheader{\r\n    color: #13242e;\r\n}\r\nbody.v6 .store_nav .popup_menu .hr,\r\nbody.v6 #footer_nav .popup_menu .hr{\r\n    background-color: #33627d;\r\n\tmargin: 5px 0px 5px 0px;\r\n}\r\n\r\n/*\r\n * DYNAMIC STORE - ownership styling\r\n */\r\n\r\n.ds_flag {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 14px;\r\n\tfont-size: 10px;\r\n\tcolor: #111111;\r\n    box-shadow: 0 0 10px rgba(0,0,0,0.9);\r\n\r\n\theight: 18px;\r\n\tline-height: 19px;\r\n\tpadding: 0 0 0 18px;\r\n\twhite-space: nowrap;\r\n\tz-index: 5;\r\n}\r\n.store_main_capsule .ds_flag {\r\n    top: 42px;\r\n}\r\n.broadcast_capsule .ds_flag {\r\n    top: 28px;\r\n}\r\n\r\n.ds_flag.ds_owned_flag {\r\n\tbackground: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUNDNzBFNTUyMUM0MTFFNDk1REVFODRBNUU5RjA2MUYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUNDNzBFNTYyMUM0MTFFNDk1REVFODRBNUU5RjA2MUYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5Q0M3MEU1MzIxQzQxMUU0OTVERUU4NEE1RTlGMDYxRiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5Q0M3MEU1NDIxQzQxMUU0OTVERUU4NEE1RTlGMDYxRiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv3vUKAAAAAlSURBVHjaYvz//z8DsYARpFhISAivjnfv3jGSp3jUGeQ4AyDAADZHNe2nyOBrAAAAAElFTkSuQmCC') no-repeat 4px 4px #4F95BD;\r\n}\r\n\r\n.ds_flag.ds_wishlist_flag {\r\n\tbackground: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTM3OEVDNTUyMUM0MTFFNDgxN0ZEN0MzNjYzNzcxOTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTM3OEVDNTYyMUM0MTFFNDgxN0ZEN0MzNjYzNzcxOTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBMzc4RUM1MzIxQzQxMUU0ODE3RkQ3QzM2NjM3NzE5NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBMzc4RUM1NDIxQzQxMUU0ODE3RkQ3QzM2NjM3NzE5NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Ps9jzFQAAACPSURBVHjaYvz//z+DkJDQdQYGhpsMCMAKxMZAHPXu3bt9cFGQYkFBwQ0gGoaBfAEgzgfibUDsBxNnYsAOfgKxJBBvAeIZMEEWZBVA52xA5gOdUAEUc8NQDBTkBEoGMOAByCYLAjUsRzM5AKtioMQzIEW0ydjcHIBTMSE3M0Ij5RKQfQ6HGiOgIXogBkCAAQDGVT+0v+n6EQAAAABJRU5ErkJggg==') no-repeat 4px 4px #d3deea;\r\n}\r\n\r\n.ds_flag.ds_incart_flag {\r\n\tbackground: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTc2NkExNDUyMUM0MTFFNDlBMDZDN0ZDMTM1QUM0QzYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTc2NkExNDYyMUM0MTFFNDlBMDZDN0ZDMTM1QUM0QzYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBNzY2QTE0MzIxQzQxMUU0OUEwNkM3RkMxMzVBQzRDNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBNzY2QTE0NDIxQzQxMUU0OUEwNkM3RkMxMzVBQzRDNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pmidn20AAADOSURBVHjajM+9DgFBEMDx9dUJuYtESaHRKEhoVHqPoeJFdBLvoFNpJER0RENEobhCRCkXXxXF+Y/MyTYSk/wys5O5vdmI4zgDY0wVfVzN73hFgiAwruu2ORQxRRMjHWhgpnU3rsUKZWysLFHQOoFTOCyNGvJwNUtktC5hG5WO7/sv0hkLeJzngnqv+Yn1Z2cJ9u6RKvIQ3PTmJB5IoxW3XrvUfY9W76J5yB88e3iCOsbYaS+GTviRPZzFHSluOehq8nt5V07O353/ibcAAwA8yD/9PofkFwAAAABJRU5ErkJggg==') no-repeat 4px 4px #A3CF06;\r\n}\r\n\r\n.ds_flag.ds_ignored_flag {\r\n\tbackground: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAAEV95QVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0NBQzI5M0RBQkU4MTFFODkwMjRCQUUxMEY4RjAzOTkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0NBQzI5M0VBQkU4MTFFODkwMjRCQUUxMEY4RjAzOTkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3Q0FDMjkzQkFCRTgxMUU4OTAyNEJBRTEwRjhGMDM5OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3Q0FDMjkzQ0FCRTgxMUU4OTAyNEJBRTEwRjhGMDM5OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhYgdgsAAAC0SURBVHjaYmBAA1MAAghEbAQzAQIIxloAxDwAAQTiRAHx9v///zMwARmOQPwSJAriPAHiDBAHIIBgypBBPUgLCGxHk+AASQAEEDOUA5IMgxp3GawNTXUUI5DgBuKpUIHfQCwGNgdN5XaYR2ASYKMAAgzZh/VoujigYiA5BmTnohvNgKYJHBwsQMYvIAbRS2CBhQS+QEPnF3II1eMxGSQXBTKZEdn/QByLZAobEC8G4mUwNwMAaHAvah1OMXkAAAAASUVORK5CYII=') no-repeat 4px 4px #bfbfbf;\r\n}\r\n\r\n.ds_flag.ds_excluded_by_preferences_flag {\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbackground: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAAEV95QVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEQ4MTk4RThBQkU4MTFFOEE4QzlBQ0YwQzQ0RThBMUEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEQ4MTk4RTlBQkU4MTFFOEE4QzlBQ0YwQzQ0RThBMUEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4RDgxOThFNkFCRTgxMUU4QThDOUFDRjBDNDRFOEExQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4RDgxOThFN0FCRTgxMUU4QThDOUFDRjBDNDRFOEExQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkmScEMAAADKSURBVHjaYmBAA1MAAghEbAQzAQIIxvoPYgAEEAhFAfH2////M7AAGcuAWA4mUw/EHCAZgACCKTOCSsSAJGES26ECFVBDwToAAogZqhIkGQbETEB8mRFq5l0gXgI1TgNmWQWSmzaCVHIA8XcgrgTiR0AcC/MIB5LzGAACDNmH9UiSDFB2Pcz3yM7lgDr5P9RemN1RULntMMUbkUyDKYJpggcmSDHIfyuh1oG89RiIGaH4MVSsHqoGLIgc+iCf/YLy2YB4MTQiwG4GAMb1Ppm6hYCeAAAAAElFTkSuQmCC') no-repeat 4px 4px #bfbfbf;\r\n}\r\n\r\n.ds_collapse_flag.ds_flagged .ds_flag {\r\n\toverflow: hidden;\r\n\tmax-width: 0;\r\n\ttransition: all 0.5s;\r\n\t-webkit-transition: all 0.5s;\r\n}\r\n\r\n.ds_collapse_flag.ds_collapse_flag_tiny.ds_flagged .ds_flag {\r\n\tpadding-left: 4px;\r\n}\r\n\r\n.ds_collapse_flag.ds_flagged:hover .ds_flag {\r\n\tmax-width: 120px;\r\n}\r\n\r\n.ds_collapse_flag.ds_flagged:hover .ds_flag.ds_excluded_by_preferences_flag {\r\n\tmax-width: none;\r\n\tpadding-right: 4px;\r\n}\r\n\r\n.ds_collapse_flag_tiny.ds_flagged:hover .ds_flag {\r\n\tpadding-left: 18px;\r\n}\r\n\r\n.ds_flagged.ds_excluded_by_preferences {\r\n}\r\n\r\n/* Scrollbar CSS. Move this to somewhere common before checking in thankx */\r\n\r\n.v_scrollbar {\r\n\tbackground-color: rgba(0,0,0,0.2);\r\n\tborder-radius: 2px;\r\n}\r\n\r\n.v_scrollbar_target div.animating {\r\n\ttransition: left 0.3s, top 0.3s;\r\n}\r\n\r\n.v_scrollbar > .handle {\r\n\tbackground: #3d6c8d; /* Old browsers */\r\n\tbackground: -moz-linear-gradient(-45deg,  #3d6c8d 0%, #2e5470 100%); /* FF3.6+ */\r\n\tbackground: -webkit-gradient(linear, left top, right bottom, color-stop(0%,#3d6c8d), color-stop(100%,#2e5470)); /* Chrome,Safari4+ */\r\n\tbackground: -webkit-linear-gradient(-45deg,  #3d6c8d 0%,#2e5470 100%); /* Chrome10+,Safari5.1+ */\r\n\tbackground: -o-linear-gradient(-45deg,  #3d6c8d 0%,#2e5470 100%); /* Opera 11.10+ */\r\n\tbackground: -ms-linear-gradient(-45deg,  #3d6c8d 0%,#2e5470 100%); /* IE10+ */\r\n\tbackground: linear-gradient(135deg,  #3d6c8d 0%,#2e5470 100%); /* W3C */\r\n\tfilter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#3d6c8d', endColorstr='#2e5470',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */\r\n\tborder-radius: 2px;\r\n}\r\n\r\n.v_scrollbar.horizontal {\r\n\theight: 14px;\r\n}\r\n\r\n.v_scrollbar.vertical {\r\n\twidth: 14px;\r\n}\r\n\r\n.v_scrollbar.vertical > .handle {\r\n\r\n\theight: 24px;\r\n\twidth: 14px;\r\n}\r\n\r\n.v_scrollbar.horizontal > .handle {\r\n\r\n\theight: 14px;\r\n\twidth: 24px;\r\n}\r\n\r\n\r\n.LoadingWrapper\r\n{\r\n\tposition: relative;\r\n\tmargin: auto auto;\r\n\tvertical-align: middle;\r\n}\r\n\r\n.LoadingWrapper .LoadingThrobber\r\n{\r\n\tmargin: 0px auto 40px auto;\r\n\twidth: 62px;\r\n\theight: 62px;\r\n}\r\n\r\n.LoadingWrapper .LoadingText\r\n{\r\n\tcolor: #60acde;\r\n\tfont-size: 22px;\r\n\ttext-align: center;\r\n}\r\n\r\n@keyframes loading_throbber_bar\r\n{\r\n\t0%\r\n\t{\r\n\t\ttransform: scale( 1.0, 0.6 );\r\n\t\tbackground-color: #67c1f5;\r\n\t}\r\n\r\n\t30%\r\n\t{\r\n\t\ttransform: scale( 1.0, 1.0 );\r\n\t\tbackground-color: #67c1f5;\r\n\t}\r\n\r\n\t55%\r\n\t{\r\n\t\ttransform: scale( 1.0, 0.6 );\r\n\t\tbackground-color: #67c1f5;\r\n\t}\r\n\r\n\t100%\r\n\t{\r\n\t\ttransform: scale( 1.0, 0.6 );\r\n\t\tbackground-color: #67c1f5;\r\n\t}\r\n}\r\n\r\n\r\n@-webkit-keyframes loading_throbber_bar\r\n{\r\n\t0%\r\n\t{\r\n\t\t-webkit-transform: scale( 1.0, 0.7 );\r\n\t\tbackground-color: #67c1f5;\r\n\t}\r\n\r\n\t30%\r\n\t{\r\n\t\t-webkit-transform: scale( 1.0, 1.0 );\r\n\t\tbackground-color: #67c1f5;\r\n\t}\r\n\r\n\t55%\r\n\t{\r\n\t\t-webkit-transform: scale( 1.0, 0.7 );\r\n\t\tbackground-color: #67c1f5;\r\n\t}\r\n\r\n\t100%\r\n\t{\r\n\t\t-webkit-transform: scale( 1.0, 0.7 );\r\n\t\tbackground-color: #67c1f5;\r\n\t}\r\n}\r\n\r\n.LoadingWrapper .LoadingThrobber .Bar\r\n{\r\n\t-webkit-animation: test 2s infinite;\r\n\tfloat: left;\r\n\tmargin-right: 6px;\r\n\twidth: 12px;\r\n\theight: 68px;\r\n\tbackground-color: #67c1f5;\r\n\r\n\tanimation: loading_throbber_bar 1s ease-in-out infinite;\r\n\t-webkit-animation: loading_throbber_bar 1s ease-in-out infinite;\r\n}\r\n\r\n.LoadingWrapper .LoadingThrobber .Bar1\r\n{\r\n}\r\n\r\n.LoadingWrapper .LoadingThrobber .Bar2\r\n{\r\n\tanimation-delay: 0.16s;\r\n\t-webkit-animation-delay: 0.16s;\r\n}\r\n\r\n.LoadingWrapper .LoadingThrobber .Bar3\r\n{\r\n\tanimation-delay: 0.32s;\r\n\t-webkit-animation-delay: 0.32s;\r\n}\r\n\r\n.content_descriptors_examples_desc {\r\n\tfont-size: 18px;\r\n\tpadding-bottom: 20px;\r\n}\r\n\r\n.content_descriptors_example_app {\r\n\tpadding-bottom: 20px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.content_descriptors_example_app .app_logo {\r\n\twidth: 120px;\r\n\theight: 45px;\r\n}\r\n\r\n.content_descriptors_example_app .app_name {\r\n\tmargin-left: 20px;\r\n}\r\n\r\n.shared_game_rating {\r\n\tcolor: #c6d4df;\r\n\tfont-size: 12px;\r\n}\r\n.shared_game_rating .game_rating_agency {\r\n\tmargin-top: 8px;\r\n}\r\n.shared_game_rating .game_rating_required_age {\r\n    \t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: normal; /* normal */\r\n\r\n\t\t\ttext-transform: uppercase;\r\n\tmargin-bottom: 5px;\r\n    font-size: 14px;\r\n    color: white;\r\n}\r\n.shared_game_rating .game_rating_details {\r\n\tdisplay: flex;\r\n}\r\n.shared_game_rating .game_rating_icon {\r\n\tmargin-right: 10px;\r\n}\r\n.shared_game_rating p.descriptorText {\r\n\tmargin: 0;\r\n\r\n\tfont-size: 11px !important;\r\n\tcolor: #c6d4df !important;\r\n\ttext-transform: uppercase;\r\n\tline-height: 14px;\r\n}\r\n\r\n/* community awards hover */\r\n.reaction_award_hover {\r\n\tfont-family: \"Motiva Sans\", sans-serif;\r\n\twidth: 150px;\r\n\tbackground: #DADEE0;\r\n}\r\n\t.community_tooltip.reaction_award_hover,\r\n\t.store_tooltip.reaction_award_hover {\r\n\t\tpadding: 0px;\r\n\t}\r\n\t.reaction_award_hover .reaction_award_icon {\r\n\t\tbackground-color: #474C52;\r\n\t\tborder-radius: 3px 3px 0 0;\r\n\t\tpadding-top: 5px;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.reaction_award_hover .reaction_award_icon > img {\r\n\t\theight: 100px;\r\n\t}\r\n\t.reaction_award_hover .reaction_award_info {\r\n\t\tpadding: 10px;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.reaction_award_hover .reaction_award_name {\r\n\t\tfont-weight: bold;\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #0A212E;\r\n\t}\r\n\t.reaction_award_hover .reaction_award_desc {\r\n\t\tpadding-top: 5px;\r\n\t\tfont-size: 10px;\r\n\t\tcolor: #0A212E;\r\n\t}\r\n\t.reaction_award_hover .reaction_award_points {\r\n\t\tpadding-top: 5px;\r\n\t\tfont-size: 10px;\r\n\t\tcolor: #737678;\r\n\t}\r\n\r\n/* community awards */\r\n.community_award_btn_icon {\r\n\tvertical-align: middle;\r\n\tmargin-right: 5px;\r\n}\r\n\r\n.community_award_ctn {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n}\r\n\r\n.community_award {\r\n\tposition: relative;\r\n\tbackground-color: rgba(0, 0, 0, 0.2);\r\n\tborder-radius: 3px;\r\n\tpadding: 0px 3px 0px 3px;\r\n\tmargin: 0 1px;\r\n\tline-height: 28px;\r\n\theight: 28px;\r\n\tcursor: pointer;\r\n}\r\n.community_award:hover {\r\n\tbackground-color: rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n.community_award_icon {\r\n\theight: 20px;\r\n\tvertical-align: middle;\r\n}\r\n.community_award_count {\r\n\tcolor: #66c0f4;\r\n\tfont-size: 13px;\r\n\tvertical-align: middle;\r\n\tfont-weight: bold;\r\n}\r\n.community_award_count.hidden {\r\n\tdisplay: none;\r\n}\r\n\r\n.community_tooltip.community_award_tooltip {\r\n\tbackground: #141c27;\r\n\tcolor: #7cc5fb;\r\n}\r\n\r\n/* hover */\r\n.community_award_ctn_hover {\r\n\tdisplay: inline-block;\r\n}\r\n\t.community_award_ctn_hover .community_award {\r\n\t\tdisplay: inline-block;\r\n\t\tbackground-color: rgba(255, 255, 255, 0.05);\r\n\t\tborder-radius: 5px;\r\n\t\tpadding: 3px;\r\n\t\tmargin: 1px;\r\n\t\tline-height: unset;\r\n\t\theight: unset;\r\n\t}\r\n\t.community_award_ctn_hover .community_award .community_award_icon {\r\n\t\twidth: 16px;\r\n\t\theight: 16px;\r\n\t\tvertical-align: middle;\r\n\t}\r\n\t.community_award_ctn_hover .community_award .community_award_count {\r\n\t\tcolor: #66c0f4;\r\n\t\tfont-size: 12px;\r\n\t\tvertical-align: middle;\r\n\t\tfont-weight: bold;\r\n\t\tpadding: 0;\r\n\t}\r\n\t.community_award_ctn_hover .community_award .community_award_count.hidden {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n@media screen and (max-width: 910px)\r\n{\r\n\thtml.responsive .newmodal {\r\n\t\tmin-width: 0;\r\n\t}\r\n\r\n\t/* workaround for ios safari, having the background be position: fixed introduces display glitches */\r\n\thtml.responsive .newmodal_background {\r\n\t\tposition: absolute;\r\n\t}\r\n\r\n}\r\n\thtml.responsive.touch .newmodal {\r\n\t\tmin-width: 0;\r\n\t}\r\n\r\n\t/* workaround for ios safari, having the background be position: fixed introduces display glitches */\r\n\thtml.responsive.touch .newmodal_background {\r\n\t\tposition: absolute;\r\n\t}\r\n\r\n@media screen and (max-width: 910px)\r\n{\r\n\thtml.responsive .newmodal_content {\r\n\t\tpadding: 15px;\r\n\t}\r\n}\r\n\r\n\r\n/* China Desktop Footer */\r\n\r\nbody.v6 #footer.china_footer {\r\n    padding: 16px 16px 60px 16px;\r\n}\r\n\r\nbody.v6 #footer_spacer.china_spacer {\r\n\theight: 330px;\r\n}\r\n\r\n.china_footer_content a, #footer .china_footer_content a {\r\n    color: #8F8E93;\r\n}\r\n\r\n.china_footer_content a:hover, #footer .china_footer_content a:hover {\r\n    color: #FFFFFF;\r\n}\r\n\r\n.china_footer_navlinks {\r\n    user-select: none;\r\n    margin-left: 50px;\r\n}\r\n\r\n.china_footer_content {\r\n    max-width: calc( 910px - 16px);\r\n    margin: 0px auto;\r\n    padding-top: 16px;\r\n    color: #8F8E93;\r\n\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: normal; /* normal */\r\n\r\n\t\t}\r\n\r\n.china_footer_row {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n}\r\n\r\n.china_pw_logo {\r\n    margin-right: 10px;\r\n}\r\n\r\n.china_steam_logo {\r\n    width: 564px;\r\n    height: 88px;\r\n}\r\n\r\n.china_footer_line {\r\n    height: 1px;\r\n    background: #24272C;\r\n    margin: 20px 0;\r\n}\r\n\r\n.china_footer_social_box {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.china_footer_social_box:first-of-type {\r\n    margin-right: 20px;\r\n}\r\n\r\n.china_footer_social_box.tooltip {\r\n    cursor: default;\r\n    user-select: none;\r\n}\r\n\r\n.china_footer_socials_ctn {\r\n    display: flex;\r\n}\r\n\r\n.china_footer_legal_ctn {\r\n    margin-top: 20px;\r\n}\r\n\r\n.china_footer_logos img  {\r\n    width: 96px;\r\n    vertical-align: top;\r\n}\r\n\r\n.gpnav:focus\r\n{\r\n    outline: 4px solid blue;\r\n    box-shadow: 0 0 2px inset #0000ff;\r\n}","Steam — 顶级在线游戏平台_files/shared_global.js":"\r\nSteam = {\r\n\tsm_bInitialized: false,\r\n\tsm_bUserInClient: false,\r\n\tsm_bUserInGameOverlay: false,\r\n\tsm_bUserInTenfootBrowser: false,\r\n\tsm_bUserInMobileChat: false,\r\n\r\n\tBIsUserInSteamClient: function()\r\n\t{\r\n\t\tif ( !Steam.sm_bInitialized )\r\n\t\t\tSteam.Init();\r\n\r\n\t\treturn Steam.sm_bUserInClient;\r\n\t},\r\n\r\n\tBIsUserInGameOverlay: function()\r\n\t{\r\n\t\tif ( !Steam.sm_bInitialized )\r\n\t\t\tSteam.Init();\r\n\r\n\t\treturn Steam.sm_bUserInGameOverlay\r\n\t},\r\n\r\n\tBIsUserInSteamTenfootBrowser: function()\r\n\t{\r\n\t\tif ( !Steam.sm_bInitialized )\r\n\t\t\tSteam.Init();\r\n\r\n\t\treturn Steam.sm_bUserInTenfootBrowser;\r\n\t},\r\n\r\n\tBIsUserInClientOrOverlay: function()\r\n\t{\r\n\t\tif ( !Steam.sm_bInitialized )\r\n\t\t\tSteam.Init();\r\n\r\n\t\treturn Steam.sm_bUserInClient || Steam.sm_bUserInGameOverlay;\r\n\t},\r\n\r\n\tBIsUserInSteamMobileChat: function()\r\n\t{\r\n\t\tif ( !Steam.sm_bInitialized )\r\n\t\t\tSteam.Init();\r\n\r\n\t\treturn Steam.sm_bUserInMobileChat;\r\n\t},\r\n\r\n\tGetClientPackageVersion: function()\r\n\t{\r\n\t\tif ( !Steam.BIsUserInClientOrOverlay() )\r\n\t\t\treturn 0;\r\n\r\n\t\tif ( typeof navigator != 'undefined' && navigator.userAgent )\r\n\t\t{\r\n\t\t\tvar matches = navigator.userAgent.match( /Valve Steam [^\\/]*\\/([0-9]*)/ );\r\n\t\t\tif ( matches && matches.length == 2 )\r\n\t\t\t\treturn matches[1];\r\n\t\t}\r\n\r\n\t\treturn 0;\r\n\t},\r\n\r\n\tInit: function()\r\n\t{\r\n\t\tvar fnCheckAgent = function( strUAMatch, strURLParam )\r\n\t\t{\r\n\t\t\tif ( window.location.href.match( '[?&]' + strURLParam + '=' ) )\r\n\t\t\t\treturn true;\r\n\r\n\t\t\tif ( typeof navigator != 'undefined' && navigator.userAgent && navigator.userAgent.indexOf( strUAMatch ) != -1 )\r\n\t\t\t\treturn true;\r\n\r\n\t\t\treturn false;\r\n\t\t};\r\n\r\n\t\tSteam.sm_bUserInTenfootBrowser = fnCheckAgent( 'Valve Steam Tenfoot', 'force_tenfoot_client_view' );\r\n\t\tSteam.sm_bUserInGameOverlay = fnCheckAgent( 'Valve Steam GameOverlay', 'force_overlay_view' );\r\n\t\tSteam.sm_bUserInClient = Steam.sm_bUserInTenfootBrowser || fnCheckAgent( 'Valve Steam Client', 'force_client_view' );\r\n\t\tSteam.sm_bUserInMobileChat = fnCheckAgent( 'Valve Steam Mobile Chat', 'force_mobile_chat_view' );\r\n\r\n\t\tSteam.sm_bInitialized = true;\r\n\t},\r\n\r\n\tLinkInNewWindow: function( $A )\r\n\t{\r\n\t\tif ( Steam.BIsUserInSteamClient() && !Steam.BIsUserInSteamTenfootBrowser() )\r\n\t\t\t$A.attr( 'href', 'steam://openurl_external/' + $A.attr('href') );\r\n\t\telse\r\n\t\t\t$A.attr( 'target', '_blank' );\r\n\t}\r\n};\r\n\r\nfunction OpenFriendChat( steamid, accountid )\r\n{\r\n\tif ( Steam.BIsUserInClientOrOverlay() )\r\n\t{\r\n\t\twindow.location = 'steam://friends/message/' + steamid;\r\n\t}\r\n\telse if ( Steam.BIsUserInSteamMobileChat() )\r\n\t{\r\n\t\twindow.location = 'steamchatmobile://friend/' + steamid;\r\n\t}\r\n\telse if ( typeof ClientConnectionAPI !== 'undefined' )\r\n\t{\r\n\t\tClientConnectionAPI.OpenFriendChatDialog( steamid ).then( function( result ) {\r\n\t\t\tif ( !result.success )\r\n\t\t\t{\r\n\t\t\t\tPromptContinueToWebChat( result, function() {\r\n\t\t\t\t\tOpenFriendChatInWebChat( steamid, accountid );\r\n\t\t\t\t}, 'steam://friends/message/' + steamid );\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\telse\r\n\t{\r\n\t\tOpenFriendChatInWebChat( steamid, accountid );\r\n\t}\r\n}\r\n\r\nfunction OpenFriendChatInWebChat( steamid, accountid )\r\n{\r\n\tLaunchWebChat( { friend: accountid }, {command: 'ShowFriendChatDialog', steamid: steamid} );\r\n}\r\n\r\nfunction OpenGroupChat( steamid )\r\n{\r\n\tif ( Steam.BIsUserInSteamMobileChat() )\r\n\t{\r\n\t\twindow.location = 'steamchatmobile://group/' + steamid;\r\n\t}\r\n\telse if ( !Steam.BIsUserInClientOrOverlay() && typeof ClientConnectionAPI !== 'undefined' )\r\n\t{\r\n\t\tClientConnectionAPI.OpenFriendChatDialog( steamid ).then( function( result ) {\r\n\t\t\tif ( !result.success )\r\n\t\t\t{\r\n\t\t\t\tPromptContinueToWebChat( result, function() {\r\n\t\t\t\t\tLaunchWebChat( null, {command: 'ShowFriendChatDialog', steamid: steamid} );\r\n\t\t\t\t}, 'steam://friends/joinchat/' + steamid );\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\telse\r\n\t{\r\n\t\twindow.location = 'steam://friends/joinchat/' + steamid;\r\n\t}\r\n}\r\n\r\nfunction PromptContinueToWebChat( result, fnLaunchWebchat, steamURL )\r\n{\r\n\tShowConfirmDialog( '已有 Steam ？', '我们无法在您的设备上检测到 Steam 运行。您是否希望使用网页聊天？',\r\n\t\t'使用网页聊天' , null, '获得 Steam' ).done( function( choice ) {\r\n\t\t\tif ( choice == 'OK' )\r\n\t\t\t\tfnLaunchWebchat();\r\n\t\t\telse\r\n\t\t\t\twindow.location = 'https://store.steampowered.com/about/'\r\n\t});\r\n}\r\n\r\n\r\n// proto functions used to accept an id or an element.\r\n// This can be used to migrate them to returning jquery instead of proto-wrapped element\r\nfunction $JFromIDOrElement( elem )\r\n{\r\n\tif ( elem instanceof jQuery )\r\n\t\treturn elem;\r\n\telse if ( typeof elem == 'string' )\r\n\t\treturn $J('#' + elem.replace( /\\./, '\\\\.' ) );\r\n\telse\r\n\t\treturn $J( elem );\r\n}\r\n\r\n/**\tShow a popup dialog like confirm(), with two buttons.  Clicking ok resolves with done(), cancel or closing the window resolves with fail()\r\n *\r\n * @param strTitle\t\t\tTitle bar text\r\n * @param strDescription\tMessage text\r\n * @param strOKButton\t\tText to show on OK button (default \"OK\")\r\n * @param strCancelButton\tText to show on Cancel button (default \"Cancel\")\r\n * @param strSecondaryActionButton\tAdd a secondary ok button (three buttons total).  Resolves with done() like OK but passes 'SECONDARY' as argument to handler\r\n * @returns CModal\r\n */\r\nfunction ShowConfirmDialog( strTitle, strDescription, strOKButton, strCancelButton, strSecondaryActionButton )\r\n{\r\n\tif ( !strOKButton )\r\n\t\tstrOKButton = '确定';\r\n\tif ( !strCancelButton )\r\n\t\tstrCancelButton = '取消';\r\n\r\n\tvar deferred = new jQuery.Deferred();\r\n\tvar fnOK = function() { deferred.resolve( 'OK' ); };\r\n\tvar fnSecondary = function() { deferred.resolve( 'SECONDARY' ); };\r\n\tvar fnCancel = function( bWasCancelButton ) { deferred.reject( bWasCancelButton ); };\r\n\r\n\tvar rgButtons = [];\r\n\r\n\tvar $OKButton = _BuildDialogButton( strOKButton, true );\r\n\t$OKButton.click( fnOK );\r\n\trgButtons.push( $OKButton );\r\n\r\n\tif ( strSecondaryActionButton )\r\n\t{\r\n\t\tvar $SecondaryActionButton = _BuildDialogButton( strSecondaryActionButton, false, {strClassName: ' btn_darkblue_white_innerfade btn_medium' } );\r\n\t\t$SecondaryActionButton.click( fnSecondary );\r\n\t\trgButtons.push( $SecondaryActionButton );\r\n\t}\r\n\r\n\tvar $CancelButton = _BuildDialogButton( strCancelButton );\r\n\t$CancelButton.click( function() { fnCancel( true ); } );\r\n\trgButtons.push( $CancelButton );\r\n\r\n\tvar Modal = _BuildDialog( strTitle, strDescription, rgButtons, fnCancel );\r\n\tModal.Show();\r\n\r\n\t_BindOnEnterKeyPressForDialog( Modal, deferred, fnOK );\r\n\r\n\tdeferred.always( function() { Modal.Dismiss(); } );\r\n\t// attach the deferred's events to the modal\r\n\tdeferred.promise( Modal );\r\n\r\n\treturn Modal;\r\n}\r\n\r\n/**\tShow a dialog with a single button, like alert().  Button click or closing the modal resolve deferred with done().\r\n *\r\n * @param strTitle\t\t\tTitle bar text\r\n * @param strDescription\tMessage text\r\n * @param strOKButton\t\tText on the OK button (\"OK\" by default)\r\n * @returns CModal\r\n */\r\nfunction ShowAlertDialog( strTitle, strDescription, strOKButton, rgModalParams )\r\n{\r\n\tif ( !strOKButton )\r\n\t\tstrOKButton = '确定';\r\n\r\n\tvar deferred = new jQuery.Deferred();\r\n\tvar fnOK = function( bWasCancelButton ) { deferred.resolve( bWasCancelButton ); };\r\n\r\n\tvar $OKButton = _BuildDialogButton( strOKButton );\r\n\t$OKButton.click( function() { fnOK( true ); } );\r\n\r\n\tvar Modal = _BuildDialog( strTitle, strDescription, [ $OKButton ], fnOK, rgModalParams );\r\n\tdeferred.always( function() { Modal.Dismiss(); } );\r\n\tModal.Show();\r\n\r\n\t_BindOnEnterKeyPressForDialog( Modal, deferred, fnOK );\r\n\r\n\t// attach the deferred's events to the modal\r\n\tdeferred.promise( Modal );\r\n\r\n\treturn Modal;\r\n\r\n}\r\n\r\n/**\tShow a popup dialog.  Has no buttons.  Closing the dialog resolves deferred with done().\r\n *\r\n * @param strTitle\t\t\tTitle bar text\r\n * @param strDescription\tMessage text\r\n * @param rgModalParams\t\tSee CModal\r\n * @returns CModal\r\n */\r\nfunction ShowDialog( strTitle, strDescription, rgModalParams )\r\n{\r\n\tvar deferred = new jQuery.Deferred();\r\n\tvar fnOK = function() { deferred.resolve(); };\r\n\r\n\tvar Modal = _BuildDialog( strTitle, strDescription, [], fnOK, rgModalParams );\r\n\tdeferred.always( function() { Modal.Dismiss(); } );\r\n\tModal.Show();\r\n\r\n\t// attach the deferred's events to the modal\r\n\tdeferred.promise( Modal );\r\n\r\n\treturn Modal;\r\n}\r\n\r\n/**\r\n * @returns CModal\r\n */\r\nfunction ShowPromptDialog( strTitle, strDescription, strOKButton, strCancelButton, rgModalParams, defaultValue )\r\n{\r\n\tif ( !strOKButton )\r\n\t\tstrOKButton = '确定';\r\n\tif ( !strCancelButton )\r\n\t\tstrCancelButton = '取消';\r\n\r\n\tvar $Body = $J('<form/>');\r\n\tvar $Input = $J('<input/>', {type: 'text', 'class': '' } ).val( defaultValue );\r\n\tif ( rgModalParams && rgModalParams.inputMaxSize )\r\n\t{\r\n\t\t$Input.attr( 'maxlength', rgModalParams.inputMaxSize );\r\n\t}\r\n\t$Body.append( $J('<div/>', {'class': 'newmodal_prompt_description' } ).append( strDescription ) );\r\n\t$Body.append( $J('<div/>', {'class': 'newmodal_prompt_input gray_bevel for_text_input fullwidth' } ).append( $Input ) );\r\n\r\n\tvar deferred = new jQuery.Deferred();\r\n\tvar fnOK = function() { deferred.resolve( $Input.val() ); };\r\n\tvar fnCancel = function() { deferred.reject(); };\r\n\r\n\r\n\t$Body.submit( function( event ) { event.preventDefault(); fnOK(); } );\r\n\r\n\tvar elButtonLabel = $J( '<span/>' ).text( strOKButton );\r\n\tvar $OKButton = $J('<button/>', {type: 'submit', 'class': 'btn_green_white_innerfade btn_medium' } ).append( elButtonLabel );\r\n\t$OKButton.click( fnOK );\r\n\tvar $CancelButton = _BuildDialogButton( strCancelButton );\r\n\t$CancelButton.click( fnCancel );\r\n\r\n\tvar Modal = _BuildDialog( strTitle, $Body, [ $OKButton, $CancelButton ], fnCancel );\r\n\tif( !rgModalParams || !rgModalParams.bNoPromiseDismiss )\r\n\t\tdeferred.always( function() { Modal.Dismiss(); } );\r\n\r\n\tModal.Show();\r\n\r\n\t$Input.focus();\r\n\r\n\t// attach the deferred's events to the modal\r\n\tdeferred.promise( Modal );\r\n\r\n\treturn Modal;\r\n}\r\n\r\n/**\r\n * @returns CModal\r\n */\r\nfunction ShowPromptWithTextAreaDialog( strTitle, strDescription, strOKButton, strCancelButton, textAreaMaxLength )\r\n{\r\n\tif ( !strOKButton )\r\n\t\tstrOKButton = '确定';\r\n\tif ( !strCancelButton )\r\n\t\tstrCancelButton = '取消';\r\n\r\n\tvar $Body = $J('<form/>');\r\n\tvar $TextArea = $J('<textarea/>', { 'class': 'newmodal_prompt_textarea' } );\r\n\t$TextArea.text( strDescription );\r\n\tif ( textAreaMaxLength )\r\n\t{\r\n\t\t$TextArea.attr( 'maxlength', textAreaMaxLength );\r\n\t\t$TextArea.bind( \"keyup change\",\r\n\t\t\tfunction()\r\n\t\t\t{\r\n\t\t\t\tvar str = $J(this).val();\r\n\t\t\t\tvar mx = parseInt($J(this).attr('maxlength'));\r\n\t\t\t\tif (str.length > mx)\r\n\t\t\t\t{\r\n\t\t\t\t\t$J(this).val(str.substr(0, mx));\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\t$Body.append( $J('<div/>', {'class': 'newmodal_prompt_with_textarea gray_bevel fullwidth ' } ).append( $TextArea ) );\r\n\r\n\tvar deferred = new jQuery.Deferred();\r\n\tvar fnOK = function() { deferred.resolve( $TextArea.val() ); };\r\n\tvar fnCancel = function() { deferred.reject(); };\r\n\r\n\r\n\t$Body.submit( function( event ) { event.preventDefault(); fnOK(); } );\r\n\r\n\tvar elButtonLabel = $J( '<span/>' ).text( strOKButton );\r\n\tvar $OKButton = $J('<button/>', {type: 'submit', 'class': 'btn_green_white_innerfade btn_medium' } ).append( elButtonLabel );\r\n\t$OKButton.click( fnOK );\r\n\tvar $CancelButton = _BuildDialogButton( strCancelButton );\r\n\t$CancelButton.click( fnCancel );\r\n\r\n\tvar Modal = _BuildDialog( strTitle, $Body, [ $OKButton, $CancelButton ], fnCancel );\r\n\tdeferred.always( function() { Modal.Dismiss(); } );\r\n\tModal.Show();\r\n\r\n\t$TextArea.focus();\r\n\r\n\t// attach the deferred's events to the modal\r\n\tdeferred.promise( Modal );\r\n\r\n\treturn Modal;\r\n}\r\n\r\n/**\r\n * @returns CModal\r\n */\r\nfunction ShowEditablePrompt( strTitle, obj, onOk, onCancel)\r\n{\r\n\tstrEditButton = '编辑';\r\n\tstrOKButton = '确定';\r\n\tstrCancelButton = '取消';\r\n\r\n\tvar $Body = $J('<form/>');\r\n\tvar $TextArea = $J('<textarea/>', {'class': 'newmodal_prompt_textarea', 'id': 'json_window'});\r\n\t$TextArea[0].readOnly = true;\r\n\t$TextArea.text( JSON.stringify(obj, null, 2) );\r\n\t$Body.append( $J('<div/>', {'class': 'newmodal_prompt_with_textarea gray_bevel fullwidth ' } ).append( $TextArea ) );\r\n\r\n\t$Body.submit( function( event ) { event.preventDefault(); fnOK(); } );\r\n\r\n\tvar elButtonLabel = $J( '<span/>' ).text( strOKButton );\r\n\tvar deferredAction = new jQuery.Deferred();\r\n\r\n\tvar editButtonLabel = $J( '<span/>' ).text( strEditButton );\r\n\tvar $EditButton = $J('<button/>', {type: 'button', 'class': 'btn_darkred_white_innerfade btn_medium' } ).append( editButtonLabel );\r\n\t$EditButton.click( function() {\r\n\t\t$EditButton[0].disable();\r\n\t\t$OKButton[0].enable();\r\n\t\t$TextArea[0].readOnly = false;\r\n\t\t$TextArea.focus();\r\n\t})\r\n\r\n\tvar $OKButton = $J('<button/>', {type: 'submit', 'class': 'btn_green_white_innerfade btn_medium' } ).append( elButtonLabel );\r\n\t$OKButton.click( function() { deferredAction.resolve( $TextArea.val() ); } );\r\n\t$OKButton[0].disabled = true;\r\n\r\n\tfnCancel = function() { deferredAction.reject(); };\r\n\tvar $CancelButton = _BuildDialogButton( strCancelButton );\r\n\t$CancelButton.click( fnCancel );\r\n\r\n\tvar Modal = _BuildDialog( strTitle, $Body, [ $EditButton, $OKButton, $CancelButton ], fnCancel );\r\n\tdeferredAction.always( function() { Modal.Dismiss(); } );\r\n\r\n\tif (onOk)\r\n\t\tdeferredAction.done(onOk);\r\n\tif (onCancel)\r\n\t\tdeferredAction.fail(onCancel);\r\n\r\n\tModal.Show();\r\n\r\n\t$TextArea.focus();\r\n\r\n\t// attach the deferred's events to the modal\r\n\tdeferredAction.promise( Modal );\r\n\r\n\treturn Modal;\r\n}\r\n\r\n/**\r\n * @returns CModal\r\n */\r\nfunction ShowBlockingWaitDialog( strTitle, strDescription )\r\n{\r\n\tvar deferred = new jQuery.Deferred();\r\n\tvar fnOK = function() { deferred.resolve(); };\r\n\r\n\tvar container = $J('<div/>', {'class': 'waiting_dialog_container'} );\r\n\tvar throbber = $J('<div/>', {'class': 'waiting_dialog_throbber'} );\r\n\tcontainer.append( throbber );\r\n\tcontainer.append( strDescription );\r\n\r\n\tvar Modal = _BuildDialog( strTitle, container, [], fnOK, { bExplicitDismissalOnly: true } );\r\n\tdeferred.always( function() { Modal.Dismiss(); } );\r\n\tModal.Show();\r\n\r\n\t// attach the deferred's events to the modal\r\n\tdeferred.promise( Modal );\r\n\r\n\treturn Modal;\r\n}\r\n\r\nfunction _BindOnEnterKeyPressForDialog( Modal, deferred, fnOnEnter )\r\n{\r\n\tvar fnOnKeyUp = function( event ) {\r\n\t\tif ( Modal.BIsActiveModal() && !event.isDefaultPrevented() && event.which == 13 && ( !event.target || event.target.nodeName != 'TEXTAREA' ) )\r\n\t\t\tfnOnEnter();\r\n\t};\r\n\t$J(document).on( 'keyup.SharedConfirmDialog', fnOnKeyUp );\r\n\tdeferred.always( function() { $J(document).off( 'keyup.SharedConfirmDialog' ); } );\r\n}\r\n\r\n/**\r\n * @returns CModal\r\n * @private\r\n */\r\nfunction _BuildDialog( strTitle, strDescription, rgButtons, fnOnCancel, rgModalParams )\r\n{\r\n\tvar $Dialog = $J('<div/>', {'class': 'newmodal'} );\r\n\tvar $CloseButton = $J('<div/>', {'class': 'newmodal_close' });\r\n\tvar $Header = ( $J('<div/>', {'class': 'newmodal_header' }) );\r\n\tvar $TopBar = ( $J('<div/>', {'class': 'modal_top_bar' }) );\r\n\tif ( strTitle )\r\n\t\t$Header.append( $CloseButton ).append( $J('<div/>', {'class': 'title_text' } ).text( strTitle ) );\r\n    if ( rgModalParams && rgModalParams.strSubTitle ) {\r\n        var $SubTitle = (rgModalParams.strSubTitle);\r\n        $Header.append( $J('<div/>', {'class': 'subtitle_text' } ).text( $SubTitle ) )\r\n    }\r\n\t$Header = $J('<div/>', {'class': 'newmodal_header_border'}).append( $Header );\r\n\t$Dialog.append( $TopBar ).append( $Header );\r\n\tvar $Content = $J('<div/>', {'class': 'newmodal_content' } );\r\n\t$Content.append( $J('<div/>').append( strDescription ) );\r\n\r\n\tif ( rgButtons.length > 0 )\r\n\t{\r\n\t\tvar $Buttons = $J('<div/>', {'class': 'newmodal_buttons' } );\r\n\t\t$Content.append( $Buttons );\r\n\t\tfor( var i = 0; i < rgButtons.length; i++ )\r\n\t\t{\r\n\t\t\t$Buttons.append( rgButtons[i] );\r\n\t\t}\r\n\t}\r\n\r\n\t$Dialog.append( $J('<div/>', {'class': 'newmodal_content_border' } ).append( $Content ) );\r\n\r\n\tif ( rgModalParams && rgModalParams.bExplicitDismissalOnly )\r\n\t\t$CloseButton.hide();\r\n\r\n\tvar Modal = new CModal( $Dialog, rgModalParams );\r\n\tif ( fnOnCancel )\r\n\t{\r\n\t\tModal.OnDismiss( fnOnCancel );\r\n\t\t$CloseButton.click( function() { Modal.Dismiss(); } );\r\n\t}\r\n\r\n\t// on responsive pages, the 'newmodal' element covers the whole viewable area (so that we can control scrolling\r\n\t// if the modal is very tall).  If the modal doesn't cover the whole area, we dismiss on clicks to this background\r\n\t//\tarea\r\n\tif ( Modal.m_fnBackgroundClick )\r\n\t{\r\n\t\t$Dialog.click( function(e) { if ( e.target == this ) Modal.m_fnBackgroundClick(); } );\r\n\t}\r\n\r\n\tModal.SetRemoveContentOnDismissal( true );\r\n\r\n\treturn Modal;\r\n}\r\n\r\nfunction _BuildDialogButton( strText, bActive, rgOptions )\r\n{\r\n\tif ( !rgOptions )\r\n\t\trgOptions = {};\r\n\r\n\tvar strClassName = bActive ? 'btn_green_steamui btn_medium' : 'btn_grey_steamui btn_medium';\r\n\tif ( rgOptions.strClassName )\r\n\t\tstrClassName = rgOptions.strClassName;\r\n\r\n\tvar elButtonLabel = $J( '<span/>' ).html( strText );\r\n\tvar elButton = $J('<div/>', {'class': strClassName } ).append( elButtonLabel );\r\n\treturn elButton;\r\n}\r\n\r\n/* modal params:\r\n\tbExplicitDismissalOnly - by default, clicking outside of the modal dismisses it.  Set this to true to override that behavior\r\n\tbIgnoreResizeEvents - don't resize the modal when the window resizes\r\n */\r\n\r\nfunction CModal( $Content, rgParams )\r\n{\r\n\trgParams = rgParams || {};\r\n\r\n\tthis.m_$Content = $Content;\r\n\tthis.m_bVisible = false;\r\n\r\n\tthis.m_bIgnoreResizeEvents = rgParams.bIgnoreResizeEvents;\r\n\tthis.m_fnSizing = null;\r\n\tthis.m_fnBackgroundClick = null;\r\n\tthis.m_fnOnResize = null;\r\n\tthis.m_bDismissOnBackgroundClick = !rgParams.bExplicitDismissalOnly;\r\n\tthis.m_nMaxWidth = 0;\r\n\tthis.m_nMaxHeight = 0;\r\n\r\n\tthis.m_fnOnDismiss = null;\r\n\tthis.m_bRemoveContentOnDismissal = false;\r\n\r\n\tthis.m_nInitialOffsetTop = $J(window).scrollTop();\r\n\tthis.m_nInitialOffsetLeft = $J(window).scrollLeft();\r\n\tthis.m_$Content.css( 'position', 'fixed' );\r\n\tthis.m_$Content.css( 'z-index', 1000 );\r\n\r\n\tthis.m_$StandardContent = null;\r\n\tthis.m_$SizedContent = null;\r\n\tthis.OnContentChanged();\t//this will look for StandardContent and SizedContent in the modal body\r\n\r\n\r\n\tvar _modal = this;\r\n\tthis.m_fnBackgroundClick = function() { if ( _modal.BIsActiveModal() && _modal.m_bDismissOnBackgroundClick ) { _modal.Dismiss(); } };\r\n\tthis.m_fnOnEscapeKeyPress = function( event ) { if ( _modal.BIsActiveModal() && event.which == 27 ) _modal.m_fnBackgroundClick(); };\r\n\tthis.m_fnSizing = function() { _modal.AdjustSizing(); };\r\n\r\n\t/* make sure the content is parented correctly */\r\n\t$J(document.body).append( this.m_$Content );\r\n}\r\n\r\nCModal.prototype.OnDismiss = function( fn )\r\n{\r\n\tthis.m_fnOnDismiss = fn;\r\n};\r\n\r\nCModal.prototype.OnResize = function( fn )\r\n{\r\n\tthis.m_fnOnResize = fn;\r\n};\r\n\r\n/**\r\n * @returns jQuery\r\n */\r\nCModal.prototype.GetContent = function ()\r\n{\r\n\treturn this.m_$Content;\r\n};\r\n\r\nCModal.prototype.GetBoundOnResizeEvent = function()\r\n{\r\n\t// in case someone outside needs to tell the modal to resize on certain events (eg images or iframes loading in the modal)\r\n\treturn this.m_fnSizing;\r\n};\r\n\r\nCModal.prototype.OnContentChanged = function()\r\n{\r\n\t// make sure we're holding the right elements\r\n\tthis.m_$StandardContent = this.m_$Content.find( '.newmodal_content' );\r\n\tif ( !this.m_$StandardContent.length )\r\n\t\tthis.m_$StandardContent = this.m_$Content;\r\n\tthis.m_$SizedContent = this.m_$Content.find( '.newmodal_sized_content' );\r\n};\r\n\r\nCModal.prototype.SetRemoveContentOnDismissal = function ( bRemoveContent )\r\n{\r\n\tthis.m_bRemoveContentOnDismissal = bRemoveContent;\r\n};\r\n\r\nCModal.prototype.SetDismissOnBackgroundClick = function ( bDismissOnBackgroundClick )\r\n{\r\n\tthis.m_bDismissOnBackgroundClick = bDismissOnBackgroundClick;\r\n};\r\n\r\nCModal.prototype.SetMaxWidth = function ( nMaxWidth )\r\n{\r\n\tthis.m_nMaxWidth = nMaxWidth;\r\n\tif ( this.m_bVisible )\r\n\t\tthis.AdjustSizing();\r\n};\r\n\r\nCModal.prototype.SetMaxHeight = function ( nMaxHeight )\r\n{\r\n\tthis.m_nMaxHeight = nMaxHeight;\r\n\tif ( this.m_bVisible )\r\n\t\tthis.AdjustSizing();\r\n};\r\n\r\nCModal.prototype.AdjustSizing = function( duration )\r\n{\r\n\tif ( !this.m_$Content )\r\n\t\treturn;\r\n\r\n\tvar bResponsiveScreen = window.UseTouchFriendlyMode && UseTouchFriendlyMode();\r\n\r\n\tvar nViewportWidth = document.compatMode === 'BackCompat' ? document.body.clientWidth : $J(window).width();\r\n\tvar nViewportHeight = document.compatMode === 'BackCompat' ? document.body.clientHeight : $J(window).height();\r\n\r\n\tvar nMaxWidth = Math.max( nViewportWidth - ( bResponsiveScreen? 24 : 80 ), bResponsiveScreen ? 200 : 500 );\r\n\tvar nMaxHeight = Math.floor( nViewportHeight - 120 );\r\n\r\n\tif ( this.m_nMaxWidth && nMaxWidth > this.m_nMaxWidth )\r\n\t{\r\n\t\tnMaxWidth = this.m_nMaxWidth;\r\n\t}\r\n\r\n\tif ( this.m_nMaxHeight && nMaxHeight > this.m_nMaxHeight )\r\n\t{\r\n\t\tnMaxHeight = this.m_nMaxHeight;\r\n\t}\r\n\r\n\t// if the modal has a 'newmodal_sized_content' div, it wants to be the max height, so set it now\r\n\t//\tbefore we compute height\t( \"- 18\" is a fudge for a possible horizontal scrollbar )\r\n\tthis.m_$SizedContent.css( 'min-height', ( nMaxHeight - 18 ) + 'px' );\r\n\tif ( this.m_fnOnResize )\r\n\t{\r\n\t\tthis.m_fnOnResize( nMaxWidth - 40, nMaxHeight );\r\n\t}\r\n\r\n\tif ( !duration )\r\n\t{\r\n\t\t// set sizes right away so we can calculate a good left and top\r\n\t\tthis.m_$Content.css( 'max-width',  nMaxWidth + 'px' );\r\n\t\tif ( !bResponsiveScreen )\r\n\t\t{\r\n\t\t\tthis.m_$StandardContent.css( 'max-height',  nMaxHeight + 'px' );\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.m_$StandardContent.css( 'max-height', '' );\r\n\t\t}\r\n\t}\r\n\r\n\tvar nContentWidth = this.m_$Content.width();\r\n\tvar nContentHeight = this.m_$Content.height();\r\n\tvar nLeft = Math.max( Math.floor( ( nViewportWidth - nContentWidth ) / 2 ), 12 );\r\n\tvar nTop = Math.max( Math.floor( ( nViewportHeight - nContentHeight ) / 2 ), 12 );\r\n\r\n\tif ( bResponsiveScreen )\r\n\t{\r\n\t\tnLeft += this.m_nInitialOffsetLeft;\r\n\t\tnTop += this.m_nInitialOffsetTop;\r\n\t\tthis.m_$Content.css( 'position', 'absolute' );\r\n\t}\r\n\telse\r\n\t{\r\n\t\tthis.m_$Content.css( 'position', 'fixed' );\r\n\t}\r\n\r\n\tif ( duration )\r\n\t{\r\n\t\tthis.m_$Content.animate( { 'max-width': nMaxWidth, left: nLeft, top: nTop }, duration );\r\n\t\tthis.m_$StandardContent.animate( {'max-height': nMaxHeight }, duration );\r\n\t}\r\n\telse\r\n\t{\r\n\t\tthis.m_$Content.css( 'left', nLeft );\r\n\t\tthis.m_$Content.css( 'top', nTop );\r\n\t}\r\n};\r\n\r\nCModal.prototype.Show = function()\r\n{\r\n\tif ( this.m_bVisible )\r\n\t\treturn;\r\n\r\n\tCModal.ShowModalBackground();\r\n\r\n\tif ( !this.m_bIgnoreResizeEvents )\r\n\t{\r\n\t\t$J(window).on( 'resize', null, this.m_fnSizing );\r\n\t}\r\n\tCModal.s_$Background.on( 'click.CModal', this.m_fnBackgroundClick );\r\n\t$J(document).on( 'keyup.CModal', this.m_fnOnEscapeKeyPress );\r\n\r\n\tthis.AdjustSizing();\r\n\r\n\tthis.m_$Content.show();\r\n\r\n\t// resize as any child image elements load in.\r\n\tthis.m_$Content.find('img').load( this.m_fnSizing );\r\n\r\n\tthis.m_bVisible = true;\r\n\tCModal.PushActiveModal( this );\r\n};\r\n\r\nCModal.prototype.Dismiss = function()\r\n{\r\n\tif ( !this.m_bVisible )\r\n\t\treturn;\r\n\r\n\tthis.m_bVisible = false;\r\n\r\n\tthis.m_$Content.hide();\r\n\r\n\tif ( !this.m_bIgnoreResizeEvents )\r\n\t{\r\n\t\t$J(window).off( 'resize', null, this.m_fnSizing );\r\n\t}\r\n\r\n\tif ( this.m_fnOnDismiss )\r\n\t\tthis.m_fnOnDismiss();\r\n\r\n\tif ( this.m_bRemoveContentOnDismissal )\r\n\t{\r\n\t\tthis.m_$Content.remove();\r\n\t\tthis.m_$Content = null;\r\n\t}\r\n\r\n\tCModal.PopActiveModal( this );\r\n\tif ( !CModal.s_rgModalStack.length )\r\n\t{\r\n\t\tCModal.s_$Background.off( 'click.CModal', this.m_fnBackgroundClick );\r\n\t\t$J(document).off( 'keyup.CModal', this.m_fnOnEscapeKeyPress );\r\n\t\tCModal.HideModalBackground();\r\n\t}\r\n};\r\n\r\nCModal.prototype.BIsActiveModal = function()\r\n{\r\n\treturn CModal.s_rgModalStack.length && CModal.s_rgModalStack[ CModal.s_rgModalStack.length - 1 ] == this;\r\n};\r\n\r\n/* static */\r\nCModal.ShowModalBackground = function()\r\n{\r\n\tif ( !CModal.s_$Background )\r\n\t{\r\n\t\tCModal.s_$Background = $J('<div/>', {'class': 'newmodal_background'});\r\n\t\tCModal.s_$Background.css( 'opacity', 0 );\r\n\t\t$J(document.body).append( CModal.s_$Background );\r\n\t}\r\n\tCModal.s_$Background.stop();\t// stop running animations\r\n\tCModal.s_$Background.fadeTo( 200, 0.8 );\r\n};\r\n\r\nCModal.HideModalBackground = function()\r\n{\r\n\tif ( CModal.s_$Background )\r\n\t{\r\n\t\tCModal.s_$Background.stop();\t// stop running animations\r\n\t\tCModal.s_$Background.fadeOut( 200, 0 );\r\n\t}\r\n};\r\n\r\nCModal.s_rgModalStack = [];\r\nCModal.GetActiveModal = function()\r\n{\r\n\tif ( CModal.s_rgModalStack.length )\r\n\t\treturn CModal.s_rgModalStack[CModal.s_rgModalStack.length-1];\r\n\telse\r\n\t\treturn null;\r\n};\r\nCModal.DismissActiveModal = function()\r\n{\r\n\tif ( CModal.s_rgModalStack.length )\r\n\t\tCModal.s_rgModalStack[CModal.s_rgModalStack.length-1].Dismiss();\r\n};\r\n\r\nCModal.PushActiveModal = function( Modal )\r\n{\r\n\tfor ( var i = 0; i < CModal.s_rgModalStack.length; i++ )\r\n\t{\r\n\t\t// push below background\r\n\t\tCModal.s_rgModalStack[i].m_$Content.css( 'z-index', 899 );\r\n\t}\r\n\tCModal.s_rgModalStack.push( Modal );\r\n};\r\n\r\nCModal.PopActiveModal = function( Modal )\r\n{\r\n\tfor ( var i = 0; i < CModal.s_rgModalStack.length; i++ )\r\n\t{\r\n\t\tif ( CModal.s_rgModalStack[i] == Modal )\r\n\t\t{\r\n\t\t\tCModal.s_rgModalStack.splice( i, 1 );\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tif ( CModal.s_rgModalStack.length )\r\n\t\tCModal.s_rgModalStack[ CModal.s_rgModalStack.length - 1 ].m_$Content.css( 'z-index', 1000 );\r\n};\r\n\r\n// this will set the right headers for a cross-domain request to community\r\nfunction GetDefaultCommunityAJAXParams( path, method )\r\n{\r\n\tvar rgParams = { url: 'https://steamcommunity.com/' + path };\r\n\tif ( method )\r\n\t\trgParams.type = method;\r\n\r\n\t// if this js file was hosted off the store, add CORS request headers\r\n\tif ( window.location.href.indexOf( 'https://steamcommunity.com/' ) != 0 )\r\n\t{\r\n\t\trgParams.crossDomain = true;\r\n\t\trgParams.xhrFields = { withCredentials: true };\r\n\t}\r\n\treturn rgParams;\r\n}\r\n\r\n// spped of the miniprofile fading in and out\r\nvar MINIPROFILE_ANIM_SPEED = 150;\r\n// how long the mouse must remain over an element before we'll make an AJAX call\r\nvar MINIPROFILE_DELAY_BEFORE_AJAX = 100;\r\n// the delay before we'll show the hover, must be longer than DELAY_BEFORE_AJAX\r\nvar MINIPROFILE_DELAY_BEFORE_SHOW = 250;\r\n\r\nfunction CDelayedAJAXData( strURL, msDelayBeforeAJAX )\r\n{\r\n\tthis.m_$Data = null;\r\n\tthis.m_bAJAXFailed = false;\r\n\tthis.m_timerDelayedAJAX = null;\r\n\tthis.m_bAJAXRequestMade = false;\r\n\tthis.m_msDelayBeforeAJAX = msDelayBeforeAJAX;\r\n\tthis.m_strURL = strURL;\r\n\r\n\tthis.m_fnOnAJAXComplete = null;\r\n}\r\n\r\nCDelayedAJAXData.prototype.GetAJAXParams = function()\r\n{\r\n\treturn GetDefaultCommunityAJAXParams( this.m_strURL, 'GET' );\r\n};\r\n\r\nCDelayedAJAXData.prototype.QueueAjaxRequestIfNecessary = function()\r\n{\r\n\tif ( !this.m_$Data && !this.m_bAJAXRequestMade )\r\n\t{\r\n\t\tvar _this = this;\r\n\t\tthis.m_timerDelayedAJAX = window.setTimeout( function() {\r\n\t\t\t_this.m_timerDelayedAJAX = null;\r\n\t\t\t_this.m_bAJAXRequestMade = true;\r\n\t\t\tvar rgAJAXParams = _this.GetAJAXParams();\r\n\t\t\t$J.ajax( rgAJAXParams )\r\n\t\t\t\t.done( function(data) {\r\n\t\t\t\t\t_this.m_$Data = $J(data);\r\n\t\t\t\t\tif ( _this.m_fnOnAJAXComplete )\r\n\t\t\t\t\t\t_this.m_fnOnAJAXComplete();\r\n\t\t\t\t}).fail( function() {\r\n\t\t\t\t\t_this.m_bAJAXFailed = true;\r\n\t\t\t\t});\r\n\t\t}, this.m_msDelayBeforeAJAX );\r\n\t}\r\n};\r\n\r\nCDelayedAJAXData.prototype.CancelAJAX = function()\r\n{\r\n\tif ( this.m_timerDelayedAJAX )\r\n\t\twindow.clearTimeout( this.m_timerDelayedAJAX );\r\n\r\n\tthis.m_fnOnAJAXComplete = null;\r\n};\r\n\r\nCDelayedAJAXData.prototype.RunWhenAJAXReady = function( fnOnReady )\r\n{\r\n\tif ( this.m_$Data )\r\n\t\tfnOnReady();\r\n\telse if ( !this.m_bAJAXFailed )\r\n\t{\r\n\t\tthis.m_fnOnAJAXComplete = fnOnReady;\r\n\t\tthis.QueueAjaxRequestIfNecessary();\r\n\t}\r\n\t// if ajax failed we will not call fnOnReady\r\n};\r\n\r\nCDelayedAJAXData.prototype.Show = function( $HoverContent )\r\n{\r\n\t$HoverContent.children().detach();\r\n\t$HoverContent.append( this.m_$Data );\r\n};\r\n\r\n// time the cookie preferences popup waits before appearing\r\nvar\tCOOKIE_PREFERENCES_POPUP_DELAY = 4000;\r\n\r\nfunction InitCookiePreferencesPopup()\r\n{\r\n\t\r\n\tvar $popupDialog = $J( '#cookiePrefPopup' );\r\n\tif ( $popupDialog.length == 0 )\r\n\t{\r\n\t\t$AllowURL = encodeURI( 'https://store.steampowered.com/' + 'account/ajaxsetcookiepreferences');\r\n\r\n\t\tvar $CPopupContent = $J( \"<style>\\r\\n.replyButton {\\r\\n\\twidth: 100%;\\r\\n    text-align: center;\\r\\n    margin-bottom: 4px;\\r\\n}\\r\\n\\r\\n.buttonGroup {\\r\\n\\tflex: 18%;\\r\\n\\tmargin-left: 20px;\\r\\n\\tmargin-right: 0px;\\r\\n}\\r\\n.cookieMessage {\\r\\n\\tflex: 85%; \\r\\n\\tmargin: auto;\\r\\n}\\r\\n.popupTextTitle {\\r\\n\\tpadding-bottom: 10px;\\r\\n    font-size: 13px;\\r\\n    line-height: 17px;\\r\\n    color: #c6d4df;\\r\\n}\\r\\n.popupTextTitle a {\\r\\n    text-decoration: underline;\\r\\n}\\r\\n.cookiepreferences_popup {\\r\\n\\tdisplay: none;\\r\\n\\tposition: fixed;\\r\\n\\tbottom: 0;\\r\\n\\twidth: 100%;\\r\\n\\tz-index: 2000;\\r\\n\\tpadding-top: 10px;\\r\\n}\\r\\n.cookiepreferences_popup_content {\\r\\n\\tdisplay: flex;\\r\\n    box-sizing: border-box;\\r\\n\\twidth: 90%;\\r\\n\\tmargin: auto;\\r\\n\\tmargin-bottom: 20px;\\r\\n\\tmargin-top: 20px;\\r\\n\\tpadding: 16px 16px 10px 16px;\\r\\n    max-width: 980px;\\r\\n\\tbackground: linear-gradient(90.85deg, #333840 0.58%, #25282E 74.92%);\\r\\n\\tbox-shadow: 0px 0px 10px #000000;\\r\\n    border-left: 2px solid #00CCFF;\\r\\n}\\r\\n@media all and (max-width: 910px) {\\r\\n    body.responsive_page .cookiepreferences_popup_content {\\r\\n        flex-direction: column;\\r\\n    }\\r\\n    body.responsive_page .cookiepreferences_popup_content .cookieMessage {\\r\\n        margin-bottom: 20px;\\r\\n    }\\r\\n    body.responsive_page .cookiepreferences_popup_content .buttonGroup {\\r\\n        flex-direction: row;\\r\\n        margin-left: 0px;\\r\\n    }\\r\\n    body.responsive_page .cookiepreferences_popup_content .buttonGroup .replyButton {\\r\\n        width: unset;\\r\\n    }\\r\\n}\\r\\n<\\/style>\\r\\n\\r\\n<div id=\\\"cookiePrefPopup\\\" class=\\\"cookiepreferences_popup\\\">\\r\\n\\t<div class=\\\"cookiepreferences_popup_content\\\">\\r\\n\\t\\t<div class=\\\"cookieMessage\\\">\\r\\n\\t\\t\\t<div class=\\\"popupTextTitle\\\">\\u60a8\\u662f\\u5426\\u4ecb\\u610f\\u6211\\u4eec\\u4f7f\\u7528\\u53ef\\u9009\\u7684 Cookie\\uff0c\\u6765\\u4e3a\\u60a8\\u63d0\\u4f9b\\u4e2a\\u6027\\u5316\\u7684\\u5185\\u5bb9\\u5e76\\u5206\\u6790\\u7f51\\u7ad9\\u6d41\\u91cf\\uff0c\\u5305\\u62ec\\u4f7f\\u7528 Google Analytics\\uff08\\u5206\\u6790\\uff09\\uff1f<\\/div>\\r\\n\\t\\t\\t<div class=\\\"popupTextTitle\\\">\\u6211\\u4eec\\u4f7f\\u7528\\u7684 Cookie \\u4e0d\\u591a\\uff0c\\u60a8\\u53ef\\u4ee5\\u968f\\u65f6\\u5728\\u6211\\u4eec\\u7684 <a href=\\\"https:\\/\\/store.steampowered.com\\/account\\/cookiepreferences\\\">Cookie \\u8bbe\\u7f6e\\u9875\\u9762<\\/a>\\u4e0a\\u8fdb\\u884c\\u67e5\\u770b\\u548c\\u7ba1\\u7406\\u3002\\u5982\\u679c\\u60a8\\u70b9\\u51fb\\u201c\\u5168\\u90e8\\u63a5\\u53d7\\u201d\\uff0c\\u5219\\u8868\\u793a\\u60a8\\u540c\\u610f\\u5728 Steam \\u7f51\\u7ad9\\u4e0a\\u4f7f\\u7528 Cookie\\u3002\\u5728\\u6211\\u4eec\\u7684<a href=\\\"https:\\/\\/store.steampowered.com\\/privacy_agreement\\\">\\u9690\\u79c1\\u653f\\u7b56<\\/a>\\u4e2d\\u4e86\\u89e3\\u66f4\\u591a\\u6709\\u5173 Cookie \\u7684\\u4fe1\\u606f\\u3002<\\/div>\\r\\n\\t\\t<\\/div>\\r\\n\\t\\t<div class=\\\"buttonGroup\\\">\\r\\n\\t\\t\\t<div id=\\\"acceptAllButton\\\" class=\\\"btn_blue_steamui btn_medium replyButton\\\"><span>\\u5168\\u90e8\\u63a5\\u53d7<\\/span><\\/div>\\r\\n\\t\\t\\t<div id=\\\"rejectAllButton\\\" class=\\\"btn_grey_steamui btn_medium replyButton\\\"><span>\\u5168\\u90e8\\u62d2\\u7edd<\\/span><\\/div>\\r\\n\\t\\t<\\/div>\\r\\n\\t<\\/div>\\r\\n<\\/div>\\r\\n\" );\r\n\r\n\t\tvar $onAcceptButton = $CPopupContent.find( '#acceptAllButton' );\r\n\t\tvar $onRejectButton = $CPopupContent.find( '#rejectAllButton' );\r\n\r\n\t\tif ( $onAcceptButton.length == 0 || $onRejectButton.length == 0 )\r\n\t\t{\r\n\t\t\t// template appears broken\r\n\t\t\tconsole.error(\"unable to display preferences popup\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar fnPostPreference = function ( bAllowChoice )\r\n\t\t{\r\n\t\t\t$J.ajax( { type: \"POST\", \r\n\t\t\t\t\t\turl: $AllowURL, \r\n\t\t\t\t\t\tdata: { bAllow: bAllowChoice, sessionid: g_sessionID },\r\n\t\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\t\txhrFields: { withCredentials: true } \r\n\t\t\t} ).done( function ( data )\r\n\t\t\t{\r\n\t\t\t\tif ( data && data.transfer_urls && data.transfer_params )\r\n\t\t\t\t{\r\n\t\t\t\t\tfor ( var i = 0; i < data.transfer_urls.length; i++ )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$J.ajax( { type: \"POST\", \r\n\t\t\t\t\t\t\t\t\turl: data.transfer_urls[i], \r\n\t\t\t\t\t\t\t\t\tdata: { transfer_params: data.transfer_params },\r\n\t\t\t\t\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\t\t\t\t\txhrFields: { withCredentials: true } \r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t$J( '#cookiePrefPopup' ).hide();\r\n\r\n\t\t}\r\n\r\n\t\t$onAcceptButton.on('click', '', function() {\r\n\t\t\tfnPostPreference( 1 );\r\n\t\t} );\r\n\r\n\t\t$onRejectButton.on('click', '', function ()\r\n\t\t{\r\n\t\t\tfnPostPreference( 0 );\r\n\t\t} );\r\n\r\n\t\t$J('body').append( $CPopupContent );\r\n\r\n\t\ttimerCookiePopup = window.setTimeout( function() {\r\n\t\t\t$J(\"#cookiePrefPopup\").show();\r\n\t\t}, COOKIE_PREFERENCES_POPUP_DELAY );\r\n\t}\r\n}\r\n\r\nfunction InitMiniprofileHovers()\r\n{\r\n\tvar $Hover = $J('<div/>', {'class': 'miniprofile_hover'} );\r\n\tvar $HoverContent = $J('<div/>', {'class': 'miniprofile_hover_inner shadow_content'} );\r\n\r\n\t$Hover.append( $J('<div class=\"shadow_ul\"></div><div class=\"shadow_top\"></div><div class=\"shadow_ur\"></div><div class=\"shadow_left\"></div><div class=\"shadow_right\"></div><div class=\"shadow_bl\"></div><div class=\"shadow_bottom\"></div><div class=\"shadow_br\"></div>'), $HoverContent );\r\n\r\n\t$Hover.hide();\r\n\t$J(document.body).append( $Hover );\r\n\r\n\tvar fnDataFactory = function( key ) { return new CDelayedAJAXData( 'miniprofile/' + key, MINIPROFILE_DELAY_BEFORE_AJAX ); };\r\n\r\n\tvar rgCallbacks = BindAJAXHovers( $Hover, $HoverContent, {\r\n\t\tfnDataFactory: fnDataFactory,\r\n\t\tfnPositionHover: PositionMiniprofileHover,\r\n\t\tstrDataName: 'miniprofile',\r\n\t\tstrURLMatch: 'miniprofile'\r\n\t}  );\r\n}\r\n\r\nfunction _RegisterAJAXHoverHideFunction( fnHide )\r\n{\r\n\tif ( typeof g_rgfnHideAJAXHover == 'undefined' )\r\n\t{\r\n\t\tg_rgfnHideAJAXHover = [];\r\n\t\t$J(window).blur( HideAJAXHovers );\r\n\t}\r\n\r\n\tg_rgfnHideAJAXHover.push( fnHide );\r\n}\r\n\r\nfunction HideAJAXHovers()\r\n{\r\n\tif ( typeof g_rgfnHideAJAXHover != 'undefined' )\r\n\t{\r\n\t\tfor ( var i = 0; i < g_rgfnHideAJAXHover.length; i++ )\r\n\t\t\tg_rgfnHideAJAXHover[i]();\r\n\t}\r\n}\r\n\r\nfunction BindAJAXHovers( $Hover, $HoverContent, oParams )\r\n{\r\n\tvar fnDataFactory = oParams.fnDataFactory;\r\n\tvar fnPositionHover = oParams.fnPositionHover || PositionMiniprofileHover;\r\n\tvar strDataName = oParams.strDataName;\r\n\tvar strURLMatch = oParams.strURLMatch;\r\n\tvar fnReadKey = function( $Element ) { return $Element.data( strDataName ); };\r\n\tif ( oParams.fnReadKey )\r\n\t\tfnReadKey = oParams.fnReadKey;\r\n\tvar strSelector = oParams.strSelector || '[data-' + strDataName + ']';\r\n\tvar nDelayBeforeShow = oParams.nDelayBeforeShow || MINIPROFILE_DELAY_BEFORE_SHOW;\r\n\r\n\t// indexed by accountid\r\n\tvar rgHoverData = {};\r\n\tvar HoverTarget = null;\r\n\tvar timerHover = null;\r\n\r\n\tvar fnOnHover = function( $Target, key ) {\r\n\r\n\t\tvar bHoverVisible = ( $Hover.css('display') != 'none' );\r\n\r\n\t\tvar HoverData = rgHoverData[key];\r\n\t\tif ( !HoverData )\r\n\t\t{\r\n\t\t\tHoverData = rgHoverData[key] = fnDataFactory( key );\r\n\t\t}\r\n\r\n\t\tif ( HoverTarget == HoverData && bHoverVisible )\r\n\t\t{\r\n\t\t\t//really only want to do this while fading out\r\n\t\t\t$Hover.stop();\r\n\t\t\tfnPositionHover( $Hover, $Target );\r\n\t\t\t$Hover.show();\t// PositionMiniprofile toggles visibility\r\n\t\t\t$Hover.fadeTo( MINIPROFILE_ANIM_SPEED, 1.0 );\r\n\t\t}\r\n\t\telse if ( !timerHover || HoverData != HoverTarget )\r\n\t\t{\r\n\t\t\t// this is the new target\r\n\t\t\tif ( HoverTarget && HoverTarget != HoverData )\r\n\t\t\t\tHoverTarget.CancelAJAX();\r\n\t\t\tHoverTarget = HoverData;\r\n\r\n\t\t\tif ( timerHover )\r\n\t\t\t{\r\n\t\t\t\twindow.clearTimeout( timerHover );\r\n\t\t\t\ttimerHover = null;\r\n\t\t\t}\r\n\r\n\t\t\tHoverData.QueueAjaxRequestIfNecessary();\r\n\r\n\t\t\ttimerHover = window.setTimeout( function() {\r\n\t\t\t\twindow.clearTimeout( timerHover );\r\n\t\t\t\ttimerHover = null;\r\n\r\n\t\t\t\tHoverData.RunWhenAJAXReady( function() {\r\n\t\t\t\t\tHoverData.Show( $HoverContent );\r\n\t\t\t\t\t$Hover.stop();\r\n\t\t\t\t\t$Hover.css( 'opacity', '' ); //clean up jquery animation\r\n\t\t\t\t\tfnPositionHover( $Hover, $Target );\r\n\t\t\t\t\t$Hover.fadeIn( MINIPROFILE_ANIM_SPEED );\r\n\t\t\t\t\tvar videoElem = $Hover.find( 'video' );\r\n\t\t\t\t\tif ( videoElem.length != 0 )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar playPromise = videoElem[0].play();\r\n\t\t\t\t\t\tif ( playPromise )\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tplayPromise.catch( function( e ) {\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t}, nDelayBeforeShow );\r\n\t\t}\r\n\t};\r\n\r\n\tvar fnCancelHover = function( key )\r\n\t{\r\n\t\tvar bHoverVisible = ( $Hover.css('display') != 'none' );\r\n\r\n\t\tif ( key )\r\n\t\t{\r\n\t\t\tvar HoverData = rgHoverData[key];\r\n\t\t\tif ( HoverData )\r\n\t\t\t{\r\n\t\t\t\tHoverData.CancelAJAX();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( timerHover )\r\n\t\t{\r\n\t\t\twindow.clearTimeout( timerHover );\r\n\t\t\ttimerHover = null;\r\n\t\t}\r\n\r\n\t\tif ( bHoverVisible )\r\n\t\t{\r\n\t\t\t$Hover.stop();\r\n\t\t\t$Hover.fadeOut( MINIPROFILE_ANIM_SPEED );\r\n\t\t}\r\n\t};\r\n\r\n\tvar strEventNamespace = 'AjaxHover' + strDataName;\r\n\t$J(document ).on('mouseenter.' + strEventNamespace, strSelector, function() {\r\n\t\tvar $Target = $J(this);\r\n\t\tfnOnHover( $Target, fnReadKey( $Target) );\r\n\t} );\r\n\t$J(document ).on('click.' + strEventNamespace + ' mouseleave.' + strEventNamespace, strSelector, fnCancelHover );\r\n\r\n\t// register this hover so HideAJAXHovers() can hide it when invoked\r\n\t_RegisterAJAXHoverHideFunction( fnCancelHover );\r\n\r\n\treturn {\r\n\t\tfnCancelHover: fnCancelHover\r\n\t};\r\n}\r\n\r\nfunction PositionMiniprofileHover( $Hover, $Target, oParams )\r\n{\r\n\tif ( !oParams )\r\n\t\toParams = {};\r\n\tvar bPreferRightSide = oParams.bPreferRightSide || false;\r\n\tvar nPxArrowOverlap = ( oParams.nPxArrowOverlap != undefined ) ? oParams.nPxArrowOverlap : 2;\r\n\r\n\t$Hover.css( 'visibility', 'hidden' );\r\n\t$Hover.show();\r\n\r\n\tvar offset = $Target.offset();\r\n\t$Hover.css( 'left', offset.left + 'px' );\r\n\t$Hover.css( 'top', offset.top + 'px');\r\n\r\n\tvar $HoverBox = $Hover.children( '.shadow_content' );\r\n\tif ( !$HoverBox.length )\r\n\t\t$HoverBox = $J( $Hover.children()[0] );\r\n\r\n\tvar nWindowScrollTop = $J(window).scrollTop();\r\n\tvar nWindowScrollLeft = $J(window).scrollLeft();\r\n\tvar nViewportWidth = $J(window).width();\r\n\tvar nViewportHeight = $J(window).height();\r\n\r\n\t\tvar nBoxRightViewport = ( offset.left - nWindowScrollLeft ) + $Target.outerWidth() + $HoverBox.width() + 14;\r\n\tvar nSpaceRight = nViewportWidth - nBoxRightViewport;\r\n\tvar nSpaceLeft = offset.left - $Hover.width();\r\n\tif ( ( ( nSpaceLeft > 0 || nSpaceLeft > nSpaceRight ) && !bPreferRightSide ) || ( bPreferRightSide && nSpaceRight < 14 && nSpaceLeft > nSpaceRight ) )\r\n\t{\r\n\t\t\t\t$Hover.css( 'left', ( offset.left - $Hover.width() + nPxArrowOverlap + 3 ) + 'px' );\r\n\t}\r\n\telse\r\n\t{\r\n\t\t\t\t$Hover.css( 'left', ( offset.left + $Target.outerWidth() - nPxArrowOverlap ) + 'px' );\r\n\t}\r\n\r\n\tvar nTopAdjustment = 0;\r\n\r\n\t\t\tif ( $Target.height() < 48 )\r\n\t\tnTopAdjustment = Math.floor( $Target.height() / 2 ) - 24;\r\n\tvar nDesiredHoverTop = offset.top - 15 + nTopAdjustment;\r\n\t$Hover.css( 'top', nDesiredHoverTop + 'px' );\r\n\r\n\t// see if the hover is cut off by the bottom of the window, and bump it up if neccessary\r\n\tvar nTargetTopViewport = ( offset.top - nWindowScrollTop ) + nTopAdjustment;\r\n\tif ( nTargetTopViewport + $HoverBox.height() + 35 > nViewportHeight )\r\n\t{\r\n\t\tvar nViewportAdjustment = ( $HoverBox.height() + 35 ) - ( nViewportHeight - nTargetTopViewport );\r\n\r\n\t\t// if the hover has the \"in-game\" block at the bottom, we need to have more space at the bottom of the hover\r\n\t\t//\tso that the arrow will appear in the blue part of the hover.  This means the game info may be off-screen below.\r\n\t\tvar bHaveInGameInfo = $HoverBox.find('.miniprofile_ingame').length > 0;\r\n\t\tvar nHoverBoxBottomMinimum = ( bHaveInGameInfo ? 78 : 24 );\t// the minimum amount of space we need below the arrow\r\n\t\tnViewportAdjustment = Math.min( $HoverBox.height() - nHoverBoxBottomMinimum, nViewportAdjustment );\r\n\r\n\t\tvar nViewportAdjustedHoverTop = offset.top - nViewportAdjustment;\r\n\t\t$Hover.css( 'top', nViewportAdjustedHoverTop + 'px' );\r\n\t}\r\n\r\n\t$Hover.hide();\r\n\t$Hover.css( 'visibility', '' );\r\n}\r\n\r\n\r\n/* Emoticon hovers */\r\n\r\nfunction CEmoticonDelayedAJAXData( strEmoticonName, msDelayBeforeAJAX )\r\n{\r\n\tCDelayedAJAXData.apply( this, [ 'economy/emoticonhover/' + strEmoticonName + '/jsonp.js', msDelayBeforeAJAX ]);\r\n\tthis.m_strEmoticonName = strEmoticonName;\r\n}\r\n\r\n// subclass CDelayedAJAXData so we can request via JSONP\r\nCEmoticonDelayedAJAXData.prototype = new CDelayedAJAXData;\r\nCEmoticonDelayedAJAXData.prototype.constructor = CEmoticonDelayedAJAXData;\r\n\r\nCEmoticonDelayedAJAXData.prototype.GetAJAXParams = function()\r\n{\r\n\treturn {\r\n\t\turl: 'https://community.akamai.steamstatic.com/' + this.m_strURL,\r\n\t\tdataType: 'jsonp',\r\n\t\tjsonpCallback: 'OnLoadEmoticon_' + this.m_strEmoticonName,\t//consistent name for cachability\r\n\t\tcache: true,\r\n\t\tdata: {l: 'schinese' }\r\n\t}\r\n};\r\n\r\nfunction InitEmoticonHovers()\r\n{\r\n\tvar $Hover = $J('<div/>', {'class': 'emoticon_hover'} );\r\n\tvar $HoverContent = $J('<div/>', {'class': 'emoticon_hover_content'} );\r\n\t$Hover.append( $HoverContent, $J('<div/>', {'class': 'hover_arrow left emoticon_hover_arrow' } ), $J('<div/>', {'class': 'hover_arrow right emoticon_hover_arrow' } ) );\r\n\t$Hover.hide();\r\n\r\n\tvar fnOneTimeEmoticonSetup = function() {\r\n\t\t$J(document.body).append( $Hover );\r\n\t};\r\n\r\n\tvar fnReadKey = function ( $Element ) {\r\n\t\tif ( $Element.data('emoticon') )\r\n\t\t{\r\n\t\t\treturn $Element.data('emoticon');\r\n\t\t}\r\n\t\telse if ( $Element.attr( 'src' ) )\r\n\t\t{\r\n\t\t\tvar rgMatches = $Element.attr( 'src' ).match( 'emoticon/(.*)$' );\r\n\t\t\tif ( rgMatches && rgMatches[1] )\r\n\t\t\t{\r\n\t\t\t\tvar strEmoticon = rgMatches[1];\r\n\t\t\t\tif ( strEmoticon.length > 1 )\r\n\t\t\t\t{\r\n\t\t\t\t\tif ( strEmoticon[0] == ':' )\r\n\t\t\t\t\t\tstrEmoticon = strEmoticon.substr( 1 );\r\n\t\t\t\t\tif ( strEmoticon[ strEmoticon.length - 1 ] == ':' )\r\n\t\t\t\t\t\tstrEmoticon = strEmoticon.substr( 0, strEmoticon.length - 1 );\r\n\t\t\t\t}\r\n\t\t\t\treturn strEmoticon;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t};\r\n\r\n\tvar fnDataFactory = function( key )\t{\r\n\t\tif ( fnOneTimeEmoticonSetup )\r\n\t\t{\r\n\t\t\tfnOneTimeEmoticonSetup();\r\n\t\t\tfnOneTimeEmoticonSetup = null;\r\n\t\t}\r\n\r\n\t\treturn new CEmoticonDelayedAJAXData( key, 50 );\r\n\t};\r\n\r\n\tvar rgCallbacks = BindAJAXHovers( $Hover, $HoverContent, {\r\n\t\tfnDataFactory: fnDataFactory,\r\n\t\tfnPositionHover: function( $Hover, $Target ) {\r\n\t\t\tPositionMiniprofileHover( $Hover, $Target, {\r\n\t\t\t\tbPreferRightSide: true,\r\n\t\t\t\tnPxArrowOverlap: 0\r\n\t\t\t} );\r\n\t\t\t//slide it down a little for emoticon option popup\r\n\t\t\tif ( $Target.hasClass('emoticon_option') )\r\n\t\t\t\t$Hover.css( 'top', parseInt( $Hover.css('top') ) + 5 );\r\n\t\t},\r\n\t\tfnReadKey: fnReadKey,\r\n\t\tstrSelector: 'img.emoticon',\r\n\t\tstrURLMatch: 'emoticonhover',\r\n\t\tnDelayBeforeShow: 50\r\n\t} );\r\n\r\n\twindow.DismissEmoticonHover = rgCallbacks.fnCancelHover;\r\n}\r\n\r\nfunction V_EscapeRegExp( str )\r\n{\r\n\treturn str.replace( /[.*+?^${}()|[\\]\\\\]/g, '\\\\$&' );\r\n}\r\n\r\nfunction V_EscapeHTML( str )\r\n{\r\n\treturn String(str).replace( /&/g, '&amp;' ).replace( /[\"]/g, '&quot;' ).replace( /[']/g, '&#39;' ).replace( /</g, '&lt;').replace( />/g, '&gt;');\r\n}\r\n\r\nfunction v_trim( str )\r\n{\r\n\tif ( str.trim )\r\n\t\treturn str.trim();\r\n\telse\r\n\t{\r\n\t\treturn str.replace(/^\\s+/, '').replace(/\\s+$/, '');\r\n\t}\r\n}\r\n\r\nfunction V_ParseJSON( str )\r\n{\r\n\tif ( typeof JSON == 'object' && JSON.parse )\r\n\t\treturn JSON.parse( str );\t// built-in / json2.js\r\n\telse\r\n\t\tstr.evalJSON();\t\t\t\t// prototype\r\n}\r\n\r\nfunction V_ToJSON( object )\r\n{\r\n\tif ( typeof JSON == 'object' && JSON.stringify )\r\n\t\treturn JSON.stringify( object );\t// built-in / json2.js\r\n\telse\r\n\t\tObject.toJSON( object );\t\t\t\t// prototype\r\n}\r\n\r\nfunction V_IsJSON( str )\r\n{\r\n\ttry\r\n\t{\r\n\t\tif( typeof JSON == 'object' && JSON.parse )\r\n\t\t{\r\n\t\t\tvar o = JSON.parse(str);\r\n\t\t\tif ( o !== null )\r\n\t\t\t\treturn true;\r\n\r\n\t\t} else {\r\n\t\t\treturn str.isJSON();\r\n\t\t}\r\n\t}\r\n\tcatch (e) { }\r\n\treturn false;\r\n}\r\n\r\n\r\nfunction V_GetCookie( strCookieName )\r\n{\r\n\tvar rgMatches = document.cookie.match( '(^|; )' + strCookieName + '=([^;]*)' );\r\n\tif ( rgMatches && rgMatches[2] )\r\n\t\treturn rgMatches[2];\r\n\telse\r\n\t\treturn null;\r\n}\r\n\r\n\r\nfunction V_GetDecodedCookie( strCookieName )\r\n{\r\n\tvar value = V_GetCookie( strCookieName );\r\n\treturn value && decodeURIComponent( value );\r\n}\r\n\r\nfunction V_SetCookie( strCookieName, strValue, expiryInDays, path )\r\n{\r\n\tif ( !path )\r\n\t\tpath = '/';\r\n\r\n\tvar strDate = '';\r\n\r\n\tif( typeof expiryInDays != 'undefined' && expiryInDays )\r\n\t{\r\n\t\tvar dateExpires = new Date();\r\n\t\tdateExpires.setTime( dateExpires.getTime() + 1000 * 60 * 60 * 24 * expiryInDays );\r\n\t\tstrDate = '; expires=' + dateExpires.toGMTString();\r\n\t}\r\n\r\n\tdocument.cookie = strCookieName + '=' + strValue + strDate + ';path=' + path;\r\n}\r\n\r\nfunction _GetStorageFromCookie()\r\n{\r\n\tvar oStorage = {};\r\n\r\n\tvar strStorageJSON = V_GetCookie( 'storage' );\r\n\tif ( strStorageJSON )\r\n\t{\r\n\t\ttry {\r\n\t\t\toStorage = V_ParseJSON(decodeURIComponent(strStorageJSON));\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\toStorage = {};\r\n\t\t}\r\n\t}\r\n\r\n\treturn oStorage;\r\n}\r\n\r\nfunction BInsideIFrame()\r\n{\r\n\ttry\r\n\t{\r\n\t\treturn window.self !== window.top;\r\n\t}\r\n\tcatch( e )\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\nfunction SetValueLocalStorage( strPreferenceName, value )\r\n{\r\n\tif ( !BInsideIFrame() && window.localStorage )\r\n\t{\r\n\t\twindow.localStorage[strPreferenceName] = value;\r\n\t}\r\n\telse\r\n\t{\r\n\t\tvar oStorage = _GetStorageFromCookie();\r\n\r\n\t\toStorage[strPreferenceName] = value;\r\n\r\n\t\tV_SetCookie( 'storage', encodeURIComponent( V_ToJSON( oStorage ) ), 365 )\r\n\t}\r\n}\r\n\r\nfunction UnsetValueLocalStorage( strPreferenceName )\r\n{\r\n\tif ( !BInsideIFrame() && window.localStorage )\r\n\t{\r\n\t\tdelete window.localStorage[strPreferenceName];\r\n\t}\r\n\telse\r\n\t{\r\n\t\tvar oStorage = _GetStorageFromCookie();\r\n\r\n\t\tdelete oStorage[strPreferenceName];\r\n\r\n\t\tV_SetCookie( 'storage', encodeURIComponent( V_ToJSON( oStorage ) ), 365 )\r\n\t}\r\n}\r\n\r\nfunction GetValueLocalStorage( strPreferenceName, defaultValue )\r\n{\r\n\tif ( !BInsideIFrame() && window.localStorage )\r\n\t{\r\n\t\treturn window.localStorage[strPreferenceName] || defaultValue;\r\n\t}\r\n\telse\r\n\t{\r\n\t\tvar oStorage = _GetStorageFromCookie();\r\n\r\n\t\treturn oStorage[strPreferenceName] || defaultValue;\r\n\t}\r\n}\r\n\r\nfunction DynamicLink_PlayYouTubeVideoInline( elem, videoid )\r\n{\r\n\tvar el = $J(elem);\r\n\tvar youtubeurl = location.protocol + '//www.youtube.com/embed/' + videoid + '?showinfo=0&autohide=1&fs=1&hd=1&modestbranding=1&rel=0&showsearch=0&wmode=direct&autoplay=1';\r\n\tvar wrapper = $J( '<div/>', { 'class': 'dynamiclink_youtubeviewvideo' } );\r\n\tvar embed_wrapper = $J( '<div/>', { 'class' : 'dynamiclink_youtubeviewvideoembedded', 'frameborder' : '0' } );\r\n\tvar iframeContent = $J( '<iframe/>', { 'frameborder' : '0', src: youtubeurl, 'allowfullscreen': '' } );\r\n\tif ( el.length )\r\n\t{\r\n\t\tembed_wrapper.append( iframeContent );\r\n\t\twrapper.append( embed_wrapper );\r\n\t\tel.after( wrapper );\r\n\t\tel.remove();\r\n\t}\r\n}\r\n\r\nfunction DynamicLink_PlayVimeoVideoInline( elem, videoid )\r\n{\r\n\tvar el = $J(elem);\r\n\tvar videourl = 'https://player.vimeo.com/video/' + videoid + '?badge=0&autopause=0&autoplay=1&player_id=0';\r\n\tvar wrapper = $J( '<div/>', { 'class': 'dynamiclink_youtubeviewvideo' } );\r\n\tvar embed_wrapper = $J( '<div/>', { 'class' : 'dynamiclink_youtubeviewvideoembedded', 'frameborder' : '0' } );\r\n\tvar iframeContent = $J( '<iframe/>', { 'frameborder' : '0', src: videourl, webkitallowfullscreen : '', mozallowfullscreen : '', allowfullscreen : '' } );\r\n\tif ( el.length )\r\n\t{\r\n\t\tembed_wrapper.append( iframeContent );\r\n\t\twrapper.append( embed_wrapper );\r\n\t\tel.after( wrapper );\r\n\t\tel.remove();\r\n\t}\r\n}\r\n\r\nfunction DynamicLink_ShowSketchfabModelInline( elem, details )\r\n{\r\n\tvar url = \"https://sketchfab.com/models/\" + details.modelid + \"/embed?autostart=1\";\r\n\tvar el = $J(elem);\r\n\tvar wrapper = $J( '<div/>', { 'class' : 'dynamiclink_sketchfabmodelembedded', 'frameborder' : '0' } );\r\n\tvar iframeContent = $J( '<iframe/>', { 'frameborder' : '0', \"mozallowfullscreen\" : true, \"webkitallowfullscreen\" : true, src: url } );\r\n\tif ( el.length )\r\n\t{\r\n\t\twrapper.append( iframeContent );\r\n\t\tel.after( wrapper );\r\n\t\tel.remove();\r\n\t}\r\n}\r\n\r\nfunction ReplaceDynamicLink( id, strHTML )\r\n{\r\n\tvar el = $J('#'+id);\r\n\tif ( el.length && strHTML.length > 0 )\r\n\t{\r\n\t\tvar newEl = $J( strHTML );\r\n\t\tel.after( newEl );\r\n\t\tel.remove();\r\n\r\n\t\tif ( typeof window['HandleNewDynamicLink'] === \"function\" )\r\n\t\t{\r\n\t\t\tHandleNewDynamicLink( newEl );\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction ShowBannedDynamicLink( el )\r\n{\r\n\tel = $J( el );\r\n\tif ( el.length > 0 )\r\n\t{\r\n\t\tvar bannedContentURL = el.data( 'bannedurl' );\r\n\t\tvar link = $J( \"<a>\", { href: bannedContentURL, text: bannedContentURL } );\r\n\t\tel.html( link );\r\n\t\tel.attr( 'onclick', '' );\r\n\t}\r\n}\r\n\r\n\r\n\r\nfunction CScrollOffsetWatcher( el, fnCallback )\r\n{\r\n\tthis.m_$Element = $J(el);\r\n\tthis.nOffsetTop = this.m_$Element.offset().top;\r\n\tthis.nBufferHeight = 500;\r\n\r\n\tthis.nOffsetTopTrigger = this.nOffsetTop - this.nBufferHeight;\r\n\r\n\tthis.fnOnHit = fnCallback;\r\n\r\n\tCScrollOffsetWatcher.RegisterWatcher( this );\r\n}\r\n\r\nCScrollOffsetWatcher.prototype.SetBufferHeight = function( nHeight )\r\n{\r\n\tthis.nBufferHeight = nHeight;\r\n\tthis.Recalc();\r\n};\r\n\r\nCScrollOffsetWatcher.prototype.Recalc = function()\r\n{\r\n\tthis.nOffsetTop = this.m_$Element.offset().top;\r\n\tthis.nOffsetTopTrigger = this.nOffsetTop - this.nBufferHeight;\r\n};\r\n\r\nCScrollOffsetWatcher.sm_rgWatchers = [];\r\nCScrollOffsetWatcher.m_nTimeoutInitialLoad = 0;\r\nCScrollOffsetWatcher.RegisterWatcher = function( Watcher )\r\n{\r\n\tvar bHadWatchers = CScrollOffsetWatcher.sm_rgWatchers.length > 0;\r\n\r\n\t// keep the list sorted by offset trigger\r\n\tvar iInsertionPoint;\r\n\tfor( iInsertionPoint = CScrollOffsetWatcher.sm_rgWatchers.length; iInsertionPoint > 0 ; iInsertionPoint-- )\r\n\t{\r\n\t\tif ( Watcher.nOffsetTopTrigger > CScrollOffsetWatcher.sm_rgWatchers[iInsertionPoint - 1].nOffsetTopTrigger )\r\n\t\t\tbreak;\r\n\t}\r\n\tCScrollOffsetWatcher.sm_rgWatchers.splice( iInsertionPoint, 0, Watcher );\r\n\r\n\tif ( !bHadWatchers )\r\n\t{\r\n\t\t$J(window).on( 'scroll.ScrollOffsetWatcher', CScrollOffsetWatcher.OnScroll );\r\n\r\n\t\tvar nRecalcTimer = 0;\r\n\t\t$J(window).on( 'resize.ScrollOffsetWatcher', function() {\r\n\t\t\tif ( nRecalcTimer )\r\n\t\t\t\twindow.clearTimeout( nRecalcTimer );\r\n\t\t\tnRecalcTimer = window.setTimeout( CScrollOffsetWatcher.ForceRecalc, 500 );\r\n\t\t} );\r\n\t}\r\n\r\n\t// use a 1ms timeout to roll these together as much as possible on page load\r\n\tif ( !CScrollOffsetWatcher.m_nTimeoutInitialLoad )\r\n\t\tCScrollOffsetWatcher.m_nTimeoutInitialLoad = window.setTimeout( function() { CScrollOffsetWatcher.OnScroll(); CScrollOffsetWatcher.m_nTimeoutInitialLoad = 0; }, 1 );\r\n};\r\n\r\nCScrollOffsetWatcher.ForceRecalc = function()\r\n{\r\n\tfor ( var i = 0; i < CScrollOffsetWatcher.sm_rgWatchers.length; i++ )\r\n\t{\r\n\t\tCScrollOffsetWatcher.sm_rgWatchers[i].Recalc();\r\n\t}\r\n\r\n\tCScrollOffsetWatcher.OnScroll();\r\n};\r\n\r\nCScrollOffsetWatcher.OnScroll = function()\r\n{\r\n\tvar supportPageOffset = window.pageYOffset !== undefined;\r\n\tvar isCSS1Compat = ((document.compatMode || \"\") === \"CSS1Compat\");\r\n\r\n\tvar nScrollY = supportPageOffset ? window.pageYOffset : isCSS1Compat ? document.documentElement.scrollTop : document.body.scrollTop;\r\n\tvar nOffsetBottom = nScrollY + window.innerHeight;\r\n\r\n\tvar cCompletedWatchers = 0;\r\n\tfor( var i = 0; i < CScrollOffsetWatcher.sm_rgWatchers.length; i++ )\r\n\t{\r\n\t\tvar Watcher = CScrollOffsetWatcher.sm_rgWatchers[i];\r\n\t\tif ( nOffsetBottom > Watcher.nOffsetTopTrigger )\r\n\t\t{\r\n\t\t\t// make sure the page hasn't changed and we really need to show content\r\n\t\t\tWatcher.Recalc();\r\n\t\t\tif ( nOffsetBottom > Watcher.nOffsetTopTrigger )\r\n\t\t\t{\r\n\t\t\t\tWatcher.fnOnHit();\r\n\t\t\t\tcCompletedWatchers++;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tif ( cCompletedWatchers )\r\n\t\tCScrollOffsetWatcher.sm_rgWatchers.splice( 0, cCompletedWatchers );\r\n\r\n\tif ( CScrollOffsetWatcher.sm_rgWatchers.length == 0 )\r\n\t{\r\n\t\t$J(window).off( 'scroll.ScrollOffsetWatcher' );\r\n\t\t$J(window).off( 'resize.ScrollOffsetWatcher' );\r\n\t}\r\n};\r\n\r\nfunction LoadImageGroupOnScroll( elTarget, strGroup )\r\n{\r\n\tvar $Element = $J( '#' + elTarget );\r\n\tif ( $Element.length )\r\n\t\tnew CScrollOffsetWatcher( $Element, function() { LoadDelayedImages(strGroup); } );\r\n}\r\n\r\nfunction LoadDelayedImages( group )\r\n{\r\n\tif ( typeof g_rgDelayedLoadImages != 'undefined' && g_rgDelayedLoadImages[group] )\r\n\t{\r\n\t\tvar rgURLs = g_rgDelayedLoadImages[group];\r\n\t\tfor ( var i=0; i < rgURLs.length; i++ )\r\n\t\t{\r\n\t\t\t$J('#delayedimage_' + group + '_' + i).attr( 'src', rgURLs[i] );\r\n\t\t}\r\n\r\n\t\tg_rgDelayedLoadImages[group] = false;\r\n\t}\r\n}\r\n\r\nWebStorage = {\r\n\tGetLocal: function ( key, bSessionOnly )\r\n\t{\r\n\t\tvar type = ( bSessionOnly ) ? 'session' : 'local';\r\n\r\n\t\tif ( !window[type + 'Storage'] )\r\n\t\t\treturn WebStorage.GetCookie( key );\r\n\r\n\t\tvar storage = window[type + 'Storage'];\r\n\t\tvar value;\r\n\t\ttry {\r\n\t\t\tvalue = storage.getItem(key);\r\n\t\t} catch(err) {\r\n\t\t\t// storage.getItem can throw SecurityError based on user's browser setting.\r\n\t\t\tvalue = null;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tvalue = V_ParseJSON( value );\r\n\t\t} catch(err){\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tif( value == null )\r\n\t\t{\r\n\t\t\t// Check if we have the value stored in a cookie instead. If so, move that to LS and remove the cookie\r\n\t\t\tvalue = V_GetCookie( key );\r\n\t\t\tif( value != null )\r\n\t\t\t{\r\n\t\t\t\tWebStorage.SetLocal( key, value, bSessionOnly );\r\n\t\t\t\tWebStorage.ClearCookie( key );\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn value;\r\n\t},\r\n\tGetLocalSession: function( key )\r\n\t{\r\n\t\treturn WebStorage.GetLocal( key, true );\r\n\t},\r\n\tSetLocal: function ( key, value, bSessionOnly )\r\n\t{\r\n\t\tvar type = ( bSessionOnly ) ? 'session' : 'local';\r\n\r\n\t\tif ( !window[type + 'Storage'] )\r\n\t\t\treturn WebStorage.SetCookie( key, value, ( bSessionOnly ) ? null : 365 );\r\n\r\n\t\tvalue = V_ToJSON( value );\r\n\r\n\t\tvar storage = window[type + 'Storage'];\r\n\t\tstorage.setItem( key, value );\r\n\t},\r\n\tSetLocalSession: function( key, value )\r\n\t{\r\n\t\tWebStorage.SetLocal( key, value, true );\r\n\t},\r\n\tGetCookie: function( key )\r\n\t{\r\n\t\tvar keyValue = V_GetCookie( key );\r\n\t\tif ( keyValue )\r\n\t\t\tkeyValue = decodeURIComponent( keyValue );\r\n\r\n\t\treturn V_IsJSON( keyValue ) ? V_ParseJSON( keyValue ) : keyValue;\r\n\t},\r\n\tSetCookie: function( key, value, duration )\r\n\t{\r\n\t\tvalue = encodeURIComponent( V_ToJSON( value ) );\r\n\t\tV_SetCookie( key, value, duration );\r\n\t},\r\n\tClearCookie: function( key )\r\n\t{\r\n\t\tWebStorage.SetCookie(key, null, -1 );\r\n\t},\r\n\tRemoveLocal : function ( key, bSessionOnly )\r\n\t{\r\n\t\tvar type = ( bSessionOnly ) ? 'session' : 'local';\r\n\r\n\t\tif ( !window[type + 'Storage'] )\r\n\t\t\treturn WebStorage.ClearCookie( key );\r\n\r\n\t\tvar storage = window[type + 'Storage'];\r\n\r\n\t\tstorage.removeItem( key );\r\n\t}\r\n};\r\n\r\n// takes an integer\r\nfunction v_numberformat( n, decimals, strDecimalSymbol, strThousandsSeperator )\r\n{\r\n\tif ( typeof strDecimalSymbol == 'undefined' && typeof strThousandsSeperator == 'undefined' && typeof Number != 'undefined' && typeof Number.toLocaleString != 'undefined' )\r\n\t{\r\n\t\tvar options = {};\r\n\t\tif ( typeof decimals != 'undefined' && decimals !== 0 )\r\n\t\t{\r\n\t\t\toptions.minimumFractionDigits = decimals;\r\n\t\t\toptions.maximumFractionDigits = decimals;\r\n\t\t}\r\n\r\n\t\tvar num = new Number(n);\r\n\t\ttry\r\n\t\t{\r\n\t\t\treturn num.toLocaleString( false, options );\r\n\t\t}\r\n\t\tcatch( e )\r\n\t\t{\r\n\t\t\treturn num.toString();\r\n\t\t}\r\n\t}\r\n\r\n\tvar str = '' + ( n ? n : 0 );\r\n\tvar len = str.indexOf( '.' );\r\n\tif ( len == -1 )\r\n\t\tlen = str.length;\r\n\tvar out = '';\r\n\tfor ( var i = 0; i < len; i++ )\r\n\t{\r\n\t\tvar c = str.charAt(i);\r\n\t\tout += c;\r\n\t\tif ( i < len - 1 && (len - i - 1) % 3 == 0 && c != '-' )\r\n\t\t\tout += ( typeof strThousandsSeperator == 'undefined' ? ',' : strThousandsSeperator );\r\n\t}\r\n\tif ( ( len < str.length || decimals ) && typeof decimals != 'undefined' && decimals !== 0 )\r\n\t{\r\n\t\tlen++;\r\n\t\tout += ( typeof strDecimalSymbol == 'undefined' ? ',' : strDecimalSymbol );\r\n\t\tfor ( var i = 0; i < ( decimals ? decimals : str.length - len ); i++ )\r\n\t\t{\r\n\t\t\tif ( len + i < str.length )\r\n\t\t\t\tout += str.charAt( len + i );\r\n\t\t\telse\r\n\t\t\t\tout += '0';\r\n\t\t}\r\n\t}\r\n\r\n\treturn out;\r\n}\r\n\r\n\r\nfunction v_shuffle( rgArray )\r\n{\r\n\tfor ( var i = 0; i < rgArray.length; i++ )\r\n\t{\r\n\t\tvar iSwap = Math.floor( Math.random() * ( rgArray.length - i ) + i );\r\n\t\tif ( iSwap != i )\r\n\t\t{\r\n\t\t\tvar temp = rgArray[iSwap];\r\n\t\t\trgArray[iSwap] = rgArray[i];\r\n\t\t\trgArray[i] = temp;\r\n\t\t}\r\n\t}\r\n\r\n\treturn rgArray;\r\n}\r\n\r\n\r\nfunction UpdateFormattedNumber( element, delta )\r\n{\r\n\tvar $Element = $J(element);\r\n\t$Element.text( v_numberformat( parseInt( $Element.text().replace( /,/, '' ) ) + delta ) );\r\n}\r\n\r\nfunction RateAnnouncement( rateURL, gid, bVoteUp, clanID )\r\n{\r\n\tif ( bVoteUp && $J('#VoteUpBtn_' + gid).hasClass( \"btn_active\" ) )\r\n\t{\r\n\t\treturn;\r\n\t}\r\n\tif ( !bVoteUp && $J('#VoteDownBtn_' + gid).hasClass( \"btn_active\" ) )\r\n\t{\r\n\t\treturn;\r\n\t}\r\n\r\n\trateURL = rateURL + gid;\r\n\t$J.post( rateURL, {\r\n\t\t\t'voteup' : bVoteUp,\r\n\t\t\t'clanid' : clanID,\r\n\t\t\t'sessionid' : g_sessionID\r\n\t\t}\r\n\t).done( function( json ) {\r\n\r\n\t\tvar votesUpCount = $J('#VotesUpCount_' + gid);\r\n\t\tif ( votesUpCount )\r\n\t\t{\r\n\t\t\tvar increment = 0;\r\n\t\t\tif ( bVoteUp )\r\n\t\t\t{\r\n\t\t\t\tincrement = 1;\r\n\t\t\t}\r\n\t\t\telse if ( $J('#VoteUpBtn_' + gid).hasClass( 'btn_active' ) )\r\n\t\t\t{\r\n\t\t\t\tincrement = -1;\r\n\t\t\t}\r\n\t\t\tUpdateFormattedNumber( votesUpCount, increment );\r\n\r\n\t\t\tif ( parseInt( votesUpCount.html().replace(/,/g, '') ) == 0 )\r\n\t\t\t{\r\n\t\t\t\t$J('#VotesUpCountContainer_' + gid).hide();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t$J('#VotesUpCountContainer_' + gid).show();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( bVoteUp )\r\n\t\t{\r\n\t\t\t$J('#VoteUpBtn_' + gid).addClass( \"btn_active\" );\r\n\t\t\t$J('#VoteDownBtn_' + gid).removeClass( \"btn_active\" );\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t$J('#VoteDownBtn_' + gid).addClass( \"btn_active\" );\r\n\t\t\t$J('#VoteUpBtn_' + gid).removeClass( \"btn_active\" );\r\n\t\t}\r\n\r\n\r\n\r\n\t} )\r\n\t.fail( function( jqxhr ) {\r\n\t\tvar responseJSON = jqxhr.responseText.evalJSON();\r\n\t\tswitch ( responseJSON.success )\r\n\t\t{\r\n\t\t\tcase 21:\r\n\t\t\t\tShowAlertDialog( '错误', '您必须登录后才能执行该操作。' );\r\n\t\t\t\tbreak;\r\n\t\t\tcase 24:\r\n\t\t\t\tShowAlertDialog( '错误',\r\n\t\t\t\t\t'您的帐户不符合使用该功能的要求。<a class=\"whiteLink\" href=\"https://help.steampowered.com/zh-cn/wizard/HelpWithLimitedAccount\" target=\"_blank\" rel=\"noreferrer\">访问 Steam 客服</a>了解更多信息。'\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 15:\r\n\t\t\t\tShowAlertDialog( '错误', '您没有执行该操作的权限。' );\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tShowAlertDialog( '错误', '在处理您的请求时遇到错误：' + responseJSON.success );\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t} );\r\n\treturn false;\r\n}\r\n\r\nfunction GetResponsiveHeaderFixedOffsetAdjustment()\r\n{\r\n\t// for responsive pages - we need to adjust for the menu\r\n\tvar $ResponsiveHeader = $J('.responsive_header:visible');\r\n\tif ( $ResponsiveHeader.length && $ResponsiveHeader.css('position') == 'fixed' )\r\n\t\treturn $ResponsiveHeader.outerHeight();\r\n\telse\r\n\t\treturn 0;\r\n}\r\n\r\n/* Scroll to an element if it's not already in view.  If it's at the bottom of the viewport, then it will be\r\n scrolled to the top if less than nRequiredPixelsToShow are visible (defaults to the height of the element)\r\n */\r\nfunction ScrollToIfNotInView( elem, nRequiredPixelsToShow, nSpacingBefore, nAnimationSpeed )\r\n{\r\n\tvar $Elem = $JFromIDOrElement(elem);\r\n\r\n\tif ( typeof nSpacingBefore == 'undefined' )\r\n\t\tnSpacingBefore = 0;\r\n\r\n\t// for responsive pages - we need to adjust for the menu\r\n\tnSpacingBefore += GetResponsiveHeaderFixedOffsetAdjustment();\r\n\r\n\tvar elemTop = $Elem.offset().top;\r\n\tvar nViewportOffsetTop = elemTop - $J(window).scrollTop();\r\n\tvar bNeedToScroll = false;\r\n\tif ( nViewportOffsetTop < 0 )\r\n\t{\r\n\t\tbNeedToScroll = true;\r\n\t}\r\n\telse\r\n\t{\r\n\t\tif ( !nRequiredPixelsToShow )\r\n\t\t\tnRequiredPixelsToShow = $Elem.outerHeight();\r\n\r\n\t\tvar nViewportOffsetBottom = nViewportOffsetTop + nRequiredPixelsToShow;\r\n\r\n\t\tif ( nViewportOffsetBottom > $J(window).height() )\r\n\t\t\tbNeedToScroll = true;\r\n\t}\r\n\r\n\tif ( bNeedToScroll )\r\n\t{\r\n\t\tif ( nSpacingBefore )\r\n\t\t\tnViewportOffsetTop -= nSpacingBefore;\r\n\r\n\t\tif ( typeof nAnimationSpeed != 'undefined' )\r\n\t\t\t$J('html, body' ).animate( {scrollTop: nViewportOffsetTop}, nAnimationSpeed );\r\n\t\telse\r\n\t\t\twindow.scrollBy( 0, nViewportOffsetTop );\r\n\t}\r\n}\r\n\r\n\r\nfunction CAjaxInfiniteScrollingControls( rgSearchData, url )\r\n{\r\n\tthis.m_strActionURL = null;\r\n\tthis.m_cPageSize = null;\r\n\tthis.m_strElementPrefix = \"\";\r\n\tthis.m_strClassPrefix = \"\";\r\n\tthis.m_StrRowsId = \"\";\r\n\tthis.m_rgStaticParams = null;\r\n\t\r\n\tthis.m_bLoading = false;\r\n\r\n\tthis.m_fnPreRequestHandler = null;\r\n\tthis.m_fnResponseHandler = null;\r\n\tthis.m_fnPageChangingHandler = null;\r\n\tthis.m_fnPageChangedHandler = null;\r\n\tthis.m_fnRawScrollHandler = null;\r\n\r\n\tthis.m_LoadingDialog = null;\r\n\tthis.m_bRestoringScrollTop = false;\r\n\r\n\tthis.m_strActionURL = url;\r\n\r\n\tthis.m_strQuery = rgSearchData['query'];\r\n\tthis.m_cTotalCount = rgSearchData['total_count'];\r\n\tthis.m_iCurrentPage = rgSearchData['page'] || 0;\r\n\tthis.m_cPageSize = rgSearchData['pagesize'];\r\n\tthis.m_cMaxPages = Math.ceil( this.m_cTotalCount / this.m_cPageSize );\r\n\r\n\tthis.m_iTriggerHeight = rgSearchData['trigger_height'] || 750;\t// How many px from the bottom should we trigger a page load.\r\n\r\n\tthis.m_iCooldownTime = 0;       // ms from the epoch when we can next update.\r\n\tthis.m_iCooldownInterval = 200; // Minimum time (in ms) between updates\r\n\r\n\tif ( rgSearchData['prefix'] )\r\n\t\tthis.m_strElementPrefix = rgSearchData['prefix'];\r\n\r\n\t// Rows element name that's updated when we scroll.\r\n\tthis.m_StrRowsId = this.m_strElementPrefix + 'Rows';\r\n\r\n\tif ( rgSearchData['class_prefix'] )\r\n\t\tthis.m_strClassPrefix = rgSearchData['class_prefix'];\r\n\r\n\t// We want our handlers to get a copy of our infiniteScroll object when they're called, so we save it\r\n\t// into a var and build a closure around it.\r\n\tvar thisControl = this;\r\n\r\n\t// By saving the bound scroll-handler to a variable, we can then unload it when our search\r\n\t// options are upadated.\r\n\tthis.m_fnRawScrollHandler = function() { thisControl.OnScroll() };\r\n\t$J(document).scroll( this.m_fnRawScrollHandler );\r\n\r\n\t// If we have a _scroll_top element, then set our OnUnload handler.\r\n\tif ( $J( \"#\" + this.m_strElementPrefix + '_scroll_top').length )\r\n\t\twindow.addEventListener('beforeunload', function() { thisControl.OnUnload() } );\r\n\r\n\t// Optional: Dynamic data returned from the last request, to provided to the next request. Lets them\r\n\t// being stringed together with some memory\r\n\tthis.m_rgDynamicData = null;\r\n\r\n\tthis.RestoreScrollTop( true );\r\n}\r\n\r\nCAjaxInfiniteScrollingControls.prototype.DoneRestoreScrollTop = function()\r\n{\r\n\tthis.ClearLoadingDialog();\r\n\tthis.m_bRestoringScrollTop = false;\r\n};\r\n\r\nCAjaxInfiniteScrollingControls.prototype.ClearLoadingDialog = function()\r\n{\r\n\tif ( this.m_LoadingDialog )\r\n\t{\r\n\t\tthis.m_LoadingDialog.Dismiss();\r\n\t\tthis.m_LoadingDialog = null;\r\n\t}\r\n};\r\n\r\n// Stops this infinite scroll handler.\r\nCAjaxInfiniteScrollingControls.prototype.Stop = function()\r\n{\r\n\t// Clear loading notifiers.\r\n\tthis.ClearLoadingDialog();\r\n\tthis.HideThrobber();\r\n\r\n\t// Clear scheduled scroll, if there is one.\r\n\tif ( this.m_oScheduledScroll )\r\n\t\tclearTimeout( this.m_oScheduledScroll );\r\n\r\n\t// Unhook scroll handler.\r\n\t$J(document).off( \"scroll\", this.m_fnRawScrollHandler );\r\n\r\n\t// TODO: Do we need to call or clear BeforeUnload?\r\n};\r\n\r\nCAjaxInfiniteScrollingControls.prototype.RestoreScrollTop = function( bForce )\r\n{\r\n\tthis.m_bRestoringScrollTop |= bForce;\r\n\tif ( !this.m_bRestoringScrollTop )\r\n\t{\r\n\t\treturn;\r\n\t}\r\n\tvar scrollTopPrevious = parseInt( $J( \"#\" + this.m_strElementPrefix + '_scroll_top').val() );\r\n\tif ( scrollTopPrevious )\r\n\t{\r\n\t\tvar viewport = document.viewport.getDimensions(); // Gets the viewport as an object literal\r\n\t\tvar windowHeight = viewport.height; // Usable window height\r\n\t\tvar bodyHeight = $(document.body).getHeight();\r\n\r\n\t\t// done?\r\n\t\tif ( scrollTopPrevious < bodyHeight - windowHeight )\r\n\t\t{\r\n\t\t\tthis.DoneRestoreScrollTop();\r\n\t\t\twindow.scrollTo( 0, scrollTopPrevious );\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif ( this.m_LoadingDialog == null )\r\n\t\t\t{\r\n\t\t\t\tthis.m_LoadingDialog = ShowBlockingWaitDialog( '请稍候', '正在返回您最后在此页面上浏览的位置…' );\r\n\t\t\t}\r\n\t\t\twindow.scrollTo( 0, scrollTopPrevious );\r\n\t\t}\r\n\t}\r\n};\r\n\r\nCAjaxInfiniteScrollingControls.prototype.OnUnload = function()\r\n{\r\n\tvar scrollOffset = document.viewport.getScrollOffsets();\r\n\tvar scrollTop = scrollOffset.top;\r\n\t$J( \"#\" + this.m_strElementPrefix + '_scroll_top').val( scrollTop );\r\n};\r\n\r\nCAjaxInfiniteScrollingControls.prototype.OnScroll = function()\r\n{\r\n\tif ( this.m_bLoading )\r\n\t\treturn;\r\n\r\n\tvar iNow = new Date().getTime();\r\n\r\n\t// How soon can we scroll?\r\n\tvar iScrollWait = this.m_iCooldownTime - iNow;\r\n\r\n\t// If we haven't reached our cooldown, do nothing.\r\n\tif ( iScrollWait > 0 )\r\n\t{\r\n\t\t// console.log(\"InfiniScrolling too fast; engaging throttle\");\r\n\r\n\t\t// Schedule a scroll event for when they would be allowed to scroll. Without this, the\r\n\t\t// user needs to jiggle their scrollbar.\r\n\t\tif ( this.m_oScheduledScroll == null )\r\n\t\t{\r\n\t\t\tthis.m_oScheduledScroll = setTimeout( this.m_fnRawScrollHandler, iScrollWait );\r\n\t\t\tthis.ShowThrobber(); // Show throbber while waiting to begin load.\r\n\t\t}\r\n\r\n\t\treturn;\r\n\t}\r\n\r\n\tthis.m_oScheduledScroll = null;\r\n\r\n\t// The bottom of our screen is equal to how far we've scrolled, plus the height of our window.\r\n\tvar nCurrentScroll = $J(window).scrollTop() + $J(window).height();\r\n\r\n\tvar rows = $J('#' + this.m_StrRowsId);\r\n\tvar offset = rows.offset();\r\n\r\n\t// The bottom of our content is the height of our results, plus its offset from the top of the page.\r\n\t// We want to trigger a load this.m_iTriggerHeight before the user sees that.\r\n\tvar nTriggerPoint = rows.height() + offset.top - this.m_iTriggerHeight;\r\n\r\n\tif ( nCurrentScroll >  nTriggerPoint )\r\n\t{\r\n\t\tthis.m_iCooldownTime = iNow + this.m_iCooldownInterval;\r\n\r\n\t\tthis.NextPage();\r\n\t}\r\n};\r\n\r\nCAjaxInfiniteScrollingControls.prototype.GetActionURL = function( action )\r\n{\r\n\tvar url = this.m_strActionURL + action + '/';\r\n\treturn url;\r\n};\r\n\r\nCAjaxInfiniteScrollingControls.prototype.SetPreRequestHandler = function( fnHandler )\r\n{\r\n\tthis.m_fnPreRequestHandler = fnHandler;\r\n};\r\n\r\nCAjaxInfiniteScrollingControls.prototype.SetResponseHandler = function( fnHandler )\r\n{\r\n\tthis.m_fnResponseHandler = fnHandler;\r\n};\r\n\r\nCAjaxInfiniteScrollingControls.prototype.SetPageChangingHandler = function ( fnHandler )\r\n{\r\n\tthis.m_fnPageChangingHandler = fnHandler;\r\n};\r\n\r\nCAjaxInfiniteScrollingControls.prototype.SetPageChangedHandler = function ( fnHandler )\r\n{\r\n\tthis.m_fnPageChangedHandler = fnHandler;\r\n};\r\n\r\nCAjaxInfiniteScrollingControls.prototype.SetStaticParameters = function ( rgParams )\r\n{\r\n\tthis.m_rgStaticParams = rgParams;\r\n};\r\n\r\nCAjaxInfiniteScrollingControls.prototype.OnAJAXComplete = function()\r\n{\r\n\tthis.m_bLoading = false;\r\n};\r\n\r\nCAjaxInfiniteScrollingControls.prototype.NextPage = function()\r\n{\r\n\tif ( this.m_iCurrentPage < this.m_cMaxPages - 1 ) {\r\n\t\tthis.LoadPage( this.m_iCurrentPage + 1 );\r\n\t}\r\n\telse\r\n\t{\r\n\t\t// We're reached the end of our results!\r\n\t\tthis.Stop();\r\n\t}\r\n\r\n};\r\n\r\nCAjaxInfiniteScrollingControls.prototype.LoadPage = function( iPage, bForce )\r\n{\r\n\tif ( typeof( bForce )== 'undefined' || !bForce )\r\n\t{\r\n\t\tif ( this.m_bLoading || iPage >= this.m_cMaxPages || iPage < 0 )\r\n\t\t{\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\telse if ( iPage == this.m_iCurrentPage )\r\n\t\t{\r\n\t\t\tthis.RestoreScrollTop( false );\r\n\t\t}\r\n\t}\r\n\r\n\tvar params = {\r\n\t\tquery: this.m_strQuery,\r\n\t\tstart: this.m_cPageSize * iPage,\r\n\t\tcount: this.m_cPageSize,\r\n\t\tdynamic_data: this.m_rgDynamicData,\r\n\t};\r\n\r\n\tif ( this.m_rgStaticParams != null )\r\n\t{\r\n\t\tfor ( var sParamName in this.m_rgStaticParams )\r\n\t\t{\r\n\r\n\t\t\tif ( typeof sParamName != \"string\" )\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tvar typeOfParam = typeof this.m_rgStaticParams[sParamName];\r\n\r\n\t\t\tif ( typeOfParam != \"string\" && typeOfParam != \"number\" && typeOfParam != \"boolean\" )\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tparams[sParamName] = this.m_rgStaticParams[sParamName];\r\n\t\t}\r\n\t}\r\n\r\n\tif ( this.m_fnPageChangingHandler != null )\r\n\t\tthis.m_fnPageChangingHandler( iPage );\r\n\r\n\tif ( this.m_fnPreRequestHandler != null )\r\n\t\tthis.m_fnPreRequestHandler( params );\r\n\r\n\tthis.ShowThrobber();\r\n\r\n\tthis.m_bLoading = true;\r\n\r\n\tnew Ajax.Request( this.GetActionURL( '' ), {\r\n\t\tmethod: 'get',\r\n\t\tparameters: params,\r\n\t\tonSuccess: this.OnResponseRenderResults.bind( this ),\r\n\t\tonComplete: this.OnAJAXComplete.bind( this )\r\n\t});\r\n\r\n\treturn true;\r\n};\r\n\r\nCAjaxInfiniteScrollingControls.prototype.GetThrobber = function() {\r\n\t// NB: This is using prototype, *not* jQuery, hence the lack of 'J'.\r\n\treturn $(this.m_strElementPrefix + '_loading');\r\n};\r\n\r\nCAjaxInfiniteScrollingControls.prototype.HideThrobber = function() {\r\n\tvar throbber = this.GetThrobber();\r\n\r\n\tif (throbber)\r\n\t\tthrobber.hide();\r\n};\r\n\r\nCAjaxInfiniteScrollingControls.prototype.ShowThrobber = function() {\r\n\tvar throbber = this.GetThrobber();\r\n\r\n\tif (throbber)\r\n\t\tthrobber.show();\r\n};\r\n\r\nCAjaxInfiniteScrollingControls.prototype.OnResponseRenderResults = function( transport )\r\n{\r\n\r\n\tif ( transport.responseJSON && transport.responseJSON.success )\r\n\t{\r\n\t\tthis.HideThrobber();\r\n\r\n\t\tif ( typeof RecordAJAXPageView !== \"undefined\" )\r\n\t\t{\r\n\t\t\tRecordAJAXPageView( transport.request.url );\r\n\t\t}\r\n\r\n\t\tvar response = transport.responseJSON;\r\n\t\tthis.m_cTotalCount = response.total_count;\r\n\t\tthis.m_cMaxPages = Math.ceil( response.total_count / this.m_cPageSize );\r\n\t\tthis.m_iCurrentPage = Math.floor( response.start / this.m_cPageSize );\r\n\r\n\t\tif ( this.m_iCurrentPage != 0 && this.m_cTotalCount <= response.start )\r\n\t\t{\r\n\t\t\t// this page is no longer valid, flip back a page (deferred so that the AJAX handler exits and reset m_bLoading)\r\n\t\t\tthis.DoneRestoreScrollTop();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar elResults = $(this.m_StrRowsId);\r\n\r\n\t\telResults.insert( response.results_html );\r\n\r\n\t\tthis.m_rgDynamicData = ( response.dynamic_data ) ? response.dynamic_data : null;\r\n\r\n\t\tif ( this.m_fnResponseHandler != null )\r\n\t\t{\r\n\t\t\tthis.m_fnResponseHandler( response );\r\n\t\t}\r\n\r\n\t\tif ( this.m_fnPageChangedHandler != null )\r\n\t\t\tthis.m_fnPageChangedHandler( this.m_iCurrentPage, elResults );\r\n\r\n\t\tthis.m_bLoading = false;\r\n\t\tif ( this.m_iCurrentPage < this.m_cMaxPages - 1 )\r\n\t\t{\r\n\t\t\tthis.RestoreScrollTop( false );\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.DoneRestoreScrollTop();\r\n\t\t}\r\n\t}\r\n\telse\r\n\t{\r\n\t\tthis.DoneRestoreScrollTop();\r\n\t}\r\n};\r\n\r\nfunction CAjaxPagingControls( rgSearchData, url )\r\n{\r\n\tthis.m_strActionURL = null;\r\n\tthis.m_cPageSize = null;\r\n\tthis.m_strElementPrefix = \"\";\r\n\tthis.m_strClassPrefix = \"\";\r\n\tthis.m_rgStaticParams = null;\r\n\r\n\tthis.m_strQuery = null;\r\n\tthis.m_cTotalCount = 0;\r\n\tthis.m_iCurrentPage = 0;\r\n\tthis.m_cMaxPages = 0;\r\n\tthis.m_bLoading = false;\r\n\r\n\tthis.m_fnPreRequestHandler = null;\r\n\tthis.m_fnResponseHandler = null;\r\n\tthis.m_fnPageChangingHandler = null;\r\n\tthis.m_fnPageChangedHandler = null;\r\n\r\n\r\n\tthis.m_strActionURL = url;\r\n\r\n\tthis.m_strQuery = rgSearchData['query'];\r\n\tthis.m_cTotalCount = rgSearchData['total_count'];\r\n\tthis.m_iCurrentPage = 0;\r\n\tthis.m_cPageSize = rgSearchData['pagesize'];\r\n\tthis.m_cMaxPages = Math.ceil( this.m_cTotalCount / this.m_cPageSize );\r\n\tthis.m_strDefaultAction = typeof rgSearchData['action'] != 'undefined' ? rgSearchData['action'] : 'render';\r\n\tthis.m_rgAvailableSizes = [];\r\n\r\n\tif ( rgSearchData['prefix'] )\r\n\t\tthis.m_strElementPrefix = rgSearchData['prefix'];\r\n\r\n\tif ( rgSearchData['class_prefix'] )\r\n\t\tthis.m_strClassPrefix = rgSearchData['class_prefix'];\r\n\r\n\t$(this.m_strElementPrefix + '_btn_prev').observe( 'click', this.PrevPage.bind( this ) );\r\n\t$(this.m_strElementPrefix + '_btn_next').observe( 'click', this.NextPage.bind( this ) );\r\n\tvar elPageSizeCtn = $(this.m_strElementPrefix + '_paging_size_ctn');\r\n\tfor( var i = 0; elPageSizeCtn && i < $( elPageSizeCtn ).children.length; ++i )\r\n\t{\r\n\t\t$(this.m_strElementPrefix + '_paging_size_' + i ).observe( 'click', this.OnChangeSize.bind( this ) );\r\n\r\n\t\tthis.m_rgAvailableSizes.push( $( elPageSizeCtn ).children[i].dataset.size );\r\n\t}\r\n\r\n\tthis.UpdatePagingDisplay();\r\n}\r\n\r\nCAjaxPagingControls.prototype.GetActionURL = function( action )\r\n{\r\n\tvar url = action ? this.m_strActionURL + action + '/' : this.m_strActionURL;\r\n\treturn url;\r\n};\r\n\r\nCAjaxPagingControls.prototype.SetPreRequestHandler = function( fnHandler )\r\n{\r\n\tthis.m_fnPreRequestHandler = fnHandler;\r\n};\r\n\r\nCAjaxPagingControls.prototype.SetResponseHandler = function( fnHandler )\r\n{\r\n\tthis.m_fnResponseHandler = fnHandler;\r\n};\r\n\r\nCAjaxPagingControls.prototype.SetPageChangingHandler = function ( fnHandler )\r\n{\r\n\tthis.m_fnPageChangingHandler = fnHandler;\r\n};\r\n\r\nCAjaxPagingControls.prototype.SetPageChangedHandler = function ( fnHandler )\r\n{\r\n\tthis.m_fnPageChangedHandler = fnHandler;\r\n};\r\n\r\nCAjaxPagingControls.prototype.SetStaticParameters = function ( rgParams )\r\n{\r\n\tthis.m_rgStaticParams = rgParams;\r\n};\r\n\r\nCAjaxPagingControls.prototype.OnAJAXComplete = function()\r\n{\r\n\tthis.m_bLoading = false;\r\n};\r\n\r\nCAjaxPagingControls.prototype.OnChangeSize = function( event )\r\n{\r\n\tif( event.target && event.target.dataset.size != this.m_cPageSize )\r\n\t{\r\n\t\tthis.m_cPageSize = event.target.dataset.size;\r\n\t\tthis.GoToPage( 0, true );\r\n\t}\r\n};\r\n\r\nCAjaxPagingControls.prototype.NextPage = function()\r\n{\r\n\tif ( this.m_iCurrentPage < this.m_cMaxPages - 1 )\r\n\t\tthis.GoToPage( this.m_iCurrentPage + 1 );\r\n};\r\n\r\nCAjaxPagingControls.prototype.PrevPage = function()\r\n{\r\n\tif ( this.m_iCurrentPage > 0 )\r\n\t\tthis.GoToPage( this.m_iCurrentPage - 1 );\r\n};\r\n\r\nCAjaxPagingControls.prototype.GoToPage = function( iPage, bForce )\r\n{\r\n\tif ( typeof( bForce )== 'undefined' || !bForce )\r\n\t{\r\n\t\tif ( this.m_bLoading || iPage >= this.m_cMaxPages || iPage < 0 || iPage == this.m_iCurrentPage )\r\n\t\t\treturn false;\r\n\t}\r\n\r\n\tvar params = {\r\n\t\tquery: this.m_strQuery,\r\n\t\tstart: this.m_cPageSize * iPage,\r\n\t\tcount: this.m_cPageSize\r\n\t};\r\n\r\n\tif ( this.m_rgStaticParams != null )\r\n\t{\r\n\t\tfor ( var sParamName in this.m_rgStaticParams )\r\n\t\t{\r\n\t\t\tif ( typeof sParamName != \"string\" )\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tparams[sParamName] = this.m_rgStaticParams[sParamName];\r\n\t\t}\r\n\t}\r\n\r\n\tif ( this.m_fnPageChangingHandler != null )\r\n\t\tthis.m_fnPageChangingHandler( iPage );\r\n\r\n\tif ( this.m_fnPreRequestHandler != null )\r\n\t\tthis.m_fnPreRequestHandler( params );\r\n\r\n\tthis.m_bLoading = true;\r\n\tnew Ajax.Request( this.GetActionURL( this.m_strDefaultAction ), {\r\n\t\tmethod: 'get',\r\n\t\tparameters: params,\r\n\t\tonSuccess: this.OnResponseRenderResults.bind( this ),\r\n\t\tonComplete: this.OnAJAXComplete.bind( this )\r\n\t});\r\n\r\n\treturn true;\r\n};\r\n\r\nCAjaxPagingControls.prototype.OnResponseRenderResults = function( transport )\r\n{\r\n\tif ( transport.responseJSON && transport.responseJSON.success )\r\n\t{\r\n\t\tif ( typeof RecordAJAXPageView !== \"undefined\" )\r\n\t\t{\r\n\t\t\tRecordAJAXPageView( transport.request.url );\r\n\t\t}\r\n\r\n\t\tvar response = transport.responseJSON;\r\n\t\tthis.m_cTotalCount = response.total_count;\r\n\t\tthis.m_cMaxPages = Math.ceil( response.total_count / this.m_cPageSize );\r\n\t\tthis.m_iCurrentPage = Math.floor( response.start / this.m_cPageSize );\r\n\r\n\t\tif ( this.m_iCurrentPage != 0 && this.m_cTotalCount <= response.start )\r\n\t\t{\r\n\t\t\t// this page is no longer valid, flip back a page (deferred so that the AJAX handler exits and reset m_bLoading)\r\n\t\t\tthis.GoToPage.bind( this, this.m_iCurrentPage - 1 ).defer();\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar elResults = $(this.m_strElementPrefix + 'Rows');\r\n\r\n\t\tif( elResults)\r\n\t\t\telResults.update( response.results_html );\r\n\r\n\t\tif ( this.m_fnResponseHandler != null )\r\n\t\t\tthis.m_fnResponseHandler( response );\r\n\r\n\t\tthis.UpdatePagingDisplay();\r\n\r\n\t\tScrollToIfNotInView( $(this.m_strElementPrefix + 'Table'), 40 );\r\n\t}\r\n};\r\n\r\nCAjaxPagingControls.prototype.UpdatePagingDisplay = function()\r\n{\r\n\tvar elemNoResults = $(this.m_strElementPrefix + '_no_results');\r\n\tif ( this.m_cTotalCount == 0 )\r\n\t{\r\n\t\t$(this.m_strElementPrefix + '_ctn').hide();\r\n\t\tif ( elemNoResults )\r\n\t\t\telemNoResults.show();\r\n\t}\r\n\telse\r\n\t{\r\n\t\t$(this.m_strElementPrefix + '_ctn').show();\r\n\t\tif ( elemNoResults )\r\n\t\t\telemNoResults.hide();\r\n\r\n\t\t$(this.m_strElementPrefix + '_total').update( v_numberformat( this.m_cTotalCount ) );\r\n\t\t$(this.m_strElementPrefix + '_start').update( v_numberformat( this.m_iCurrentPage * this.m_cPageSize + 1 ) );\r\n\t\t$(this.m_strElementPrefix + '_end').update( Math.min( ( this.m_iCurrentPage + 1 ) * this.m_cPageSize, this.m_cTotalCount ) );\r\n\t}\r\n\r\n\t\tif( this.m_rgAvailableSizes && this.m_rgAvailableSizes.length > 0 )\r\n\t{\r\n\t\tif( this.m_cTotalCount <= this.m_rgAvailableSizes[0] )\r\n\t\t{\r\n\t\t\t$(this.m_strElementPrefix + '_per_page_ctn').hide();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t$(this.m_strElementPrefix + '_per_page_ctn').show();\r\n\t\t}\r\n\t}\r\n\r\n\tif ( this.m_cMaxPages <= 1 )\r\n\t{\r\n\t\t$(this.m_strElementPrefix + '_controls').hide();\r\n\t}\r\n\telse\r\n\t{\r\n\t\t$(this.m_strElementPrefix + '_controls').show();\r\n\t\tif ( this.m_iCurrentPage > 0 )\r\n\t\t\t$(this.m_strElementPrefix + '_btn_prev').removeClassName('disabled');\r\n\t\telse\r\n\t\t\t$(this.m_strElementPrefix + '_btn_prev').addClassName('disabled');\r\n\r\n\t\tif ( this.m_iCurrentPage < this.m_cMaxPages - 1 )\r\n\t\t\t$(this.m_strElementPrefix + '_btn_next').removeClassName('disabled');\r\n\t\telse\r\n\t\t\t$(this.m_strElementPrefix + '_btn_next').addClassName('disabled');\r\n\r\n\t\tvar elPageLinks = $(this.m_strElementPrefix + '_links');\r\n\t\telPageLinks.update('');\r\n\t\t// we always show first, last, + 3 page links closest to current page\r\n\t\tvar cPageLinksAheadBehind = 2;\r\n\t\tvar firstPageLink = Math.max( this.m_iCurrentPage - cPageLinksAheadBehind, 1 );\r\n\t\tvar lastPageLink = Math.min( this.m_iCurrentPage + (cPageLinksAheadBehind*2) + ( firstPageLink - this.m_iCurrentPage ), this.m_cMaxPages - 2 );\r\n\r\n\t\tif ( lastPageLink - this.m_iCurrentPage < cPageLinksAheadBehind )\r\n\t\t\tfirstPageLink = Math.max( this.m_iCurrentPage - (cPageLinksAheadBehind*2) + ( lastPageLink - this.m_iCurrentPage ), 1 );\r\n\r\n\t\tthis.AddPageLink( elPageLinks, 0 );\r\n\t\tif ( firstPageLink != 1 )\r\n\t\t\telPageLinks.insert( ' ... ' );\r\n\r\n\t\tfor ( var iPage = firstPageLink; iPage <= lastPageLink; iPage++ )\r\n\t\t{\r\n\t\t\tthis.AddPageLink( elPageLinks, iPage );\r\n\t\t}\r\n\r\n\t\tif ( lastPageLink != this.m_cMaxPages - 2 )\r\n\t\t\telPageLinks.insert( ' ... ' );\r\n\t\tthis.AddPageLink( elPageLinks, this.m_cMaxPages - 1 );\r\n\t}\r\n\r\n\t\tif( this.m_rgAvailableSizes.indexOf( this.m_cPageSize ) > -1 )\r\n\t{\r\n\t\tfor( var i = 0; i < this.m_rgAvailableSizes.length; ++ i )\r\n\t\t{\r\n\t\t\tvar elSizeItem = $(this.m_strElementPrefix + '_paging_size_' + i );\r\n\t\t\tif( elSizeItem.dataset.size == this.m_cPageSize )\r\n\t\t\t{\r\n\t\t\t\telSizeItem.addClassName( 'size_selected' );\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\telSizeItem.removeClassName( 'size_selected' );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif ( this.m_fnPageChangedHandler != null )\r\n\t\tthis.m_fnPageChangedHandler( this.m_iCurrentPage );\r\n};\r\n\r\nCAjaxPagingControls.prototype.AddPageLink = function( elPageLinks, iPage )\r\n{\r\n\tvar el = new Element( 'span', {'class': ( this.m_strClassPrefix != \"\" ? this.m_strClassPrefix : this.m_strElementPrefix ) + '_paging_pagelink' } );\r\n\tel.update( (iPage + 1) + ' ' );\r\n\r\n\tif ( iPage == this.m_iCurrentPage )\r\n\t\tel.addClassName( 'active' );\r\n\telse\r\n\t\tel.observe( 'click', this.GoToPage.bind( this, iPage ) );\r\n\r\n\telPageLinks.insert( el );\r\n};\r\n\r\n\r\nfunction CSlider( $Container, $Grabber, args )\r\n{\r\n\tthis.m_$Container = $Container;\r\n\tthis.m_$Grabber = $Grabber || $Container.find('.handle');\r\n\tthis.m_nMinVal = args.min || 0;\r\n\tthis.m_nMaxVal = args.max || 100;\r\n\tthis.m_nIncrement = args.increment || 1;\r\n\tthis.m_nValue = args.value || 0;\r\n\tthis.m_fnOnChange = args.fnOnChange || function( value, bInDrag ) {};\r\n\r\n\tthis.m_$Grabber.css( 'position', 'absolute' );\r\n\tthis.CalcRatios();\r\n\tthis.SetValue( this.m_nValue );\r\n\r\n\tvar fnGetPageX = function( event )\r\n\t{\r\n\t\tif ( event.type.indexOf( 'touch' ) == 0 )\r\n\t\t{\r\n\t\t\tvar TouchEvent = event.originalEvent;\r\n\t\t\tvar rgTouches = TouchEvent ? TouchEvent.touches : null;\r\n\t\t\tif ( !rgTouches || rgTouches.length < 1 )\r\n\t\t\t\treturn event.pageX || 0;\t//probably wrong\r\n\t\t\treturn rgTouches[0].pageX || 0;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\treturn event.pageX || 0;\r\n\t\t}\r\n\t};\r\n\r\n\tvar _this = this;\r\n\tthis.m_$Container.on( 'mousedown touchstart', function( event ) {\r\n\t\t_this.CalcRatios();\r\n\r\n\t\tif ( !_this.m_$Grabber.is( event.target ) )\r\n\t\t{\r\n\t\t\t// jump the grabber to this position and start the drag\r\n\t\t\tvar nPosition = fnGetPageX( event ) - _this.m_$Container.offset().left;\r\n\t\t\t// we want the grabber centered under the mosue if possible\r\n\t\t\tnPosition -= Math.floor( _this.m_$Grabber.width() / 2 );\r\n\t\t\tvar nNewPosition = Math.min( Math.max( nPosition, 0 ), _this.m_nWidth );\r\n\r\n\t\t\t_this.m_$Grabber.css('left', nNewPosition + 'px' );\r\n\t\t\t_this.m_nValue = nNewPosition / _this.m_flRatio;\r\n\t\t\tif ( _this.m_nIncrement > 1 && _this.m_nValue < _this.m_nMaxVal ) {\r\n\t\t\t\t//_this.m_nValue += _this.m_nIncrement - 1;\r\n\t\t\t\t_this.m_nValue = parseInt(_this.m_nValue / _this.m_nIncrement) * _this.m_nIncrement;\r\n\t\t\t}\r\n\r\n\t\t\t_this.m_fnOnChange( _this.m_nValue, true );\r\n\t\t}\r\n\t\tvar nInitialPosition = parseInt( _this.m_$Grabber.css('left') );\r\n\t\tvar nStartDragX = fnGetPageX( event );\r\n\r\n\t\t$J(document).on( 'mousemove.CSlider touchmove.CSlider', function( event ) {\r\n\t\t\tvar nDelta = fnGetPageX( event ) - nStartDragX;\r\n\r\n\t\t\tvar nNewPosition = Math.min( Math.max( nInitialPosition + nDelta, 0 ), _this.m_nWidth );\r\n\r\n\t\t\t_this.m_$Grabber.css('left', nNewPosition + 'px' );\r\n\t\t\t_this.m_nValue = nNewPosition / _this.m_flRatio;\r\n\t\t\tif ( _this.m_nIncrement > 1  && _this.m_nValue < _this.m_nMaxVal ) {\r\n\t\t\t\t//_this.m_nValue += _this.m_nIncrement - 1;\r\n\t\t\t\t_this.m_nValue = parseInt(_this.m_nValue / _this.m_nIncrement) * _this.m_nIncrement;\r\n\t\t\t}\r\n\r\n\t\t\t_this.m_fnOnChange( _this.m_nValue, true );\r\n\t\t});\r\n\t\t$J(document).on( 'mouseup.CSlider touchend.CSlider', function( event ) {\r\n\t\t\t$J(document).off('.CSlider');\r\n\t\t\t_this.m_fnOnChange( _this.m_nValue, false );\r\n\t\t});\r\n\r\n\t\tevent.preventDefault();\r\n\t});\r\n}\r\n\r\nCSlider.prototype.CalcRatios = function()\r\n{\r\n\tvar nGrabberWidth = this.m_$Grabber.width();\r\n\tthis.m_nWidth = this.m_$Container.width() - nGrabberWidth;\r\n\r\n\tthis.m_flRatio = this.m_nWidth / ( this.m_nMaxVal - this.m_nMinVal );\r\n};\r\n\r\nCSlider.prototype.SetValue = function( nValue, nAnimationSpeed )\r\n{\r\n\tthis.m_nValue = Math.min( Math.max( nValue, this.m_nMinVal ), this.m_nMaxVal );\r\n\r\n\tvar nNewPosition = Math.floor( ( this.m_nValue - this.m_nMinVal ) * this.m_flRatio );\r\n\r\n\tthis.m_$Grabber.stop();\r\n\tif ( nAnimationSpeed )\r\n\t\tthis.m_$Grabber.animate( {left: nNewPosition }, nAnimationSpeed );\r\n\telse\r\n\t\tthis.m_$Grabber.css( 'left',  nNewPosition + 'px' );\r\n};\r\n\r\nCSlider.prototype.GetValue = function()\r\n{\r\n\treturn this.m_nValue;\r\n};\r\n\r\nCSlider.prototype.GetMin = function()\r\n{\r\n\treturn this.m_nMinVal;\r\n};\r\n\r\nCSlider.prototype.GetMax = function()\r\n{\r\n\treturn this.m_nMaxVal;\r\n};\r\n\r\nCSlider.prototype.SetRange = function( nMinVal, nMaxVal, nValue )\r\n{\r\n\tthis.m_nMinVal = nMinVal;\r\n\tthis.m_nMaxVal = nMaxVal;\r\n\tif ( typeof nValue != 'undefined' )\r\n\t\tthis.m_nValue = nValue;\r\n\tthis.CalcRatios();\r\n\tthis.SetValue( this.m_nValue );\r\n};\r\n\r\nCSlider.prototype.SetIncrement = function( nIncrement )\r\n{\r\n\tthis.m_nIncrement = nIncrement;\r\n};\r\n\r\nfunction CScrollSlider( $Scroll, $Container, $Grabber, args )\r\n{\r\n\tthis.m_$Scroll = $Scroll;\r\n\tthis.m_$SliderCtn = $Container;\r\n\r\n\tvar $Slider = $Container.children('.slider');\r\n\r\n\tthis.m_Slider = new CSlider( $Slider.length ? $Slider : $Container, $Grabber, { fnOnChange: $J.proxy( this.OnSliderChange, this )} );\r\n\r\n\tthis.m_$Scroll.css('overflowX', 'scroll');\r\n\t// add momentum on iOS\r\n\tthis.m_$Scroll.css('-webkit-overflow-scrolling', 'touch');\r\n\r\n\tvar _this = this;\r\n\tvar bDidInitialRecalc = false;\r\n\tthis.m_$Scroll.on( 'scroll.ScrollSlider', function() {\r\n\t\tif ( !bDidInitialRecalc )\r\n\t\t{\r\n\t\t\t// we don't want to do this all the time, but on some browsers the first call to\r\n\t\t\t//\tupdate ranges is too early and values don't compute correctly.\r\n\t\t\t_this.UpdateRanges();\r\n\t\t\tbDidInitialRecalc = true;\r\n\t\t}\r\n\t\t_this.m_Slider.SetValue( _this.m_$Scroll.scrollLeft() );\r\n\t});\r\n\t$J(window).on('resize.ScrollSlider', function() {\r\n\t\t_this.UpdateRanges();\r\n\t} );\r\n\tthis.m_$Scroll.on( 'v_contentschanged', function() {\r\n\t\t_this.UpdateRanges();\r\n\t} );\r\n\r\n\tthis.UpdateRanges();\r\n}\r\n\r\nCScrollSlider.prototype.SetValue = function( value, nAnimationSpeed ) {\r\n\tif ( nAnimationSpeed )\r\n\t{\r\n\t\tthis.m_$Scroll.stop().animate( {'scrollLeft': value }, nAnimationSpeed );\r\n\t}\r\n\telse\r\n\t{\r\n\t\tthis.m_$Scroll.stop().scrollLeft( value );\r\n\t}\r\n};\r\n\r\nCScrollSlider.prototype.GetValue = function() {\r\n\treturn this.m_Slider.GetValue();\r\n};\r\n\r\nCScrollSlider.prototype.UpdateRanges = function()\r\n{\r\n\tvar nParentWidth = this.m_$Scroll.width();\r\n\tvar nScrollWidth = this.m_$Scroll[0].scrollWidth;\r\n\r\n\tif ( nScrollWidth <= nParentWidth )\r\n\t{\r\n\t\tthis.m_$SliderCtn.hide();\r\n\t}\r\n\telse\r\n\t{\r\n\t\tthis.m_Slider.SetRange( 0, nScrollWidth - nParentWidth, this.m_$Scroll.scrollLeft() );\r\n\t\tthis.m_$SliderCtn.show();\r\n\t}\r\n};\r\n\r\nCScrollSlider.prototype.OnSliderChange = function( value, bInDrag )\r\n{\r\n\tthis.m_$Scroll.stop().scrollLeft( value );\r\n};\r\n\r\nfunction IsValidEmailAddress( email )\r\n{\r\n\tvar email_regex = /^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i;\r\n\treturn ( email != '' && email_regex.test(email) );\r\n}\r\n\r\n\r\n(function ($) {\r\n  $.deparam = function (params, coerce) {\r\n    var obj = {},\r\n        coerce_types = { 'true': !0, 'false': !1, 'null': null };\r\n\r\n    $.each(params.replace(/\\+/g, ' ').split('&'), function (j,v) {\r\n      var param = v.split('='),\r\n          key = decodeURIComponent(param[0]),\r\n          val,\r\n          cur = obj,\r\n          i = 0,\r\n\r\n          keys = key.split(']['),\r\n          keys_last = keys.length - 1;\r\n\r\n      if (/\\[/.test(keys[0]) && /\\]$/.test(keys[keys_last])) {\r\n        keys[keys_last] = keys[keys_last].replace(/\\]$/, '');\r\n\r\n        keys = keys.shift().split('[').concat(keys);\r\n\r\n        keys_last = keys.length - 1;\r\n      } else {\r\n        keys_last = 0;\r\n      }\r\n\r\n      if (param.length === 2) {\r\n        val = decodeURIComponent(param[1]);\r\n\r\n        if (coerce) {\r\n          val = val && !isNaN(val)              ? +val              // number\r\n              : val === 'undefined'             ? undefined         // undefined\r\n              : coerce_types[val] !== undefined ? coerce_types[val] // true, false, null\r\n              : val;                                                // string\r\n        }\r\n\r\n        if ( keys_last ) {\r\n          for (; i <= keys_last; i++) {\r\n            key = keys[i] === '' ? cur.length : keys[i];\r\n            cur = cur[key] = i < keys_last\r\n              ? cur[key] || (keys[i+1] && isNaN(keys[i+1]) ? {} : [])\r\n              : val;\r\n          }\r\n\r\n        } else {\r\n\r\n          if ($.isArray(obj[key])) {\r\n            obj[key].push( val );\r\n\r\n          } else if (obj[key] !== undefined) {\r\n            obj[key] = [obj[key], val];\r\n\r\n          } else {\r\n            obj[key] = val;\r\n          }\r\n        }\r\n\r\n      } else if (key) {\r\n        obj[key] = coerce\r\n          ? undefined\r\n          : '';\r\n      }\r\n    });\r\n\r\n    return obj;\r\n  };\r\n})(jQuery);\r\n\r\n/**\r\n * Generic search field that handles:\r\n * 1.) Showing default text if the input field is empty\r\n * 2.) When the input field gets focus, the text field clears\r\n * 3.) Adding CSS class to the input field when it is default text\r\n * 4.) When the user presses return/enter in  the field\r\n *\r\n * Call ClearIfDefaultValue() before submitting the form\r\n */\r\nfunction SearchFieldWithText( elemID, defaultSearchText, onEnterFunc, defaultTextCSSClass )\r\n{\r\n\tvar elem = $( elemID );\r\n\r\n\tthis.elem = elem;\r\n\tthis.defaultSearchText = defaultSearchText;\r\n\tthis.defaultTextCSSClass = defaultTextCSSClass;\r\n\tthis.onEnterFunc = onEnterFunc;\r\n\r\n\tEvent.observe( elem, 'click', this.handleClickOrFocus.bind(this));\r\n\tEvent.observe( elem, 'focus', this.handleClickOrFocus.bind(this));\r\n\tEvent.observe( elem, 'blur', this.handleBlur.bind(this));\r\n\tEvent.observe( elem, 'keypress', this.handleKeypress.bind(this));\r\n\tEvent.observe( elem.form, 'submit', this.ClearIfDefaultValue.bind(this));\r\n\r\n\tthis.handleBlur();\r\n}\r\n\r\nSearchFieldWithText.prototype.handleClickOrFocus = function()\r\n{\r\n\tif ( this.elem.value == this.defaultSearchText )\r\n\t{\r\n\t\tthis.elem.value = '';\r\n\t\tif ( this.defaultTextCSSClass )\r\n\t\t\tthis.elem.removeClassName( this.defaultTextCSSClass );\r\n\t}\r\n};\r\n\r\nSearchFieldWithText.prototype.handleBlur = function()\r\n{\r\n\tif ( this.elem.value == '')\r\n\t{\r\n\t\tthis.elem.value = this.defaultSearchText;\r\n\t\tif ( this.defaultTextCSSClass )\r\n\t\t\tthis.elem.addClassName( this.defaultTextCSSClass );\r\n\t}\r\n};\r\n\r\nSearchFieldWithText.prototype.handleKeypress = function()\r\n{\r\n\tif ( !this.onEnterFunc )\r\n\t\treturn;\r\n\r\n\tvar keyCode = null;\r\n\tif( event.which )\r\n\t{\r\n\t\tkeyCode = event.which;\r\n\t}\r\n\telse if( event.keyCode )\r\n\t{\r\n\t\tkeyCode = evt.keyCode;\r\n\t}\r\n\tif ( 13 == keyCode )\r\n\t{\r\n\t\tthis.onEnterFunc();\r\n\t}\r\n};\r\n\r\nSearchFieldWithText.prototype.ClearIfDefaultValue = function()\r\n{\r\n\tif ( this.elem.value == this.defaultSearchText )\r\n\t{\r\n\t\tthis.elem.value = '';\r\n\t}\r\n};\r\n\r\n\r\nfunction CWebAPI( strWebAPIHost, strSecureWebAPIHost, strOAuth2Token )\r\n{\r\n\tthis.m_strHost = strWebAPIHost;\r\n\tthis.m_strSecureWebAPIHost = strSecureWebAPIHost;\r\n\tthis.m_strOAuth2Token = strOAuth2Token;\r\n}\r\n\r\nCWebAPI.prototype.BuildURL = function( strInterface, strMethod, bSecure, strVersion )\r\n{\r\n\tif ( !strVersion )\r\n\t\tstrVersion = 'v0001';\r\n\r\n\tvar strURL = ( bSecure ? this.m_strSecureWebAPIHost : this.m_strHost );\r\n\tstrURL += strInterface + '/' + strMethod + '/' + strVersion + '/';\r\n\r\n\treturn strURL;\r\n};\r\n\r\nCWebAPI.prototype.ExecJSONP = function( strInterface, strMethod, rgParams, bSecure, strVersion, cTimeoutSecs )\r\n{\r\n\trgParams.access_token = this.m_strOAuth2Token;\r\n\r\n\tvar rgJQueryParams = {\r\n\t\turl: this.BuildURL( strInterface, strMethod, bSecure, strVersion ),\r\n\t\tdataType: 'jsonp',\r\n\t\tjsonp: 'jsonp',\t\t\t\tdata: rgParams\r\n\t};\r\n\r\n\tif ( cTimeoutSecs )\r\n\t\trgJQueryParams['timeout'] = cTimeoutSecs * 1000;\r\n\r\n\treturn $J.ajax( rgJQueryParams );\r\n\r\n\t/*\r\n\t// using jsonp plugin instead of built-in jquery jsonp handling.  this library supposedly\r\n\t//\tworks around the firefox \"waiting for host...\" issue, but it doesn't work.\r\n\treturn $J.jsonp({\r\n\t\turl: this.BuildURL( strInterface, strMethod, bSecure, strVersion ),\r\n\t\tcallbackParameter: 'jsonp',\t\t\t\tdata: rgParams\r\n\t});\r\n\t*/\r\n};\r\n\r\n// Send a \"beacon\", which is specifically intended for use in OnUnload events (as outsdanding AJAX/JSONP requests may be cancelled)\r\n// as of sept 2015, only chrome and firefox support this, no iOS or IE support.  Check for support before calling.\r\n// Beacons are (per spec) always a POST request, and always include CORS headers.  WebAPI respondes properly to CORS for Valve domains.\r\nCWebAPI.prototype.ExecBeacon = function( strInterface, strMethod, rgParams, bSecure, strVersion )\r\n{\r\n\trgParams.access_token = this.m_strOAuth2Token;\r\n\r\n\tvar fdParams = new FormData();\r\n\tfor ( var key in rgParams )\r\n\t\tfdParams.append( key, rgParams[key] );\r\n\r\n\tnavigator.sendBeacon( this.BuildURL( strInterface, strMethod, bSecure, strVersion ), fdParams );\r\n};\r\n\r\n\r\nCWebAPI.prototype.ExecPOST = function( strInterface, strMethod, rgParams, bSecure, strVersion )\r\n{\r\n\trgParams.access_token = this.m_strOAuth2Token;\r\n\trgParams.format = 'json';\r\n\r\n\treturn $J.ajax( {\r\n\t\turl: this.BuildURL( strInterface, strMethod, bSecure, strVersion ),\r\n\t\ttype: 'POST',\r\n\t\tdata: rgParams\r\n\t});\r\n};\r\n\r\n// register some events to dismiss popup (ie, user clicking elsewhere on the window, escape)\r\n//   cleans up event binds afterwards.  clicks to children of \"elemIgnore\" will not dismiss popup\r\nfunction RegisterPopupDismissal( dismissFunc, elemIgnore )\r\n{\r\n\tvar $Ignore = $JFromIDOrElement( elemIgnore );\r\n\t// delay registration by one frame so that we don't catch the event that triggered this popup.\r\n\twindow.setTimeout( function() {\r\n\t\t$J(document).on('click.RegisterPopupDismissal keydown.RegisterPopupDismissal', function (event) {\r\n\r\n\t\t\tif (event.keyCode && event.keyCode != 27 /* KEY_ESC */) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar elem = $J(event.target);\r\n\r\n\t\t\tif ( $Ignore.length && $J.contains( $Ignore[0], elem[0] ) )\r\n\t\t\t\treturn;\r\n\r\n\t\t\tdismissFunc();\r\n\t\t\t$J(document).off('.RegisterPopupDismissal');\r\n\t\t});\r\n\t}, 1 );\r\n}\r\n\r\n\r\n\r\n\r\n\r\nfunction ShowMenu( elemLink, elemPopup, align, valign, bLinkHasBorder )\r\n{\r\n\tvar $Link = $JFromIDOrElement(elemLink);\r\n\tvar $Popup = $JFromIDOrElement(elemPopup);\r\n\r\n\tif ( $Link.hasClass('focus') )\r\n\t{\r\n\t\tHideMenu( elemLink, elemPopup );\r\n\t\treturn;\r\n\t}\r\n\r\n\tAlignMenu( $Link, $Popup, align, valign, bLinkHasBorder );\r\n\r\n\tShowWithFade( $Popup );\r\n\t$Link.addClass('focus');\r\n\tRegisterPopupDismissal( function() { HideMenu( elemLink, elemPopup ); }, $Popup );\r\n}\r\n\r\nfunction HideMenu( elemLink, elemPopup )\r\n{\r\n\tvar $Link = $JFromIDOrElement(elemLink);\r\n\tvar $Popup = $JFromIDOrElement(elemPopup);\r\n\r\n\t$Link.data( 'menu-active', false );\r\n\tHideWithFade( $Popup );\r\n\t$Link.removeClass( 'focus' );\r\n\t$J(document).off('.RegisterPopupDismissal');\r\n}\r\n\r\nfunction HideMenuFast( elemLink, elemPopup )\r\n{\r\n\tvar $Link = $JFromIDOrElement(elemLink);\r\n\tvar $Popup = $JFromIDOrElement(elemPopup);\r\n\r\n\t$Popup.hide();\r\n\t$Link.removeClass( 'focus' );\r\n\t$J(document).off('.RegisterPopupDismissal');\r\n}\r\n\r\n\r\nfunction RegisterFlyout( elemLink, elemPopup, align, valign, bLinkHasBorder )\r\n{\r\n\tvar $Link = $JFromIDOrElement( elemLink );\r\n\tvar $Popup = $JFromIDOrElement( elemPopup );\r\n\r\n\t$Link.on( 'mouseenter', function( event ) {\r\n\t\tFlyoutMenu( $Link, $Popup, align, valign, bLinkHasBorder );\r\n\t});\r\n\r\n\t$Link.add( $Popup ).on( 'mouseleave', function( event ) {\r\n\t\tHideFlyoutMenu( event, $Link, $Popup );\r\n\t});\r\n}\r\n\r\nfunction FlyoutMenu( elemLink, elemPopup, align, valign, bLinkHasBorder, elemAlternateAlignTo )\r\n{\r\n\tvar $Link = $JFromIDOrElement(elemLink);\r\n\tvar $Popup = $JFromIDOrElement(elemPopup);\r\n\r\n\tif ( !$Popup.is(':visible') || $Popup.css('opacity') < 1.0 )\r\n\t{\r\n\t\tif ( $Popup.hasClass( 'responsive_slidedown') && window.UseSmallScreenMode && window.UseSmallScreenMode() )\r\n\t\t{\r\n\t\t\t$Popup.stop().slideDown();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t// Responsive mode calls slideDown, which applies position: relative to the element and we need to clear it.\r\n\t\t\t// This will only happen if the user interacted with the menu in the responsive mode, then resized\r\n\t\t\t// their window to be large and hovered the elements.\r\n\t\t\t$Popup.css( { position: '' } );\r\n\t\t\tAlignMenu( $Link, $Popup, align, valign, bLinkHasBorder, elemAlternateAlignTo || null );\r\n\t\t\tShowWithFade( $Popup );\r\n\t\t}\r\n\r\n\t\t$Link.addClass('focus');\r\n\t}\r\n\r\n}\r\n\r\nfunction HideFlyoutMenu( event, elemLink, elemPopup )\r\n{\r\n\tvar $Link = $JFromIDOrElement(elemLink);\r\n\tvar $Popup = $JFromIDOrElement(elemPopup);\r\n\r\n\tif ( !$Link.hasClass('focus') )\r\n\t\treturn;\r\n\r\n\tif ( event )\r\n\t{\r\n\t\tvar reltarget = $J( event.relatedTarget );\r\n\t\tif ( !reltarget.length ||\r\n\t\t\t( $Link.length && $J.contains( $Link[0], reltarget[0] ) ) ||\r\n\t\t\t( $Popup.length && $J.contains( $Popup[0], reltarget[0] ) ) ||\r\n\t\t\t$Link.is( reltarget ) )\r\n\t\t\treturn;\r\n\t}\r\n\t// start hiding in a little bit, have to let the fade in animation start before we can cancel it\r\n\r\n\tif ( $Popup.hasClass( 'responsive_slidedown') && window.UseSmallScreenMode && window.UseSmallScreenMode() )\r\n\t\t$Popup.stop().slideUp();\r\n\telse\r\n\t\twindow.setTimeout( function() { HideWithFade( $Popup ); }, 33 );\r\n\r\n\t$Link.removeClass('focus');\r\n\t$J(document).off('.FlyoutDismiss');\r\n}\r\n\r\nfunction AlignMenu( elemLink, elemPopup, align, valign, bLinkHasBorder, elemAlternateAlignTo )\r\n{\r\n\tvar align = align ? align : 'left';\r\n\r\n\t// alternate align to is used to align the genre menu on the store; it's only used for horizontal alignment,\r\n\t// trying to align to it vertically messes up responsive view.\r\n\tvar $LinkVertical = $JFromIDOrElement(elemLink);\r\n\tvar $LinkHorizontal = elemAlternateAlignTo ? $JFromIDOrElement(elemAlternateAlignTo) : $LinkVertical;\r\n\r\n\tvar $Popup = $JFromIDOrElement(elemPopup);\r\n\r\n\r\n\tvar offsetLinkVertical = $LinkVertical.offset();\r\n\tvar offsetLinkHorizontal = $LinkHorizontal.offset();\r\n\tvar nWindowScrollTop = $J(window).scrollTop();\r\n\tvar nViewportHeight = $J(window).height();\r\n\r\n\tvar nLinkViewportTop = offsetLinkVertical.top - nWindowScrollTop;\r\n\r\n\t// add a little bit of padding so we don't position it flush to an edge if possible\r\n\tvar nPopupHeight = $Popup.height() + 8;\r\n\r\n\tif ( !valign )\r\n\t{\r\n\t\t//if there's not enough room between our spot and the top of the document, we definitely want to drop down\r\n\t\tif ( nWindowScrollTop + offsetLinkVertical.top < nPopupHeight )\r\n\t\t{\r\n\t\t\tvalign = 'bottom';\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tvar nSpaceAbove = nLinkViewportTop;\r\n\t\t\tvar nSpaceBelow = nViewportHeight - ( nLinkViewportTop + $LinkVertical.height() );\r\n\t\t\t//otherwise we only want to drop down if we've got enough space below us (measured based on view area)\r\n\t\t\t// or if there's not enough space above to pop in either direction and there's more space below\r\n\t\t\tif ( nSpaceBelow > nPopupHeight || ( nSpaceAbove < nPopupHeight && nSpaceBelow > nSpaceAbove ) )\r\n\t\t\t\tvalign = 'bottom';\r\n\t\t\telse\r\n\t\t\t\tvalign = 'top';\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tvar borderpx = bLinkHasBorder ? 1 : 0;\r\n\tvar shadowpx = $Popup.hasClass( 'popup_block_new' ) ? 0 : 12;\r\n\tvar offsetLeft = 0;\r\n\t\r\n\tif ( align == 'left' )\r\n\t{\r\n\t\t//elemPopup.style.left = ( elemLink.positionedOffset()[0] - 12 ) + 'px';\r\n\t\toffsetLeft = -shadowpx - borderpx;\r\n\t}\r\n\telse if ( align == 'right' )\r\n\t{\r\n\t\t//elemPopup.style.left = ( elemLink.positionedOffset()[0] + elemLink.getWidth() - elemPopup.getWidth() + 13 ) + 'px';\r\n\t\toffsetLeft = $LinkHorizontal.outerWidth() - $Popup.outerWidth() + shadowpx + borderpx;\r\n\t}\r\n\telse if ( align == 'leftsubmenu' )\r\n\t{\r\n\t\t//elemPopup.style.left = ( elemLink.positionedOffset()[0] - elemPopup.getWidth() + 12 ) + 'px';\r\n\t\toffsetLeft = -$Popup.outerWidth() + shadowpx - borderpx;\r\n\t}\r\n\telse if ( align == 'rightsubmenu' )\r\n\t{\r\n\t\t//elemPopup.style.left = ( elemLink.positionedOffset()[0] + elemLink.getWidth() - 12 ) + 'px';\r\n\t\toffsetLeft = $LinkHorizontal.outerWidth()  - shadowpx + 2 * borderpx;\r\n\t}\r\n\r\n\tvar offsetTop = 0;\r\n\tif ( valign == 'bottom' )\r\n\t{\r\n\t\t//elemPopup.style.top = ( elemLink.positionedOffset()[1] + elemLink.getHeight() - 12 ) + 'px';\r\n\t\toffsetTop = $LinkVertical.outerHeight() - shadowpx;\r\n\t}\r\n\telse if ( valign == 'top' )\r\n\t{\r\n\t\t//elemPopup.style.top = ( elemLink.positionedOffset()[1] - elemPopup.getHeight() + 12 ) + 'px';\r\n\t\toffsetTop = -$Popup.outerHeight() + shadowpx;\r\n\t}\r\n\telse if ( valign == 'bottomsubmenu' )\r\n\t{\r\n\t\t//elemPopup.style.top = ( elemLink.positionedOffset()[1] - 12 ) + 'px';\r\n\t\toffsetTop = -shadowpx;\r\n\t}\r\n\r\n\r\n\tvar bPopupHidden = !$Popup.is(':visible');\r\n\r\n\tif ( bPopupHidden )\r\n\t{\r\n\t\t// IE can't do this with display: none elements\r\n\t\t$Popup.css( 'visibility', 'hidden' );\r\n\t\t$Popup.show();\r\n\t}\r\n\r\n\t$Popup.offset( {\r\n\t\ttop: Math.max( offsetLinkVertical.top + offsetTop, 0 ),\r\n\t\tleft: Math.max( offsetLinkHorizontal.left + offsetLeft, 0 )\r\n\t});\r\n\r\n\tif ( bPopupHidden )\r\n\t{\r\n\t\t// restore visibility\r\n\t\t$Popup.hide();\r\n\t\t$Popup.css( 'visibility', 'visible' );\r\n\t}\r\n}\r\n\r\nfunction BindAutoFlyoutEvents()\r\n{\r\n\tvar fnShowFlyout = function( $Tab, bIsHover, bTakeFocus )\r\n\t{\r\n\t\tvar $Content = $J('#' + $Tab.data('flyout') );\r\n\t\tvar bResponsiveSlidedownMenu = window.UseSmallScreenMode && window.UseSmallScreenMode() && $Content.hasClass('responsive_slidedown');\r\n\r\n\t\tif ( !$Content.length || $Content.data('flyout-event-running') ||\r\n\t\t\t(bIsHover && bResponsiveSlidedownMenu ) )\r\n\t\t\treturn;\r\n\r\n\t\t$Content.data( 'flyout-event-running', true );\r\n\t\twindow.setTimeout( function() { $Content.data('flyout-event-running', false ); }, 1 );\r\n\r\n\t\tif ( $Content.is(':visible') )\r\n\t\t{\r\n\t\t\tif ( !bIsHover )\r\n\t\t\t\tHideFlyoutMenu( null, $Tab, $Content );\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( !$Content.data('flyout-events-bound') )\r\n\t\t{\r\n\t\t\t$Content.on('mouseleave.Flyout', function( e ) {\r\n\t\t\t\tif ( window.UseSmallScreenMode && window.UseSmallScreenMode() && $Content.hasClass('responsive_slidedown') )\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tif ( $Tab.is( e.relatedTarget ) || $J.contains( $Tab[0], e.relatedTarget ) )\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tHideFlyoutMenu( null, $Tab, $Content );\r\n\t\t\t});\r\n\r\n\t\t\t$Content.add($Tab).on('v_gamepadpress', function( e, button ) {\r\n\t\t\t\tif ( button.button == 'CANCEL' )\r\n\t\t\t\t{\r\n\t\t\t\t\tHideFlyoutMenu( null, $Tab, $Content );\r\n\t\t\t\t\tif ( typeof GPNavFocusChild != 'undefined' )\r\n\t\t\t\t\t\tGPNavFocusChild( $Tab );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t$Content.on('focusout', function( e ) {\r\n\t\t\t\tif ( !e.relatedTarget || !$J.contains( e.currentTarget, e.relatedTarget ) )\r\n\t\t\t\t\tHideFlyoutMenu( null, $Tab, $Content );\r\n\t\t\t});\r\n\r\n\t\t\t$Content.data('flyout-events-bound', true );\r\n\t\t}\r\n\r\n\r\n\t\tFlyoutMenu( $Tab, $Content, $Tab.data('flyout-align'), $Tab.data('flyout-valign'), false, $Tab.data('flyout-align-to-element' ) );\r\n\r\n\t\tif ( bTakeFocus && typeof GPNavFocusChild !== 'undefined' )\r\n\t\t{\r\n\t\t\twindow.setTimeout( function() {\r\n\t\t\t\tconsole.log( 'Request focus in', $Content[0] );\r\n\t\t\t\tGPNavFocusChild( $Content );\r\n\t\t\t}, 5 );\r\n\t\t}\r\n\r\n\t\tif ( window.UseTouchFriendlyMode && window.UseTouchFriendlyMode() )\r\n\t\t{\r\n\t\t\twindow.setTimeout( function() {\r\n\t\t\t\t$J(document).on('click.FlyoutDismiss', function(e) {\r\n\t\t\t\t\tif ( $J.contains( $Content[0], e.target ) || $Content.is( e.target ) )\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\tHideFlyoutMenu( null, $Tab, $Content );\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t});\r\n\t\t\t}, 1 );\r\n\t\t}\r\n\t};\r\n\r\n\t$J(document).on( 'mouseenter.Flyout click.Flyout', '.flyout_tab', function(e) {\r\n\t\tvar $Tab = $J(this);\r\n\t\tvar msDelay = $Tab.data('flyout-delay');\r\n\r\n\t\tvar bIsHover = e.type == 'mouseenter';\r\n\r\n\t\tif ( !bIsHover || !msDelay )\r\n\t\t{\r\n\t\t\tfnShowFlyout( $Tab, bIsHover );\r\n\t\t}\r\n\t\telse if ( !$Tab.data( 'iFlyoutInterval' ) )\r\n\t\t{\r\n\t\t\tvar fnCleanupFlyoutInterval = function() {\r\n\t\t\t\t$Tab.removeData( 'iFlyoutInterval' );\r\n\t\t\t\t$Tab.off( 'mouseleave.FlyoutCancel' );\r\n\t\t\t}\r\n\t\t\t$Tab.on( 'mouseleave.FlyoutCancel', function(e) {\r\n\t\t\t\twindow.clearTimeout( $Tab.data('iFlyoutInterval') );\r\n\t\t\t\tfnCleanupFlyoutInterval();\r\n\t\t\t});\r\n\t\t\t$Tab.data( 'iFlyoutInterval', window.setTimeout( function() {\r\n\t\t\t\tfnCleanupFlyoutInterval();\r\n\t\t\t\tfnShowFlyout( $Tab, bIsHover );\r\n\t\t\t}, msDelay ) );\r\n\t\t}\r\n\r\n\t});\r\n\r\n\t$J(document).on('mouseleave.Flyout', '.flyout_tab', function(e) {\r\n\t\tvar $Tab = $J(this);\r\n\t\tvar $Content = $J('#' + $Tab.data('flyout') );\r\n\t\tvar bResponsiveSlidedownMenu = window.UseSmallScreenMode && window.UseSmallScreenMode() && $Content.hasClass('responsive_slidedown');\r\n\r\n\t\tif ( !$Content.length || $Content.data('flyout-event-running') || bResponsiveSlidedownMenu ||\r\n\t\t\t$Content.is( e.relatedTarget ) || $J.contains( $Content[0], e.relatedTarget ) )\r\n\t\t\treturn;\r\n\r\n\t\tif ( $Content.is(':visible') )\r\n\t\t{\r\n\t\t\tHideFlyoutMenu( null, $Tab, $Content );\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\t});\r\n\r\n\t\t$J('.flyout_tab').attr('data-gpfocus','manual');\r\n\t$J(document).on('v_gamepadpress', '.flyout_tab', function( e, button ) {\r\n\t\tif ( button.button == 'OK' )\r\n\t\t{\r\n\t\t\tfnShowFlyout( $J(this), false, true );\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction PollOnUserActionAfterInterval( strNamespace, nPollInterval, fnCallback, nPollImmediateInterval )\r\n{\r\n\tvar bCallbackInvoked = false;\r\n\tvar tsLastUserAction = $J.now();\r\n\tvar fnInvokeCallbackOnNextUserAction;\r\n\r\n\tvar strEvents = ['touchstart','mousemove','focus','scroll',''].join( '.' + strNamespace + ' ' );\r\n\r\n\tvar fnDoPoll = function() {\r\n\t\tif ( !bCallbackInvoked )\r\n\t\t\tfnCallback();\r\n\t\tbCallbackInvoked = true;\r\n\t\tfnInvokeCallbackOnNextUserAction();\r\n\t};\r\n\r\n\tfnInvokeCallbackOnNextUserAction = function() {\r\n\t\twindow.setTimeout( function() {\r\n\t\t\tbCallbackInvoked = false;\r\n\t\t\tif ( nPollImmediateInterval && $J.now() <= tsLastUserAction + nPollImmediateInterval )\r\n\t\t\t{\r\n\t\t\t\tfnDoPoll();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t$J(window).on( strEvents, function() {\r\n\t\t\t\t\t$J(window ).off( '.' + strNamespace );\r\n\t\t\t\t\ttsLastUserAction = $J.now();\r\n\t\t\t\t\tfnDoPoll();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}, nPollInterval );\r\n\t};\r\n\r\n\tfnInvokeCallbackOnNextUserAction();\r\n}\r\n\r\nvar DELAY_BETWEEN_NOTIFICATION_COUNT_POLLS_MS = 30 * 1000;\r\nfunction EnableNotificationCountPolling()\r\n{\r\n\tvar $NotificationItems = $J('.notification_ctn');\r\n\tvar $NotificationTotalCounts = $J('.notification_count_total_ctn');\r\n\tif ( $NotificationItems.length || $NotificationTotalCounts.length )\r\n\t{\r\n\t\tPollOnUserActionAfterInterval( 'NotificationCountPoll', DELAY_BETWEEN_NOTIFICATION_COUNT_POLLS_MS, UpdateNotificationCounts );\r\n\t}\r\n}\r\n\r\nfunction UpdateNotificationCounts()\r\n{\r\n\tvar $NotificationItems = $J('.notification_ctn');\r\n\tvar $NotificationTotalCounts = $J('.notification_count_total_ctn');\r\n\tif ( $NotificationItems.length || $NotificationTotalCounts.length )\r\n\t{\r\n\t\t$J.ajax( GetDefaultCommunityAJAXParams( 'actions/GetNotificationCounts', 'GET' ) ).done( function( data ) {\r\n\t\t\tvar notifications = data && data.notifications;\r\n\t\t\tif ( notifications )\r\n\t\t\t{\r\n\t\t\t\t$NotificationItems.each( function() {\r\n\t\t\t\t\tvar $NotificationItem = $J(this);\r\n\t\t\t\t\tvar nNotificationType = $NotificationItem.data('notification-type');\r\n\t\t\t\t\tvar cNotifications = notifications[nNotificationType] || 0;\r\n\t\t\t\t\t$NotificationItem.find('.notification_count' ).text( v_numberformat( cNotifications ) );\r\n\r\n\t\t\t\t\tif ( cNotifications > 0 )\r\n\t\t\t\t\t\t$NotificationItem.addClass('active_inbox_item');\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\t$NotificationItem.removeClass('active_inbox_item');\r\n\r\n\t\t\t\t\tvar $CountStrings = $NotificationItem.find( '.notification_count_string' );\r\n\t\t\t\t\tif ( $CountStrings.length )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif ( cNotifications == 1 )\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$CountStrings.filter('.plural' ).hide();\r\n\t\t\t\t\t\t\t$CountStrings.filter('.singular' ).show();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$CountStrings.filter('.singular' ).hide();\r\n\t\t\t\t\t\t\t$CountStrings.filter('.plural' ).show();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif ( !notifications[ 11 ] )\r\n\t\t\t\t{\r\n\t\t\t\t\t$J('.global_header_account_alert').hide();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar cTotalNotifications = 0;\r\n\t\t\t\tfor ( var type in notifications )\r\n\t\t\t\t\tcTotalNotifications += ( notifications[type] || 0 );\r\n\t\t\t\t$NotificationTotalCounts.find('.notification_count' ).text( v_numberformat( cTotalNotifications ) );\r\n\r\n\t\t\t\tif ( cTotalNotifications > 0 )\r\n\t\t\t\t{\r\n\t\t\t\t\t$NotificationTotalCounts.removeClass('no_notifications' ).addClass('has_notifications');\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\t$NotificationTotalCounts.removeClass('has_notifications' ).addClass('no_notifications');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\n\r\nfunction PostToURLWithSession( url, rgParams )\r\n{\r\n\tvar $Form = $J('<form/>', {'action': url, 'method': 'POST' } );\r\n\r\n\t// site must set this js var or pass to this function\r\n\tif ( typeof g_sessionID != 'undefined' )\r\n\t\t$Form.append( $J('<input/>', {'type': 'hidden', 'name': 'sessionid', 'value': g_sessionID } ) );\r\n\r\n\tif ( rgParams )\r\n\t{\r\n\t\tfor ( var name in rgParams )\r\n\t\t\t$Form.append( $J('<input/>', {'type': 'hidden', 'name': name, 'value': rgParams[name] } ) );\r\n\t}\r\n\t$Form.appendTo( 'body' );\r\n\t$Form.submit();\r\n}\r\n\r\n\r\nfunction ShowWithFade( elem, speed )\r\n{\r\n\tvar $Elem = $JFromIDOrElement(elem);\r\n\r\n\t$Elem.stop();\r\n\t$Elem.fadeTo( speed || 200, 1.0 );\t//fadeTo rather than fadeIn in case it was already in a fade\r\n}\r\n\r\nfunction HideWithFade( elem, speed )\r\n{\r\n\tvar $Elem = $JFromIDOrElement(elem);\r\n\r\n\t$Elem.stop();\r\n\t$Elem.fadeOut( speed || 200 );\r\n}\r\n\r\n\r\nfunction LaunchWebChat( params, paramsFriendsUI )\r\n{\r\n\tvar winChat = window.open( '', 'SteamWebChat', 'height=790,width=1015,resize=yes,scrollbars=yes' );\r\n\tif ( !winChat )\r\n\t{\r\n\t\t// popup blocked - this sometimes happens when chat is initiated from the store.  just roll with it.\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar bNewPopup = false;\r\n\tvar bCrossOrigin = false;\r\n\r\n\ttry {\r\n\t\tbNewPopup = (winChat.location ==  'about:blank' );\r\n\t}\r\n\tcatch ( e )\r\n\t{\r\n\t\t// cross-origin exception on http pages etc\r\n\t\tbCrossOrigin = true;\r\n\t}\r\n\r\n\tif ( bNewPopup )\r\n\t{\r\n\t\tif ( params )\r\n\t\t\tSetValueLocalStorage( 'rgChatStartupParam', V_ToJSON( params ) );\r\n\r\n\t\tif ( paramsFriendsUI )\r\n\t\t{\r\n\t\t\tvar fnBoundMessageListener = function( event )\r\n\t\t\t{\r\n\t\t\t\tif ( event.source == winChat && event.data == \"FriendsUIReady\" &&\r\n\t\t\t\t\tevent.origin == 'https://steamcommunity.com')\r\n\t\t\t\t{\r\n\t\t\t\t\twinChat.postMessage( paramsFriendsUI, 'https://steamcommunity.com/' );\r\n\t\t\t\t\twindow.removeEventListener( 'message', fnBoundMessageListener );\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\twindow.addEventListener( 'message', fnBoundMessageListener );\r\n\t\t}\r\n\r\n\t\t// created a new window, set the url\r\n\t\twinChat.location = 'https://steamcommunity.com/chat/';\r\n\t}\r\n\telse\r\n\t{\r\n\t\tif ( params && !bCrossOrigin && winChat.OnWebchatLaunchURL )\r\n\t\t\twinChat.OnWebchatLaunchURL( params );\r\n\r\n\t\tif ( paramsFriendsUI )\r\n\t\t\twinChat.postMessage( paramsFriendsUI, 'https://steamcommunity.com/' );\r\n\t}\r\n\twinChat.focus();\r\n}\r\n\r\nfunction ShowSupportAlerts(url)\r\n{\r\n\twindow.open( url, 'SupportAlerts', 'height=700,width=700,resize=yes,scrollbars=yes' );\r\n}\r\n\r\nfunction UnlockFamilyView( strURL )\r\n{\r\n\twindow.location = strURL;\r\n}\r\n\r\nfunction LockFamilyView( bStore )\r\n{\r\n\tvar urlFirst = '';\r\n\tvar urlSecond = '';\r\n\tif ( bStore )\r\n\t{\r\n\t\turlFirst = 'https://store.steampowered.com/';\r\n\t\turlSecond = 'https://steamcommunity.com/';\r\n\t}\r\n\telse\r\n\t{\r\n\t\turlFirst = 'https://steamcommunity.com/';\r\n\t\turlSecond = 'https://store.steampowered.com/';\r\n\t}\r\n\r\n\tShowConfirmDialog( '返回到家庭监护',\r\n\t\t'您确定要返回家庭监护吗？',\r\n\t\t'返回到家庭监护'\r\n\t).done( function() {\r\n\t\tShowBlockingWaitDialog( '返回到家庭监护' );\r\n\r\n\t\t$J.ajax( {\r\n\t\t\t\t\ttype: \"POST\",\r\n\t\t\t\t\turl: urlFirst + '/parental/ajaxlock',\r\n\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\txhrFields: { withCredentials: true },\r\n\t\t\t\t\tcomplete: function( jqHXR, textStatus )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$J.ajax( {\r\n\t\t\t\t\t\t\ttype: \"POST\",\r\n\t\t\t\t\t\t\turl: urlSecond + '/parental/ajaxlock',\r\n\t\t\t\t\t\t\tcrossDomain: true,\r\n\t\t\t\t\t\t\txhrFields: { withCredentials: true },\r\n\t\t\t\t\t\t\tcomplete: function( jqHXR, textStatus )\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\twindow.location = urlFirst;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t} );\r\n\t} );\r\n}\r\n\r\nfunction setTimezoneCookies()\r\n{\r\n\tvar now = new Date();\r\n\tvar expire = new Date();\r\n\r\n\t// One year expiration, this way we don't need to wait at least one page\r\n\t// load to have accurate timezone info each session, but only each time the user\r\n\t// comes with cleared cookies\r\n\texpire.setTime( now.getTime() + 3600000*24*365 );\r\n\tvar tzOffset = now.getTimezoneOffset() * -1 * 60;\r\n\tvar isDST = 0;\r\n\r\n\tvar sameSite = '';\r\n\tif ( window.location.protocol == 'https' )\r\n\t\tsameSite = '; Secure; SameSite=None;'\r\n\tdocument.cookie = \"timezoneOffset=\" + tzOffset + \",\" + isDST + \";expires=\"+expire.toGMTString() + \";path=/\" + sameSite;\r\n}\r\n\r\nfunction FlushStyleChanges( element )\r\n{\r\n\t$J( element ).css( 'opacity');\r\n}\r\n\r\nvar k_EScrollbarDirectionVertical = 1;\r\nvar k_EScrollbarDirectionHorizontal = 2;\r\n\r\nwindow.VScrollbar = function( eleTarget, eleHandle, direction )\r\n{\r\n\tthis.m_eleHandle = eleHandle;\r\n\tthis.m_eleTarget = eleTarget;\r\n\r\n\tvar instance = this;\r\n\r\n\tvar propOffset, propSize, propOuterSize, propDimension, propPage, directionInvert, propOffsetEvent;\r\n\r\n\tif( direction == k_EScrollbarDirectionVertical)\r\n\t{\r\n\t\tpropOffset = 'top';\r\n\t\tpropSize = 'height';\r\n\t\tpropOuterSize = 'outerHeight';\r\n\t\tpropDimension = 'y';\r\n\t\tpropPage = 'pageY';\r\n\t\tpropOffsetEvent = 'offsetY';\r\n\t} else if( direction == k_EScrollbarDirectionHorizontal )\r\n\t{\r\n\t\tpropOffset = 'left';\r\n\t\tpropSize = 'width';\r\n\t\tpropOuterSize = 'outerWidth';\r\n\t\tpropDimension = 'x';\r\n\t\tpropPage = 'pageX';\r\n\t\tpropOffsetEvent = 'offsetX';\r\n\r\n\t\tthis.m_eleTarget.first().css({'white-space': 'nowrap'});\r\n\t}\r\n\r\n\t// Set up some CSS properties we need\r\n\tthis.m_eleHandle.css({position: 'absolute'});\r\n\tif( this.m_eleHandle.parent().css('position') == 'static' )\r\n\t\tthis.m_eleHandle.parent().css({position: 'relative'}); // Needs to be relative or absolute, only set it if we didn't do it in CSS\r\n\tthis.m_eleTarget.css({position: 'relative', float: 'left'});\r\n\tthis.m_eleTarget.css(propOffset, '0px');\r\n\tthis.m_eleTarget.addClass('animating');\r\n\tthis.m_eleTarget.parent().addClass('v_scrollbar_target');\r\n\tthis.m_eleTarget.parent().css({position: 'relative', overflow: 'hidden'});\r\n\tthis.m_nDesiredPosition = 0;\r\n\tthis.m_flPercent = 0;\r\n\r\n\r\n\tvar funcUpdate = function( bDisableTransitions )\r\n\t{\r\n\t\tvar bScrolled = true;\r\n\t\tif( instance.m_eleTarget[propSize]() - instance.m_eleTarget.parent()[propSize]() <= 0 )\r\n\t\t{\r\n\t\t\tinstance.m_eleHandle.parent().addClass('disabled');\r\n\t\t\tinstance.m_flPercent = 0;\r\n\t\t\tbScrolled = false;\r\n\t\t} else\r\n\t\t\tinstance.m_eleHandle.parent().removeClass('disabled');\r\n\r\n\t\tif( instance.m_flPercent < 0 )\r\n\t\t\tinstance.m_flPercent = 0;\r\n\r\n\t\tif( instance.m_flPercent > 1 )\r\n\t\t\tinstance.m_flPercent = 1;\r\n\r\n\r\n\t\tvar percent = instance.m_flPercent;\r\n\r\n\t\tif( bDisableTransitions )\r\n\t\t\tinstance.DisableTransitions();\r\n\r\n\t\tinstance.m_nDesiredPosition = -percent * ( instance.m_eleTarget[propSize]() - instance.m_eleTarget.parent()[propSize]());\r\n\r\n\t\t// Update container\r\n\t\tinstance.m_eleTarget[0].style[propOffset] = instance.m_nDesiredPosition + 'px';\r\n\r\n\t\t// Update scroll handle\r\n\t\tvar handleMax = instance.m_eleHandle.parent()[propSize]() - instance.m_eleHandle[propOuterSize]();\r\n\t\tinstance.m_eleHandle[0].style[propOffset] = ( percent * handleMax ) + 'px';\r\n\r\n\t\tif( bDisableTransitions )\r\n\t\t\tinstance.EnableTransitions();\r\n\r\n\t\treturn bScrolled;\r\n\t};\r\n\r\n\tvar funcMouseMove = function( event ) {\r\n\t\tvar localDimension = event[propPage] - instance.m_eleHandle.parent().offset()[propOffset];\r\n\t\tvar localMax = instance.m_eleHandle.parent()[propSize]() - instance.m_eleHandle[propOuterSize]();\r\n\r\n\t\tvar percent = localDimension / localMax;\r\n\t\tinstance.m_flPercent = percent;\r\n\r\n\t\tif( funcUpdate(true) )\r\n\t\t\tevent.preventDefault();\r\n\r\n\r\n\t};\r\n\r\n\t$J(eleTarget).bind('mousewheel DOMMouseScroll',function( event ){\r\n\t\tvar delta = event.originalEvent.wheelDelta || event.originalEvent.detail * -12;\r\n\r\n\t\tvar localY = instance.m_nDesiredPosition * -1;\r\n\t\tvar localMax = instance.m_eleTarget[propOuterSize]() - instance.m_eleTarget.parent()[propSize]();\r\n\r\n\t\tif( localY <= 0 && delta > 0 || localY == localMax && delta < 0 )\r\n\t\t\treturn;\r\n\r\n\t\tlocalY -= delta;\r\n\r\n\t\tif( localY < 0 ) localY = 0;\r\n\t\tif( localY > localMax  ) localY = localMax;\r\n\r\n\t\tvar percent = localY / localMax;\r\n\r\n\t\tinstance.m_flPercent = percent;\r\n\r\n\t\tif( funcUpdate() )\r\n\t\t\tevent.preventDefault();\r\n\t});\r\n\r\n\t$J(eleHandle.parent()).bind('click',function( event ){\r\n\t\tvar localY = instance.m_eleTarget.position()[propOffset] * -1;\r\n\t\tvar localMax = instance.m_eleTarget[propOuterSize]() - instance.m_eleTarget.parent()[propSize]();\r\n\r\n\t\tvar step = instance.m_eleTarget.parent()[propSize]();\r\n\r\n\t\tif( event[propOffsetEvent] < instance.m_eleHandle.position()[propOffset] )\r\n\t\t\tstep *= -1;\r\n\r\n\t\tlocalY += step;\r\n\r\n\t\tif( localY < 0 ) localY = 0;\r\n\t\tif( localY > localMax  ) localY = localMax;\r\n\r\n\t\tvar percent = localY / localMax;\r\n\r\n\t\tinstance.m_flPercent = percent;\r\n\r\n\t\tif( funcUpdate() )\r\n\t\t\tevent.preventDefault();\r\n\t});\r\n\r\n\teleHandle.mousedown(function( event ){\r\n\t\t$J(window).bind('mousemove.scroll', funcMouseMove);\r\n\t\tevent.stopPropagation();\r\n\t});\r\n\r\n\teleHandle.click(function( event ){\r\n\t\tevent.stopPropagation();\r\n\t});\r\n\r\n\t$J(window).mouseup(function( event ){\r\n\t\t$J(window).unbind('mousemove.scroll');\r\n\t\tevent.stopPropagation();\r\n\t});\r\n\r\n\t// Resets scroll position to 0 and updates the window. Useful when adding/removing elements or resizing the scroll area\r\n\tthis.Reset = function() {\r\n\t\tinstance.m_flPercent = 0;\r\n\r\n\t\treturn funcUpdate(true);\r\n\t};\r\n\r\n\t// Ensures target element is visible. This is taken from position() (NOT OFFSET) so the element must be a direct child of the scroll area\r\n\tthis.EnsureVisible = function( ele ) {\r\n\t\tvar $ele = $J(ele);\r\n\t\tvar eleSize = $ele[propOuterSize](true);\r\n\t\tvar minEdge = $ele.position()[propOffset] - (eleSize * 0.5);\r\n\t\tvar maxEdge = minEdge + (eleSize * 2);\r\n\r\n\r\n\t\tvar viewportMax = instance.m_eleTarget[propOuterSize]() - instance.m_eleTarget.parent()[propSize]();\r\n\t\tvar viewportSize = instance.m_eleTarget.parent()[propSize]();\r\n\t\tvar viewportPosition = instance.m_eleTarget.position()[propOffset] * -1;\r\n\r\n\t\tif( viewportPosition > minEdge )\r\n\t\t\tinstance.m_flPercent = minEdge / viewportMax;\r\n\t\telse if( ( viewportPosition + viewportSize ) < maxEdge )\r\n\t\t\tinstance.m_flPercent = ( maxEdge - viewportSize ) / viewportMax;\r\n\r\n\t\treturn funcUpdate();\r\n\t};\r\n\r\n\tthis.EnableTransitions = function() {\r\n\t\tinstance.m_eleTarget.addClass('animating');\r\n\t};\r\n\r\n\tthis.DisableTransitions = function() {\r\n\t\tinstance.m_eleTarget.removeClass('animating');\r\n\t};\r\n\r\n\tfuncUpdate(true);\r\n\r\n\r\n};\r\n\r\nfunction InitAutoComplete( elInput, fnSearch, fnOnChange )\r\n{\r\n\treturn new CAutoComplete( elInput, fnSearch, fnOnChange );\r\n}\r\n\r\nfunction CAutoComplete( elInput, fnSearch, fnOnChange )\r\n{\r\n\tthis.m_bSuppresseNextKeyUp = false;\r\n\tthis.m_hSearchTimeout = 0;\r\n\tthis.m_strLastSearch = '';\r\n\r\n\tthis.m_$Input = $J( elInput );\r\n\tthis.m_fnSearch = fnSearch;\r\n\tthis.m_fnOnChange = fnOnChange;\r\n\r\n\t\tvar strName = this.m_$Input.attr( 'name' );\r\n\tif ( !strName )\r\n\t\tstrName = 'unknown';\r\n\r\n\tstrName = strName + '_autocomplete';\r\n\r\n\tthis.m_$Popup = $J ( '<div class=\"' + strName + '\"></div>' );\r\n\tthis.m_$Popup.css( 'width', this.m_$Input.outerWidth() + 'px' );\r\n\tthis.m_$Input.after( this.m_$Popup );\r\n\tthis.m_$Popup.hide();\r\n\r\n\tvar _this = this;\r\n\tthis.m_$Input.on( 'keydown.autocomplete', function( event ) { _this.OnInputKeyDown( event ); } );\r\n\tthis.m_$Input.on( 'keyup.autocomplete', function( event ) { _this.OnInputKeyUp( event ); } );\r\n\tthis.m_$Input.on( 'blur.autocomplete', function( event ) { _this.OnInputBlur( event ); } );\r\n\tthis.m_$Input.on( 'change input paste', function( event ) { _this.OnInputChange( event ); } );\r\n\r\n\tthis.m_$Popup.on( 'mousedown.autocomplete', function( event ) { _this.m_$Popup.data( 'mousedown', true ); } );\r\n\tthis.m_$Popup.on( 'mouseup.autocomplete', function( event ) { _this.m_$Popup.data( 'mousedown', false ); } );\r\n}\r\n\r\nCAutoComplete.KEY_ENTER = 13;\r\nCAutoComplete.KEY_UP = 38;\r\nCAutoComplete.KEY_DOWN = 40;\r\n\r\nCAutoComplete.prototype.OnInputChange = function( event )\r\n{\r\n\t\tif ( this.m_fnOnChange )\r\n\t\tthis.m_fnOnChange( this.m_$Input, null );\r\n\r\n\tif ( this.m_hSearchTimeout == 0 )\r\n\t{\r\n\t\tvar _this = this;\r\n\t\tvar fnDoSearch = function()\r\n\t\t{\r\n\t\t\t_this.m_hSearchTimeout = 0;\r\n\t\t\tvar strSearch = _this.m_$Input.val();\r\n\t\t\tif ( strSearch == _this.m_strLastSearch )\r\n\t\t\t\treturn;\r\n\r\n\t\t\t_this.m_strLastSearch = strSearch;\r\n\t\t\t_this.m_fnSearch( _this.m_$Input, strSearch, function( $Contents ) { _this.SetPopupContents( $Contents ); } );\r\n\t\t};\r\n\r\n\t\tthis.m_hSearchTimeout = window.setTimeout( fnDoSearch, 300 );\r\n\t}\r\n}\r\n\r\nCAutoComplete.prototype.SetPopupContents = function( $Contents )\r\n{\r\n\tif ( !$Contents )\r\n\t{\r\n\t\tthis.ClosePopup();\r\n\t\treturn;\r\n\t}\r\n\r\n\tthis.m_$Popup.html( '' );\r\n\tthis.m_$Popup.append( $Contents );\r\n\r\n\tvar _this = this;\r\n\tthis.m_$Popup.children().on( 'click.autocomplete', function( event ) { _this.SelectSuggestion( $J( this ) ); } );\r\n\tthis.m_$Popup.show();\r\n}\r\n\r\nCAutoComplete.prototype.OnInputBlur = function( event )\r\n{\r\n\tif ( !this.m_$Popup.data( 'mousedown' ) )\r\n\t\tthis.ClosePopup();\r\n}\r\n\r\nCAutoComplete.prototype.SelectSuggestion = function( $Suggestion )\r\n{\r\n\tif ( $Suggestion.length == 0 )\r\n\t\treturn;\r\n\r\n\tthis.m_$Input.val( $Suggestion.data( 'suggestion' ) );\r\n\tif ( this.m_fnOnChange )\r\n\t\tthis.m_fnOnChange( this.m_$Input, $Suggestion );\r\n\r\n\tthis.ClosePopup();\r\n\tthis.m_$Input.focus();\r\n}\r\n\r\nCAutoComplete.prototype.ClosePopup = function()\r\n{\r\n\tif ( this.m_hSearchTimeout != 0 )\r\n\t{\r\n\t\twindow.clearTimeout( this.m_hSearchTimeout );\r\n\t\tthis.m_hSearchTimeout = 0;\r\n\t}\r\n\r\n\tthis.m_strLastSearch = '';\r\n\tthis.m_$Popup.hide();\r\n}\r\n\r\nCAutoComplete.prototype.OnInputKeyDown = function( event )\r\n{\r\n\tvar $CurSuggestion = this.m_$Popup.children('.focus');\r\n\tvar $NewSuggestion = $J();\r\n\r\n\tif ( event.keyCode == CAutoComplete.KEY_ENTER )\r\n\t{\r\n\t\tthis.SelectSuggestion( $CurSuggestion );\r\n\t\tthis.m_bSuppressNextKeyUp = true;\r\n\t\tevent.preventDefault();\r\n\t\treturn;\r\n\t}\r\n\r\n\tif ( event.keyCode == CAutoComplete.KEY_UP || event.keyCode == CAutoComplete.KEY_DOWN )\r\n\t{\r\n\t\tif ( event.keyCode == CAutoComplete.KEY_UP )\r\n\t\t{\r\n\t\t\tif ( $CurSuggestion.length )\r\n\t\t\t\t$NewSuggestion = $CurSuggestion.prev();\r\n\t\t\tif ( !$NewSuggestion.length )\r\n\t\t\t\t$NewSuggestion = this.m_$Popup.children( 'div:last-child' );\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif ( $CurSuggestion.length )\r\n\t\t\t\t$NewSuggestion = $CurSuggestion.next();\r\n\t\t\tif ( !$NewSuggestion.length )\r\n\t\t\t\t$NewSuggestion = this.m_$Popup.children( 'div:first-child' );\r\n\t\t}\r\n\r\n\t\tif ( $NewSuggestion.length  )\r\n\t\t{\r\n\t\t\t$CurSuggestion.removeClass( 'focus' );\r\n\t\t\t$NewSuggestion.addClass( 'focus' );\r\n\t\t}\r\n\r\n\t\t\t\tevent.preventDefault();\r\n\t}\r\n}\r\n\r\nCAutoComplete.prototype.OnInputKeyUp = function( event )\r\n{\r\n\tif ( this.m_bSuppressNextKeyUp && event.keyCode == CAutoComplete.KEY_ENTER )\r\n\t{\r\n\t\tthis.m_bSuppressNextKeyUp = false;\r\n\t\tevent.preventDefault();\r\n\t}\r\n}\r\n\r\n\r\n\r\nfunction GetCurrentScrollPercentage()\r\n{\r\n\tvar s = $J(window).scrollTop();\r\n\tvar d = $J(document).height();\r\n\tvar c = $J(window).height();\r\n\tvar scrollPercent = (s / (d-c)) * 100;\r\n\treturn scrollPercent;\r\n}\r\n\r\n// @elemID id of the element\r\n// @fixedOffsetTop offset from the top when fixed\r\n// @bScrollWithPageIfTooTall if the element is taller than the page, then it will \"scroll\" with the page if this is true\r\n// @docHeightOffset if bScrollWithPageIfTooTall is set to true, then this is how much the document height is reduced by (recommend this to be 130 for the typical footer)\r\nfunction FixedElementOnScrollWrapper ( elemID, fixedOffsetTop, bScrollWithPageIfTooTall, docHeightOffset, params )\r\n{\r\n\tparams = $J.extend( {\r\n\t\tfixedClass: null\r\n\t}, params );\r\n\r\n\tthis.fixedElement = $( elemID );\r\n\tthis.$FixedElement = $JFromIDOrElement( elemID );\r\n\tthis.fixedOffsetTop = typeof fixedOffsetTop != \"undefined\" ? fixedOffsetTop : 0;\r\n\tthis.bScrollWithPageIfTooTall = typeof bScrollWithPageIfTooTall != \"undefined\" ? bScrollWithPageIfTooTall : false;\r\n\tthis.docHeightOffset = typeof docHeightOffset != \"undefined\" ? docHeightOffset : 0;\r\n\tthis.homePosn = { x: this.fixedElement.cumulativeOffset()[0], y: this.fixedElement.cumulativeOffset()[1] };\r\n\tthis.fixedClass = params.fixedClass;\r\n\r\n\r\n\tthis.$FixedElementPadding = $J('<div/>', {'class': 'FixedElementOnScrollWrapper_padding', 'id': 'ScrollWrapperPadding_' + elemID } ).hide();\r\n\tthis.fixedElement.insert( { before: this.$FixedElementPadding[0] } );\r\n\r\n\tvar _this = this;\r\n\t$J(window).on( 'scroll.FixedElementOnScrollWrapper hashchange.FixedElementOnScrollWrapper', function() { _this.handleScroll() } );\r\n\t$J(window).on( 'resize.FixedElementOnScrollWrapper', function() { _this.handleScroll( true /* force recalc */ ) } );\r\n\tthis.handleScroll();\r\n}\r\n\r\nFixedElementOnScrollWrapper.prototype.BIsFixed = function()\r\n{\r\n\tif ( this.fixedClass )\r\n\t\treturn this.$FixedElement.hasClass( this.fixedClass );\r\n\telse\r\n\t\treturn this.$FixedElement.css( 'position' ) == 'fixed';\r\n}\r\n\r\nFixedElementOnScrollWrapper.prototype.handleScroll = function( bForceRecalc )\r\n{\r\n\tthis.scrollOffset = document.viewport.getScrollOffsets().top;\r\n\tvar offsetTop = this.fixedOffsetTop + GetResponsiveHeaderFixedOffsetAdjustment();\r\n\r\n\tif ( bForceRecalc && !this.BIsFixed() )\r\n\t\tthis.homePosn = { x: this.fixedElement.cumulativeOffset()[0], y: this.fixedElement.cumulativeOffset()[1] };\r\n\r\n\tif ( this.scrollOffset > ( this.homePosn.y - offsetTop ) )\r\n\t{\r\n\t\tif ( !this.BIsFixed() || bForceRecalc )\r\n\t\t{\r\n\t\t\tif ( this.fixedClass )\r\n\t\t\t\tthis.$FixedElement.addClass( this.fixedClass );\r\n\t\t\telse\r\n\t\t\t\tthis.$FixedElement.css( 'position', 'fixed' );\r\n\r\n\t\t\tthis.fixedElement.style.top = offsetTop + 'px';\r\n\t\t\tthis.fixedElement.style.left = this.homePosn.x;\r\n\r\n\t\t\t// jquery show() sets display to block, which prevents css from hiding this element if needed.\r\n\t\t\tthis.$FixedElementPadding.css( 'display', '' );\r\n\t\t\tthis.$FixedElementPadding.css( 'height', this.fixedElement.getHeight() + 'px' );\r\n\t\t}\r\n\r\n\t\tif ( this.bScrollWithPageIfTooTall )\r\n\t\t{\r\n\t\t\t// this forces the element to scroll off the page, but there's enough that isn't on the page, \"scroll\" this guy percentage-wise\r\n\t\t\tvar elemHeight = this.fixedElement.getHeight() + offsetTop;\r\n\t\t\tif ( elemHeight > document.viewport.getHeight() )\r\n\t\t\t{\r\n\t\t\t\tvar currentScrollPercentage = GetCurrentScrollPercentage();\r\n\t\t\t\tvar heightDiff = elemHeight - ( document.viewport.getHeight() - this.docHeightOffset );\r\n\t\t\t\toffsetTop -= Math.floor( heightDiff * currentScrollPercentage / 100 );\r\n\t\t\t\tthis.fixedElement.style.top = offsetTop + 'px';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\telse\r\n\t{\r\n\t\tif ( this.BIsFixed() )\r\n\t\t{\r\n\t\t\tif ( this.fixedClass )\r\n\t\t\t\tthis.$FixedElement.removeClass( this.fixedClass );\r\n\t\t\telse\r\n\t\t\t\tthis.$FixedElement.css( 'position', '' );\r\n\r\n\t\t\tthis.$FixedElement.css( 'top', '' ).css( 'left', '' );\r\n\t\t\tthis.$FixedElementPadding.css( 'display', 'none' );\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// general text suggestion control\r\n\r\n// fnSuggestForTerm will be called with two values, the current string to get suggestions for,\r\n//\tand the callback to invoke with the new values.  You should always invoke the callback per call\r\n//\tto fnSuggestForTerm, but can delay due to ajax if needed.\r\nfunction CTextInputSuggest( $InputElement, fnSuggestForTerm, fnOnSuggest, strCssClass )\r\n{\r\n\tthis.Init( $InputElement, fnSuggestForTerm, fnOnSuggest, strCssClass );\r\n}\r\n\r\nCTextInputSuggest.prototype.Init = function( $InputElement, fnSuggestForTerm, fnOnSuggest, strCssClass )\r\n{\r\n\tif( !strCssClass )\r\n\t\tstrCssClass = 'popup_block_new';\r\n\tthis.m_bHaveSuggestions = false;\r\n\tthis.m_$Input = $InputElement;\r\n\tthis.m_fnSuggestForTerm = fnSuggestForTerm;\r\n\tthis.m_fnOnSuggest = fnOnSuggest || function( term ) {};\r\n\tthis.m_strLastVal = '';\r\n\tthis.m_align = 'left';\r\n\tthis.m_valign = 'bottom';\r\n\r\n\tthis.m_$Focus = $J();\r\n\tthis.m_strLastFocusVal = null;\r\n\r\n\tthis.m_nNextRequestID = 1;\r\n\tthis.m_nRequestIDRecvd = 0;\r\n\r\n\r\n\tthis.m_$SuggestionsCtn = $J('<div/>', {'class': strCssClass, style: 'display: none;' } );\r\n\tthis.m_$Suggestions = $J('<div/>', {'class': 'popup_body popup_menu' } );\r\n\tthis.m_$SuggestionsCtn.append( this.m_$Suggestions );\r\n\r\n\tthis.m_$SuggestionsCtn.hide();\r\n\t$J(document.body).append( this.m_$SuggestionsCtn );\r\n\r\n\tvar zIndex = 200;\t//normal popup zindex\r\n\tthis.m_$Input.parents().each( function() {\r\n\t\tvar zIndexParent = $J(this).css('zIndex');\r\n\t\tif ( zIndexParent != 'auto' && zIndexParent != 0 )\r\n\t\t{\r\n\t\t\tzIndex = zIndexParent;\r\n\t\t}\r\n\t});\r\n\tthis.m_$SuggestionsCtn.css( 'zIndex', zIndex + 20 );\r\n\r\n\tvar _this = this;\r\n\tthis.m_$Input.on( 'keyup.CTextInputSuggest click.CTextInputSuggest', function( event ) { _this.OnTextChanged( event ) } );\r\n\tthis.m_$Input.on( 'paste.CTextInputSuggest cut.CTextInputSuggest', function() { window.setTimeout( function() { _this.OnTextChanged() }, 1 ); } );\r\n\tthis.m_$Input.on( 'keydown.CTextInputSuggest', function( event ) { _this.OnKeyDown( event ) } );\r\n\tthis.m_$Input.on( 'focus.CTextInputSuggest', function() { _this.ShowSuggestions() } );\r\n\tthis.m_$Input.on( 'blur.CTextInputSuggest', function() { _this.HideSuggestions() } );\r\n}\r\n\r\nCTextInputSuggest.prototype.SetAlignment = function( align, valign )\r\n{\r\n\tthis.m_align = align || 'left';\r\n\tthis.m_valign = valign || 'bottom';\r\n};\r\n\r\nCTextInputSuggest.prototype.SetSuggestionsContainerId = function( strSuggestionsCtnId )\r\n{\r\n\tthis.m_$SuggestionsCtn.attr( 'id', strSuggestionsCtnId );\r\n};\r\n\r\nCTextInputSuggest.prototype.ShowSuggestions = function()\r\n{\r\n\tif ( !this.m_$SuggestionsCtn.find(':visible').length && this.m_bHaveSuggestions )\r\n\t{\r\n\t\tAlignMenu( this.m_$Input[0], this.m_$SuggestionsCtn[0], this.m_align, this.m_valign, true );\r\n\t\tthis.m_$SuggestionsCtn.fadeIn( 'fast' );\r\n\t}\r\n};\r\n\r\nCTextInputSuggest.prototype.HideSuggestions = function()\r\n{\r\n\tif ( this.m_bHaveSuggestions )\r\n\t\tthis.m_$SuggestionsCtn.fadeOut( 'fast' );\r\n\telse\r\n\t\tthis.m_$SuggestionsCtn.hide();\r\n};\r\n\r\nCTextInputSuggest.prototype.OnSuggestionSelected = function( $Suggestion )\r\n{\r\n\tthis.m_$Input.val( $Suggestion.text() );\r\n\r\n\tthis.m_bHaveSuggestions = false;\r\n\tthis.m_$Focus = $J();\r\n\tthis.HideSuggestions();\r\n\r\n\tthis.m_fnOnSuggest( $Suggestion.text() );\r\n};\r\n\r\nCTextInputSuggest.prototype.SetSuggestions = function( rgSuggestions )\r\n{\r\n\tvar strLastFocus = this.m_strLastFocusVal;\r\n\r\n\tthis.m_$Suggestions.empty();\r\n\r\n\tthis.m_$Focus = $J();\r\n\tthis.m_strLastFocus = null;\r\n\r\n\tif ( rgSuggestions && rgSuggestions.length )\r\n\t{\r\n\t\tvar _this = this;\r\n\t\tfor ( var i = 0; i < rgSuggestions.length; i++ )\r\n\t\t{\r\n\t\t\tvar $Suggestion = $J('<div/>', {'class': 'suggestion_item popup_menu_item' } );\r\n\t\t\t$Suggestion.text( rgSuggestions[i] );\r\n\t\t\t$Suggestion.click( $J.proxy( this.OnSuggestionSelected, this, $Suggestion ) );\r\n\t\t\t$Suggestion.mouseenter( $J.proxy( this.SetFocus, this, $Suggestion ) );\r\n\r\n\t\t\tthis.m_$Suggestions.append( $Suggestion );\r\n\r\n\t\t\tif ( rgSuggestions[i] == strLastFocus )\r\n\t\t\t\tthis.SetFocus( $Suggestion );\r\n\t\t}\r\n\t\tthis.m_bHaveSuggestions = true;\r\n\t\tthis.ShowSuggestions();\r\n\t}\r\n\telse\r\n\t{\r\n\t\tthis.m_bHaveSuggestions = false;\r\n\t\tthis.HideSuggestions();\r\n\t}\r\n};\r\n\r\nCTextInputSuggest.prototype.OnTextChanged = function( event )\r\n{\r\n\tif ( event && ( event.which == 13 || event.which == 27 ) )\r\n\t\treturn;\r\n\r\n\tvar value = this.m_$Input.val();\r\n\tif ( value != this.m_strLastVal )\r\n\t{\r\n\t\tvar _this = this;\r\n\t\tvar nRequestID = this.m_nNextRequestID++;\r\n\t\tthis.m_fnSuggestForTerm( value, function( rgSuggestions ) {\r\n\t\t\t// we've already recieved a more recent response, this is out-of-order\r\n\t\t\tif ( _this.m_nRequestIDRecvd > nRequestID )\r\n\t\t\t\treturn;\r\n\r\n\t\t\t_this.m_nRequestIDRecvd = nRequestID;\r\n\t\t\t_this.SetSuggestions( rgSuggestions );\r\n\t\t} );\r\n\r\n\t\tthis.m_strLastVal = value;\r\n\t}\r\n};\r\n\r\nCTextInputSuggest.prototype.OnKeyDown = function( event )\r\n{\r\n\tif ( event.which == 27 )\r\n\t{\r\n\t\tthis.HideSuggestions();\r\n\t}\r\n\telse if ( this.m_bHaveSuggestions )\r\n\t{\r\n\t\tvar $NewSuggestion = null;\r\n\t\tif ( event.which == 13 )\r\n\t\t{\r\n\t\t\tif ( this.m_$Focus.length && this.m_bHaveSuggestions )\r\n\t\t\t{\r\n\t\t\t\tthis.OnSuggestionSelected( this.m_$Focus );\r\n\t\t\t\tevent.stopPropagation();\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if ( event.which == 38 /* up arrow */ )\r\n\t\t{\r\n\t\t\tevent.preventDefault();\r\n\t\t\tif ( this.m_$Focus.length )\r\n\t\t\t\t$NewSuggestion = this.m_$Focus.prev();\r\n\t\t\tif ( !$NewSuggestion )\r\n\t\t\t\t$NewSuggestion = this.m_$Suggestions.children().last();\r\n\t\t}\r\n\t\telse if ( event.which == 40 /* down arrow */ )\r\n\t\t\t{\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tif ( this.m_$Focus.length )\r\n\t\t\t\t\t$NewSuggestion = this.m_$Focus.next();\r\n\t\t\t\tif ( !$NewSuggestion )\r\n\t\t\t\t\t$NewSuggestion = this.m_$Suggestions.children().first();\r\n\t\t\t}\r\n\r\n\t\tif ( $NewSuggestion )\r\n\t\t\tthis.SetFocus( $NewSuggestion );\r\n\t}\r\n};\r\n\r\nCTextInputSuggest.prototype.SetFocus = function( $Suggestion )\r\n{\r\n\tthis.m_$Focus.removeClass( 'focus' );\r\n\tthis.m_$Focus = $Suggestion;\r\n\tthis.m_$Focus.addClass( 'focus' );\r\n\tthis.m_strLastFocusVal = $Suggestion.text();\r\n};\r\n\r\nCTextInputSuggest.prototype.Destroy = function()\r\n{\r\n\tthis.m_$SuggestionsCtn.remove();\r\n\tthis.m_$Input.off( '.CTextInputSuggest' );\r\n};\r\n\r\n/**\r\n * Similar to CTextInputSuggest, but uses associative arrays instead of just text; useful for when we may have more than one\r\n * item with the same text name, or when you want to use HTML in the item name instead of just plaintext\r\n *\r\n * Each suggestion should include a 'key', and one of the following:\r\n * text - Suggestion text (escaped, sets textContents)\r\n * html - Raw suggestion html (NOT ESCAPED, sets innerHTML)\r\n *\r\n * @param $InputElement\r\n * @param fnSuggestForTerm\r\n * @param fnOnSuggest\r\n * @constructor\r\n */\r\nfunction CIndexedInputSuggest( $InputElement, fnSuggestForTerm, fnOnSuggest, strCssClass )\r\n{\r\n\tthis.Init( $InputElement, fnSuggestForTerm, fnOnSuggest, strCssClass );\r\n}\r\n\r\nCIndexedInputSuggest.prototype = Object.create(CTextInputSuggest.prototype);;\r\n\r\nCIndexedInputSuggest.prototype.OnSuggestionSelected = function( $Suggestion )\r\n{\r\n\tthis.m_$Input.val( $Suggestion.text() );\r\n\r\n\tthis.m_bHaveSuggestions = false;\r\n\tthis.m_$Focus = $J();\r\n\tthis.HideSuggestions();\r\n\r\n\tthis.m_fnOnSuggest( $Suggestion.data('suggest-key'), $Suggestion.text() );\r\n};\r\n\r\nCIndexedInputSuggest.prototype.SetSuggestions = function( rgSuggestions )\r\n{\r\n\tvar strLastFocus = this.m_strLastFocusVal;\r\n\r\n\tthis.m_$Suggestions.empty();\r\n\r\n\tthis.m_$Focus = $J();\r\n\tthis.m_strLastFocus = null;\r\n\r\n\tif ( rgSuggestions && rgSuggestions.length )\r\n\t{\r\n\t\tvar _this = this;\r\n\t\tfor ( var i = 0; i < rgSuggestions.length; i++ )\r\n\t\t{\r\n\r\n\t\t\tvar $Suggestion = $J('<div/>', {'class': 'suggestion_item popup_menu_item' } );\r\n\t\t\tif( rgSuggestions[i].text )\r\n\t\t\t\t$Suggestion.text( rgSuggestions[i].text );\r\n\t\t\telse if( rgSuggestions[i].html )\r\n\t\t\t\t$Suggestion.html( rgSuggestions[i].html );\r\n\r\n\t\t\t$Suggestion.data('suggest-key', rgSuggestions[i].key )\r\n\r\n\t\t\t$Suggestion.click( $J.proxy( this.OnSuggestionSelected, this, $Suggestion ) );\r\n\t\t\t$Suggestion.mouseenter( $J.proxy( this.SetFocus, this, $Suggestion ) );\r\n\r\n\t\t\tthis.m_$Suggestions.append( $Suggestion );\r\n\r\n\t\t\tif ( rgSuggestions[i] == strLastFocus )\r\n\t\t\t\tthis.SetFocus( $Suggestion );\r\n\t\t}\r\n\t\tthis.m_bHaveSuggestions = true;\r\n\t\tthis.ShowSuggestions();\r\n\t}\r\n\telse\r\n\t{\r\n\t\tthis.m_bHaveSuggestions = false;\r\n\t\tthis.HideSuggestions();\r\n\t}\r\n};\r\n\r\nfunction InitBBCodeVideos( bAllowAutoPlay )\r\n{\r\n\tvar videos = $J( \"video\" );\r\n\tif ( videos.length != 0 )\r\n\t{\r\n\t\tfor ( var i = 0; i < videos.length; ++i )\r\n\t\t{\r\n\t\t\tvar video = videos[i];\r\n\t\t\tvar $video = $J( video );\r\n\r\n\t\t\tif ( $video.hasClass(\"bb_video_loop\") )\r\n\t\t\t{\r\n\t\t\t\tvideo.setAttribute('loop', 'loop');\r\n\t\t\t}\r\n\r\n\t\t\tif ( $video.hasClass(\"bb_video_controls\") )\r\n\t\t\t{\r\n\t\t\t\tvideo.setAttribute( 'controls', 'controls' );\r\n\t\t\t}\r\n\r\n\t\t\tif ( bAllowAutoPlay )\r\n\t\t\t{\r\n\t\t\t\t$video.unbind('mouseenter mouseleave');\r\n\r\n\t\t\t\tvideo.preload = $video.hasClass(\"bb_video_preload\") ? 'auto' : 'metadata';\r\n\r\n\t\t\t\tif ( $video.hasClass(\"bb_video_autoplay\") )\r\n\t\t\t\t{\r\n\t\t\t\t\tvideo.autoplay = 'autoplay';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tvideo.preload = 'metadata';\r\n\t\t\t\t$video.hover( function toggleControls() {\r\n\t\t\t\t\tif ( this.hasAttribute(\"controls\") ) {\r\n\t\t\t\t\t\tthis.removeAttribute(\"controls\")\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.setAttribute(\"controls\", \"controls\")\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nfunction LoginUsingSteamClient( baseURL )\r\n{\r\n\tvar lastLogin = V_GetCookie('lastAutoLogin');\r\n\tif ( !lastLogin )\r\n\t{\r\n\t\tV_SetCookie('lastAutoLogin', '1', 1 / 24); // only try auto login once an hour\r\n\t\tif ('withCredentials' in new XMLHttpRequest()) { // make sure the browser respects CORS\r\n\t\t\t$J.ajax({\r\n\t\t\t\ttype: \"GET\",\r\n\t\t\t\turl: 'http://127.0.0.1:27060/auth/?u=public',\r\n\t\t\t\tdataType: \"json\",\r\n\t\t\t\tsuccess: function (data) {\r\n\t\t\t\t\t$J.ajax({\r\n\t\t\t\t\t\ttype: \"POST\",\r\n\t\t\t\t\t\turl: baseURL + '/login/checkclientautologin',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t'steamid': data['steamid'],\r\n\t\t\t\t\t\t\t'sessionkey': data['sessionkey'],\r\n\t\t\t\t\t\t\t'encrypted_loginkey': data['encrypted_loginkey'],\r\n\t\t\t\t\t\t\t'digest': data['digest'],\r\n\t\t\t\t\t\t\t'redirectURL': window.location.href\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdataType: \"json\",\r\n\t\t\t\t\t\tsuccess: function (data) {\r\n\t\t\t\t\t\t\tlocation.reload();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n\r\n/**\r\n * Generic interface for handling ajax-driven sub-pages.\r\n *\r\n * @param elTarget Element to dump content into\r\n * @param strBaseURL Base URL to attach nav params\r\n * @param strInstanceId Unique flag to look for when scanning for state change events. also determines our data selector\r\n * \t\t\t\t\t\tOnly needed if you're using more than one CAjaxSubPageController on the same page.\r\n * @param strDefaultLocation Used when no navid is provided\r\n * @constructor\r\n */\r\nvar CAjaxSubPageController = function( elTarget, strBaseURL, strInstanceId, strDefaultLocation )\r\n{\r\n\tthis.elTarget = elTarget;\r\n\tthis.strBaseURL = strBaseURL;\r\n\tthis.strStateID = strInstanceId || 'navid';\r\n\tthis.strDefaultLocation = strDefaultLocation || '';\r\n\r\n\tthis.rgOriginalEvent = {'html':this.elTarget.innerHTML,'title':document.title, 'id': this.strStateID};\r\n\r\n\twindow.addEventListener('popstate', this.OnWindowPopState.bind(this));\r\n\r\n\tthis.InstrumentLinks( document );\r\n\r\n\tvar _this = this;\r\n\tsetTimeout( function(){ $J(_this.elTarget).children().trigger('load'); }, 1);\r\n\r\n\tvar strLocation =  window.location.href.substring(strBaseURL.length);\r\n\tthis.PaintLinks(strLocation || this.strDefaultLocation);\r\n\r\n\r\n};\r\n\r\n/**\r\n * Register click handlers. This also sets the href for browser link preview and fallback for non-click navigation\r\n * events, such as opening in a new tab/window via middle click.\r\n * @param elTarget Element to query from.\r\n * @constructor\r\n */\r\nCAjaxSubPageController.prototype.InstrumentLinks = function( elTarget )\r\n{\r\n\t//var rgLinks = elTarget.querySelectorAll('[data-'+this.strStateID+']');\r\n\tvar rgLinks = $J('[data-'+this.strStateID+']', elTarget);\r\n\tfor( var i=0; i<rgLinks.length; i++)\r\n\t{\r\n\t\trgLinks[i].addEventListener('click', this.Navigate.bind(this, rgLinks[i].dataset[ this.strStateID ], rgLinks[i].dataset[ 'title' ] ) );\r\n\t\trgLinks[i].href = this.strBaseURL + rgLinks[i].dataset[ this.strStateID ];\r\n\t}\r\n};\r\n\r\n/**\r\n * Adds 'active' class to link that was clicked or is currently active.\r\n * @constructor\r\n */\r\nCAjaxSubPageController.prototype.PaintLinks = function( strLocation )\r\n{\r\n\t// Figure out which link we clicked and paint it with the correct class\r\n\tvar rgLinks = document.querySelectorAll('[data-'+this.strStateID+']');\r\n\tfor( var i=0; i<rgLinks.length; i++)\r\n\t{\r\n\t\tif( rgLinks[i].dataset[ this.strStateID ] == strLocation || rgLinks[i].dataset[ this.strStateID ] + '/' == strLocation )\r\n\t\t\trgLinks[i].classList.add('active');\r\n\t\telse\r\n\t\t\trgLinks[i].classList.remove('active');\r\n\t}\r\n};\r\n\r\n/**\r\n * Call to navigate the sub-frame.\r\n *\r\n * @param strLocation Assumed to be strBaseURL + strLocation. Trailing slash should be on strBaseURL already.\r\n * @param strpageTitle Optional: Replace page title with this new value.\r\n * @constructor\r\n */\r\nCAjaxSubPageController.prototype.Navigate = function( strLocation, strPageTitle, event )\r\n{\r\n\tvar _this = this;\r\n\tvar strURL = this.strBaseURL + strLocation;\r\n\r\n\tthis.elTarget.classList.add('loading');\r\n\r\n\tthis.PaintLinks( strLocation );\r\n\r\n\t// Trigger the \"saveform\" event which we may have bound to do things.\r\n\t$J( 'form', this.elTarget ).trigger('saveform');\r\n\r\n\t$J.ajax({\r\n\t\turl: strURL,\r\n\t\tdataType: \"html\",\r\n\t\tcache: true, /* Let the browser decide caching rules */\r\n\t\tdata: { 'ajax': 1 }\r\n\t}).done(function( result ) {\r\n\r\n\t\tvar elNewContents = $J( result );\r\n\r\n\t\t$J(_this.elTarget).empty();\r\n\t\t$J(_this.elTarget).append( elNewContents );\r\n\r\n\r\n\t\t_this.elTarget.classList.remove('loading');\r\n\r\n\t\t$J( elNewContents ).trigger('load');\r\n\r\n\t\t_this.InstrumentLinks( _this.elTarget );\r\n\t\tif( strPageTitle )\r\n\t\t\tdocument.title = strPageTitle;\r\n\r\n\t\t$J('.tooltip', _this.elTarget).v_tooltip();\r\n\r\n\t\twindow.history.pushState({'html':result,'title':strPageTitle, 'id': _this.strStateID}, '', strURL );\r\n\t});\r\n\r\n\tif( event )\r\n\t\tevent.preventDefault();\r\n\r\n};\r\n\r\n/**\r\n * Internal event handler for the \"back\" button.\r\n * @param Event event\r\n * @constructor\r\n */\r\nCAjaxSubPageController.prototype.OnWindowPopState = function( event )\r\n{\r\n\t// Revert to our original state if there's nothing in the stack.\r\n\r\n\tif(event.state == null)\r\n\t{\r\n\t\tevent.state = 5;\r\n\t}\r\n\r\n\tvar state = event.state || this.rgOriginalEvent;\r\n\r\n\tif( state && state.id == this.strStateID)\r\n\t{\r\n\t\tvar strLocation =  window.location.href.substring(this.strBaseURL.length);\r\n\t\tthis.PaintLinks( strLocation );\r\n\r\n\t\tvar elNewContents = $J(state.html);\r\n\t\t$J(this.elTarget).empty();\r\n\t\t$J(this.elTarget).append(elNewContents);\r\n\t\tif( state.title )\r\n\t\t\tdocument.title = state.title;\r\n\r\n\t\t$J( elNewContents ).trigger('load');\r\n\t\tthis.InstrumentLinks( elNewContents );\r\n\t}\r\n};\r\n\r\nfunction SetupAnimateOnHoverImages()\r\n{\r\n\tvar $Images = $J( '[data-animate-on-hover-src]', document );\r\n\tif ( $Images.length )\r\n\t{\r\n\t\tfor ( var i = 0; i < $Images.length; ++i )\r\n\t\t{\r\n\t\t\tvar img = $J( $Images[i] );\r\n\t\t\timg.data( 'static-src', img.attr( 'src') );\r\n\t\t\timg.hover(\r\n\t\t\t\tfunction() {\r\n\t\t\t\t\tvar thisImage = $J( this );\r\n\t\t\t\t\tthisImage.attr( 'src', thisImage.data( 'animate-on-hover-src' ) );\r\n\t\t\t\t},\r\n\t\t\t\tfunction() {\r\n\t\t\t\t\tvar thisImage = $J( this );\r\n\t\t\t\t\tthisImage.attr( 'src', thisImage.data( 'static-src' ) );\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction BindTooltips(selector, rgOptions)\r\n{\r\n\t// Standard tooltips\r\n\tvar $TextTooltips = $J( '[data-tooltip-text]', selector);\r\n\tif ( $TextTooltips.length )\r\n\t\t$TextTooltips.v_tooltip( { 'tooltipClass': rgOptions.tooltipCSSClass, 'dataName': 'tooltipText', 'defaultType': 'text', 'replaceExisting': false } );\r\n\r\n\tvar $HTMLTooltips = $J( '[data-tooltip-html]', selector);\r\n\tif ( $HTMLTooltips.length )\r\n\t\t$HTMLTooltips.v_tooltip( { 'tooltipClass': rgOptions.tooltipCSSClass, 'dataName': 'tooltipHtml', 'defaultType': 'html', 'replaceExisting': false } );\r\n}\r\n\r\n/**\r\n * Binds standard tooltips for the current site. This function also binds a mutationobserver to bind any future elements without additional work\r\n * @param strCSSClass\r\n * @constructor\r\n */\r\nvar g_TooltipMutationObserver;\r\nvar g_bTooltipMutationObserverDisabled = false;\r\nfunction SetupTooltips( rgOptions )\r\n{\r\n\tBindTooltips(document, rgOptions);\r\n\r\n\tif ( g_TooltipMutationObserver || g_bTooltipMutationObserverDisabled )\r\n\t\treturn;\r\n\r\n\ttry\r\n\t{\r\n\t\tvar config = {\r\n\t\t\tattributes: true,\t// not clear if we actually support this, as we only look at addedNodes\r\n\t\t\tchildList: true,\r\n\t\t\tsubtree: true,\r\n\t\t\tattributeFilter: [ \"data-tooltip-html\", \"data-tooltip-text\" ]\r\n\t\t};\r\n\r\n\t\tvar callback = function ( mutationsList )\r\n\t\t{\r\n\t\t\tfor ( var i=0; i<mutationsList.length; i++ )\r\n\t\t\t{\r\n\t\t\t\tvar mutation = mutationsList[i];\r\n\t\t\t\tif ( mutation.addedNodes && mutation.addedNodes.length )\r\n\t\t\t\t\tBindTooltips( mutation.addedNodes, rgOptions );\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Create an observer instance linked to the callback function\r\n\t\tg_TooltipMutationObserver = new MutationObserver ( callback );\r\n\r\n\t\t// Start observing the target node for configured mutations\r\n\t\tg_TooltipMutationObserver.observe ( document, config );\r\n\t}\r\n\tcatch( e )\r\n\t{\r\n\t\t// Swallow exceptions for browsers that don't support mutationobservers\r\n\t}\r\n}\r\n\r\n// for perf sensitive pages\r\nfunction DisableTooltipMutationObserver()\r\n{\r\n\tg_bTooltipMutationObserverDisabled = true;\r\n\r\n\tif ( g_TooltipMutationObserver )\r\n\t{\r\n\t\tg_TooltipMutationObserver.disconnect();\r\n\t\tg_TooltipMutationObserver = null;\r\n\t}\r\n}\r\n\r\nfunction ViewTitlesWithDescriptors( descid )\r\n{\r\n\tvar waitDialog = ShowBlockingWaitDialog( '示例产品', '正在查找示例产品，请稍候…' );\r\n\r\n\t$J.get( 'https://store.steampowered.com/search/results/',\r\n\t\t{\r\n\t\t\t'filter' : 'globaltopsellers',\r\n\t\t\t'ignore_preferences' : 1,\r\n\t\t\t'category1' : '992,994,998', \t\t\t'descids[]' : descid,\r\n\t\t\t'json' : 1,\r\n\t\t}\r\n\t).done( function( response ) {\r\n\t\twaitDialog.Dismiss();\r\n\r\n\t\tvar content = $J( \"<div>\" );\r\n\t\tcontent.append( $J( \"<div>\", { class: 'content_descriptors_examples_desc', text: response.desc } ) );\r\n\r\n\t\tif ( response.items.length != 0 )\r\n\t\t{\r\n\t\t\tfor ( var i = 0; i < response.items.length && i < 10; ++i )\r\n\t\t\t{\r\n\t\t\t\tvar item = response.items[i];\r\n\t\t\t\tvar elem = $J( \"<div>\", { class: 'content_descriptors_example_app' } );\r\n\t\t\t\telem.append( $J( \"<img>\", {  class: 'app_logo', src: item.logo } ) );\r\n\t\t\t\telem.append( $J( \"<div>\", { class: 'app_name', text: item.name } ) );\r\n\t\t\t\tcontent.append( elem );\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcontent.append( $J( \"<div>\", { class: \"no_items\", text: '未找到产品' } ) );\r\n\t\t}\r\n\r\n\t\tvar dialog = ShowAlertDialog( '示例产品', content );\r\n\t} );\r\n}\r\n\r\n\r\n\r\n// Element appearance montior. Designed to replace jQuery.appear\r\n\r\nvar CAppearMonitor = function( fnOnAppear, bCheckAnyIntersection ){\r\n\tthis.rgMonitoredElements = [];\r\n\tthis.bRunning = false;\r\n\tthis.unTimerFrequency = 500;\r\n\tthis.bRegisteredWindowEvent = false;\r\n\tthis.fnOnAppear = fnOnAppear;\r\n\tthis.bCheckAnyIntersection = bCheckAnyIntersection || false;\r\n};\r\n\r\nCAppearMonitor.prototype.RegisterScrollEvent = function( elTarget )\r\n{\r\n\tvar instance = this;\r\n\r\n\t$J(elTarget).on('scroll', function()\r\n\t{\r\n\t\tif( instance.bRunning || instance.rgMonitoredElements.length == 0 )\r\n\t\t\treturn;\r\n\r\n\t\tinstance.bRunning = true;\r\n\t\tsetTimeout( instance.CheckVisibilityInternal.bind(instance), instance.unTimerFrequency );\r\n\r\n\t});\r\n}\r\n\r\nCAppearMonitor.prototype.CheckVisibility = function()\r\n{\r\n\t// when items are added they will schedule an immediate check.  Delay for a bit\r\n\tif ( this.m_iCheckVisibilityRequestInterval )\r\n\t{\r\n\t\twindow.clearTimeout( this.m_iCheckVisibilityRequestInterval );\r\n\t}\r\n\r\n\tthis.m_iCheckVisibilityRequestInterval = setTimeout( this.CheckVisibilityInternal.bind(this), this.unTimerFrequency );\r\n};\r\n\r\nCAppearMonitor.prototype.CheckVisibilityInternal = function()\r\n{\r\n\t// Walk backwards so we can slice while we iterate\r\n\tfor( var i=this.rgMonitoredElements.length-1; i>=0; i--)\r\n\t{\r\n\t\tvar rgMonitored = this.rgMonitoredElements[i];\r\n\t\tif( this.bIsElementVisible( rgMonitored.element ) )\r\n\t\t{\r\n\t\t\tthis.rgMonitoredElements.splice(i,1);\r\n\t\t\tthis.fnOnAppear( rgMonitored.element );\r\n\t\t} else if( !document.body.contains( rgMonitored.element ) )\r\n\t\t{\r\n\t\t\tthis.rgMonitoredElements.splice(i,1);\r\n\t\t}\r\n\t}\r\n\r\n\tthis.bRunning = false;\r\n\tthis.m_iCheckVisibilityRequestInterval = undefined;\r\n};\r\n\r\nCAppearMonitor.prototype.bIsElementVisible = function( elElement )\r\n{\r\n\tif( !elElement )\r\n\t\treturn;\r\n\r\n\t// Check physical position vs viewport. This is likely the fastest early-out.\r\n\tvar rectElement = elElement.getBoundingClientRect();\r\n\r\n\tif ( this.bCheckAnyIntersection )\r\n\t{\r\n\t\tif ( rectElement.left > window.innerWidth || rectElement.right < 0 )\r\n\t\t\treturn false;\r\n\r\n\t\tif ( rectElement.top > window.innerHeight || rectElement.bottom < 0 )\r\n\t\t\treturn false;\r\n\t}\r\n\telse\r\n\t{\r\n\t\tif ( !( rectElement.top >= 0 && rectElement.left >= 0\r\n\t\t\t\t&& rectElement.bottom <= window.innerHeight && rectElement.right <= window.innerWidth ) )\r\n\t\t\treturn false;\r\n\t}\r\n\r\n\t// Ask jQuery to compute visibility, since it knows all the edge cases.\r\n\tif( !$J(elElement).is(':visible'))\r\n\t\treturn false;\r\n\r\n\treturn true;\r\n\r\n};\r\n\r\nCAppearMonitor.prototype.RegisterElement = function( elTarget )\r\n{\r\n\tif( $J(elTarget).data('manual-tracking' ) )\r\n\t\treturn;\r\n\r\n\tthis.rgMonitoredElements.push({\r\n\t\telement: elTarget\r\n\t});\r\n\r\n\t// Register the window scroll event ONLY after we have something to monitor\r\n\tif( !this.bRegisteredWindowEvent)\r\n\t\tthis.RegisterScrollEvent( window );\r\n};\r\n\r\nCAppearMonitor.prototype.TrackAppearanceIfVisible = function( elTarget )\r\n{\r\n\tvar _this = this;\r\n\twindow.setTimeout( function() {\r\n\t\t// Ensure we're actually in the viewport (Carousel may be scrolling out of view and calling this)\r\n\t\t// this triggers layout, so we delay this check a little bit to give the page time to settle whatever\r\n\t\t// change may currently be in-flight\r\n\t\tif( !_this.bIsElementVisible( elTarget ) )\r\n\t\t\treturn;\r\n\r\n\t\t_this.TrackAppearance( elTarget );\r\n\t}, 10);\r\n};\r\n\r\nCAppearMonitor.prototype.TrackAppearance = function( elTarget )\r\n{\r\n\t// Find our element, splice it out if we were tracking it\r\n\tfor( var i=this.rgMonitoredElements.length-1; i>=0; i--)\r\n\t{\r\n\t\tvar rgMonitored = this.rgMonitoredElements[i];\r\n\t\tif(  rgMonitored.element === elTarget )\r\n\t\t{\r\n\t\t\tthis.rgMonitoredElements.splice(i,1);\r\n\t\t}\r\n\t}\r\n\t// Trigger it, even if we weren't actually tracking it\r\n\tthis.fnOnAppear( elTarget );\r\n};\r\n\r\nCAppearMonitor.prototype.ClearElements = function()\r\n{\r\n\tthis.rgMonitoredElements = [];\r\n}\r\n\r\n","Steam — 顶级在线游戏平台_files/shared_responsive.css":"\r\n.responsive_page_frame {\r\n\tposition: relative;\r\n}\r\n\r\nbody.overflow_hidden,\r\nbody.overflow_hidden .responsive_page_frame {\r\n\toverflow: hidden;\r\n\tposition: relative;\r\n}\r\n\r\nhtml.responsive {\r\n\theight: 100%;\r\n}\r\n\r\nhtml.responsive body {\r\n\tmin-height: 100%;\r\n\theight: auto;\r\n\tposition: relative;\r\n}\r\n\r\n.responsive_page_content {\r\n}\r\n\r\n.partner_events .responsive_page_content {\r\n    height: 100vh;\r\n}\r\n\r\n.responsive_page_menu_ctn {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\r\n\tbackground: black;\r\n\r\n\tz-index: 30;\r\n\twidth: 280px;\r\n}\r\n\r\n.responsive_page_frame:not(.in_menu_drag) .responsive_page_menu_ctn {\r\n\ttransition: left 0.5s, right 0.5s;\r\n}\r\n\r\n.responsive_page_menu_ctn.mainmenu {\r\n\tleft: -280px;\r\n}\r\n\r\n.responsive_page_menu_ctn.localmenu {\r\n\tright: -280px;\r\n}\r\n\r\n.responsive_page_frame.mainmenu_active .responsive_page_menu_ctn.mainmenu,\r\n.responsive_page_frame.localmenu_active .responsive_page_menu_ctn.localmenu\r\n{\r\n\tbox-shadow: 0 0 7px 0 rgba( 0, 0, 0, 0.75 );\r\n}\r\n\r\n.responsive_page_frame.mainmenu_active .responsive_page_menu_ctn.mainmenu {\r\n\tleft: 0;\r\n}\r\n\r\n.responsive_page_frame.localmenu_active .responsive_page_menu_ctn.localmenu {\r\n\tright: 0;\r\n}\r\n\r\n.responsive_page_content_overlay {\r\n\tvisibility: hidden;\r\n\topacity: 0;\r\n\tbackground: rgba( 0, 0, 0, 0.4);\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tz-index: 25;\t/* on top of page and header */\r\n\r\n\ttransition: visibility 0.5s, opacity 0.5s;\r\n}\r\n\r\n.responsive_page_frame.mainmenu_active .responsive_page_content_overlay,\r\n.responsive_page_frame.localmenu_active .responsive_page_content_overlay {\r\n\tvisibility: visible;\r\n\topacity: 1.0;\r\n\ttransition: visibility 0s, opacity 0.5s;\r\n}\r\n\r\n.responsive_page_menu {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tbottom: 0;\r\n\tright: 0;\r\n\toverflow: hidden;\r\n\toverflow-y: auto;\r\n\t-webkit-overflow-scrolling: touch;\r\n}\r\n\r\n.mainmenu_contents {\r\n\tbackground: #171a21;\r\n\tfont-size: 22px;\r\n\tposition: relative;\r\n\tmin-height: 100%;\r\n}\r\n\r\n.mainmenu_contents_items {\r\n\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 200; /* thin */\r\n\r\n\t\t}\r\n\r\n.responsive_page_menu_ctn.localmenu .responsive_page_menu {\r\n\tbackground: #171a21;\r\n}\r\n\r\n.responsive_page_menu_ctn.localmenu .localmenu_subarea {\r\n\tbackground: #192533;\r\n\tborder-radius: 3px;\r\n\tpadding: 10px;\r\n\tcolor: #bdbdbd;\r\n\tmargin-bottom: 16px;\r\n}\r\n\r\n.responsive_page_menu_ctn.localmenu .localmenu_subarea .subheader {\r\n\tfont-size: 1.2em;\r\n\tmargin-bottom: 8px;\r\n}\r\n\r\n.mainmenu_contents .menuitem,\r\n.mainmenu_contents .submenuitem,\r\n.notification_submenu .popup_menu_item {\r\n\tdisplay: block;\r\n\tpadding: 0 12px;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n\tline-height: 2.5em;\r\n\r\n\ttext-decoration: none;\r\n\r\n\tcursor: pointer;\r\n}\r\n\r\n.mainmenu_contents .menuitem {\r\n\tposition: relative;\r\n\tcolor: #bdbdbd;\r\n\tbackground: #171a21;\r\n\ttransition: background 0.25s, color 0.25s;\r\n}\r\n\r\n.mainmenu_contents .menuitem.username {\r\n\tmax-width: none;\r\n}\r\n\r\n.mainmenu_contents .menuitem,\r\n.menuitem_submenu_wrapper .inner_borders,\r\n.mainmenu .minor_menu_items {\r\n\tborder-top: 1px solid #2f3138;\r\n\tborder-bottom: 1px solid #000000;\r\n}\r\n.mainmenu .minor_menu_items {\r\n\tborder-bottom: none;\r\n}\r\n\r\n.mainmenu_contents .menuitem.submenu_active {\r\n\tbackground: #192533;\r\n\tcolor: #ffffff;\r\n}\r\n\r\n.mainmenu_contents .menuitem .chevron {\r\n\tbackground-image: url( 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAwCAYAAACG5f33AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABFxJREFUeNrkmg9klGEcx5/dMY4Y44hjxIgxRpSy7NwspSmNWZayGGmKFJGylCJSmlJMKctiylKa5aZpSmmMMWIcY4xxjGPEmPX72ffN23Z7732f3/Pe+97tx9dtd/e87/N+7n1+/563Ym1tTbmx8fHxLnq5QzqYSqXmbO+rMrMoaZDUz5dX6MsRl/A66OU5KUFK0/9xVb42QOLr/UTaLwZIsI7hoFG8VUsapferyhDeI1In/o7xdZL2Og2ocFrCBKkFv0Rlvo9JR0grZQKvl3Qrz/tLpCRpxhNAgteEXyDmcNL3pHbSaonDu0B67PB5ln0/adYVQILHt+0X0g4XJ39G6ilheJ0IGoVsAXdixhEgwWugl68kLz7uHulaCcJj/z5s8++FbJ50ADA3AyR4dYCnE2Uvkp6UELwU/HvM47gMlvPifwAJXi3gJQSTOkV6UwLw9sBF6WYSvwFxKbJhjc8LJ/aSdDjk8HYjOErSMAaYy7eE+aDpQrlPAfsDZzsZQni8un4JV9kIqc1K3/IFkWos5XrBSRxzp4CM/foPFAK6NkZqtee+W6UxcUCsE5yMXcI+e8QK0KpwPQ2CY3wnHcIKc5VIJ3BSyS+WQdjPBggvBrfUKDjGJODlvJZyNfTyjVQjPHkzaTkAeFyCvkW+p2vTcEc5z7WwwfQmqLp50NYc0I22SacVVOGmHyhMsC0bQp5YrLr5Kem80P38S5hFAG0lHief1YJJFatu5sbvdcH4TSWbGKCtyZAWJqG3STd9hHeZ9ECYPfCdN+fmy54AAmIjIMYEk+zB3WjaulAN6dqWbStjAAFRtxD3s24+gYgbFcBr9pr8awEExKNoBVVqTngFWf2Yoc7KqGAuOcCb8jpQGyAgSn91E3Wzl+bvVnNgeD91BosAAiLnWQPCpZNEzuXV6gEvLoDH+emE7vVHDCwf9mPdwiI/rZGo78KyjQtcSJsEnimAbK/Uekda1xKA6BbGTk3odngnSZ+lF24KIBu3868Ixte5jOxWz1K3ycGV0Bm1vqOowgSQ7aEwSeaA8MEhmlqdFUmvshtlpQojQKvSuC8Y34JkOJqnszKsZN3yc3A3KswA2a6S+gTjObLbN7qjiPSS/RZ2L/2mL9QvgGyXSC8E47mT0mvrrHQIjnUD7sW4mcgDnT6OYjmeFpyC04wmwfi7AOiL+XkHWhHvLOmd4BgSeH1+wisGQAsiNw5GVHGtH25ElTpAe9Y/VqTzvUbEVeUC0IJ4XK1vD/ppQ3AbqtwA2ot3v55a+IgqY7VcAbLx9ibvsU4bPi7Xte2qyDt/QQBkywGiqUc/JpTteZXtAJAtC4gZ4XG4EdqqNjxysR0AsvGea1LpP1Y3BZ+6HNQFBA2QzXr22OtDSDOAlwty8mEAyMZ7sM3K/UNIs1j+2aAnHhaAFhQ3EC3Yi2GYdJgAulmWC4C3EJYJhw2gU2CwAs5cmCYbRoD5UhNTKc+2AWhPjrOGk26j9leAAQDu6F3rDzHr6wAAAABJRU5ErkJggg==' );\r\n\tbackground-size: 100% 100%;\r\n\twidth: 20px;\r\n\theight: 12px;\r\n\r\n\tposition: absolute;\r\n\tright: 12px;\r\n\ttop: calc( 50% - 6px );\r\n\r\n\ttransition: transform 0.25s;\r\n}\r\n\r\n.mainmenu_contents .menuitem.submenu_active .chevron {\r\n\ttransform: rotate( 180deg );\r\n\t-webkit-transform: rotate( 180deg );\r\n}\r\n\r\n.menuitem_submenu_wrapper {\r\n\toverflow: hidden;\r\n\tbackground: #171a21;\r\n\r\n\ttransition: height 0.5s, background 0.25s, color 0.25s;\r\n}\r\n\r\n.menuitem_submenu_wrapper.active {\r\n\tbackground: #192533;\r\n}\r\n\r\n.menuitem_submenu_wrapper .submenuitem, .notification_submenu .popup_menu_item {\r\n\tdisplay: block;\r\n\tfont-size: 0.75em;\r\n\tcolor: #ffffff;\r\n\tpadding-left: 28px;\r\n}\r\n\r\n.notifications_item .notification_count_total_ctn {\r\n\tdisplay: inline-block;\r\n\tcolor: #ffffff;\r\n\tvertical-align: middle;\r\n\tline-height: 140%;\r\n\tpadding: 0 8px;\r\n\tfont-size: 0.75em;\r\n\tmargin-left: 0.4em;\r\n}\r\n\r\n.notifications_item .notification_envelope {\r\n\tdisplay: none;\r\n\tbackground-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAAA0CAYAAAAzMZ5zAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAvRJREFUeNrsWu2RmzAQXd+kAJVACaQDroNzB6QDXEFIBXYHXAe+VGB3AB34OiAdKNJlmVN8YD2BBBi8Mzv84UO8/XirXW2klPSQT/mm9PSA4VM28uEi/8mT0sMDhg95V/pdA7JTulX6Z8VgvGowlFYbI2JipQVf1yLaCX4ofTNDppFK6TOjtQap2CvernNIG2K7hYNxYDDe21im66GYKVksLER2t6JgY2FdDcZRabIQFtlyqHT+rw6ZFwuizwug5nPDIjfu0RFRkvwnufYUi74oreX9yR74t7S5mYwHT0qF5cFYaXknQNRsRBsYhfkQXb3kwj996wXi+iUzlBL8jy/GpQ5kUwDZbKZgHEFPbw1/Ghh7yczySjbUkGT5AJJXxAzySs3GGRzqBHwMySvEHjWFIEaLUKORgwWQvJKOHELew5oCLGAMakYp1TnxUyAXDUnNQb9PPReF5hXf1JyH9lAa6LYpuMDLQCBQAwzeXpAHqxXAQgUXTH0Tp5AjsRx5cuWSqQ3J+CcHoJF3RtJjEieP8Y0URyYwRUsolWzpCHyP9x14iLnML6X5CD2OvdLsXgZV58CjDT0dSEMNqkLI78Bznl2o6YBvD6m4a1+N1BpMOXTEHD3kAPQtXUQAQ7NXz98kHyxzAdlFGMyyZ4aIWtgn5ZqldqhOie+bnHaPYNGUDKxWXeqcSSpVdLfpzXIOW4UhVXHv3S5irVBtgAL0ymwMQNB4zgI3itDNnrNRyCGGY9BdT3I8ySWezL0Bgu42p5rsnXyujzxs1sSEDWbXJG/dGdNAOvXR/PHddEbWnaOA1OCwxyed+hY037XWLNSj+PHakAkYQpnsUbO4HIcYg059Cxr6mQlILANXfzPwlgTMh6XtSBXxCaNiAWfNoE7eLUA0AD9DtOkmPoq5bTt9aAMk5sN20UIP63Z23NoaRPnH4bNlgtF4ftGVBkwPifimhNYjX45qPhm9yXJlYDROUJrJVntIbDmruhbRo5MzQrurkr8CDACZX+ZRUnCU8wAAAABJRU5ErkJggg==');\r\n\tbackground-size: 100% 100%;\r\n\tbackground-position: top left;\r\n\twidth: 17px;\r\n\theight: 13px;\r\n\tvertical-align: middle;\r\n}\r\n\r\n.notifications_item .notification_count {\r\n\tvertical-align: middle;\r\n}\r\n\r\n.notifications_item .notification_count_total_ctn.has_notifications {\r\n\tcolor: #ffffff;\r\n\tbackground-color: #5c7e10;\r\n}\r\n.notifications_item .notification_count_total_ctn.has_notifications .notification_envelope {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.mainmenu .notification_submenu .notification_icon,\r\n.mainmenu .notification_submenu .header_notification_dropdown_seperator {\r\n\tdisplay: none;\r\n}\r\n\r\n.mainmenu .minor_menu_items .menuitem {\r\n\tcolor: #8a8a8a;\r\n\tborder: none;\r\n\tfont-size: 0.75em;\r\n}\r\n\r\n.mainmenu_footer_spacer {\r\n\theight: 160px;\r\n}\r\n\r\n.mainmenu_footer {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tfont-size: 10px;\r\n\twhite-space: normal;\r\n\tcolor: #8a8a8a;\r\n\tpadding: 0 12px 24px 12px;\r\n}\r\n\r\n.mainmenu_footer .mainmenu_valve_links > a {\r\n\tcolor: #8a8a8a;\r\n}\r\n\r\n.responsive_menu_notifications .popup_menu_item {\r\n\tfont-size: 16px;\r\n}\r\n\r\n.responsive_menu_notifications .popup_menu_item.active_inbox_item {\r\n\tcolor: #70ba24;\r\n}\r\n\r\n.responsive_local_menu_tab {\r\n\tdisplay: none;\r\n}\r\n\r\n.responsive_local_menu_tab.active {\r\n\tdisplay: block;\r\n\tbackground-color: rgba( 104, 157, 221, 0.6 );\r\n\tposition: fixed;\r\n\tright: 0;\r\n\ttop: 6px;\r\n\tborder-top-left-radius: 80px;\r\n\tborder-bottom-left-radius: 80px;\r\n\twidth: 30px;\r\n\theight: 50px;\r\n\tz-index: 12; /* behind overlay, on top of page content */\r\n\r\n\tbackground-image: url( 'https://store.st.dl.pinyuncloud.com/public/shared/images/responsive/local_menu_hamburger.png' );\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: 2px center;\r\n\tbackground-size: 110%;\r\n\r\n\ttransition: opacity 0.5s;\r\n\tbox-shadow: 0 0 30px 0 #6799e2;\r\n\r\n\tcursor: pointer;\r\n}\r\n\r\n.responsive_page_frame.with_header .responsive_local_menu_tab {\r\n\ttop: 68px;\r\n}\r\n\r\n.responsive_page_frame.mainmenu_active .responsive_local_menu_tab,\r\n.responsive_page_frame.localmenu_active .responsive_local_menu_tab\r\n{\r\n\topacity: 0;\r\n}\r\n\r\n.responsive_header {\r\n\tdisplay: none;\r\n\tbackground: #171a21;\r\n\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\ttext-align: center;\r\n\tz-index: 20;\r\n\tbox-shadow: 0 0 7px 0 rgba( 0, 0, 0, 0.75 );\r\n\r\n\toverflow: hidden;\r\n\r\n\tpadding: 13px 8px;\r\n}\r\n\r\n@media screen and ( max-height: 360px )\r\n{\r\n\t.responsive_header {\r\n\t\tposition: absolute;\r\n\t}\r\n}\r\n\r\n#responsive_menu_logo,\r\n#responsive_header_search_btn {\r\n\tposition: absolute;\r\n\ttop: 9px;\r\n\tcursor: pointer;\r\n\twidth: 36px;\r\n\theight: 31px;\r\n}\r\n\r\n#responsive_menu_logo {\r\n\tleft: 8px;\r\n}\r\n\r\n#responsive_header_search_btn {\r\n\tright: 8px;\r\n}\r\n\r\n.responsive_header_notification_badge_ctn {\r\n\tposition: absolute;\r\n\ttext-align: center;\r\n\tright: -26px;\r\n\twidth: 60px;\r\n\ttop: -4px;\r\n}\r\n\r\n.responsive_header_notification_badge {\r\n\tdisplay: inline-block;\r\n\tbackground: #ca2842;\r\n\tcolor: #ffffff;\r\n\tpadding: 0 4px;\r\n\tfont-size: 11px;\r\n\tline-height: 17px;\r\n\tborder-radius: 8px;\r\n}\r\n\r\n.responsive_header_notification_badge.no_notifications {\r\n\tdisplay: none;\r\n}\r\n\r\n.responsive_header .responsive_header_logo img {\r\n\tvertical-align: middle;\r\n}\r\n\r\n.responsive_header .responsive_header_logo a {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.localmenu_content {\r\n\tpadding: 16px;\r\n}\r\n\r\n/* China Mobile Footer */\r\n\r\n.mainmenu_socials_china {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.mainmenu_social_box {\r\n\tmargin-right: 25px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.mainmenu_line {\r\n\theight: 1px;\r\n\tbackground: #2f3138;\r\n\tmargin: 15px 0;\r\n}\r\n\r\n.mainmenu_links_china {\r\n\tmargin: 10px 0;\r\n\tline-height: 17px;\r\n}\r\n\r\n.mainmenu_footer a {\r\n\tcolor: #8a8a8a;\r\n}\r\n\r\n.mainmenu_footer a:hover {\r\n\tcolor: #FFFFFF;\r\n}\r\n\r\n.mainmenu_legal_china {\r\n\tfont-size: 9px;\r\n}\r\n\r\n.mainmenu_legal_pwlegal {\r\n\tmargin-top: 15px;\r\n}\r\n\r\n.mainmenu_logos_china {\r\n\tmargin-bottom: 15px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.mainmenu_china_wechat_logo {\r\n\twidth: 31px;\r\n\theight: 27px;\r\n}\r\n\r\n.mainmenu_china_weibo_logo {\r\n\twidth: 30px;\r\n\theight: 26px;\r\n}\r\n\r\n.mainmenu_china_pw_logo {\r\n\twidth: 68px;\r\n\theight: 23px;\r\n\tmargin-right: 10px;\r\n}\r\n\r\n.mainmenu_china_valve_logo {\r\n\twidth: 64px;\r\n\theight: 19px;\r\n}\r\n\r\n.mainmenu_footer_spacer.china_spacer {\r\n\theight: 330px;\r\n}\r\n\r\n\r\n@media screen and (max-width: 910px)\r\n{\r\n\t/* these elements end up getting moved, but hide them in the main page while content is loading */\r\n\thtml.responsive .responsive_page_content .responsive_local_menu {\r\n\t\tdisplay: none;\r\n\t}\r\n}\r\n\r\n/*\r\n.responsive_page_frame:not(.in_menu_drag) .responsive_header_content {\r\n\ttransition: left 0.5s, right 0.5s;\r\n\r\n}\r\n\r\n.responsive_page_frame.mainmenu_active .responsive_header_content {\r\n\tleft: 280px;\r\n\tright: -280px;\r\n}\r\n*/\r\n\r\n.responsive_menu_user_area {\r\n\tpadding: 24px 20px 12px 20px;\r\n\tbox-shadow: inset 0 -4px 8px 0 #000000;\r\n\r\n\tbackground: -webkit-linear-gradient( 343deg, #24313f 0%,#171a21 33%);\r\n\tbackground: linear-gradient( 107deg, #24313f 0%,#171a21 33%);\r\n}\r\n\r\n.responsive_menu_user_persona {\r\n\tline-height: 36px;\r\n\tpadding-bottom: 12px;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.responsive_menu_user_persona .playerAvatar {\r\n\tdisplay: inline-block;\r\n\tvertical-align: middle;\r\n\tmargin-right: 8px;\r\n}\r\n\r\n.responsive_change_language_select {\r\n\tfont-size: 24px;\r\n}\r\n\r\n.responsive_menu_cartwallet_area {\r\n\tfont-size: 16px;\r\n\tline-height: normal;\r\n\tmargin-top: 12px;\r\n}\r\n\r\n\r\n@media screen and (max-width: 910px)\r\n{\r\n\r\n\thtml.responsive div#global_header {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\thtml.responsive div.responsive_header {\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\thtml.responsive div.responsive_page_content {\r\n\t\tposition: relative;\r\n\t\tz-index: 10;\r\n\t}\r\n\r\n\thtml.responsive .responsive_page_frame.with_header div.responsive_page_content {\r\n\t\tpadding-top: 62px;\t/* the header overlaps this area */\r\n\t}\r\n\r\n\t/* we show a footer in the menu itself */\r\n\thtml.responsive div#footer, html.responsive div#footer_spacer {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\thtml.responsive .responsive_page_template_content {\r\n\t\tpadding-bottom: 120px;\r\n\t\tmin-height: calc( 100vh - 120px );\r\n\t}\r\n\r\n\thtml.responsive .perf_timing_area {\r\n\t\tmargin-top: -22px;\r\n\t\tposition: relative;\r\n\t\tz-index: 30;\r\n\t}\r\n\r\n\r\n}\r\n\r\n\thtml.responsive.touch div#global_header {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\thtml.responsive.touch div.responsive_header {\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\thtml.responsive.touch div.responsive_page_content {\r\n\t\tposition: relative;\r\n\t\tz-index: 10;\r\n\t}\r\n\r\n\thtml.responsive.touch .responsive_page_frame.with_header div.responsive_page_content {\r\n\t\tpadding-top: 62px;\t/* the header overlaps this area */\r\n\t}\r\n\r\n\t/* we show a footer in the menu itself */\r\n\thtml.responsive.touch div#footer, html.responsive.touch div#footer_spacer {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\thtml.responsive.touch .responsive_page_template_content {\r\n\t\tpadding-bottom: 120px;\r\n\t\tmin-height: calc( 100vh - 120px );\r\n\t}\r\n\r\n\thtml.responsive.touch .perf_timing_area {\r\n\t\tmargin-top: -22px;\r\n\t\tposition: relative;\r\n\t\tz-index: 30;\r\n\t}\r\n\r\n\r\n.perf_timing_area {\r\n\t/*display: none;*/\r\n\tmargin-bottom: 0;\r\n}\r\n\r\n.perf_timing_data {\r\n\twidth: auto;\r\n}\r\n\r\n.responsive_page_menu div.responsive_menu_only {\r\n\tdisplay: block;\r\n}\r\n\r\n.responsive_page_menu span.responsive_menu_only {\r\n\tdisplay: inline;\r\n}\r\n\r\n@media screen and (max-width: 910px)\r\n{\r\n\thtml.responsive div.nonresponsive_hidden {\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\thtml.responsive span.nonresponsive_hidden {\r\n\t\tdisplay: inline;\r\n\t}\r\n\r\n\thtml.responsive .responsive_hidden {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n    html.responsive div.responsive_tab_baseline {\r\n        display: none;\r\n    }\r\n}\r\n\r\n.responsive_tab_control select {\r\n\tcolor: #ffffff;\r\n\tbackground: rgba(0,0,0,0.3);\r\n\t/*background: #3a6d8b;*/\r\n    padding: unset;\r\n\tborder: none;\r\n\tfont-size: 16px;\r\n\theight: 24px;\r\n\tmax-width: 98%;\r\n\tmin-width: 250px;\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 200; /* thin */\r\n\r\n\t\t}\r\n\r\n.responsive_tab_control select option {\r\n\tbackground: #3a6d8b;\r\n}\r\n\r\n/* If the user has opted to \"view desktop site\", we add a button to the bottom of the footer\r\n\tto opt back in to the mobile site.  This is button repsonds to device width\r\n\tso that it's bigger on smaller screens and easier to tap when zoomed out */\r\n\r\nhtml.force_desktop body #footer .responsive_optin_link {\r\n\tdisplay: block;\r\n\ttext-align: center;\r\n\tpadding: 20px 0;\r\n}\r\n\r\nhtml.force_desktop body #footer_responsive_optin_spacer {\r\n\theight: 64px;\r\n}\r\n\r\n.responsive_optin_link .btn_medium > span {\r\n\tline-height: 150%;\r\n}\r\n\r\n@media screen and ( max-device-width: 640px )\r\n{\r\n\t.responsive_optin_link .btn_medium > span {\r\n\t\tfont-size: 22px;\r\n\t}\r\n\r\n\thtml.force_desktop body #footer_responsive_optin_spacer {\r\n\t\theight: 75px;\r\n\t}\r\n}\r\n\r\n@media screen and ( max-device-width: 500px )\r\n{\r\n\t.responsive_optin_link .btn_medium > span {\r\n\t\tfont-size: 26px;\r\n\t}\r\n\r\n\thtml.force_desktop body #footer .responsive_optin_link {\r\n\t\tpadding: 25px 0;\r\n\t}\r\n\r\n\thtml.force_desktop body #footer_responsive_optin_spacer {\r\n\t\theight: 91px;\r\n\t}\r\n}\r\n\r\n@media screen and ( max-device-width: 400px )\r\n{\r\n\t.responsive_optin_link .btn_medium > span {\r\n\t\tfont-size: 34px;\r\n\t}\r\n\r\n\thtml.force_desktop body #footer .responsive_optin_link {\r\n\t\tpadding: 40px 0;\r\n\t}\r\n\r\n\thtml.force_desktop body #footer_responsive_optin_spacer {\r\n\t\theight: 133px;\r\n\t}\r\n\r\n}\r\n\r\n@media print\r\n{\r\n\thtml .responsive_page_menu_ctn.mainmenu,\r\n\thtml .responsive_local_menu_tab,\r\n\thtml .responsive_page_menu_ctn.localmenu,\r\n\thtml .responsive_header {\r\n\t\tdisplay: none;\r\n\t}\r\n}\r\n\r\n.responsive_fixonscroll_ctn  {\r\n\tposition: fixed;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbackground: #171a21;\r\n\tbox-shadow: 0 2px 4px 0 #000000;\r\n\tz-index: 15;\r\n}","Steam — 顶级在线游戏平台_files/shared_responsive_adapter.js":"\"use strict\";\r\n\r\n// build our menu on init\r\njQuery( function($) {\r\n\tvar mqQueryMenuMode = window.matchMedia ? window.matchMedia(\"(max-width: 910px)\") : {matches: false};\r\n\r\n\tvar $HTML = $J('html');\r\n\twindow.UseTouchFriendlyMode = function() {\r\n\t\treturn $HTML.hasClass( 'responsive' ) && ( mqQueryMenuMode.matches || $HTML.hasClass('touch') );\r\n\t};\r\n\twindow.UseSmallScreenMode = function() {\r\n\t\treturn $HTML.hasClass( 'responsive' ) && mqQueryMenuMode.matches;\r\n\t};\r\n\r\n\r\n\t// main menu\r\n\r\n\tvar $Menu = $('#responsive_page_menu');\r\n\tvar $Frame = $('.responsive_page_frame');\r\n\tvar $ContentCtn = $('.responsive_page_content' );\r\n\tvar $ContentOverlay = $('.responsive_page_content_overlay');\r\n\r\n\tvar fnResetMenuState = function() {\r\n\t\t$Frame.removeClass( 'mainmenu_active');\r\n\t\t$Frame.removeClass('localmenu_active');\r\n\t\t$J(document.body).removeClass( 'overflow_hidden' );\r\n\r\n\t\t$ContentOverlay.off( 'click.ReponsiveMenuDismiss');\r\n\t};\r\n\r\n\t$J(document).on('click.OnClickDismissMenu', '.responsive_OnClickDismissMenu', fnResetMenuState );\r\n\r\n\tvar strLastExpandedSubmenu = WebStorage.GetLocalSession( 'responsiveMenuLastSubmenu' );\r\n\r\n\tvar fnMakeExpandableMenuItem = function( $MenuItem, $Submenu )\r\n\t{\r\n\t\t$MenuItem.append( $J('<div/>', {'class': 'chevron' } ) );\r\n\r\n\r\n\t\tvar $SubmenuWrapper = $J('<div/>', {'class': 'menuitem_submenu_wrapper' });\r\n\t\t$MenuItem.after( $SubmenuWrapper.append( $Submenu ) );\r\n\t\t$Submenu.wrap( $('<div/>', {'class': 'inner_borders' } ) );\r\n\r\n\t\t// if this was the last used submenu, start with it expanded\r\n\t\tif ( strLastExpandedSubmenu && strLastExpandedSubmenu == $Submenu.data('submenuid') )\r\n\t\t{\r\n\t\t\t$SubmenuWrapper.css( 'height', $Submenu.height() + 'px' );\r\n\t\t\t$MenuItem.addClass( 'submenu_active' );\r\n\t\t\t$SubmenuWrapper.addClass('active');\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t$SubmenuWrapper.css( 'height', 0 );\r\n\t\t}\r\n\r\n\t\t$Submenu.show();\r\n\r\n\t\t$MenuItem.click( function(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tif ( $SubmenuWrapper.hasClass('active' ) )\r\n\t\t\t{\r\n\t\t\t\t$SubmenuWrapper.removeClass('active' ).css('height',0);\r\n\t\t\t\t$MenuItem.removeClass('submenu_active');\r\n\t\t\t\tWebStorage.SetLocalSession( 'responsiveMenuLastSubmenu', null );\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t$SubmenuWrapper.siblings( '.menuitem_submenu_wrapper.active' ).css('height',0 ).removeClass('active');\r\n\t\t\t\t$MenuItem.siblings('.menuitem').removeClass('submenu_active');\r\n\t\t\t\t$SubmenuWrapper.css( 'height', $Submenu.height() + 'px' );\r\n\t\t\t\t$MenuItem.addClass( 'submenu_active' );\r\n\t\t\t\t$SubmenuWrapper.addClass('active');\r\n\t\t\t\tWebStorage.SetLocalSession( 'responsiveMenuLastSubmenu', $Submenu.data('submenuid') );\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tvar fnBuildMenuEvents = function( $Menu, strMenuName, fnFirstTimeInitialization )\r\n\t{\r\n\t\tvar strActiveClass = strMenuName + '_active';\r\n\t\tvar fnDismissMenu = function() {\r\n\t\t\t$ContentCtn.off( 'click.ReponsiveMenuDismiss');\r\n\t\t\t$Frame.removeClass(strActiveClass);\r\n\t\t\t$J(document.body).removeClass('overflow_hidden' );\r\n\r\n\t\t\twindow.setTimeout( function() {\r\n\t\t\t\tif ( !$Frame.hasClass('mainmenu_active') && !$Frame.hasClass('localmenu_active') )\r\n\t\t\t\t{\r\n\t\t\t\t\tfnResetMenuState();\r\n\t\t\t\t}\r\n\t\t\t}, 500 );\r\n\t\t};\r\n\r\n\t\tvar bInitialized = false;\r\n\t\tvar fnActivateMenu = function() {\r\n\t\t\tif ( !bInitialized )\r\n\t\t\t{\r\n\t\t\t\tfnFirstTimeInitialization && fnFirstTimeInitialization();\r\n\t\t\t\tbInitialized = true;\r\n\t\t\t}\r\n\r\n\t\t\tif ( $Frame.hasClass( strActiveClass ) )\r\n\t\t\t{\r\n\t\t\t\tfnDismissMenu();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t$J(document.body).addClass('overflow_hidden' );\r\n\t\t\t\t$Menu.removeClass('secondary_active');\r\n\t\t\t\t$Frame.addClass( strActiveClass );\r\n\t\t\t\t$ContentOverlay.one( 'click.ResponsiveMenuDismiss', function() {\r\n\t\t\t\t\tfnDismissMenu();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn { fnActivateMenu: fnActivateMenu, fnDismissMenu: fnDismissMenu };\r\n\t};\r\n\r\n\tvar fnInitMainMenu = function() {\r\n\t\t$('.responsive_page_menu' ).find( '.supernav').each( function() {\r\n\t\t\tvar $Element = $(this);\r\n\t\t\t$Element.attr('href','');\r\n\t\t\tvar strSubmenuSelector = $Element.data('tooltip-content');\r\n\t\t\tvar $Submenu = $Element.parent().find(strSubmenuSelector);\r\n\t\t\tif ( $Submenu.length )\r\n\t\t\t{\r\n\t\t\t\tfnMakeExpandableMenuItem( $Element, $Submenu );\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tvar $NotificationItem = $Menu.find( '.notifications_item' );\r\n\t\tvar $NotificationSubmenu = $Menu.find('.notification_submenu');\r\n\t\tif ( $NotificationItem.length && $NotificationSubmenu.length )\r\n\t\t{\r\n\t\t\tfnMakeExpandableMenuItem( $NotificationItem, $NotificationSubmenu );\r\n\t\t}\r\n\t\tResponsive_BuildChangeLanguageOption( $Menu.find( '.change_language_action' ) );\r\n\t};\r\n\r\n\tvar MainMenuEvents = null;\r\n\tif ( $Menu.length )\r\n\t{\r\n\t\tMainMenuEvents = fnBuildMenuEvents( $Menu, 'mainmenu', fnInitMainMenu );\r\n\r\n\r\n\t\t$('#responsive_menu_logo' ).click( function( e ) {\r\n\t\t\tMainMenuEvents.fnActivateMenu();\r\n\t\t} );\r\n\t}\r\n\r\n\r\n\t// local (page-specific) menu\r\n\r\n\tvar $LocalMenuContent = $('.responsive_local_menu');\r\n\tvar $LocalMenu = null;\r\n\tvar LocalMenuEvents = null;\r\n\tif ( $LocalMenuContent.length )\r\n\t{\r\n\t\tvar bLocalMenuEnabed = false;\r\n\t\tvar rgMenuContents = [];\r\n\r\n\t\tvar fnInitLocalMenu = function() {\r\n\t\t\tif ( rgMenuContents.length )\r\n\t\t\t\treturn;\r\n\r\n\t\t\tfor ( var i = 0; i < $LocalMenuContent.length; i++ )\r\n\t\t\t{\r\n\t\t\t\tvar $LocalMenuElement = $($LocalMenuContent[i] ).wrap( $J('<div/>', {'class': 'responsive_local_menu_placeholder' } ) );\r\n\t\t\t\tvar $LocalMenuWrapper = $($LocalMenuContent[i]).parent();\r\n\t\t\t\trgMenuContents.push( {\r\n\t\t\t\t\twrapper: $LocalMenuWrapper,\r\n\t\t\t\t\tcontent: $LocalMenuElement\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$LocalMenu = $J('#responsive_page_local_menu');\r\n\t\tvar $Affordance = $J('.responsive_local_menu_tab');\r\n\r\n\t\tLocalMenuEvents = fnBuildMenuEvents( $LocalMenu, 'localmenu' );\r\n\r\n\t\t$Affordance.click( function( e ) {\r\n\t\t\tLocalMenuEvents.fnActivateMenu();\r\n\t\t});\r\n\r\n\t\t$(window ).on( 'Responsive_SmallScreenModeToggled.ReponsiveLocalMenu', function() {\r\n\t\t\tvar bShouldUseResponsiveMenu = UseSmallScreenMode();\r\n\t\t\tif ( bLocalMenuEnabed != bShouldUseResponsiveMenu )\r\n\t\t\t{\r\n\t\t\t\tif ( bShouldUseResponsiveMenu )\r\n\t\t\t\t{\r\n\t\t\t\t\t$Affordance.addClass( 'active' );\r\n\t\t\t\t\tfnInitLocalMenu();\r\n\t\t\t\t\t$LocalMenu.find('.localmenu_content' ).append( $LocalMenuContent );\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tfnResetMenuState();\r\n\t\t\t\t\t$Affordance.removeClass('active');\r\n\t\t\t\t\tfor ( var i = 0; i < rgMenuContents.length; i++ )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trgMenuContents[i].wrapper.append( rgMenuContents[i].content );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbLocalMenuEnabed = bShouldUseResponsiveMenu;\r\n\t\t\t}\r\n\t\t} ).trigger( 'Responsive_SmallScreenModeToggled.ReponsiveLocalMenu');\r\n\t}\r\n\r\n\tResponsive_InitMenuSwipes( $, $Menu, $LocalMenu, MainMenuEvents, LocalMenuEvents );\r\n\r\n\tResponsive_InitFixOnScroll( $ );\r\n\r\n\tResponsive_InitTouchDetection( $ );\r\n\r\n\tResponsive_InitTabSelect( $ );\r\n\r\n\tResponsive_InitResponsiveToggleEvents( $ );\r\n\r\n\tResponsive_InitJQPlotHooks( $ );\r\n});\r\n\r\nfunction Responsive_InitMenuSwipes( $, $Menu, $LocalMenu, MainMenuEvents, LocalMenuEvents )\r\n{\r\n\tif ( !MainMenuEvents && !LocalMenuEvents )\r\n\t\treturn;\r\n\r\n\tvar $Frame = $('.responsive_page_frame');\r\n\t// set up touch drag events\r\n\tvar bInMainMenuDrag = false;\r\n\tvar bInLocalMenuDrag = false;\r\n\tvar bInDismissMenuDrag = false;\r\n\tvar bLooksLikeSwipe = false;\r\n\tvar nDragMenuWidth = 0;\r\n\r\n\tvar nCurDragOffset = 0;\r\n\tvar nTouchStartPageX = 0;\t// page/CSS coordinates because that's how we measure the menu width\r\n\tvar nTouchStartPageY = 0;\r\n\r\n\tvar fnGetSingleTouch = function(e) {\r\n\t\tvar TouchEvent = e.originalEvent;\r\n\t\tvar rgTouches = TouchEvent ? TouchEvent.touches : null;\r\n\t\tif ( !rgTouches || rgTouches.length != 1 )\r\n\t\t\treturn null;\r\n\t\treturn rgTouches[0];\r\n\t};\r\n\tvar fnCancelDrag = function()\r\n\t{\r\n\t\t$Frame.removeClass('in_menu_drag');\r\n\t\tif ( bLooksLikeSwipe )\r\n\t\t{\r\n\t\t\tvar DragMenuEvents = bInMainMenuDrag ? MainMenuEvents : LocalMenuEvents;\r\n\t\t\tvar $DragMenu = bInMainMenuDrag ? $Menu : $LocalMenu;\r\n\t\t\t$DragMenu.parents('.responsive_page_menu_ctn' ).css( 'left', '' ).css( 'right', '' );\r\n\t\t\tif ( ( !bInDismissMenuDrag && nCurDragOffset < nDragMenuWidth / 2 ) ||\r\n\t\t\t\t( bInDismissMenuDrag && nCurDragOffset > nDragMenuWidth / 2 ) )\r\n\t\t\t{\r\n\t\t\t\tDragMenuEvents.fnDismissMenu();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tbInLocalMenuDrag = bInMainMenuDrag = bLooksLikeSwipe = bInDismissMenuDrag = false;\r\n\t};\r\n\t$(window ).on('touchstart.ResponsiveMenuActivate', function(e) {\r\n\t\tif ( !UseSmallScreenMode() )\r\n\t\t\treturn;\r\n\r\n\t\tvar Touch = fnGetSingleTouch(e);\r\n\t\tif ( !Touch )\r\n\t\t\treturn;\r\n\r\n\t\tif ( $Frame.hasClass('mainmenu_active') )\r\n\t\t{\r\n\t\t\tif ( Touch.clientX > $Menu.width() * 0.9 )\r\n\t\t\t{\r\n\t\t\t\tbInMainMenuDrag = true;\r\n\t\t\t\tbInDismissMenuDrag = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if ( $Frame.hasClass('localmenu_active') )\r\n\t\t{\r\n\t\t\tif ( Touch.clientX < ( window.innerWidth - $LocalMenu.width() * 0.9 ) )\r\n\t\t\t{\r\n\t\t\t\tbInLocalMenuDrag = true;\r\n\t\t\t\tbInDismissMenuDrag = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tvar nClientXAsPct = 100 * Touch.clientX / window.innerWidth;\r\n\t\t\tbInDismissMenuDrag = false;\r\n\t\t\tif ( nClientXAsPct > 93 && LocalMenuEvents )\r\n\t\t\t\tbInLocalMenuDrag = true;\r\n\t\t\telse if ( nClientXAsPct < 7 && MainMenuEvents )\r\n\t\t\t\tbInMainMenuDrag = true;\r\n\t\t}\r\n\r\n\t\tif ( bInLocalMenuDrag || bInMainMenuDrag )\r\n\t\t{\r\n\t\t\tbLooksLikeSwipe = false;\r\n\t\t\tnTouchStartPageX = Touch.pageX;\r\n\t\t\tnTouchStartPageY = Touch.pageY;\r\n\t\t}\r\n\t});\r\n\t$(window ).on('touchmove.ResponsiveMenuActive', function(e) {\r\n\t\tif ( !bInLocalMenuDrag && !bInMainMenuDrag )\r\n\t\t\treturn;\r\n\r\n\t\tvar Touch = fnGetSingleTouch(e);\r\n\t\tif ( !Touch )\r\n\t\t\treturn;\r\n\t\tvar nDeltaPageX = Touch.pageX - nTouchStartPageX;\r\n\t\tvar nDeltaPageY = Touch.pageY - nTouchStartPageY;\r\n\r\n\t\tif ( ( bInLocalMenuDrag && !bInDismissMenuDrag ) || ( bInMainMenuDrag && bInDismissMenuDrag ) )\r\n\t\t\tnDeltaPageX = -nDeltaPageX;\r\n\r\n\t\tvar DragMenuEvents = bInMainMenuDrag ? MainMenuEvents : LocalMenuEvents;\r\n\t\tvar $DragMenu = bInMainMenuDrag ? $Menu : $LocalMenu;\r\n\r\n\t\tif ( !bLooksLikeSwipe && nDeltaPageX > 25 && nDeltaPageX > nDeltaPageY * 2 )\r\n\t\t{\r\n\t\t\t// horizontal drag\r\n\t\t\t$Frame.addClass('in_menu_drag');\r\n\t\t\tif ( !bInDismissMenuDrag )\r\n\t\t\t\tDragMenuEvents.fnActivateMenu();\r\n\t\t\t//$Frame.addClass( bInLocalMenuDrag ? 'localmenu_active' : 'mainmenu_active' );\r\n\t\t\tnDragMenuWidth = $DragMenu.width();\r\n\t\t\tbLooksLikeSwipe = true;\r\n\t\t}\r\n\t\telse if ( nDeltaPageY > 2 * nDeltaPageX )\r\n\t\t{\r\n\t\t\t// looks like scrolling?\r\n\t\t\tfnCancelDrag();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\r\n\t\tif ( bLooksLikeSwipe )\r\n\t\t{\r\n\t\t\tnCurDragOffset = Math.max( Math.min( nDeltaPageX, nDragMenuWidth ), 0 );\r\n\r\n\t\t\tvar nOffset = bInDismissMenuDrag ? -nCurDragOffset : -(nDragMenuWidth - nCurDragOffset);\r\n\r\n\t\t\t$DragMenu.parents('.responsive_page_menu_ctn' ).css( bInLocalMenuDrag ? 'right' : 'left', nOffset + 'px' );\r\n\t\t}\r\n\t});\r\n\t$(window ).on('touchend.ResponsiveMenuActivate touchcancel.ResponsiveMenuActivate', function(e) {\r\n\t\tfnCancelDrag();\r\n\t});\r\n}\r\n\r\nfunction Responsive_InitTouchDetection( $ )\r\n{\r\n\tvar $HTML= $J('html');\r\n\tif ( !$HTML.hasClass('touch') && $HTML.hasClass('responsive') )\r\n\t{\r\n\t\t$J(window ).one('touchstart', function() {\r\n\t\t\t// user is on a touch device - enable touch-friendly accessors and\r\n\t\t\t// remember for the rest of this session\r\n\r\n\t\t\t$HTML.addClass('touch');\r\n\t\t\tV_SetCookie( \"strResponsiveViewPrefs\", 'touch', 0 );\r\n\t\t} );\r\n\t}\r\n}\r\n\r\nfunction Responsive_InitTabSelect( $ )\r\n{\r\n\t// handle any tab dropdowns\r\n\t$J(document).on('change.ResponsiveTabSelect', 'select.responsive_tab_select', function() {\r\n\t\tvar url = $J(this ).val();\r\n\t\tif ( url != window.location )\r\n\t\t\twindow.location = url;\r\n\t});\r\n}\r\n\r\nfunction Responsive_InitFixOnScroll($)\r\n{\r\n\tvar $Ctn = $J('.responsive_fixonscroll_ctn');\r\n\tvar $Elements = $J('.responsive_fixonscroll');\r\n\tif ( $Elements.length )\r\n\t{\r\n\t\tvar nCtnTop = -1;\r\n\t\tvar nCtnHeight = 0;\r\n\r\n\t\t$J(window).on('scroll.ResponsiveFixOnScroll resize.ResponsiveFixOnScroll', function() {\r\n\t\t\tvar nHeaderOffset = GetResponsiveHeaderFixedOffsetAdjustment();\r\n\t\t\tvar nScrollTop = $J(window ).scrollTop() + nHeaderOffset + nCtnHeight;\r\n\r\n\t\t\tif ( nHeaderOffset != nCtnTop )\r\n\t\t\t{\r\n\t\t\t\tnCtnTop = nHeaderOffset;\r\n\t\t\t\t$Ctn.css( 'top', nCtnTop + 'px' );\r\n\t\t\t}\r\n\t\t\t$Elements.each( function() {\r\n\t\t\t\tvar $Element = $J(this);\r\n\t\t\t\tif ( !$Element.is(':visible') )\r\n\t\t\t\t{\r\n\t\t\t\t\tif ( $Element.hasClass('in_fixed_ctn') && $Element.data('originalContents') )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$Element.append( $Element.data('originalContents') );\r\n\t\t\t\t\t\t$Element.removeClass('in_fixed_ctn');\r\n\t\t\t\t\t\t$Element.css('height', '');\r\n\t\t\t\t\t\tnCtnHeight = $Ctn.height();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar nElementTop = $Element.offset().top;\r\n\t\t\t\tif ( nElementTop > nScrollTop )\r\n\t\t\t\t{\r\n\t\t\t\t\tif ( $Element.hasClass('in_fixed_ctn') )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$Element.append( $Element.data('originalContents') );\r\n\t\t\t\t\t\t$Element.removeClass('in_fixed_ctn');\r\n\t\t\t\t\t\t$Element.css('height', '');\r\n\t\t\t\t\t\tnCtnHeight = $Ctn.height();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tif ( !$Element.hasClass('in_fixed_ctn') )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$Element.css('height', $Element.height() + 'px' );\r\n\t\t\t\t\t\t$Element.data( 'originalContents', $Element.children() );\r\n\t\t\t\t\t\t$Ctn.append( $Element.children() );\r\n\t\t\t\t\t\t$Element.addClass( 'in_fixed_ctn' );\r\n\t\t\t\t\t\tnCtnHeight = $Ctn.height();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} );\r\n\t}\r\n}\r\n\r\nfunction Responsive_BuildChangeLanguageOption( $MenuItem )\r\n{\r\n\t$MenuItem.click( function() {\r\n\t\tvar $LanguageForm = $J('<form/>', {'class': 'responsive_change_language_form' } );\r\n\t\tvar $SelectBox = $J('<select/>', {'class': 'responsive_change_language_select' } );\r\n\t\t$SelectBox.append(\r\n\t\t\t$J('<option/>', {value: \"schinese\"} ).text( '简体中文' )\r\n\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"tchinese\"} ).text( '繁體中文（繁体中文）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"japanese\"} ).text( '日本語（日语）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"koreana\"} ).text( '한국어（韩语）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"thai\"} ).text( 'ไทย（泰语）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"bulgarian\"} ).text( 'български（保加利亚语）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"czech\"} ).text( 'Čeština（捷克语）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"danish\"} ).text( 'Dansk（丹麦语）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"german\"} ).text( 'Deutsch（德语）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"english\"} ).text( 'English（英语）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"spanish\"} ).text( 'Español-España（西班牙语 - 西班牙）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"latam\"} ).text( 'Español - Latinoamérica（西班牙语-拉丁美洲）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"greek\"} ).text( 'Ελληνικά（希腊语）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"french\"} ).text( 'Français（法语）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"italian\"} ).text( 'Italiano（意大利语）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"hungarian\"} ).text( 'Magyar（匈牙利语）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"dutch\"} ).text( 'Nederlands（荷兰语）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"norwegian\"} ).text( 'Norsk（挪威语）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"polish\"} ).text( 'Polski（波兰语）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"portuguese\"} ).text( 'Português（葡萄牙语）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"brazilian\"} ).text( 'Português-Brasil（葡萄牙语-巴西）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"romanian\"} ).text( 'Română（罗马尼亚语）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"russian\"} ).text( 'Русский（俄语）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"finnish\"} ).text( 'Suomi（芬兰语）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"swedish\"} ).text( 'Svenska（瑞典语）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"turkish\"} ).text( 'Türkçe（土耳其语）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"vietnamese\"} ).text( 'Tiếng Việt（越南语）' )\r\n\t\t\t);\r\n\t\t\t\t\t$SelectBox.append(\r\n\t\t\t\t$J('<option/>', {value: \"ukrainian\"} ).text( 'Українська（乌克兰语）' )\r\n\t\t\t);\r\n\t\t\r\n\t\tvar Modal = null;\r\n\r\n\t\tvar fnChangeLanguage = function() {\r\n\t\t\tif ( $SelectBox.val() != \"schinese\" )\r\n\t\t\t\tChangeLanguage( $SelectBox.val() );\r\n\t\t\tModal && Modal.Dismiss();\r\n\t\t};\r\n\r\n\t\t$LanguageForm.submit( function(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tfnChangeLanguage();\r\n\t\t});\r\n\t\t$SelectBox.change( fnChangeLanguage );\r\n\r\n\t\t$LanguageForm.append( $SelectBox );\r\n\t\t$LanguageForm.append( $J('<input/>', {type: 'submit'} ).hide() );\r\n\t\tModal = ShowConfirmDialog( '更改语言', $LanguageForm, '更改语言' ).done( fnChangeLanguage );\r\n\t\t$SelectBox.focus();\r\n\t});\r\n}\r\n\r\nfunction Responsive_RequestDesktopView()\r\n{\r\n\t// we can dynamically switch, but this doesn't trigger the phone to zoom out and some elements don't resize right\r\n\t/*\r\n\t$J('html' ).removeClass('responsive touch' ).addClass('force_desktop');\r\n\t$J('meta[name=viewport]' ).attr('value', '' );\r\n\t$J(window ).trigger('resize');\r\n\t*/\r\n\tResponsive_UpdateResponsivePrefs( 'desktop', true );\r\n\twindow.location.reload();\r\n}\r\n\r\nfunction Responsive_RequestMobileView()\r\n{\r\n\t/*\r\n\t$J('html' ).removeClass('force_desktop' ).addClass('responsive');\r\n\t$J('meta[name=viewport]' ).attr('value', 'width=device-width,initial-scale=1' );\r\n\t$J(window ).trigger('resize');\r\n\t*/\r\n\tResponsive_UpdateResponsivePrefs( 'desktop', false );\r\n\twindow.location.reload();\r\n}\r\n\r\n\r\nfunction Responsive_UpdateResponsivePrefs( strFlag, bEnabled )\r\n{\r\n\tif ( bEnabled )\r\n\t{\r\n\t\tV_SetCookie( \"strResponsiveViewPrefs\", strFlag, 365 );\r\n\t}\r\n\telse\r\n\t{\r\n\t\tV_SetCookie( \"strResponsiveViewPrefs\", null, -1 );\r\n\t}\r\n}\r\n\r\nfunction Responsive_InitResponsiveToggleEvents( $ )\r\n{\r\n\t// initially undefined, so we will fire the events at at start\r\n\tvar bTouchFriendly, bSmallScreen;\r\n\r\n\t$(window).on('resize.ResponsiveToggle', function() {\r\n\t\tif ( window.UseTouchFriendlyMode() !== bTouchFriendly )\r\n\t\t{\r\n\t\t\tbTouchFriendly = window.UseTouchFriendlyMode();\r\n\t\t\t$(window).trigger('Responsive_TouchFriendlyModeToggled');\r\n\t\t}\r\n\r\n\t\tif ( window.UseSmallScreenMode() !== bSmallScreen )\r\n\t\t{\r\n\t\t\tbSmallScreen = window.UseSmallScreenMode();\r\n\t\t\t$(window).trigger('Responsive_SmallScreenModeToggled');\r\n\t\t}\r\n\t} ).trigger( 'resize.ResponsiveToggle' );\r\n}\r\n\r\nfunction Responsive_ReparentItemsInResponsiveMode( strItemSelector, $Ctn )\r\n{\r\n\tvar fnReparentItems = function() {\r\n\t\tvar bSmallScreenMode = window.UseSmallScreenMode && window.UseSmallScreenMode();\r\n\r\n\t\tvar $MoveElements = $J(strItemSelector);\r\n\t\t$MoveElements.each( function() {\r\n\t\t\tvar $Element = $J(this);\r\n\t\t\tvar $OriginalParent = $Element.data('originalParent');\r\n\t\t\tif ( !$OriginalParent )\r\n\t\t\t{\r\n\t\t\t\t$Element.wrap( $J('<div/>') );\r\n\t\t\t\t$OriginalParent = $Element.parent();\r\n\t\t\t\t$Element.data('originalParent', $OriginalParent );\r\n\t\t\t}\r\n\r\n\t\t\tif ( bSmallScreenMode )\r\n\t\t\t{\r\n\t\t\t\t$Ctn.append( $Element );\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t$OriginalParent.append( $Element );\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t};\r\n\r\n\tfnReparentItems();\r\n\t$J(window ).on('Responsive_SmallScreenModeToggled', fnReparentItems );\r\n}\r\n\r\nfunction Responsive_InitJQPlotHooks( $ )\r\n{\r\n\tif ( $.jqplot )\r\n\t{\r\n\t\t$.jqplot.postInitHooks.push( function( name, data, options ) {\r\n\t\t\tvar jqplot = this;\r\n\t\t\tvar bWasInResponsiveMode;\r\n\r\n\t\t\t//replotting is very expensive, so we try to delay if the user is actively resizing\r\n\t\t\tvar iReplotInterval;\r\n\t\t\t$J(window).resize( function() {\r\n\t\t\t\tif ( ( UseSmallScreenMode() || bWasInResponsiveMode ) )\r\n\t\t\t\t{\r\n\t\t\t\t\tif ( iReplotInterval )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// we will reschedule for 100ms from now\r\n\t\t\t\t\t\twindow.clearInterval( iReplotInterval );\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t//interval hasn't been scheduled yet, must be the first resize.\r\n\t\t\t\t\t\t// set overflow to hidden so the plot doesn't stretch the page while resizing\r\n\t\t\t\t\t\tjqplot.target.css( 'overflow', 'hidden' );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tiReplotInterval = window.setTimeout( function() {\r\n\t\t\t\t\t\tiReplotInterval = null;\r\n\r\n\t\t\t\t\t\tjqplot.replot();\r\n\r\n\t\t\t\t\t\tjqplot.target.css( 'overflow', '' );\r\n\t\t\t\t\t}, 100 );\r\n\r\n\t\t\t\t\tbWasInResponsiveMode = UseSmallScreenMode();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}","Steam — 顶级在线游戏平台_files/slick.css":"\r\n/* Slider */\r\n.slick-slider\r\n{\r\n    position: relative;\r\n\r\n    display: block;\r\n\r\n    -moz-box-sizing: border-box;\r\n         box-sizing: border-box;\r\n\r\n    -webkit-user-select: none;\r\n       -moz-user-select: none;\r\n        -ms-user-select: none;\r\n            user-select: none;\r\n\r\n    -webkit-touch-callout: none;\r\n    -khtml-user-select: none;\r\n    -ms-touch-action: pan-y;\r\n        touch-action: pan-y;\r\n    -webkit-tap-highlight-color: transparent;\r\n}\r\n\r\n.slick-list\r\n{\r\n    position: relative;\r\n\r\n    display: block;\r\n    overflow: hidden;\r\n\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n.slick-list:focus\r\n{\r\n    outline: none;\r\n}\r\n.slick-list.dragging\r\n{\r\n    cursor: pointer;\r\n    cursor: hand;\r\n}\r\n\r\n.slick-slider .slick-track,\r\n.slick-slider .slick-list\r\n{\r\n    -webkit-transform: translate3d(0, 0, 0);\r\n       -moz-transform: translate3d(0, 0, 0);\r\n        -ms-transform: translate3d(0, 0, 0);\r\n         -o-transform: translate3d(0, 0, 0);\r\n            transform: translate3d(0, 0, 0);\r\n}\r\n\r\n.slick-track\r\n{\r\n    position: relative;\r\n    top: 0;\r\n    left: 0;\r\n\r\n    display: block;\r\n}\r\n.slick-track:before,\r\n.slick-track:after\r\n{\r\n    display: table;\r\n\r\n    content: '';\r\n}\r\n.slick-track:after\r\n{\r\n    clear: both;\r\n}\r\n.slick-loading .slick-track\r\n{\r\n    visibility: hidden;\r\n}\r\n\r\n.slick-slide\r\n{\r\n    display: none;\r\n    float: left;\r\n\r\n    height: 100%;\r\n    min-height: 1px;\r\n}\r\n[dir='rtl'] .slick-slide\r\n{\r\n    float: right;\r\n}\r\n.slick-slide img\r\n{\r\n/*    display: block; */\r\n}\r\n.slick-slide.slick-loading img\r\n{\r\n    display: none;\r\n}\r\n.slick-slide.dragging img\r\n{\r\n    pointer-events: none;\r\n}\r\n.slick-initialized .slick-slide\r\n{\r\n    display: block;\r\n}\r\n.slick-loading .slick-slide\r\n{\r\n    visibility: hidden;\r\n}\r\n.slick-vertical .slick-slide\r\n{\r\n    display: block;\r\n\r\n    height: auto;\r\n\r\n    border: 1px solid transparent;\r\n}","Steam — 顶级在线游戏平台_files/slick.js":"/*\r\n     _ _      _       _\r\n ___| (_) ___| | __  (_)___\r\n/ __| | |/ __| |/ /  | / __|\r\n\\__ \\ | | (__|   < _ | \\__ \\\r\n|___/_|_|\\___|_|\\_(_)/ |___/\r\n                   |__/\r\n\r\n Version: 1.5.0\r\n  Author: Ken Wheeler\r\n Website: http://kenwheeler.github.io\r\n    Docs: http://kenwheeler.github.io/slick\r\n    Repo: http://github.com/kenwheeler/slick\r\n  Issues: http://github.com/kenwheeler/slick/issues\r\n\r\n */\r\n/* global window, document, define, jQuery, setInterval, clearInterval */\r\n(function(factory) {\r\n    'use strict';\r\n    if (typeof define === 'function' && define.amd) {\r\n        define(['jquery'], factory);\r\n    } else if (typeof exports !== 'undefined') {\r\n        module.exports = factory(require('jquery'));\r\n    } else {\r\n        factory(jQuery);\r\n    }\r\n\r\n}(function($) {\r\n    'use strict';\r\n    var Slick = window.Slick || {};\r\n\r\n    Slick = (function() {\r\n\r\n        var instanceUid = 0;\r\n\r\n        function Slick(element, settings) {\r\n\r\n            var _ = this,\r\n                dataSettings, responsiveSettings, breakpoint;\r\n\r\n            _.defaults = {\r\n                accessibility: true,\r\n                adaptiveHeight: false,\r\n                appendArrows: $(element),\r\n                appendDots: $(element),\r\n                arrows: true,\r\n                asNavFor: null,\r\n                prevArrow: '<button type=\"button\" data-role=\"none\" class=\"slick-prev\" aria-label=\"previous\">Previous</button>',\r\n                nextArrow: '<button type=\"button\" data-role=\"none\" class=\"slick-next\" aria-label=\"next\">Next</button>',\r\n                autoplay: false,\r\n                autoplaySpeed: 3000,\r\n                centerMode: false,\r\n                centerPadding: '50px',\r\n                cssEase: 'ease',\r\n                customPaging: function(slider, i) {\r\n                    return '<button type=\"button\" data-role=\"none\">' + (i + 1) + '</button>';\r\n                },\r\n                dots: false,\r\n                dotsClass: 'slick-dots',\r\n                draggable: true,\r\n                easing: 'linear',\r\n                edgeFriction: 0.35,\r\n                fade: false,\r\n                focusOnSelect: false,\r\n                infinite: true,\r\n                initialSlide: 0,\r\n                lazyLoad: 'ondemand',\r\n                mobileFirst: false,\r\n                pauseOnHover: true,\r\n                pauseOnDotsHover: false,\r\n                respondTo: 'window',\r\n                responsive: null,\r\n                rows: 1,\r\n                rtl: false,\r\n                slide: '',\r\n                slidesPerRow: 1,\r\n                slidesToShow: 1,\r\n                slidesToScroll: 1,\r\n                speed: 500,\r\n                swipe: true,\r\n                swipeToSlide: false,\r\n                touchMove: true,\r\n                touchThreshold: 5,\r\n                useCSS: true,\r\n                variableWidth: false,\r\n                vertical: false,\r\n                verticalSwiping: false,\r\n                waitForAnimate: true\r\n            };\r\n\r\n            _.initials = {\r\n                animating: false,\r\n                dragging: false,\r\n                autoPlayTimer: null,\r\n                currentDirection: 0,\r\n                currentLeft: null,\r\n                currentSlide: 0,\r\n                direction: 1,\r\n                $dots: null,\r\n                listWidth: null,\r\n                listHeight: null,\r\n                loadIndex: 0,\r\n                $nextArrow: null,\r\n                $prevArrow: null,\r\n                slideCount: null,\r\n                slideWidth: null,\r\n                $slideTrack: null,\r\n                $slides: null,\r\n                sliding: false,\r\n                slideOffset: 0,\r\n                swipeLeft: null,\r\n                $list: null,\r\n                touchObject: {},\r\n                transformsEnabled: false\r\n            };\r\n\r\n            $.extend(_, _.initials);\r\n\r\n            _.activeBreakpoint = null;\r\n            _.animType = null;\r\n            _.animProp = null;\r\n            _.breakpoints = [];\r\n            _.breakpointSettings = [];\r\n            _.cssTransitions = false;\r\n            _.hidden = 'hidden';\r\n            _.paused = false;\r\n            _.positionProp = null;\r\n            _.respondTo = null;\r\n            _.rowCount = 1;\r\n            _.shouldClick = true;\r\n            _.$slider = $(element);\r\n            _.$slidesCache = null;\r\n            _.transformType = null;\r\n            _.transitionType = null;\r\n            _.visibilityChange = 'visibilitychange';\r\n            _.windowWidth = 0;\r\n            _.windowTimer = null;\r\n\r\n            dataSettings = $(element).data('slick') || {};\r\n\r\n            _.options = $.extend({}, _.defaults, dataSettings, settings);\r\n\r\n            _.currentSlide = _.options.initialSlide;\r\n\r\n            _.originalSettings = _.options;\r\n            responsiveSettings = _.options.responsive || null;\r\n\r\n            if (responsiveSettings && responsiveSettings.length > -1) {\r\n                _.respondTo = _.options.respondTo || 'window';\r\n                for (breakpoint in responsiveSettings) {\r\n                    if (responsiveSettings.hasOwnProperty(breakpoint)) {\r\n                        _.breakpoints.push(responsiveSettings[\r\n                            breakpoint].breakpoint);\r\n                        _.breakpointSettings[responsiveSettings[\r\n                                breakpoint].breakpoint] =\r\n                            responsiveSettings[breakpoint].settings;\r\n                    }\r\n                }\r\n                _.breakpoints.sort(function(a, b) {\r\n                    if (_.options.mobileFirst === true) {\r\n                        return a - b;\r\n                    } else {\r\n                        return b - a;\r\n                    }\r\n                });\r\n            }\r\n\r\n            if (typeof document.mozHidden !== 'undefined') {\r\n                _.hidden = 'mozHidden';\r\n                _.visibilityChange = 'mozvisibilitychange';\r\n            } else if (typeof document.msHidden !== 'undefined') {\r\n                _.hidden = 'msHidden';\r\n                _.visibilityChange = 'msvisibilitychange';\r\n            } else if (typeof document.webkitHidden !== 'undefined') {\r\n                _.hidden = 'webkitHidden';\r\n                _.visibilityChange = 'webkitvisibilitychange';\r\n            }\r\n\r\n            _.autoPlay = $.proxy(_.autoPlay, _);\r\n            _.autoPlayClear = $.proxy(_.autoPlayClear, _);\r\n            _.changeSlide = $.proxy(_.changeSlide, _);\r\n            _.clickHandler = $.proxy(_.clickHandler, _);\r\n            _.selectHandler = $.proxy(_.selectHandler, _);\r\n            _.setPosition = $.proxy(_.setPosition, _);\r\n            _.swipeHandler = $.proxy(_.swipeHandler, _);\r\n            _.dragHandler = $.proxy(_.dragHandler, _);\r\n            _.keyHandler = $.proxy(_.keyHandler, _);\r\n            _.autoPlayIterator = $.proxy(_.autoPlayIterator, _);\r\n\r\n            _.instanceUid = instanceUid++;\r\n\r\n            // A simple way to check for HTML strings\r\n            // Strict HTML recognition (must start with <)\r\n            // Extracted from jQuery v1.11 source\r\n            _.htmlExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*)$/;\r\n\r\n            _.init();\r\n\r\n            _.checkResponsive(true);\r\n\r\n        }\r\n\r\n        return Slick;\r\n\r\n    }());\r\n\r\n    Slick.prototype.addSlide = Slick.prototype.slickAdd = function(markup, index, addBefore) {\r\n\r\n        var _ = this;\r\n\r\n        if (typeof(index) === 'boolean') {\r\n            addBefore = index;\r\n            index = null;\r\n        } else if (index < 0 || (index >= _.slideCount)) {\r\n            return false;\r\n        }\r\n\r\n        _.unload();\r\n\r\n        if (typeof(index) === 'number') {\r\n            if (index === 0 && _.$slides.length === 0) {\r\n                $(markup).appendTo(_.$slideTrack);\r\n            } else if (addBefore) {\r\n                $(markup).insertBefore(_.$slides.eq(index));\r\n            } else {\r\n                $(markup).insertAfter(_.$slides.eq(index));\r\n            }\r\n        } else {\r\n            if (addBefore === true) {\r\n                $(markup).prependTo(_.$slideTrack);\r\n            } else {\r\n                $(markup).appendTo(_.$slideTrack);\r\n            }\r\n        }\r\n\r\n        _.$slides = _.$slideTrack.children(this.options.slide);\r\n\r\n        _.$slideTrack.children(this.options.slide).detach();\r\n\r\n        _.$slideTrack.append(_.$slides);\r\n\r\n        _.$slides.each(function(index, element) {\r\n            $(element).attr('data-slick-index', index);\r\n        });\r\n\r\n        _.$slidesCache = _.$slides;\r\n\r\n        _.reinit();\r\n\r\n    };\r\n\r\n    Slick.prototype.animateHeight = function() {\r\n        var _ = this;\r\n        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {\r\n            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);\r\n            _.$list.animate({\r\n                height: targetHeight\r\n            }, _.options.speed);\r\n        }\r\n    };\r\n\r\n    Slick.prototype.animateSlide = function(targetLeft, callback) {\r\n\r\n        var animProps = {},\r\n            _ = this;\r\n\r\n        _.animateHeight();\r\n\r\n        if (_.options.rtl === true && _.options.vertical === false) {\r\n            targetLeft = -targetLeft;\r\n        }\r\n        if (_.transformsEnabled === false) {\r\n            if (_.options.vertical === false) {\r\n                _.$slideTrack.animate({\r\n                    left: targetLeft\r\n                }, _.options.speed, _.options.easing, callback);\r\n            } else {\r\n                _.$slideTrack.animate({\r\n                    top: targetLeft\r\n                }, _.options.speed, _.options.easing, callback);\r\n            }\r\n\r\n        } else {\r\n\r\n            if (_.cssTransitions === false) {\r\n                if (_.options.rtl === true) {\r\n                    _.currentLeft = -(_.currentLeft);\r\n                }\r\n                $({\r\n                    animStart: _.currentLeft\r\n                }).animate({\r\n                    animStart: targetLeft\r\n                }, {\r\n                    duration: _.options.speed,\r\n                    easing: _.options.easing,\r\n                    step: function(now) {\r\n                        now = Math.ceil(now);\r\n                        if (_.options.vertical === false) {\r\n                            animProps[_.animType] = 'translate(' +\r\n                                now + 'px, 0px)';\r\n                            _.$slideTrack.css(animProps);\r\n                        } else {\r\n                            animProps[_.animType] = 'translate(0px,' +\r\n                                now + 'px)';\r\n                            _.$slideTrack.css(animProps);\r\n                        }\r\n                    },\r\n                    complete: function() {\r\n                        if (callback) {\r\n                            callback.call();\r\n                        }\r\n                    }\r\n                });\r\n\r\n            } else {\r\n\r\n                _.applyTransition();\r\n                targetLeft = Math.ceil(targetLeft);\r\n\r\n                if (_.options.vertical === false) {\r\n                    animProps[_.animType] = 'translate3d(' + targetLeft + 'px, 0px, 0px)';\r\n                } else {\r\n                    animProps[_.animType] = 'translate3d(0px,' + targetLeft + 'px, 0px)';\r\n                }\r\n                _.$slideTrack.css(animProps);\r\n\r\n                if (callback) {\r\n                    setTimeout(function() {\r\n\r\n                        _.disableTransition();\r\n\r\n                        callback.call();\r\n                    }, _.options.speed);\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.asNavFor = function(index) {\r\n        var _ = this,\r\n            asNavFor = _.options.asNavFor !== null ? $(_.options.asNavFor).slick('getSlick') : null;\r\n        if (asNavFor !== null) asNavFor.slideHandler(index, true);\r\n    };\r\n\r\n    Slick.prototype.applyTransition = function(slide) {\r\n\r\n        var _ = this,\r\n            transition = {};\r\n\r\n        if (_.options.fade === false) {\r\n            transition[_.transitionType] = _.transformType + ' ' + _.options.speed + 'ms ' + _.options.cssEase;\r\n        } else {\r\n            transition[_.transitionType] = 'opacity ' + _.options.speed + 'ms ' + _.options.cssEase;\r\n        }\r\n\r\n        if (_.options.fade === false) {\r\n            _.$slideTrack.css(transition);\r\n        } else {\r\n            _.$slides.eq(slide).css(transition);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.autoPlay = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.autoPlayTimer) {\r\n            clearInterval(_.autoPlayTimer);\r\n        }\r\n\r\n        if (_.slideCount > _.options.slidesToShow && _.paused !== true) {\r\n            _.autoPlayTimer = setInterval(_.autoPlayIterator,\r\n                _.options.autoplaySpeed);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.autoPlayClear = function() {\r\n\r\n        var _ = this;\r\n        if (_.autoPlayTimer) {\r\n            clearInterval(_.autoPlayTimer);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.autoPlayIterator = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.infinite === false) {\r\n\r\n            if (_.direction === 1) {\r\n\r\n                if ((_.currentSlide + 1) === _.slideCount -\r\n                    1) {\r\n                    _.direction = 0;\r\n                }\r\n\r\n                _.slideHandler(_.currentSlide + _.options.slidesToScroll);\r\n\r\n            } else {\r\n\r\n                if ((_.currentSlide - 1 === 0)) {\r\n\r\n                    _.direction = 1;\r\n\r\n                }\r\n\r\n                _.slideHandler(_.currentSlide - _.options.slidesToScroll);\r\n\r\n            }\r\n\r\n        } else {\r\n\r\n            _.slideHandler(_.currentSlide + _.options.slidesToScroll);\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.buildArrows = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\r\n\r\n            _.$prevArrow = $(_.options.prevArrow);\r\n            _.$nextArrow = $(_.options.nextArrow);\r\n\r\n            if (_.htmlExpr.test(_.options.prevArrow)) {\r\n                _.$prevArrow.appendTo(_.options.appendArrows);\r\n            }\r\n\r\n            if (_.htmlExpr.test(_.options.nextArrow)) {\r\n                _.$nextArrow.appendTo(_.options.appendArrows);\r\n            }\r\n\r\n            if (_.options.infinite !== true) {\r\n                _.$prevArrow.addClass('slick-disabled');\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.buildDots = function() {\r\n\r\n        var _ = this,\r\n            i, dotString;\r\n\r\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\r\n\r\n            dotString = '<ul class=\"' + _.options.dotsClass + '\">';\r\n\r\n            for (i = 0; i <= _.getDotCount(); i += 1) {\r\n                dotString += '<li>' + _.options.customPaging.call(this, _, i) + '</li>';\r\n            }\r\n\r\n            dotString += '</ul>';\r\n\r\n            _.$dots = $(dotString).appendTo(\r\n                _.options.appendDots);\r\n\r\n            _.$dots.find('li').first().addClass('slick-active').attr('aria-hidden', 'false');\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.buildOut = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.$slides = _.$slider.children(\r\n            ':not(.slick-cloned)').addClass(\r\n            'slick-slide');\r\n        _.slideCount = _.$slides.length;\r\n\r\n        _.$slides.each(function(index, element) {\r\n            $(element).attr('data-slick-index', index);\r\n        });\r\n\r\n        _.$slidesCache = _.$slides;\r\n\r\n        _.$slider.addClass('slick-slider');\r\n\r\n        _.$slideTrack = (_.slideCount === 0) ?\r\n            $('<div class=\"slick-track\"/>').appendTo(_.$slider) :\r\n            _.$slides.wrapAll('<div class=\"slick-track\"/>').parent();\r\n\r\n        _.$list = _.$slideTrack.wrap(\r\n            '<div aria-live=\"polite\" class=\"slick-list\"/>').parent();\r\n        _.$slideTrack.css('opacity', 0);\r\n\r\n        if (_.options.centerMode === true || _.options.swipeToSlide === true) {\r\n            _.options.slidesToScroll = 1;\r\n        }\r\n\r\n        $('img[data-lazy]', _.$slider).not('[src]').addClass('slick-loading');\r\n\r\n        _.setupInfinite();\r\n\r\n        _.buildArrows();\r\n\r\n        _.buildDots();\r\n\r\n        _.updateDots();\r\n\r\n        if (_.options.accessibility === true) {\r\n            _.$list.prop('tabIndex', 0);\r\n        }\r\n\r\n        _.setSlideClasses(typeof this.currentSlide === 'number' ? this.currentSlide : 0);\r\n\r\n        if (_.options.draggable === true) {\r\n            _.$list.addClass('draggable');\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.buildRows = function() {\r\n\r\n        var _ = this, a, b, c, newSlides, numOfSlides, originalSlides,slidesPerSection;\r\n\r\n        newSlides = document.createDocumentFragment();\r\n        originalSlides = _.$slider.children();\r\n\r\n        if(_.options.rows > 1) {\r\n            slidesPerSection = _.options.slidesPerRow * _.options.rows;\r\n            numOfSlides = Math.ceil(\r\n                originalSlides.length / slidesPerSection\r\n            );\r\n\r\n            for(a = 0; a < numOfSlides; a++){\r\n                var slide = document.createElement('div');\r\n                for(b = 0; b < _.options.rows; b++) {\r\n                    var row = document.createElement('div');\r\n                    for(c = 0; c < _.options.slidesPerRow; c++) {\r\n                        var target = (a * slidesPerSection + ((b * _.options.slidesPerRow) + c));\r\n                        if (originalSlides.get(target)) {\r\n                            row.appendChild(originalSlides.get(target));\r\n                        }\r\n                    }\r\n                    slide.appendChild(row);\r\n                }\r\n                newSlides.appendChild(slide);\r\n            };\r\n            _.$slider.html(newSlides);\r\n            _.$slider.children().children().children()\r\n                .width((100 / _.options.slidesPerRow) + \"%\")\r\n                .css({'display': 'inline-block'});\r\n        };\r\n\r\n    };\r\n\r\n    Slick.prototype.checkResponsive = function(initial) {\r\n\r\n        var _ = this,\r\n            breakpoint, targetBreakpoint, respondToWidth;\r\n        var sliderWidth = _.$slider.width();\r\n        var windowWidth = window.innerWidth || $(window).width();\r\n        if (_.respondTo === 'window') {\r\n            respondToWidth = windowWidth;\r\n        } else if (_.respondTo === 'slider') {\r\n            respondToWidth = sliderWidth;\r\n        } else if (_.respondTo === 'min') {\r\n            respondToWidth = Math.min(windowWidth, sliderWidth);\r\n        }\r\n\r\n        if (_.originalSettings.responsive && _.originalSettings\r\n            .responsive.length > -1 && _.originalSettings.responsive !== null) {\r\n\r\n            targetBreakpoint = null;\r\n\r\n            for (breakpoint in _.breakpoints) {\r\n                if (_.breakpoints.hasOwnProperty(breakpoint)) {\r\n                    if (_.originalSettings.mobileFirst === false) {\r\n                        if (respondToWidth < _.breakpoints[breakpoint]) {\r\n                            targetBreakpoint = _.breakpoints[breakpoint];\r\n                        }\r\n                    } else {\r\n                        if (respondToWidth > _.breakpoints[breakpoint]) {\r\n                            targetBreakpoint = _.breakpoints[breakpoint];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (targetBreakpoint !== null) {\r\n                if (_.activeBreakpoint !== null) {\r\n                    if (targetBreakpoint !== _.activeBreakpoint) {\r\n                        _.activeBreakpoint =\r\n                            targetBreakpoint;\r\n                        if (_.breakpointSettings[targetBreakpoint] === 'unslick') {\r\n                            _.unslick();\r\n                        } else {\r\n                            _.options = $.extend({}, _.originalSettings,\r\n                                _.breakpointSettings[\r\n                                    targetBreakpoint]);\r\n                            if (initial === true)\r\n                                _.currentSlide = _.options.initialSlide;\r\n                            _.refresh();\r\n                        }\r\n                    }\r\n                } else {\r\n                    _.activeBreakpoint = targetBreakpoint;\r\n                    if (_.breakpointSettings[targetBreakpoint] === 'unslick') {\r\n                        _.unslick();\r\n                    } else {\r\n                        _.options = $.extend({}, _.originalSettings,\r\n                            _.breakpointSettings[\r\n                                targetBreakpoint]);\r\n                        if (initial === true)\r\n                            _.currentSlide = _.options.initialSlide;\r\n                        _.refresh();\r\n                    }\r\n                }\r\n            } else {\r\n                if (_.activeBreakpoint !== null) {\r\n                    _.activeBreakpoint = null;\r\n                    _.options = _.originalSettings;\r\n                    if (initial === true)\r\n                        _.currentSlide = _.options.initialSlide;\r\n                    _.refresh();\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.changeSlide = function(event, dontAnimate) {\r\n\r\n        var _ = this,\r\n            $target = $(event.target),\r\n            indexOffset, slideOffset, unevenOffset;\r\n\r\n        // If target is a link, prevent default action.\r\n        $target.is('a') && event.preventDefault();\r\n\r\n        unevenOffset = (_.slideCount % _.options.slidesToScroll !== 0);\r\n        indexOffset = unevenOffset ? 0 : (_.slideCount - _.currentSlide) % _.options.slidesToScroll;\r\n\r\n        switch (event.data.message) {\r\n\r\n            case 'previous':\r\n                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : _.options.slidesToShow - indexOffset;\r\n                if (_.slideCount > _.options.slidesToShow) {\r\n                    _.slideHandler(_.currentSlide - slideOffset, false, dontAnimate);\r\n                }\r\n                break;\r\n\r\n            case 'next':\r\n                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : indexOffset;\r\n                if (_.slideCount > _.options.slidesToShow) {\r\n                    _.slideHandler(_.currentSlide + slideOffset, false, dontAnimate);\r\n                }\r\n                break;\r\n\r\n            case 'index':\r\n                var index = event.data.index === 0 ? 0 :\r\n                    event.data.index || $(event.target).parent().index() * _.options.slidesToScroll;\r\n\r\n                _.slideHandler(_.checkNavigable(index), false, dontAnimate);\r\n                break;\r\n\r\n            default:\r\n                return;\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.checkNavigable = function(index) {\r\n\r\n        var _ = this,\r\n            navigables, prevNavigable;\r\n\r\n        navigables = _.getNavigableIndexes();\r\n        prevNavigable = 0;\r\n        if (index > navigables[navigables.length - 1]) {\r\n            index = navigables[navigables.length - 1];\r\n        } else {\r\n            for (var n in navigables) {\r\n                if (index < navigables[n]) {\r\n                    index = prevNavigable;\r\n                    break;\r\n                }\r\n                prevNavigable = navigables[n];\r\n            }\r\n        }\r\n\r\n        return index;\r\n    };\r\n\r\n    Slick.prototype.cleanUpEvents = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\r\n            $('li', _.$dots).off('click.slick', _.changeSlide);\r\n        }\r\n\r\n        if (_.options.dots === true && _.options.pauseOnDotsHover === true && _.options.autoplay === true) {\r\n            $('li', _.$dots)\r\n                .off('mouseenter.slick', _.setPaused.bind(_, true))\r\n                .off('mouseleave.slick', _.setPaused.bind(_, false));\r\n        }\r\n\r\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\r\n            _.$prevArrow && _.$prevArrow.off('click.slick', _.changeSlide);\r\n            _.$nextArrow && _.$nextArrow.off('click.slick', _.changeSlide);\r\n        }\r\n\r\n        _.$list.off('touchstart.slick mousedown.slick', _.swipeHandler);\r\n        _.$list.off('touchmove.slick mousemove.slick', _.swipeHandler);\r\n        _.$list.off('touchend.slick mouseup.slick', _.swipeHandler);\r\n        _.$list.off('touchcancel.slick mouseleave.slick', _.swipeHandler);\r\n\r\n        _.$list.off('click.slick', _.clickHandler);\r\n\r\n        if (_.options.autoplay === true) {\r\n            $(document).off(_.visibilityChange, _.visibility);\r\n        }\r\n\r\n        _.$list.off('mouseenter.slick', _.setPaused.bind(_, true));\r\n        _.$list.off('mouseleave.slick', _.setPaused.bind(_, false));\r\n\r\n        if (_.options.accessibility === true) {\r\n            _.$list.off('keydown.slick', _.keyHandler);\r\n        }\r\n\r\n        if (_.options.focusOnSelect === true) {\r\n            $(_.$slideTrack).children().off('click.slick', _.selectHandler);\r\n        }\r\n\r\n        $(window).off('orientationchange.slick.slick-' + _.instanceUid, _.orientationChange);\r\n\r\n        $(window).off('resize.slick.slick-' + _.instanceUid, _.resize);\r\n\r\n        $('[draggable!=true]', _.$slideTrack).off('dragstart', _.preventDefault);\r\n\r\n        $(window).off('load.slick.slick-' + _.instanceUid, _.setPosition);\r\n        $(document).off('ready.slick.slick-' + _.instanceUid, _.setPosition);\r\n    };\r\n\r\n    Slick.prototype.cleanUpRows = function() {\r\n\r\n        var _ = this, originalSlides;\r\n\r\n        if(_.options.rows > 1) {\r\n            originalSlides = _.$slides.children().children();\r\n            originalSlides.removeAttr('style');\r\n            _.$slider.html(originalSlides);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.clickHandler = function(event) {\r\n\r\n        var _ = this;\r\n\r\n        if (_.shouldClick === false) {\r\n            event.stopImmediatePropagation();\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.destroy = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.autoPlayClear();\r\n\r\n        _.touchObject = {};\r\n\r\n        _.cleanUpEvents();\r\n\r\n        $('.slick-cloned', _.$slider).remove();\r\n\r\n        if (_.$dots) {\r\n            _.$dots.remove();\r\n        }\r\n        if (_.$prevArrow && (typeof _.options.prevArrow !== 'object')) {\r\n            _.$prevArrow.remove();\r\n        }\r\n        if (_.$nextArrow && (typeof _.options.nextArrow !== 'object')) {\r\n            _.$nextArrow.remove();\r\n        }\r\n\r\n        if (_.$slides) {\r\n            _.$slides.removeClass('slick-slide slick-active slick-center slick-visible')\r\n                .attr('aria-hidden', 'true')\r\n                .removeAttr('data-slick-index')\r\n                .css({\r\n                    position: '',\r\n                    left: '',\r\n                    top: '',\r\n                    zIndex: '',\r\n                    opacity: '',\r\n                    width: ''\r\n                });\r\n\r\n            _.$slider.html(_.$slides);\r\n        }\r\n\r\n        _.cleanUpRows();\r\n\r\n        _.$slider.removeClass('slick-slider');\r\n        _.$slider.removeClass('slick-initialized');\r\n\r\n    };\r\n\r\n    Slick.prototype.disableTransition = function(slide) {\r\n\r\n        var _ = this,\r\n            transition = {};\r\n\r\n        transition[_.transitionType] = '';\r\n\r\n        if (_.options.fade === false) {\r\n            _.$slideTrack.css(transition);\r\n        } else {\r\n            _.$slides.eq(slide).css(transition);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.fadeSlide = function(slideIndex, callback) {\r\n\r\n        var _ = this;\r\n\r\n        if (_.cssTransitions === false) {\r\n\r\n            _.$slides.eq(slideIndex).css({\r\n                zIndex: 1000\r\n            });\r\n\r\n            _.$slides.eq(slideIndex).animate({\r\n                opacity: 1\r\n            }, _.options.speed, _.options.easing, callback);\r\n\r\n        } else {\r\n\r\n            _.applyTransition(slideIndex);\r\n\r\n            _.$slides.eq(slideIndex).css({\r\n                opacity: 1,\r\n                zIndex: 1000\r\n            });\r\n\r\n            if (callback) {\r\n                setTimeout(function() {\r\n\r\n                    _.disableTransition(slideIndex);\r\n\r\n                    callback.call();\r\n                }, _.options.speed);\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.filterSlides = Slick.prototype.slickFilter = function(filter) {\r\n\r\n        var _ = this;\r\n\r\n        if (filter !== null) {\r\n\r\n            _.unload();\r\n\r\n            _.$slideTrack.children(this.options.slide).detach();\r\n\r\n            _.$slidesCache.filter(filter).appendTo(_.$slideTrack);\r\n\r\n            _.reinit();\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.getCurrent = Slick.prototype.slickCurrentSlide = function() {\r\n\r\n        var _ = this;\r\n        return _.currentSlide;\r\n\r\n    };\r\n\r\n    Slick.prototype.getDotCount = function() {\r\n\r\n        var _ = this;\r\n\r\n        var breakPoint = 0;\r\n        var counter = 0;\r\n        var pagerQty = 0;\r\n\r\n        if (_.options.infinite === true) {\r\n            pagerQty = Math.ceil(_.slideCount / _.options.slidesToScroll);\r\n        } else if (_.options.centerMode === true) {\r\n            pagerQty = _.slideCount;\r\n        } else {\r\n            while (breakPoint < _.slideCount) {\r\n                ++pagerQty;\r\n                breakPoint = counter + _.options.slidesToShow;\r\n                counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;\r\n            }\r\n        }\r\n\r\n        return pagerQty - 1;\r\n\r\n    };\r\n\r\n    Slick.prototype.getLeft = function(slideIndex) {\r\n\r\n        var _ = this,\r\n            targetLeft,\r\n            verticalHeight,\r\n            verticalOffset = 0,\r\n            targetSlide;\r\n\r\n        _.slideOffset = 0;\r\n        verticalHeight = _.$slides.first().outerHeight();\r\n\r\n        if (_.options.infinite === true) {\r\n            if (_.slideCount > _.options.slidesToShow) {\r\n                _.slideOffset = (_.slideWidth * _.options.slidesToShow) * -1;\r\n                verticalOffset = (verticalHeight * _.options.slidesToShow) * -1;\r\n            }\r\n            if (_.slideCount % _.options.slidesToScroll !== 0) {\r\n                if (slideIndex + _.options.slidesToScroll > _.slideCount && _.slideCount > _.options.slidesToShow) {\r\n                    if (slideIndex > _.slideCount) {\r\n                        _.slideOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * _.slideWidth) * -1;\r\n                        verticalOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * verticalHeight) * -1;\r\n                    } else {\r\n                        _.slideOffset = ((_.slideCount % _.options.slidesToScroll) * _.slideWidth) * -1;\r\n                        verticalOffset = ((_.slideCount % _.options.slidesToScroll) * verticalHeight) * -1;\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            if (slideIndex + _.options.slidesToShow > _.slideCount) {\r\n                _.slideOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * _.slideWidth;\r\n                verticalOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * verticalHeight;\r\n            }\r\n        }\r\n\r\n        if (_.slideCount <= _.options.slidesToShow) {\r\n            _.slideOffset = 0;\r\n            verticalOffset = 0;\r\n        }\r\n\r\n        if (_.options.centerMode === true && _.options.infinite === true) {\r\n            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2) - _.slideWidth;\r\n        } else if (_.options.centerMode === true) {\r\n            _.slideOffset = 0;\r\n            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2);\r\n        }\r\n\r\n        if (_.options.vertical === false) {\r\n            targetLeft = ((slideIndex * _.slideWidth) * -1) + _.slideOffset;\r\n        } else {\r\n            targetLeft = ((slideIndex * verticalHeight) * -1) + verticalOffset;\r\n        }\r\n\r\n        if (_.options.variableWidth === true) {\r\n\r\n            if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {\r\n                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);\r\n            } else {\r\n                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow);\r\n            }\r\n\r\n            targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;\r\n\r\n            if (_.options.centerMode === true) {\r\n                if (_.options.infinite === false) {\r\n                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);\r\n                } else {\r\n                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow + 1);\r\n                }\r\n                targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;\r\n                targetLeft += (_.$list.width() - targetSlide.outerWidth()) / 2;\r\n            }\r\n        }\r\n\r\n        return targetLeft;\r\n\r\n    };\r\n\r\n    Slick.prototype.getOption = Slick.prototype.slickGetOption = function(option) {\r\n\r\n        var _ = this;\r\n\r\n        return _.options[option];\r\n\r\n    };\r\n\r\n    Slick.prototype.getNavigableIndexes = function() {\r\n\r\n        var _ = this,\r\n            breakPoint = 0,\r\n            counter = 0,\r\n            indexes = [],\r\n            max;\r\n\r\n        if (_.options.infinite === false) {\r\n            max = _.slideCount - _.options.slidesToShow + 1;\r\n            if (_.options.centerMode === true) max = _.slideCount;\r\n        } else {\r\n            breakPoint = _.options.slidesToScroll * -1;\r\n            counter = _.options.slidesToScroll * -1;\r\n            max = _.slideCount * 2;\r\n        }\r\n\r\n        while (breakPoint < max) {\r\n            indexes.push(breakPoint);\r\n            breakPoint = counter + _.options.slidesToScroll;\r\n            counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;\r\n        }\r\n\r\n        return indexes;\r\n\r\n    };\r\n\r\n    Slick.prototype.getSlick = function() {\r\n\r\n        return this;\r\n\r\n    };\r\n\r\n    Slick.prototype.getSlideCount = function() {\r\n\r\n        var _ = this,\r\n            slidesTraversed, swipedSlide, centerOffset;\r\n\r\n        centerOffset = _.options.centerMode === true ? _.slideWidth * Math.floor(_.options.slidesToShow / 2) : 0;\r\n\r\n        if (_.options.swipeToSlide === true) {\r\n            _.$slideTrack.find('.slick-slide').each(function(index, slide) {\r\n                if (slide.offsetLeft - centerOffset + ($(slide).outerWidth() / 2) > (_.swipeLeft * -1)) {\r\n                    swipedSlide = slide;\r\n                    return false;\r\n                }\r\n            });\r\n\r\n            slidesTraversed = Math.abs($(swipedSlide).attr('data-slick-index') - _.currentSlide) || 1;\r\n\r\n            return slidesTraversed;\r\n\r\n        } else {\r\n            return _.options.slidesToScroll;\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.goTo = Slick.prototype.slickGoTo = function(slide, dontAnimate) {\r\n\r\n        var _ = this;\r\n\r\n        _.changeSlide({\r\n            data: {\r\n                message: 'index',\r\n                index: parseInt(slide)\r\n            }\r\n        }, dontAnimate);\r\n\r\n    };\r\n\r\n    Slick.prototype.init = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (!$(_.$slider).hasClass('slick-initialized')) {\r\n\r\n            $(_.$slider).addClass('slick-initialized');\r\n            _.buildRows();\r\n            _.buildOut();\r\n            _.setProps();\r\n            _.startLoad();\r\n            _.loadSlider();\r\n            _.initializeEvents();\r\n            _.updateArrows();\r\n            _.updateDots();\r\n        }\r\n\r\n        _.$slider.trigger('init', [_]);\r\n\r\n    };\r\n\r\n    Slick.prototype.initArrowEvents = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\r\n            _.$prevArrow.on('click.slick', {\r\n                message: 'previous'\r\n            }, _.changeSlide);\r\n            _.$nextArrow.on('click.slick', {\r\n                message: 'next'\r\n            }, _.changeSlide);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.initDotEvents = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\r\n            $('li', _.$dots).on('click.slick', {\r\n                message: 'index'\r\n            }, _.changeSlide);\r\n        }\r\n\r\n        if (_.options.dots === true && _.options.pauseOnDotsHover === true && _.options.autoplay === true) {\r\n            $('li', _.$dots)\r\n                .on('mouseenter.slick', _.setPaused.bind(_, true))\r\n                .on('mouseleave.slick', _.setPaused.bind(_, false));\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.initializeEvents = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.initArrowEvents();\r\n\r\n        _.initDotEvents();\r\n\r\n        _.$list.on('touchstart.slick mousedown.slick', {\r\n            action: 'start'\r\n        }, _.swipeHandler);\r\n        _.$list.on('touchmove.slick mousemove.slick', {\r\n            action: 'move'\r\n        }, _.swipeHandler);\r\n        _.$list.on('touchend.slick mouseup.slick', {\r\n            action: 'end'\r\n        }, _.swipeHandler);\r\n        _.$list.on('touchcancel.slick mouseleave.slick', {\r\n            action: 'end'\r\n        }, _.swipeHandler);\r\n\r\n        _.$list.on('click.slick', _.clickHandler);\r\n\r\n        if (_.options.autoplay === true) {\r\n            $(document).on(_.visibilityChange, _.visibility.bind(_));\r\n        }\r\n\r\n        _.$list.on('mouseenter.slick', _.setPaused.bind(_, true));\r\n        _.$list.on('mouseleave.slick', _.setPaused.bind(_, false));\r\n\r\n        if (_.options.accessibility === true) {\r\n            _.$list.on('keydown.slick', _.keyHandler);\r\n        }\r\n\r\n        if (_.options.focusOnSelect === true) {\r\n            $(_.$slideTrack).children().on('click.slick', _.selectHandler);\r\n        }\r\n\r\n        $(window).on('orientationchange.slick.slick-' + _.instanceUid, _.orientationChange.bind(_));\r\n\r\n        $(window).on('resize.slick.slick-' + _.instanceUid, _.resize.bind(_));\r\n\r\n        $('[draggable!=true]', _.$slideTrack).on('dragstart', _.preventDefault);\r\n\r\n        $(window).on('load.slick.slick-' + _.instanceUid, _.setPosition);\r\n        $(document).on('ready.slick.slick-' + _.instanceUid, _.setPosition);\r\n\r\n    };\r\n\r\n    Slick.prototype.initUI = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\r\n\r\n            _.$prevArrow.show();\r\n            _.$nextArrow.show();\r\n\r\n        }\r\n\r\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\r\n\r\n            _.$dots.show();\r\n\r\n        }\r\n\r\n        if (_.options.autoplay === true) {\r\n\r\n            _.autoPlay();\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.keyHandler = function(event) {\r\n\r\n        var _ = this;\r\n\r\n        if (event.keyCode === 37 && _.options.accessibility === true) {\r\n            _.changeSlide({\r\n                data: {\r\n                    message: 'previous'\r\n                }\r\n            });\r\n        } else if (event.keyCode === 39 && _.options.accessibility === true) {\r\n            _.changeSlide({\r\n                data: {\r\n                    message: 'next'\r\n                }\r\n            });\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.lazyLoad = function() {\r\n\r\n        var _ = this,\r\n            loadRange, cloneRange, rangeStart, rangeEnd;\r\n\r\n        function loadImages(imagesScope) {\r\n            $('img[data-lazy]', imagesScope).each(function() {\r\n                var image = $(this),\r\n                    imageSource = $(this).attr('data-lazy'),\r\n                    imageToLoad = document.createElement('img');\r\n\r\n                imageToLoad.onload = function() {\r\n                    image.animate({\r\n                        opacity: 1\r\n                    }, 200);\r\n                };\r\n                imageToLoad.src = imageSource;\r\n\r\n                image\r\n                    .css({\r\n                        opacity: 0\r\n                    })\r\n                    .attr('src', imageSource)\r\n                    .removeAttr('data-lazy')\r\n                    .removeClass('slick-loading');\r\n            });\r\n        }\r\n\r\n        if (_.options.centerMode === true) {\r\n            if (_.options.infinite === true) {\r\n                rangeStart = _.currentSlide + (_.options.slidesToShow / 2 + 1);\r\n                rangeEnd = rangeStart + _.options.slidesToShow + 2;\r\n            } else {\r\n                rangeStart = Math.max(0, _.currentSlide - (_.options.slidesToShow / 2 + 1));\r\n                rangeEnd = 2 + (_.options.slidesToShow / 2 + 1) + _.currentSlide;\r\n            }\r\n        } else {\r\n            rangeStart = _.options.infinite ? _.options.slidesToShow + _.currentSlide : _.currentSlide;\r\n            rangeEnd = rangeStart + _.options.slidesToShow;\r\n            if (_.options.fade === true) {\r\n                if (rangeStart > 0) rangeStart--;\r\n                if (rangeEnd <= _.slideCount) rangeEnd++;\r\n            }\r\n        }\r\n\r\n        loadRange = _.$slider.find('.slick-slide').slice(rangeStart, rangeEnd);\r\n        loadImages(loadRange);\r\n\r\n        if (_.slideCount <= _.options.slidesToShow) {\r\n            cloneRange = _.$slider.find('.slick-slide');\r\n            loadImages(cloneRange);\r\n        } else\r\n        if (_.currentSlide >= _.slideCount - _.options.slidesToShow) {\r\n            cloneRange = _.$slider.find('.slick-cloned').slice(0, _.options.slidesToShow);\r\n            loadImages(cloneRange);\r\n        } else if (_.currentSlide === 0) {\r\n            cloneRange = _.$slider.find('.slick-cloned').slice(_.options.slidesToShow * -1);\r\n            loadImages(cloneRange);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.loadSlider = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.setPosition();\r\n\r\n        _.$slideTrack.css({\r\n            opacity: 1\r\n        });\r\n\r\n        _.$slider.removeClass('slick-loading');\r\n\r\n        _.initUI();\r\n\r\n        if (_.options.lazyLoad === 'progressive') {\r\n            _.progressiveLazyLoad();\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.next = Slick.prototype.slickNext = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.changeSlide({\r\n            data: {\r\n                message: 'next'\r\n            }\r\n        });\r\n\r\n    };\r\n\r\n    Slick.prototype.orientationChange = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.checkResponsive();\r\n        _.setPosition();\r\n\r\n    };\r\n\r\n    Slick.prototype.pause = Slick.prototype.slickPause = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.autoPlayClear();\r\n        _.paused = true;\r\n\r\n    };\r\n\r\n    Slick.prototype.play = Slick.prototype.slickPlay = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.paused = false;\r\n        _.autoPlay();\r\n\r\n    };\r\n\r\n    Slick.prototype.postSlide = function(index) {\r\n\r\n        var _ = this;\r\n\r\n        _.$slider.trigger('afterChange', [_, index]);\r\n\r\n        _.animating = false;\r\n\r\n        _.setPosition();\r\n\r\n        _.swipeLeft = null;\r\n\r\n        if (_.options.autoplay === true && _.paused === false) {\r\n            _.autoPlay();\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.prev = Slick.prototype.slickPrev = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.changeSlide({\r\n            data: {\r\n                message: 'previous'\r\n            }\r\n        });\r\n\r\n    };\r\n\r\n    Slick.prototype.preventDefault = function(e) {\r\n        e.preventDefault();\r\n    };\r\n\r\n    Slick.prototype.progressiveLazyLoad = function() {\r\n\r\n        var _ = this,\r\n            imgCount, targetImage;\r\n\r\n        imgCount = $('img[data-lazy]', _.$slider).length;\r\n\r\n        if (imgCount > 0) {\r\n            targetImage = $('img[data-lazy]', _.$slider).first();\r\n            targetImage.attr('src', targetImage.attr('data-lazy')).removeClass('slick-loading').load(function() {\r\n                    targetImage.removeAttr('data-lazy');\r\n                    _.progressiveLazyLoad();\r\n\r\n                    if (_.options.adaptiveHeight === true) {\r\n                        _.setPosition();\r\n                    }\r\n                })\r\n                .error(function() {\r\n                    targetImage.removeAttr('data-lazy');\r\n                    _.progressiveLazyLoad();\r\n                });\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.refresh = function() {\r\n\r\n        var _ = this,\r\n            currentSlide = _.currentSlide;\r\n\r\n        _.destroy();\r\n\r\n        $.extend(_, _.initials);\r\n\r\n        _.init();\r\n\r\n        _.changeSlide({\r\n            data: {\r\n                message: 'index',\r\n                index: currentSlide\r\n            }\r\n        }, false);\r\n\r\n    };\r\n\r\n    Slick.prototype.reinit = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.$slides = _.$slideTrack.children(_.options.slide).addClass(\r\n            'slick-slide');\r\n\r\n        _.slideCount = _.$slides.length;\r\n\r\n        if (_.currentSlide >= _.slideCount && _.currentSlide !== 0) {\r\n            _.currentSlide = _.currentSlide - _.options.slidesToScroll;\r\n        }\r\n\r\n        if (_.slideCount <= _.options.slidesToShow) {\r\n            _.currentSlide = 0;\r\n        }\r\n\r\n        _.setProps();\r\n\r\n        _.setupInfinite();\r\n\r\n        _.buildArrows();\r\n\r\n        _.updateArrows();\r\n\r\n        _.initArrowEvents();\r\n\r\n        _.buildDots();\r\n\r\n        _.updateDots();\r\n\r\n        _.initDotEvents();\r\n\r\n        if (_.options.focusOnSelect === true) {\r\n            $(_.$slideTrack).children().on('click.slick', _.selectHandler);\r\n        }\r\n\r\n        _.setSlideClasses(0);\r\n\r\n        _.setPosition();\r\n\r\n        _.$slider.trigger('reInit', [_]);\r\n\r\n    };\r\n\r\n    Slick.prototype.resize = function() {\r\n\r\n        var _ = this;\r\n\r\n        if ($(window).width() !== _.windowWidth) {\r\n            clearTimeout(_.windowDelay);\r\n            _.windowDelay = window.setTimeout(function() {\r\n                _.windowWidth = $(window).width();\r\n                _.checkResponsive();\r\n                _.setPosition();\r\n            }, 50);\r\n        }\r\n    };\r\n\r\n    Slick.prototype.removeSlide = Slick.prototype.slickRemove = function(index, removeBefore, removeAll) {\r\n\r\n        var _ = this;\r\n\r\n        if (typeof(index) === 'boolean') {\r\n            removeBefore = index;\r\n            index = removeBefore === true ? 0 : _.slideCount - 1;\r\n        } else {\r\n            index = removeBefore === true ? --index : index;\r\n        }\r\n\r\n        if (_.slideCount < 1 || index < 0 || index > _.slideCount - 1) {\r\n            return false;\r\n        }\r\n\r\n        _.unload();\r\n\r\n        if (removeAll === true) {\r\n            _.$slideTrack.children().remove();\r\n        } else {\r\n            _.$slideTrack.children(this.options.slide).eq(index).remove();\r\n        }\r\n\r\n        _.$slides = _.$slideTrack.children(this.options.slide);\r\n\r\n        _.$slideTrack.children(this.options.slide).detach();\r\n\r\n        _.$slideTrack.append(_.$slides);\r\n\r\n        _.$slidesCache = _.$slides;\r\n\r\n        _.reinit();\r\n\r\n    };\r\n\r\n    Slick.prototype.setCSS = function(position) {\r\n\r\n        var _ = this,\r\n            positionProps = {},\r\n            x, y;\r\n\r\n        if (_.options.rtl === true) {\r\n            position = -position;\r\n        }\r\n        x = _.positionProp == 'left' ? Math.ceil(position) + 'px' : '0px';\r\n        y = _.positionProp == 'top' ? Math.ceil(position) + 'px' : '0px';\r\n\r\n        positionProps[_.positionProp] = position;\r\n\r\n        if (_.transformsEnabled === false) {\r\n            _.$slideTrack.css(positionProps);\r\n        } else {\r\n            positionProps = {};\r\n            if (_.cssTransitions === false) {\r\n                positionProps[_.animType] = 'translate(' + x + ', ' + y + ')';\r\n                _.$slideTrack.css(positionProps);\r\n            } else {\r\n                positionProps[_.animType] = 'translate3d(' + x + ', ' + y + ', 0px)';\r\n                _.$slideTrack.css(positionProps);\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.setDimensions = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.vertical === false) {\r\n            if (_.options.centerMode === true) {\r\n                _.$list.css({\r\n                    padding: ('0px ' + _.options.centerPadding)\r\n                });\r\n            }\r\n        } else {\r\n            _.$list.height(_.$slides.first().outerHeight(true) * _.options.slidesToShow);\r\n            if (_.options.centerMode === true) {\r\n                _.$list.css({\r\n                    padding: (_.options.centerPadding + ' 0px')\r\n                });\r\n            }\r\n        }\r\n\r\n        _.listWidth = _.$list.width();\r\n        _.listHeight = _.$list.height();\r\n\r\n\r\n        if (_.options.vertical === false && _.options.variableWidth === false) {\r\n            _.slideWidth = Math.ceil(_.listWidth / _.options.slidesToShow);\r\n            _.$slideTrack.width(Math.ceil((_.slideWidth * _.$slideTrack.children('.slick-slide').length)));\r\n\r\n        } else if (_.options.variableWidth === true) {\r\n            _.$slideTrack.width(5000 * _.slideCount);\r\n        } else {\r\n            _.slideWidth = Math.ceil(_.listWidth);\r\n            _.$slideTrack.height(Math.ceil((_.$slides.first().outerHeight(true) * _.$slideTrack.children('.slick-slide').length)));\r\n        }\r\n\r\n        var offset = _.$slides.first().outerWidth(true) - _.$slides.first().width();\r\n        if (_.options.variableWidth === false) _.$slideTrack.children('.slick-slide').width(_.slideWidth - offset);\r\n\r\n    };\r\n\r\n    Slick.prototype.setFade = function() {\r\n\r\n        var _ = this,\r\n            targetLeft;\r\n\r\n        _.$slides.each(function(index, element) {\r\n            targetLeft = (_.slideWidth * index) * -1;\r\n            if (_.options.rtl === true) {\r\n                $(element).css({\r\n                    position: 'relative',\r\n                    right: targetLeft,\r\n                    top: 0,\r\n                    zIndex: 800,\r\n                    opacity: 0\r\n                });\r\n            } else {\r\n                $(element).css({\r\n                    position: 'relative',\r\n                    left: targetLeft,\r\n                    top: 0,\r\n                    zIndex: 800,\r\n                    opacity: 0\r\n                });\r\n            }\r\n        });\r\n\r\n        _.$slides.eq(_.currentSlide).css({\r\n            zIndex: 900,\r\n            opacity: 1\r\n        });\r\n\r\n    };\r\n\r\n    Slick.prototype.setHeight = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {\r\n            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);\r\n            _.$list.css('height', targetHeight);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.setOption = Slick.prototype.slickSetOption = function(option, value, refresh) {\r\n\r\n        var _ = this;\r\n        _.options[option] = value;\r\n\r\n        if (refresh === true) {\r\n            _.unload();\r\n            _.reinit();\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.setPosition = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.setDimensions();\r\n\r\n        _.setHeight();\r\n\r\n        if (_.options.fade === false) {\r\n            _.setCSS(_.getLeft(_.currentSlide));\r\n        } else {\r\n            _.setFade();\r\n        }\r\n\r\n        _.$slider.trigger('setPosition', [_]);\r\n\r\n    };\r\n\r\n    Slick.prototype.setProps = function() {\r\n\r\n        var _ = this,\r\n            bodyStyle = document.body.style;\r\n\r\n        _.positionProp = _.options.vertical === true ? 'top' : 'left';\r\n\r\n        if (_.positionProp === 'top') {\r\n            _.$slider.addClass('slick-vertical');\r\n        } else {\r\n            _.$slider.removeClass('slick-vertical');\r\n        }\r\n\r\n        if (bodyStyle.WebkitTransition !== undefined ||\r\n            bodyStyle.MozTransition !== undefined ||\r\n            bodyStyle.msTransition !== undefined) {\r\n            if (_.options.useCSS === true) {\r\n                _.cssTransitions = true;\r\n            }\r\n        }\r\n\r\n        if (bodyStyle.OTransform !== undefined) {\r\n            _.animType = 'OTransform';\r\n            _.transformType = '-o-transform';\r\n            _.transitionType = 'OTransition';\r\n            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;\r\n        }\r\n        if (bodyStyle.MozTransform !== undefined) {\r\n            _.animType = 'MozTransform';\r\n            _.transformType = '-moz-transform';\r\n            _.transitionType = 'MozTransition';\r\n            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.MozPerspective === undefined) _.animType = false;\r\n        }\r\n        if (bodyStyle.webkitTransform !== undefined) {\r\n            _.animType = 'webkitTransform';\r\n            _.transformType = '-webkit-transform';\r\n            _.transitionType = 'webkitTransition';\r\n            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;\r\n        }\r\n        if (bodyStyle.msTransform !== undefined) {\r\n            _.animType = 'msTransform';\r\n            _.transformType = '-ms-transform';\r\n            _.transitionType = 'msTransition';\r\n            if (bodyStyle.msTransform === undefined) _.animType = false;\r\n        }\r\n        if (bodyStyle.transform !== undefined && _.animType !== false) {\r\n            _.animType = 'transform';\r\n            _.transformType = 'transform';\r\n            _.transitionType = 'transition';\r\n        }\r\n        _.transformsEnabled = (_.animType !== null && _.animType !== false);\r\n\r\n    };\r\n\r\n\r\n    Slick.prototype.setSlideClasses = function(index) {\r\n\r\n        var _ = this,\r\n            centerOffset, allSlides, indexOffset, remainder;\r\n\r\n        _.$slider.find('.slick-slide').removeClass('slick-active').attr('aria-hidden', 'true').removeClass('slick-center');\r\n        allSlides = _.$slider.find('.slick-slide');\r\n\r\n        if (_.options.centerMode === true) {\r\n\r\n            centerOffset = Math.floor(_.options.slidesToShow / 2);\r\n\r\n            if (_.options.infinite === true) {\r\n\r\n                if (index >= centerOffset && index <= (_.slideCount - 1) - centerOffset) {\r\n                    _.$slides.slice(index - centerOffset, index + centerOffset + 1).addClass('slick-active').attr('aria-hidden', 'false');\r\n                } else {\r\n                    indexOffset = _.options.slidesToShow + index;\r\n                    allSlides.slice(indexOffset - centerOffset + 1, indexOffset + centerOffset + 2).addClass('slick-active').attr('aria-hidden', 'false');\r\n                }\r\n\r\n                if (index === 0) {\r\n                    allSlides.eq(allSlides.length - 1 - _.options.slidesToShow).addClass('slick-center');\r\n                } else if (index === _.slideCount - 1) {\r\n                    allSlides.eq(_.options.slidesToShow).addClass('slick-center');\r\n                }\r\n\r\n            }\r\n\r\n            _.$slides.eq(index).addClass('slick-center');\r\n\r\n        } else {\r\n\r\n            if (index >= 0 && index <= (_.slideCount - _.options.slidesToShow)) {\r\n                _.$slides.slice(index, index + _.options.slidesToShow).addClass('slick-active').attr('aria-hidden', 'false');\r\n            } else if (allSlides.length <= _.options.slidesToShow) {\r\n                allSlides.addClass('slick-active').attr('aria-hidden', 'false');\r\n            } else {\r\n                remainder = _.slideCount % _.options.slidesToShow;\r\n                indexOffset = _.options.infinite === true ? _.options.slidesToShow + index : index;\r\n                if (_.options.slidesToShow == _.options.slidesToScroll && (_.slideCount - index) < _.options.slidesToShow) {\r\n                    allSlides.slice(indexOffset - (_.options.slidesToShow - remainder), indexOffset + remainder).addClass('slick-active').attr('aria-hidden', 'false');\r\n                } else {\r\n                    allSlides.slice(indexOffset, indexOffset + _.options.slidesToShow).addClass('slick-active').attr('aria-hidden', 'false');\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        if (_.options.lazyLoad === 'ondemand') {\r\n            _.lazyLoad();\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.setupInfinite = function() {\r\n\r\n        var _ = this,\r\n            i, slideIndex, infiniteCount;\r\n\r\n        if (_.options.fade === true) {\r\n            _.options.centerMode = false;\r\n        }\r\n\r\n        if (_.options.infinite === true && _.options.fade === false) {\r\n\r\n            slideIndex = null;\r\n\r\n            if (_.slideCount > _.options.slidesToShow) {\r\n\r\n                if (_.options.centerMode === true) {\r\n                    infiniteCount = _.options.slidesToShow + 1;\r\n                } else {\r\n                    infiniteCount = _.options.slidesToShow;\r\n                }\r\n\r\n                for (i = _.slideCount; i > (_.slideCount -\r\n                        infiniteCount); i -= 1) {\r\n                    slideIndex = i - 1;\r\n                    $(_.$slides[slideIndex]).clone(true).attr('id', '')\r\n                        .attr('data-slick-index', slideIndex - _.slideCount)\r\n                        .prependTo(_.$slideTrack).addClass('slick-cloned');\r\n                }\r\n                for (i = 0; i < infiniteCount; i += 1) {\r\n                    slideIndex = i;\r\n                    $(_.$slides[slideIndex]).clone(true).attr('id', '')\r\n                        .attr('data-slick-index', slideIndex + _.slideCount)\r\n                        .appendTo(_.$slideTrack).addClass('slick-cloned');\r\n                }\r\n                _.$slideTrack.find('.slick-cloned').find('[id]').each(function() {\r\n                    $(this).attr('id', '');\r\n                });\r\n\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.setPaused = function(paused) {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.autoplay === true && _.options.pauseOnHover === true) {\r\n            _.paused = paused;\r\n            _.autoPlayClear();\r\n        }\r\n    };\r\n\r\n    Slick.prototype.selectHandler = function(event) {\r\n\r\n        var _ = this;\r\n\r\n        var targetElement = $(event.target).is('.slick-slide') ?\r\n            $(event.target) :\r\n            $(event.target).parents('.slick-slide');\r\n\r\n        var index = parseInt(targetElement.attr('data-slick-index'));\r\n\r\n        if (!index) index = 0;\r\n\r\n        if (_.slideCount <= _.options.slidesToShow) {\r\n            _.$slider.find('.slick-slide').removeClass('slick-active').attr('aria-hidden', 'true');\r\n            _.$slides.eq(index).addClass('slick-active').attr(\"aria-hidden\", \"false\");\r\n            if (_.options.centerMode === true) {\r\n                _.$slider.find('.slick-slide').removeClass('slick-center');\r\n                _.$slides.eq(index).addClass('slick-center');\r\n            }\r\n            _.asNavFor(index);\r\n            return;\r\n        }\r\n        _.slideHandler(index);\r\n\r\n    };\r\n\r\n    Slick.prototype.slideHandler = function(index, sync, dontAnimate) {\r\n\r\n        var targetSlide, animSlide, oldSlide, slideLeft, targetLeft = null,\r\n            _ = this;\r\n\r\n        sync = sync || false;\r\n\r\n        if (_.animating === true && _.options.waitForAnimate === true) {\r\n            return;\r\n        }\r\n\r\n        if (_.options.fade === true && _.currentSlide === index) {\r\n            return;\r\n        }\r\n\r\n        if (_.slideCount <= _.options.slidesToShow) {\r\n            return;\r\n        }\r\n\r\n        if (sync === false) {\r\n            _.asNavFor(index);\r\n        }\r\n\r\n        targetSlide = index;\r\n        targetLeft = _.getLeft(targetSlide);\r\n        slideLeft = _.getLeft(_.currentSlide);\r\n\r\n        _.currentLeft = _.swipeLeft === null ? slideLeft : _.swipeLeft;\r\n\r\n        if (_.options.infinite === false && _.options.centerMode === false && (index < 0 || index > _.getDotCount() * _.options.slidesToScroll)) {\r\n            if (_.options.fade === false) {\r\n                targetSlide = _.currentSlide;\r\n                if (dontAnimate !== true) {\r\n                    _.animateSlide(slideLeft, function() {\r\n                        _.postSlide(targetSlide);\r\n                    });\r\n                } else {\r\n                    _.postSlide(targetSlide);\r\n                }\r\n            }\r\n            return;\r\n        } else if (_.options.infinite === false && _.options.centerMode === true && (index < 0 || index > (_.slideCount - _.options.slidesToScroll))) {\r\n            if (_.options.fade === false) {\r\n                targetSlide = _.currentSlide;\r\n                if (dontAnimate !== true) {\r\n                    _.animateSlide(slideLeft, function() {\r\n                        _.postSlide(targetSlide);\r\n                    });\r\n                } else {\r\n                    _.postSlide(targetSlide);\r\n                }\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (_.options.autoplay === true) {\r\n            clearInterval(_.autoPlayTimer);\r\n        }\r\n\r\n        if (targetSlide < 0) {\r\n            if (_.slideCount % _.options.slidesToScroll !== 0) {\r\n                animSlide = _.slideCount - (_.slideCount % _.options.slidesToScroll);\r\n            } else {\r\n                animSlide = _.slideCount + targetSlide;\r\n            }\r\n        } else if (targetSlide >= _.slideCount) {\r\n            if (_.slideCount % _.options.slidesToScroll !== 0) {\r\n                animSlide = 0;\r\n            } else {\r\n                animSlide = targetSlide - _.slideCount;\r\n            }\r\n        } else {\r\n            animSlide = targetSlide;\r\n        }\r\n\r\n        _.animating = true;\r\n\r\n        _.$slider.trigger(\"beforeChange\", [_, _.currentSlide, animSlide]);\r\n\r\n        oldSlide = _.currentSlide;\r\n        _.currentSlide = animSlide;\r\n\r\n        _.setSlideClasses(_.currentSlide);\r\n\r\n        _.updateDots();\r\n        _.updateArrows();\r\n\r\n        if (_.options.fade === true) {\r\n            if (dontAnimate !== true) {\r\n                _.fadeSlide(animSlide, function() {\r\n                    _.postSlide(animSlide);\r\n                });\r\n            } else {\r\n                _.postSlide(animSlide);\r\n            }\r\n            _.animateHeight();\r\n            return;\r\n        }\r\n\r\n        if (dontAnimate !== true) {\r\n            _.animateSlide(targetLeft, function() {\r\n                _.postSlide(animSlide);\r\n            });\r\n        } else {\r\n            _.postSlide(animSlide);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.startLoad = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\r\n\r\n            _.$prevArrow.hide();\r\n            _.$nextArrow.hide();\r\n\r\n        }\r\n\r\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\r\n\r\n            _.$dots.hide();\r\n\r\n        }\r\n\r\n        _.$slider.addClass('slick-loading');\r\n\r\n    };\r\n\r\n    Slick.prototype.swipeDirection = function() {\r\n\r\n        var xDist, yDist, r, swipeAngle, _ = this;\r\n\r\n        xDist = _.touchObject.startX - _.touchObject.curX;\r\n        yDist = _.touchObject.startY - _.touchObject.curY;\r\n        r = Math.atan2(yDist, xDist);\r\n\r\n        swipeAngle = Math.round(r * 180 / Math.PI);\r\n        if (swipeAngle < 0) {\r\n            swipeAngle = 360 - Math.abs(swipeAngle);\r\n        }\r\n\r\n        if ((swipeAngle <= 45) && (swipeAngle >= 0)) {\r\n            return (_.options.rtl === false ? 'left' : 'right');\r\n        }\r\n        if ((swipeAngle <= 360) && (swipeAngle >= 315)) {\r\n            return (_.options.rtl === false ? 'left' : 'right');\r\n        }\r\n        if ((swipeAngle >= 135) && (swipeAngle <= 225)) {\r\n            return (_.options.rtl === false ? 'right' : 'left');\r\n        }\r\n        if (_.options.verticalSwiping === true) {\r\n            if ((swipeAngle >= 35) && (swipeAngle <= 135)) {\r\n                return 'left';\r\n            } else {\r\n                return 'right';\r\n            }\r\n        }\r\n\r\n        return 'vertical';\r\n\r\n    };\r\n\r\n    Slick.prototype.swipeEnd = function(event) {\r\n\r\n        var _ = this,\r\n            slideCount;\r\n\r\n        _.dragging = false;\r\n\r\n        _.shouldClick = (_.touchObject.swipeLength > 10) ? false : true;\r\n\r\n        if (_.touchObject.curX === undefined) {\r\n            return false;\r\n        }\r\n\r\n        if (_.touchObject.edgeHit === true) {\r\n            _.$slider.trigger(\"edge\", [_, _.swipeDirection()]);\r\n        }\r\n\r\n        if (_.touchObject.swipeLength >= _.touchObject.minSwipe) {\r\n\r\n            switch (_.swipeDirection()) {\r\n                case 'left':\r\n                    slideCount = _.options.swipeToSlide ? _.checkNavigable(_.currentSlide + _.getSlideCount()) : _.currentSlide + _.getSlideCount();\r\n                    _.slideHandler(slideCount);\r\n                    _.currentDirection = 0;\r\n                    _.touchObject = {};\r\n                    _.$slider.trigger(\"swipe\", [_, \"left\"]);\r\n                    break;\r\n\r\n                case 'right':\r\n                    slideCount = _.options.swipeToSlide ? _.checkNavigable(_.currentSlide - _.getSlideCount()) : _.currentSlide - _.getSlideCount();\r\n                    _.slideHandler(slideCount);\r\n                    _.currentDirection = 1;\r\n                    _.touchObject = {};\r\n                    _.$slider.trigger(\"swipe\", [_, \"right\"]);\r\n                    break;\r\n            }\r\n        } else {\r\n            if (_.touchObject.startX !== _.touchObject.curX) {\r\n                _.slideHandler(_.currentSlide);\r\n                _.touchObject = {};\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.swipeHandler = function(event) {\r\n\r\n        var _ = this;\r\n\r\n        if ((_.options.swipe === false) || ('ontouchend' in document && _.options.swipe === false)) {\r\n            return;\r\n        } else if (_.options.draggable === false && event.type.indexOf('mouse') !== -1) {\r\n            return;\r\n        }\r\n\r\n        _.touchObject.fingerCount = event.originalEvent && event.originalEvent.touches !== undefined ?\r\n            event.originalEvent.touches.length : 1;\r\n\r\n        _.touchObject.minSwipe = _.listWidth / _.options\r\n            .touchThreshold;\r\n\r\n        if (_.options.verticalSwiping === true) {\r\n            _.touchObject.minSwipe = _.listHeight / _.options\r\n                .touchThreshold;\r\n        }\r\n\r\n        switch (event.data.action) {\r\n\r\n            case 'start':\r\n                _.swipeStart(event);\r\n                break;\r\n\r\n            case 'move':\r\n                _.swipeMove(event);\r\n                break;\r\n\r\n            case 'end':\r\n                _.swipeEnd(event);\r\n                break;\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.swipeMove = function(event) {\r\n\r\n        var _ = this,\r\n            edgeWasHit = false,\r\n            curLeft, swipeDirection, swipeLength, positionOffset, touches;\r\n\r\n        touches = event.originalEvent !== undefined ? event.originalEvent.touches : null;\r\n\r\n        if (!_.dragging || touches && touches.length !== 1) {\r\n            return false;\r\n        }\r\n\r\n        curLeft = _.getLeft(_.currentSlide);\r\n\r\n        _.touchObject.curX = touches !== undefined ? touches[0].pageX : event.clientX;\r\n        _.touchObject.curY = touches !== undefined ? touches[0].pageY : event.clientY;\r\n\r\n        _.touchObject.swipeLength = Math.round(Math.sqrt(\r\n            Math.pow(_.touchObject.curX - _.touchObject.startX, 2)));\r\n\r\n        if (_.options.verticalSwiping === true) {\r\n            _.touchObject.swipeLength = Math.round(Math.sqrt(\r\n                Math.pow(_.touchObject.curY - _.touchObject.startY, 2)));\r\n        }\r\n\r\n        swipeDirection = _.swipeDirection();\r\n\r\n        if (swipeDirection === 'vertical') {\r\n            return;\r\n        }\r\n\r\n        if (event.originalEvent !== undefined && _.touchObject.swipeLength > 4) {\r\n            event.preventDefault();\r\n        }\r\n\r\n        positionOffset = (_.options.rtl === false ? 1 : -1) * (_.touchObject.curX > _.touchObject.startX ? 1 : -1);\r\n        if (_.options.verticalSwiping === true) {\r\n            positionOffset = _.touchObject.curY > _.touchObject.startY ? 1 : -1;\r\n        }\r\n\r\n\r\n        swipeLength = _.touchObject.swipeLength;\r\n\r\n        _.touchObject.edgeHit = false;\r\n\r\n        if (_.options.infinite === false) {\r\n            if ((_.currentSlide === 0 && swipeDirection === \"right\") || (_.currentSlide >= _.getDotCount() && swipeDirection === \"left\")) {\r\n                swipeLength = _.touchObject.swipeLength * _.options.edgeFriction;\r\n                _.touchObject.edgeHit = true;\r\n            }\r\n        }\r\n\r\n        if (_.options.vertical === false) {\r\n            _.swipeLeft = curLeft + swipeLength * positionOffset;\r\n        } else {\r\n            _.swipeLeft = curLeft + (swipeLength * (_.$list.height() / _.listWidth)) * positionOffset;\r\n        }\r\n        if (_.options.verticalSwiping === true) {\r\n            _.swipeLeft = curLeft + swipeLength * positionOffset;\r\n        }\r\n\r\n        if (_.options.fade === true || _.options.touchMove === false) {\r\n            return false;\r\n        }\r\n\r\n        if (_.animating === true) {\r\n            _.swipeLeft = null;\r\n            return false;\r\n        }\r\n\r\n        _.setCSS(_.swipeLeft);\r\n\r\n    };\r\n\r\n    Slick.prototype.swipeStart = function(event) {\r\n\r\n        var _ = this,\r\n            touches;\r\n\r\n        if (_.touchObject.fingerCount !== 1 || _.slideCount <= _.options.slidesToShow) {\r\n            _.touchObject = {};\r\n            return false;\r\n        }\r\n\r\n        if (event.originalEvent !== undefined && event.originalEvent.touches !== undefined) {\r\n            touches = event.originalEvent.touches[0];\r\n        }\r\n\r\n        _.touchObject.startX = _.touchObject.curX = touches !== undefined ? touches.pageX : event.clientX;\r\n        _.touchObject.startY = _.touchObject.curY = touches !== undefined ? touches.pageY : event.clientY;\r\n\r\n        _.dragging = true;\r\n\r\n    };\r\n\r\n    Slick.prototype.unfilterSlides = Slick.prototype.slickUnfilter = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.$slidesCache !== null) {\r\n\r\n            _.unload();\r\n\r\n            _.$slideTrack.children(this.options.slide).detach();\r\n\r\n            _.$slidesCache.appendTo(_.$slideTrack);\r\n\r\n            _.reinit();\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.unload = function() {\r\n\r\n        var _ = this;\r\n\r\n        $('.slick-cloned', _.$slider).remove();\r\n        if (_.$dots) {\r\n            _.$dots.remove();\r\n        }\r\n        if (_.$prevArrow && (typeof _.options.prevArrow !== 'object')) {\r\n            _.$prevArrow.remove();\r\n        }\r\n        if (_.$nextArrow && (typeof _.options.nextArrow !== 'object')) {\r\n            _.$nextArrow.remove();\r\n        }\r\n        _.$slides.removeClass('slick-slide slick-active slick-visible').attr(\"aria-hidden\", \"true\").css('width', '');\r\n\r\n    };\r\n\r\n    Slick.prototype.unslick = function() {\r\n\r\n        var _ = this;\r\n        _.destroy();\r\n\r\n    };\r\n\r\n    Slick.prototype.updateArrows = function() {\r\n\r\n        var _ = this,\r\n            centerOffset;\r\n\r\n        centerOffset = Math.floor(_.options.slidesToShow / 2);\r\n\r\n        if (_.options.arrows === true && _.options.infinite !==\r\n            true && _.slideCount > _.options.slidesToShow) {\r\n            _.$prevArrow.removeClass('slick-disabled');\r\n            _.$nextArrow.removeClass('slick-disabled');\r\n            if (_.currentSlide === 0) {\r\n                _.$prevArrow.addClass('slick-disabled');\r\n                _.$nextArrow.removeClass('slick-disabled');\r\n            } else if (_.currentSlide >= _.slideCount - _.options.slidesToShow && _.options.centerMode === false) {\r\n                _.$nextArrow.addClass('slick-disabled');\r\n                _.$prevArrow.removeClass('slick-disabled');\r\n            } else if (_.currentSlide >= _.slideCount - 1 && _.options.centerMode === true) {\r\n                _.$nextArrow.addClass('slick-disabled');\r\n                _.$prevArrow.removeClass('slick-disabled');\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.updateDots = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.$dots !== null) {\r\n\r\n            _.$dots.find('li').removeClass('slick-active').attr(\"aria-hidden\", \"true\");\r\n            _.$dots.find('li').eq(Math.floor(_.currentSlide / _.options.slidesToScroll)).addClass('slick-active').attr(\"aria-hidden\", \"false\");\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.visibility = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (document[_.hidden]) {\r\n            _.paused = true;\r\n            _.autoPlayClear();\r\n        } else {\r\n            _.paused = false;\r\n            _.autoPlay();\r\n        }\r\n\r\n    };\r\n\r\n    $.fn.slick = function() {\r\n        var _ = this,\r\n            opt = arguments[0],\r\n            args = Array.prototype.slice.call(arguments, 1),\r\n            l = _.length,\r\n            i = 0,\r\n            ret;\r\n        for (i; i < l; i++) {\r\n            if (typeof opt == 'object' || typeof opt == 'undefined')\r\n                _[i].slick = new Slick(_[i], opt);\r\n            else\r\n                ret = _[i].slick[opt].apply(_[i].slick, args);\r\n            if (typeof ret != 'undefined') return ret;\r\n        }\r\n        return _;\r\n    };\r\n\r\n}));\r\n","Steam — 顶级在线游戏平台_files/store.css":"\r\n* {\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n}\r\n\r\nimg {\r\n\tborder: none;\r\n}\r\n\r\n\r\na {\r\n\ttext-decoration: none;\r\n\tcolor: #ffffff;\r\n}\r\n\r\n\r\n.a:focus {\r\n\toutline: 0px none;\r\n}\r\n\r\na:hover {\r\n\ttext-decoration: none;\r\n    color: #66c0f4;\r\n}\r\n\r\na.nohover:hover {\r\n\ttext-decoration: none;\r\n}\r\n\r\n\r\nhtml {\r\n\theight: 100%;\r\n}\r\n\r\nbody.v6 {\r\n\tposition: relative;\r\n\tmin-height: 100%;\r\n\tfont-family: Arial, Helvetica, sans-serif;\r\n\tcolor: #c6d4df;\r\n\tfont-size: 12px;\r\n}\r\n\r\nbody.v6.in_client {\r\n\tbackground-position: center top;\r\n}\r\n\r\nbody.v6.game_bg {\r\n    background: #1b2838;\r\n}\r\n\r\nbody.v6 > div#global_header {\r\n\tborder-bottom-color: #171a21;\r\n}\r\n\r\n.v6_bg {\r\n\t/* background: url( '/public/images/v6/tag_browse_header_bg.png' ) no-repeat center top; */\r\n}\r\n\r\nbody.blue .v6_bg {\r\n\tbackground:\r\n\t\turl( '/public/images/v6/blue_top_center.png' ) center top no-repeat,\r\n\t\turl( '/public/images/v6/blue_top_repeat.png' ) center top repeat-x\r\n;\r\n\r\n\tmin-height: 370px;\r\n}\r\n\r\nbody.v6 div#store_header {\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.page_background {\r\n\tbackground-position: center top;\r\n\tbackground-repeat: no-repeat;\r\n}\r\n\r\nbody.v6 #footer {\r\n\tfont-family: Arial, Helvetica, sans-serif;\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tpadding: 16px 0 60px 0;\r\n\tmargin: 0;\r\n\r\n\ttext-size-adjust: none;\r\n\t-webkit-text-size-adjust: none;\r\n\r\n    background: #171a21;\r\n}\r\n\r\n\tbody.v6.infinite_scrolling #footer.small_footer {\r\n\t\tposition: relative;\r\n\t\ttop: auto;\r\n\t\tbottom: auto;\r\n\t}\r\n\r\n\tbody.v6.infinite_scrolling #footer_spacer.small_footer {\r\n\t\theight: 50px;\r\n\t}\r\n\r\n    body.v6 #footer .footer_content {\r\n        width: 940px;\r\n        margin: 0px auto;\r\n        padding-top: 16px;\r\n    }\r\n    body.v6 #footer #footer_logo {\r\n        float: left;\r\n        padding-top: 2px;\r\n    }\r\n    body.v6 #footer #footer_logo img {\r\n        height: 25px;\r\n        width: auto;\r\n    }\r\n\tbody.v6 #footer #footer_logo_steam {\r\n\t\tfloat: right;\r\n\t\tpadding-top: 2px;\r\n\t}\r\n    body.v6 #footer #footer_text {\r\n        float: left;\r\n        margin-left: 12px;\r\n        color: #8F98A0;\r\n\t\tfont-size: 12px;\r\n\t\tline-height: 16px;\r\n    }\r\n    body.v6 #footer #footer_text a {\r\n        color: #C6D4DF;\r\n    }\r\n    body.v6 #footer #footer_text a:hover {\r\n        color: #ffffff;\r\n    }\r\n    body.v6 #footer .rule{\r\n        height: 8px;\r\n\t\tborder-top: 1px solid #363c44;\r\n    }\r\n    body.v6 #footer .valve_links {\r\n        margin-top: 8px;\r\n        float: left;\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: normal; /* normal */\r\n\r\n\t\t        font-size: 13px;\r\n        color: #61686D;\r\n    }\r\n    body.v6 #footer .valve_links a {\r\n       color: #C6D4DF;\r\n    }\r\n    body.v6 #footer .valve_links a:hover {\r\n        color: #ffffff;\r\n    }\r\n\tbody.v6 #footer .valve_links img {\r\n\t\tvertical-align: bottom;\r\n\t}\r\n    body.v6 #footer_nav .pulldown {\r\n        color: #969eab !important;\r\n        background: rgba(150, 158, 171, 0.3);\r\n    }\r\n\r\n\r\n\r\nbody #footer .responsive_optin_link {\r\n\tdisplay: none;\r\n}\r\n\r\nbody.v6.blue #footer {\r\n\tbackground: #000000;\r\n}\r\n\r\nbody.v6 #footer_spacer {\r\n\theight: 290px;\r\n}\r\n\r\nhtml.force_desktop body.v6 #footer_spacer {\r\n\theight: 345px;\r\n}\r\n\r\n\r\n\r\nbody.v6 > .perf_timing_area .perf_timing_link {\r\n\tposition: absolute;\r\n\tleft: 15px;\r\n\tbottom: 15px;\r\n}\r\n\r\n.perf_timing_data {\r\n\tposition: relative;\r\n\tbackground-color: #000000;\r\n\tmargin: 0px auto 48px auto;\r\n\tpadding: 8px;\r\n\ttext-align: left;\r\n\twidth: 936px;\r\n\tfont-size: 14px;\r\n\tz-index: 5;\r\n}\r\n\r\nbody.v6 h2 {\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 300; /* light */\r\n\r\n\t\t\tfont-size: 14px;\r\n\ttext-transform: uppercase;\r\n\tcolor: #fff;\r\n\tmargin: 0 0 10px;\r\n\tletter-spacing: 2px;\r\n\tfont-weight: normal;\r\n\tpadding-top: 2px;\r\n}\r\nbody.v6 h2 a {\r\n    color: #67c1f5;\r\n    text-decoration: none;\r\n}\r\nbody.v6 h2 a:hover {\r\n    color: #ffffff;\r\n    text-decoration: none;\r\n}\r\n\r\nbody.v6 .home_rightcol h2 {\r\n    margin-bottom: 7px;\r\n    margin-top: 0px;\r\n}\r\nbody.v6 .home_rightcol.recommended h2, body.v6 .home_leftcol h2 {\r\n    margin-top: 30px;\r\n    margin-bottom: 7px;\r\n}\r\n\r\nbody.v6 .responsive_home_spotlight_recommended .home_leftcol .spotlight_content h2 {\r\n\tmargin-bottom: 2px;\r\n\tmargin-top: 1px;\r\n}\r\n\r\nbody.v6 .discovery_queue_ctn h2, body.v6 .steam_curators_ctn h2, body.v6  .apps_recommended_by_curators_ctn h2 {\r\n    margin-top: 40px;\r\n    margin-bottom: 7px;\r\n}\r\n\r\nbody.v6 .upcoming_queue_ctn h2, body.v6 .steam_curators_ctn h2 {\r\n    margin-top: 40px;\r\n    margin-bottom: 7px;\r\n}\r\n\r\nbody.v6 h2 .header_inline {\r\n\tcolor: #9099a1;\r\n\tfont-size: 17px;\r\n}\r\n\r\nbody.v6 h2 .header_inline a {\r\n\tcolor: #c6d4df;\r\n\tcursor: pointer;\r\n}\r\nbody.v6 h2 .header_inline a:hover {\r\n\tcolor: #67c1f5;\r\n}\r\n\r\nbody.v6 h2.pageheader {\r\n\tcolor: #ffffff;\r\n\tfont-size: 34px;\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 300; /* light */\r\n\r\n\t\t\ttext-shadow: 1px 1px 0 rgba( 0, 0, 0, 0.4 );\r\n\tmargin-top: -4px;\r\n}\r\n\r\nbody.v6 h3 {\r\n\tcolor: #ffffff;\r\n\tfont-size: 22px;\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: normal; /* normal */\r\n\r\n\t\t\tfont-weight: normal;\r\n}\r\n\r\nbody.v6 .page_content {\r\n\twidth: 940px;\r\n\tmargin: 0 auto;\r\n}\r\n\r\n.ellipsis {\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n}\r\n\r\n.page_header_ctn {\r\n    background: url('/public/images//v6/temp/cluster_bg.png' ) bottom center no-repeat;\r\n    padding-bottom: 64px;\r\n    margin-bottom: -30px;\r\n}\r\n\r\n.page_header_ctn.tabs {\r\n    padding-bottom: 100px;\r\n    margin-bottom: -78px;\r\n}\r\n\r\n.page_header_ctn.tabs.capsules {\r\n    padding-bottom: 100px;\r\n    margin-bottom: -78px;\r\n\toverflow: hidden;\r\n}\r\n\r\n.discovery_queue_content_ctn {\r\n\toverflow: hidden;\r\n\tmargin-top: 26px;\r\n}\r\nbody.v6.explore .page_header_ctn {\r\n\tpadding-bottom: 30px;\r\n\tmargin-bottom: -20px;\r\n}\r\n\r\n.breadcrumbs {\r\n    color: #56707f;\r\n    font-size: 12px;\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: normal; /* normal */\r\n\r\n\t\t\tpadding-top: 10px;\r\n}\r\n.breadcrumbs a {\r\n    color: #8f98a0;\r\n}\r\n.breadcrumbs a:hover {\r\n    color: #ffffff;\r\n    text-decoration: none;\r\n}\r\n\r\ndiv.leftcol {\r\n\twidth: 616px;\r\n\tfloat: left;\r\n}\r\ndiv.leftcol.large {\r\n    width: 686px;\r\n}\r\ndiv.leftcol.small {\r\n\twidth: 458px;\r\n}\r\n\r\ndiv.rightcol {\r\n\twidth: 308px;\r\n\tmargin-left: 14px;\r\n\tfloat: right;\r\n}\r\ndiv.rightcol.small {\r\n\twidth: 238px;\r\n}\r\ndiv.rightcol.large {\r\n\twidth: 466px;\r\n}\r\n\r\n\r\n\r\n.store_tooltip {\r\n\tbackground: #c2c2c2;\r\n\tcolor: #3d3d3f;\r\n\tfont-size: 11px;\r\n\tborder-radius: 3px;\r\n\tpadding: 5px;\r\n\tmax-width: 275px;\r\n\twhite-space: normal;\r\n\tbox-shadow: 0 0 3px #000000;\r\n\tword-wrap: break-word;\r\n}\r\n\r\n.store_tooltip ul {\r\n\tpadding-left: 15px;\r\n}\r\n\r\n\r\nbody.v6 .supernav_content, body.v6 #global_header, body.v6 #global_header .content\r\n{\r\n\tbackground: #171a21;\r\n}\r\n\r\nbody.v6 #store_header {\r\n\tpadding-left: 0;\r\n\tpadding-right: 0;\r\n}\r\n\r\n\r\n/*\r\n * STORE-SPECIFIC HEADER\r\n */\r\n\r\n\r\n\r\ndiv#store_header {\r\n\tbackground-color: #3b3938;\r\n\tmin-width: 940px;\r\n\tmargin-bottom: 16px;\r\n}\r\n\r\ndiv#store_header .content {\r\n\tposition: relative;\r\n\twidth: 940px;\r\n\tmargin: 0 auto;\r\n\tz-index: 300;\r\n}\r\n\r\ndiv#store_header, div#store_header .content {\r\n\theight: 66px;\r\n}\r\n\r\ndiv#store_header.dlc, div#store_header.dlc .content {\r\n\theight: 29px;\r\n}\r\n\r\ndiv#store_controls {\r\n\tposition: absolute;\r\n\tright: 0;\r\n\ttop: 10px;\r\n\ttext-align: right;\r\n\tz-index: 300;\r\n\tfont-size: 11px;\r\n}\r\n\r\ndiv.store_header_btn {\r\n\theight: 20px;\r\n\tposition: relative;\r\n\tmargin-left: 1px;\r\n    border-radius: 1px;\r\n\tfloat: left;\r\n}\r\n\r\na.store_header_btn_content {\r\n\tdisplay: inline-block;\r\n\r\n\tpadding: 0 25px;\r\n\tmargin: 0 1px;\r\n\r\n\tline-height: 20px;\r\n\ttext-align: center;\r\n\ttext-transform: uppercase;\r\n\tfont-size: 11px;\r\n}\r\n\r\na.store_header_btn_content:hover {\r\n\ttext-decoration: none;\r\n}\r\n\r\n.store_header_btn_gray {\r\n\tbackground-color: rgba( 255, 255, 255, 0.4 );\r\n    border-radius: 1px;\r\n}\r\n\r\n.store_header_btn_gray a {\r\n\tcolor: #ffffff;\r\n}\r\n\r\n.store_header_btn_gray a:hover {\r\n    color: #111111;\r\n    border-radius: 1px;\r\n    background: #ffffff; /* Old browsers */\r\n    background: -moz-linear-gradient(-60deg,  #ffffff 0%, #919aa3 100%); /* FF3.6+ */\r\n    background: -webkit-gradient(linear, left top, right bottom, color-stop(0%,#ffffff), color-stop(100%,#919aa3)); /* Chrome,Safari4+ */\r\n    background: -webkit-linear-gradient(-60deg,  #ffffff 0%,#919aa3 100%); /* Chrome10+,Safari5.1+ */\r\n    background: -o-linear-gradient(-60deg,  #ffffff 0%,#919aa3 100%); /* Opera 11.10+ */\r\n    background: -ms-linear-gradient(-60deg,  #ffffff 0%,#919aa3 100%); /* IE10+ */\r\n    background: linear-gradient(135deg,  #ffffff 0%,#919aa3 100%); /* W3C */\r\n    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#919aa3',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */\r\n\r\n}\r\n\r\n.store_header_btn_green {\r\n\tbackground-color: rgba( 164, 208, 7, 0.4 );\r\n}\r\n\r\n.store_header_btn_green a {\r\n\tcolor: #a4d007;\r\n}\r\n\r\n.store_header_btn_green a:hover {\r\n\tcolor: #111111;\r\n\tbackground-color: rgba( 164, 208, 7, 0.50 );\r\n}\r\n\r\ndiv#store_search {\r\n\tfloat: right;\r\n\tpadding: 3px 4px 2px;\r\n\theight: 30px;\r\n}\r\n\r\na#store_search_link {\r\n\tposition: absolute;\r\n\tright: 2px;\r\n\ttop: 0;\r\n}\r\n\r\na#store_search_link img {\r\n\twidth: 24px;\r\n\theight: 27px;\r\n}\r\n\r\n.searchbox {\r\n\r\n\tbackground-image: url( '/public/images/v6/store_header_search.png?v=1' );\r\n\r\n\tcolor: #a6a5a2;\r\n\twidth: 216px;\r\n\theight: 30px;\r\n\r\n\tposition: relative;\r\n\tz-index: 150;\r\n\tcursor: text;\r\n}\r\n.searchbox:hover {\r\n    background-image: url( '/public/images/v6/store_header_search_hover.png' );\r\n}\r\n\r\n\r\n.searchbox input {\r\n\tborder: none;\r\n\tbackground-color: transparent;\r\n\tcolor: #eeeeee;\r\n\tmargin-top: 2px;\r\n\tmargin-left: 8px;\r\n\twidth: 180px;\r\n\toutline: none;\r\n\tline-height: 26px;\r\n}\r\n\r\n.searchbox input.default {\r\n\tfont-style: italic;\r\n    color: #305d8a;\r\n}\r\n\r\n.searchbox input:focus::placeholder {\r\n\tcolor: transparent;\r\n}\r\n\r\n#store_nav_area {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\tright: 0;\r\n\ttop: 24px;\r\n\theight: 49px;\r\n}\r\n\r\n#store_nav_area .store_nav_bg {\r\n\theight: 35px;\r\n\tmargin: 7px 0;\r\n\tbackground: rgba( 103, 193, 245, 0.4 );\r\n\r\n}\r\n\r\n.store_nav {\r\n\theight: 35px;\r\n}\r\n\r\n.store_nav .tab {\r\n\tfloat: left;\r\n\r\n\r\n\tborder-right: 1px solid #000000;\r\n\r\n\tcursor: pointer;\r\n}\r\n\r\n\r\n.tab.active.tab_filler {\r\n\theight: 26px;\r\n\tmargin-bottom: -1px;\r\n}\r\n\r\n.tab_page_link_holder {\r\n    position: relative;\r\n    text-align: center;\r\n    height: 24px;\r\n    line-height: 24px;\r\n    margin-top: 1px;\r\n    background-color: #262626;\r\n    color: #626366;\r\n    font-size: 10px;\r\n}\r\n.tab_page_link_prev a, .tab_page_link_next a {\r\n    position: absolute;\r\n    height: 24px;\r\n    padding: 0px 16px;\r\n    color: #67c1f5;\r\n}\r\n.tab_page_link_prev a img, .tab_page_link_next a img {\r\n    top: 2px;\r\n}\r\n.tab_page_link_prev a:hover, .tab_page_link_next a:hover {\r\n    position: absolute;\r\n    height: 24px;\r\n    padding: 0px 16px;\r\n    text-decoration: none;\r\n    color: #ffffff;\r\n    background: #67c1f5; /* Old browsers */\r\n    background: -moz-linear-gradient(-60deg,  #67c1f5 0%, #417a9b 100%); /* FF3.6+ */\r\n    background: -webkit-gradient(linear, left top, right bottom, color-stop(0%,#67c1f5), color-stop(100%,#417a9b)); /* Chrome,Safari4+ */\r\n    background: -webkit-linear-gradient(-60deg,  #67c1f5 0%,#417a9b 100%); /* Chrome10+,Safari5.1+ */\r\n    background: -o-linear-gradient(-60deg,  #67c1f5 0%,#417a9b 100%); /* Opera 11.10+ */\r\n    background: -ms-linear-gradient(-60deg,  #67c1f5 0%,#417a9b 100%); /* IE10+ */\r\n    background: linear-gradient(135deg,  #67c1f5 0%,#417a9b 100%); /* W3C */\r\n    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#67c1f5', endColorstr='#417a9b',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */\r\n}\r\n.tab_page_link_next a {\r\n    right: 0px;\r\n}\r\n.tab_page_link_prev a {\r\n    left: 0px;\r\n}\r\n\r\n.store_nav .tab.focus {\r\n\tbackground-color: #67c1f5;\r\n}\r\n\r\n#genre_flyout {\r\n\ttop: 55px;\r\n}\r\n\r\n\r\n.store_nav .tab {\r\n\tpadding: 1px;\r\n\tdisplay: inline-block;\r\n\ttext-decoration: none;\r\n\tcursor: pointer;\r\n\r\n}\r\n.store_nav .tab > span {\r\n\r\n\tfont-size: 12px;\r\n\tcolor: #67c1f5;\r\n\tline-height: 33px;\r\n\tpadding: 0 15px;\r\n\r\n\tdisplay: block;\r\n}\r\n\r\n.store_nav .tab.lesspadding > span {\r\n\tpadding: 0 12px;\r\n}\r\n\r\n\r\n.store_nav .tab:hover > span, .store_nav .tab:hover, .store_nav .tab.focus > span, .store_nav .tab.focus {\r\n\tfilter: none;\r\n    color: #ffffff;\r\n    background: #67c1f5; /* Old browsers */\r\n    background: -moz-linear-gradient(-60deg,  #67c1f5 0%, #417a9b 100%); /* FF3.6+ */\r\n    background: -webkit-gradient(linear, left top, right bottom, color-stop(0%,#67c1f5), color-stop(100%,#417a9b)); /* Chrome,Safari4+ */\r\n    background: -webkit-linear-gradient(-60deg,  #67c1f5 0%,#417a9b 100%); /* Chrome10+,Safari5.1+ */\r\n    background: -o-linear-gradient(-60deg,  #67c1f5 0%,#417a9b 100%); /* Opera 11.10+ */\r\n    background: -ms-linear-gradient(-60deg,  #67c1f5 0%,#417a9b 100%); /* IE10+ */\r\n    background: linear-gradient(135deg,  #67c1f5 0%,#417a9b 100%); /* W3C */\r\n    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#67c1f5', endColorstr='#417a9b',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */\r\n\r\n}\r\n\r\n.store_nav .tab.active, .store_nav .tab.active:hover {\r\n}\r\n\r\n.store_nav .tab.active > span, \t.store_nav .tab.active:hover > span {\r\n}\r\n\r\n.store_nav .tab > span.pulldown {\r\n\tpadding-right: 7px;\r\n    margin-right: 3px;\r\n\tbackground: none;\r\n}\r\n\r\n.store_nav .tab > span.pulldown > span {\r\n\twidth: 19px;\r\n\theight: 16px;\r\n\tpadding: 0;\r\n\tdisplay: inline-block;\r\n\tbackground-image: url( '/public/images/v6/btn_arrow_down_padded.png' );\r\n\tbackground-position: center;\r\n\tbackground-repeat: no-repeat;\r\n\tcursor: pointer;\r\n\tvertical-align: text-bottom;\r\n}\r\n\r\n.store_nav .tab:hover > span.pulldown > span {\r\n    background-image: url( '/public/images/v6/btn_arrow_down_padded_white.png' );\r\n}\r\n\r\n.store_nav .tab img.foryou_avatar {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tvertical-align: text-bottom;\r\n\tmargin-right: 6px;\r\n}\r\n\r\n\r\n/*\r\n * SEARCH SUGGESTIONS\r\n */\r\n\r\n\r\n\r\n\r\n.search_suggest {\r\n\ttext-align: left;\r\n\twidth: 430px;\r\n\r\n\ttop: 39px;\r\n\tright: 4px;\r\n}\r\n\r\n.search_suggest .match {\r\n\tdisplay: block;\r\n\tposition: relative;\r\n\theight: 54px;\r\n\toverflow: hidden;\r\n\tborder-top: 1px solid #13242e;\r\n}\r\n\r\n\r\n.search_suggest .match:hover {\r\n\ttext-decoration: none;\r\n}\r\n\r\n.search_suggest .match .match_img {\r\n\tposition: absolute;\r\n\tleft: 4px;\r\n\ttop: 4px;\r\n}\r\n\r\n.search_suggest .match .match_img img {\r\n\twidth: 120px;\r\n\theight: 45px;\r\n}\r\n\r\n.search_suggest .match .match_name {\r\n\tposition: absolute;\r\n\tleft: 134px;\r\n\ttop: 12px;\r\n\twidth: 258px;\r\n\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n\r\n\tfont-size: 14px;\r\n\tcolor: #ffffff;\r\n}\r\n\r\n.search_suggest .match .match_price {\r\n\tposition: absolute;\r\n\tleft: 134px;\r\n\ttop: 30px;\r\n}\r\n\r\n.search_suggest .match .ds_flag {\r\n\ttop: 18px;\r\n\tleft: 4px;\r\n}\r\n\r\n.slider_ctn {\r\n\tposition: relative;\r\n\theight: 18px;\r\n\r\n\t-webkit-touch-callout: none;\r\n\t-webkit-user-select: none;\r\n\t-khtml-user-select: none;\r\n\t-moz-user-select: none;\r\n\t-ms-user-select: none;\r\n\tuser-select: none;\r\n}\r\n.slider_ctn.spotlight {\r\n    width: 308px;\r\n}\r\n\r\n.slider_ctn.store_autoslider {\r\n\tbackground: #122333;\r\n}\r\n\r\n.slider_ctn.store_autoslider .handle {\r\n\tbackground-color: rgba( 0, 0, 0, 0.5 );\r\n}\r\n\r\n.slider {\r\n\tposition: absolute;\r\n\tleft: 39px;\r\n\tright: 39px;\r\n\ttop: 0;\r\n\tbottom: 0;\r\n\tbackground-color: rgba( 0, 0, 0, 0.2 );\r\n\tborder-radius: 3px;\r\n}\r\n\r\n.slider.slider_text {\r\n\topacity: 0.2;\r\n\ttext-align: center;\r\n\tline-height: 13px;\r\n\tfont-size: 10px;\r\n\tcolor: #ffffff;\r\n}\r\n\r\n.slider_ctn .handle {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n    background-color: rgba( 0, 0, 0, 0.2 );\r\n\tborder-radius: 3px;\r\n\theight: 18px;\r\n\twidth: 60px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.slider_ctn .slider_left, .slider_ctn .slider_right {\r\n\tposition: absolute;\r\n\twidth: 38px;\r\n\ttop: 0;\r\n\tbottom: 0;\r\n\tbackground-color: rgba( 0, 0, 0, 0.4 );\r\n\tborder-radius: 3px;\r\n\tcursor: pointer;\r\n}\r\n.highlight_ctn .slider_ctn .slider_left, .highlight_ctn .slider_ctn .slider_right, .highlight_ctn .slider .handle {\r\n\tbackground-color: rgba( 35, 60, 81, 0.4 );\r\n}\r\n\r\n.slider_ctn .slider_left:hover, .slider_ctn .slider_right:hover, .slider .handle:hover {\r\n    background: #3d6c8d; /* Old browsers */\r\n    background: -moz-linear-gradient(-45deg,  #3d6c8d 0%, #2e5470 100%); /* FF3.6+ */\r\n    background: -webkit-gradient(linear, left top, right bottom, color-stop(0%,#3d6c8d), color-stop(100%,#2e5470)); /* Chrome,Safari4+ */\r\n    background: -webkit-linear-gradient(-45deg,  #3d6c8d 0%,#2e5470 100%); /* Chrome10+,Safari5.1+ */\r\n    background: -o-linear-gradient(-45deg,  #3d6c8d 0%,#2e5470 100%); /* Opera 11.10+ */\r\n    background: -ms-linear-gradient(-45deg,  #3d6c8d 0%,#2e5470 100%); /* IE10+ */\r\n    background: linear-gradient(135deg,  #3d6c8d 0%,#2e5470 100%); /* W3C */\r\n    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#3d6c8d', endColorstr='#2e5470',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */\r\n\r\n}\r\n\r\n.slider_left {\r\n\tleft: 0;\r\n}\r\n\r\n.slider_right {\r\n\tright: 0;\r\n}\r\n.slider_right span {\r\n    display: inline-block;\r\n    background-position: -9px 0px;\r\n    background-repeat: no-repeat;\r\n    background-image: url('/public/images//v6/icon_cluster_controls.png');\r\n    width: 9px;\r\n    height: 7px;\r\n    margin-left: 15px;\r\n    margin-top: 5px;\r\n}\r\n.slider_left span {\r\n    display: inline-block;\r\n    background-position: -18px 0px;\r\n    background-repeat: no-repeat;\r\n    background-image: url('/public/images//v6/icon_cluster_controls.png');\r\n    width: 9px;\r\n    height: 7px;\r\n    margin-left: 13px;\r\n    margin-top: 5px;\r\n}\r\n.slider_right:hover span {\r\n    background-position: -9px -7px;\r\n}\r\n.slider_left:hover span {\r\n    background-position: -18px -7px;\r\n}\r\n\r\n.slider_left.disabled, .slider_right.disabled {\r\n\topacity: 0.4;\r\n\tcursor: default;\r\n}\r\n\r\n.store_horizontal_autoslider_ctn {\r\n\toverflow: hidden;\r\n\tmargin-bottom: 2px;\r\n\t/* DO NOT set padding on this element! It will bork the horizontal scrollbar calculations. Use margin instead. */\r\n}\r\n\r\n.store_horizontal_minislider_ctn {\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n}\r\n\r\n.store_horizontal_minislider {\r\n\toverflow-x: auto;\r\n}\r\n\r\n.store_horizontal_minislider_ctn .slider_left,\r\n.store_horizontal_minislider_ctn .slider_right {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tbottom: 0;\r\n\tbackground: #1b2e40;\r\n\tcursor: pointer;\r\n\tborder-radius: 3px;\r\n\tpadding: 5px 8px;\r\n}\r\n\r\n.store_horizontal_minislider_ctn .slider_left {\r\n\tbox-shadow: 1px 0 4px 0 rgba( 0, 0, 0, 0.75 );\r\n}\r\n\r\n.store_horizontal_minislider_ctn .slider_right {\r\n\tbox-shadow: -1px 0 4px 0 rgba( 0, 0, 0, 0.75 );\r\n}\r\n\r\n.store_horizontal_minislider_ctn .slider_left > span,\r\n.store_horizontal_minislider_ctn .slider_right > span\r\n{\r\n\tmargin: 0;\r\n}\r\n\r\n.discount_block.no_discount .discount_prices {\r\n    background: none;\r\n}\r\n.discount_block.no_discount.main_cap_discount {\r\n    background: #000000;\r\n}\r\n.discount_block {\r\n\tposition: relative;\r\n}\r\n.discount_block .discount_prices {\r\n    background: #000000;\r\n}\r\n\r\n\r\n.discount_block .discount_pct, .discount_pct {\r\n\tcolor: #a4d007;\r\n\tbackground: #4c6b22;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.discount_block .bundle_base_discount {\r\n\tdisplay: inline-block;\r\n\ttext-decoration: line-through;\r\n\tcolor: #626366;\r\n}\r\n.discount_block.discount_block_spotlight .bundle_base_discount {\r\n    color: #2a2b2c;\r\n    background: rgba(0,0,0,0.1);\r\n}\r\n.discount_block.no_discount.daily_deal_discount .bundle_base_discount {\r\n    color: #2a2b2c;\r\n    background: rgba(0,0,0,0.1);\r\n}\r\n\r\n.discount_block.no_discount .bundle_base_discount {\r\n\ttext-decoration: none;\r\n\tcolor: #b0aeac;\r\n\tborder-right: 1px solid #626366;\r\n}\r\n\r\n.discount_original_price, .discount_final_price {\r\n\tfont-family: Tahoma, Arial, Helvetica, sans-serif;\r\n}\r\n\r\n.discount_block .discount_prices {\r\n\tdisplay: inline-block;\r\n\tvertical-align: bottom;\r\n\ttext-align: right;\r\n\r\n}\r\n.home_tabs_content .discount_block .discount_prices, .tab_content_ctn .discount_block .discount_prices  {\r\n\tbackground: transparent;\r\n}\r\n.home_tabs_content .tab_item_discount.no_discount {\r\n\tmargin-top: 24px;\r\n}\r\n.home_tabs_content .tab_item_discount {\r\n\tmargin-top: 17px;\r\n}\r\n\r\n.discount_original_price {\r\n\ttext-decoration: line-through;\r\n\tcolor: #626366;\r\n\tfont-size: 11px;\r\n}\r\n.game_purchase_discount .discount_original_price {\r\n    position: absolute;\r\n    left: 76px;\r\n    top: 2px;\r\n    font-size: 11px;\r\n}\r\n\r\n.discount_final_price {\r\n\tcolor: #acdbf5;\r\n\tfont-size: 13px;\r\n}\r\n\r\n.discount_block_large {\r\n}\r\n\r\n.discount_block_large .discount_pct,\r\n.discount_block_large .bundle_base_discount {\r\n\tline-height: 34px;\r\n\tpadding: 0 5px;\r\n\r\n\tfont-size: 26px;\r\n}\r\n.discount_block_large .discount_prices {\r\n\tline-height: 13px;\r\n\tpadding: 4px 10px 4px 7px;\r\n}\r\n\r\n.discount_block_inline {\r\n\tline-height: 15px;\r\n}\r\n\r\n.discount_block_inline .discount_original_price, .discount_block_inline .discount_final_price {\r\n\tdisplay: inline;\r\n}\r\n\r\n.discount_block_inline .discount_final_price {\r\n\tpadding-left: 4px;\r\n\tfont-size: 11px;\r\n}\r\n\r\n.discount_block_inline.no_discount .discount_final_price {\r\n\tpadding-left: 0;\r\n}\r\n\r\n.discount_block_inline .discount_pct,\r\n.discount_block_inline .bundle_base_discount {\r\n\tpadding: 0 3px;\r\n}\r\n\r\n.discount_block_inline .discount_prices {\r\n\tpadding: 0 5px;\r\n}\r\n.discount_block_inline.no_discount .discount_prices {\r\n    padding: 0;\r\n}\r\n\r\n.discount_block.no_discount .discount_original_price {\r\n\tdisplay: none;\r\n}\r\n\r\n.discount_block.no_discount .discount_final_price {\r\n\r\n}\r\n\r\n.discount_block.game_purchase_discount.no_discount .discount_final_price.your_price {\r\n\tline-height: normal;\r\n}\r\n\r\n\r\n.discount_block.game_purchase_discount.no_discount .discount_final_price.your_price .your_price_label {\r\n\tfont-size: 10px;\r\n}\r\n\r\n.discount_block_collapsable {\r\n\tposition: relative;\r\n\r\n\tmax-width: 120px;\r\n}\r\n\r\n.discount_block_collapsable .discount_collapse_final_price {\r\n\tbackground: #000000;\r\n\tpadding-left: 4px;\r\n\tpadding-right: 5px;\r\n\tposition: absolute;\r\n\tright: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.discount_block.suppress_discount_pct .discount_pct,\r\n.discount_block.no_discount .discount_pct {\r\n\tdisplay: none;\r\n}\r\n\r\n.discount_block.game_purchase_discount.no_discount .discount_final_price {\r\n\tpadding-top: 0;\r\n\tpadding-bottom: 0;\r\n\tline-height: 32px;\r\n}\r\n\r\n/* lunar sale 2019 */\r\n\r\n.additional_cart_discount {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 0;\r\n\ttext-align: right;\r\n\tpointer-events: none;\r\n\tuser-select: none;\r\n\r\n\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\r\n\tbackground-image: url( '/public/images/v6/events/lunarsale_2020/redenvelope_blank.png?v=1' );\r\n\tbackground-size: 100% 100%;\r\n\t\r\n\tcolor: rgb(255, 212, 26);\r\n\tbackground-color: rgb(168, 28, 28);\r\n\tpadding: 4px 8px;\r\n\r\n\tbox-shadow: 1px 4px 16px 0 #000000;\r\n\ttransform: rotateZ( 20deg );\r\n\t\r\n\t\r\n\tz-index: 300;\r\n\r\n\tanimation-duration: 1s;\r\n\tanimation-timing-function: ease-in-out;\r\n\tanimation-iteration-count: infinite;\r\n\tanimation-fill-mode: both;\r\n}\r\n\r\n.additional_cart_discount.NowFree {\r\n\tbackground-image: url( '/public/images/v6/events/lunarsale_2020/redenvelope_free.png?v=1' );\r\n\tbox-shadow: 0px 0px 16px 0 #ff9c1b;\r\n}\r\n\r\n.special_discount .discount_block.discount_block_inline.additional_cart_discount_container .additional_cart_discount\r\n{\r\n/*\ttransform: rotateZ(0deg);\r\n    top: 0;\r\n    right: 0;*/\r\n}\r\n\r\n.dailydeal_ctn:hover .additional_cart_discount,\r\n.main:hover .additional_cart_discount,\r\n.tab_item:hover .additional_cart_discount,\r\n.store_capsule.daily_deal:hover .additional_cart_discount,\r\n.home_area_spotlight:hover .additional_cart_discount,\r\n.store_main_capsule.broadcast_capsule:hover .additional_cart_discount,\r\n.tab_item:hover .additional_cart_discount,\r\n.info:hover .additional_cart_discount {\r\n\tanimation-name: animatePrice20deg;\r\n}\r\n\r\n.search_result_row:hover .additional_cart_discount,\r\n.gamelink:hover .additional_cart_discount,\r\n.store_capsule:hover .additional_cart_discount,\r\n.home_marketing_message:hover .additional_cart_discount,\r\n.store_capsule.broadcast_capsule:hover c {\r\n\tanimation-name: animatePrice11deg;\r\n}\r\n\r\n.small_cap:hover .additional_cart_discount,\r\n.home_content_item:hover .discount_block.discount_block_inline.additional_cart_discount_container .additional_cart_discount {\r\n\tanimation-name: animatePrice8deg;\r\n}\r\n\r\n.game_area_purchase_game_wrapper:hover .additional_cart_discount {\r\n\tanimation-name: animatePrice-6deg;\r\n}\r\n\r\n\r\n@keyframes animatePrice-6deg\r\n{\r\n\t0%\r\n\t{\r\n\t\ttransform: rotateZ(-6deg);\r\n\t}\r\n\r\n\t50%\r\n\t{\r\n\t\ttransform: rotateZ(10deg);\r\n\t}\r\n\r\n\t100%\r\n\t{\r\n\t\ttransform: rotateZ(-6deg);\r\n\t}\r\n}\r\n\r\n@keyframes animatePrice20deg\r\n{\r\n\t0%\r\n\t{\r\n\t\ttransform: rotateZ(20deg);\r\n\t}\r\n\r\n\t50%\r\n\t{\r\n\t\ttransform: rotateZ(-10deg);\r\n\t}\r\n\r\n\t100%\r\n\t{\r\n\t\ttransform: rotateZ(20deg);\r\n\t}\r\n}\r\n\r\n@keyframes animatePrice11deg\r\n{\r\n\t0%\r\n\t{\r\n\t\ttransform: rotateZ(11deg);\r\n\t}\r\n\r\n\t50%\r\n\t{\r\n\t\ttransform: rotateZ(-10deg);\r\n\t}\r\n\r\n\t100%\r\n\t{\r\n\t\ttransform: rotateZ(11deg);\r\n\t}\r\n}\r\n\r\n@keyframes animatePrice8deg\r\n{\r\n\t0%\r\n\t{\r\n\t\ttransform: rotateZ(8deg);\r\n\t}\r\n\r\n\t50%\r\n\t{\r\n\t\ttransform: rotateZ(-8deg);\r\n\t}\r\n\r\n\t100%\r\n\t{\r\n\t\ttransform: rotateZ(8deg);\r\n\t}\r\n}\r\n\r\n\r\n.additional_cart_discount_final {\r\n\tfont-size: 16px;\r\n\tcolor: rgb(255, 212, 26);\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.additional_cart_discount_amount {\r\n\tfont-size: 11px;\r\n\tcolor: rgb(210, 140, 25);\r\n\tmargin-bottom: -3px;\r\n\tmargin-top: -2px;\r\n}\r\n\r\n.basePriceStrikeout {\r\n\tposition: absolute;\r\n\theight: 22px;\r\n\ttop: 22%;\r\n\tleft: -10px;\r\n\twidth: calc( 100% + 46px );\r\n\topacity: .875;\r\n\r\n\tbackground-image: url( '/public/images/v6/events/lunarsale_2020/brushstrikeout.png?v=1' );\r\n\tbackground-size: 100% 100%;\r\n\tpointer-events: none;\r\n\tuser-select: none;\r\n}\r\n\r\n\r\n.main .appTitle .additional_cart_discount {\r\n\ttop: -38px;\r\n    right: 0px;\r\n}\r\n\r\n.discount_block.tab_item_discount.additional_cart_discount_container .discount_prices {\r\n\tfloat: left;\r\n\tmargin-left: 4px;\r\n}\r\n\r\n\r\n.discount_block.tab_item_discount.no_discount.additional_cart_discount_container .discount_prices {\r\n\tmargin-right: 14px;\r\n}\r\n\r\n\r\n.discount_block.tab_item_discount.no_discount.additional_cart_discount_container .discount_prices {\r\n\tmargin-right: 36px;\r\n}\r\n\r\n\r\n.discount_block.tab_item_discount.additional_cart_discount_container .additional_cart_discount {\r\n\ttop: -8px;\r\n    right: -21px;\r\n}\r\n\r\n.carousel_container.maincap .discount_block.no_discount.discount_block_inline.additional_cart_discount_container .additional_cart_discount {\r\n\r\n\ttop: -20px;\r\n    right: -58px;\r\n    transform: rotateZ( 11deg );\r\n}\r\n\r\n\r\n.discount_block.discount_block_spotlight.discount_block_large.additional_cart_discount_container {\r\n\twidth: fit-content;\r\n}\r\n\r\n.discount_block.discount_block_spotlight.discount_block_large.additional_cart_discount_container .additional_cart_discount {\r\n\tright: -46px;\r\n\ttop: -3px;\r\n}\r\n\r\n.discount_block.daily_deal_discount.discount_block_large.additional_cart_discount_container  .additional_cart_discount{\r\n\tright: -19px;\r\n\ttop: -8px;\r\n}\r\n\r\n.dailydeal_ctn .discount_block.daily_deal_discount.discount_block_large.additional_cart_discount_container  .additional_cart_discount{\r\n\ttop: -16px;\r\n}\r\n\r\n.discount_block.discount_block_inline.additional_cart_discount_container {\r\n\twidth: fit-content;\r\n\tmargin-right: 0;\r\n\tmargin-left: auto;\r\n}\r\n\r\n.home_content_item .discount_block.discount_block_inline.additional_cart_discount_container .additional_cart_discount {\r\n\ttop: -32px;\r\n}\r\n\r\n.discount_block.discount_block_inline.additional_cart_discount_container .additional_cart_discount {\r\n\ttransform: rotateZ(8deg);\r\n    top: -28px;\r\n    right: -8px;\r\n}\r\n\r\n.contenthub_featured_item_spotlight .discount_block.discount_block_inline.additional_cart_discount_container .additional_cart_discount {\r\n\ttransform: rotateZ(8deg);\r\n    top: -1px;\r\n    right: -6px;\r\n}\r\n\r\n.discount_block.discount_block_inline.additional_cart_discount_container .basePriceStrikeout {\r\n\theight: 10px;\r\n\ttop: 32%;\r\n\tleft: -2px;\r\n\topacity: .8;\r\n\twidth: 100%;\r\n}\r\n\r\n.contenthub_featured_item_spotlight .discount_block.discount_block_inline.additional_cart_discount_container .basePriceStrikeout {\r\n\ttop: 66%;\r\n    left: 28px;\r\n}\r\n\r\n.tab_item .basePriceStrikeout\r\n{\r\n\theight: 10px;\r\n    opacity: 0.7;\r\n\ttop: 43%;\r\n\twidth: calc( 100% + 26px );\r\n}\r\n\r\n.search_result_row .col.additional_cart_discount_container {\r\n\tposition: relative;\r\n}\r\n\r\n.search_result_row .col.additional_cart_discount_container .additional_cart_discount {\r\n\tright: -33px;\r\n    top: 4px;\r\n\ttransform: rotateZ(11deg);\r\n}\r\n\r\n.search_result_row .col.additional_cart_discount_container .col.search_price\r\n{\r\n\twidth: fit-content;\r\n\tmargin-top: -2px;\r\n\tmargin-left: 34px;\r\n}\r\n\r\n.search_result_row .col.additional_cart_discount_container .additional_cart_discount_amount {\r\n\tfont-size: 10px;\r\n}\r\n\r\n.search_result_row .col.additional_cart_discount_container .additional_cart_discount_final {\r\n\tfont-size: 12px;\r\n}\r\n\r\n.search_result_row .col.additional_cart_discount_container .basePriceStrikeout {\r\n\ttop: 41%;\r\n\topacity: .8;\r\n\theight: 12px;\r\n}\r\n\r\n.game_purchase_discount.additional_cart_discount_container .additional_cart_discount,\r\n.game_purchase_price.price.additional_cart_discount_container .additional_cart_discount {\r\n\ttop: -8px;\r\n    transform: rotateZ(-6deg);\r\n    right: auto;\r\n    left: -56px;\r\n}\r\n\r\n.game_purchase_discount.additional_cart_discount_container .additional_cart_discount {\r\n\tleft: 17px;\r\n}\r\n\r\n.game_purchase_discount.additional_cart_discount_container .basePriceStrikeout,\r\n.game_purchase_price.price.additional_cart_discount_container .basePriceStrikeout {\r\n\theight: 9px;\r\n    top: 36%;\r\n}\r\n\r\n.game_purchase_discount.additional_cart_discount_container .basePriceStrikeout {\r\n\ttransform: rotateZ(12deg);\t\r\n}\r\n\r\n.game_purchase_discount.additional_cart_discount_container {\r\n\toverflow: visible;\r\n}\r\n\r\n.winterSale2019_giftActiveBar {\r\n\twidth: 100%;\r\n\theight: 44px;\r\n\tz-index: 400;\r\n\r\n\tposition: sticky;\r\n\ttop: 0;\r\n\r\n\tbackground-image: url( '/public/images/v6/events/wintersale_2019/discount_active_background.png?v=1' );\r\n}\r\n\r\n.winterSale2019_contentContainer {\r\n\tmax-width: 940px;\r\n\theight: 100%;\r\n\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tmargin-left: auto;\r\n\tmargin-right: auto;\r\n\tposition: relative;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.winterSale2019_title {\r\n\tfont-family: giza-three, serif;\r\n\tfont-size: 24px;\r\n\tfont-weight: 100;\r\n\tcolor: rgb(255, 255, 255);\r\n\theight: 36px;\r\n\tposition: absolute;\r\n\ttop: 8px;\r\n  \tleft: 50px;\r\n\tpointer-events: none;\r\n\tuser-select: none;\r\n\tmargin-left: 32px;\r\n\ttext-shadow: 2px 2px 5px #000000;\r\n}\r\n\r\n.winterSale2019_title div\r\n{\r\n\tfont-family: giza-three, serif;\r\n\tletter-spacing: .1em;\r\n}\r\n\r\n.winterSale2019_title .subtitle\r\n{\r\n\tfont-size: 10px;\r\n\tpadding-top: 2px;\r\n\tpadding-left: 0px;\r\n}\r\n\r\n.winterSale2019_rightContent .winterSale2019_savings_expiration {\r\n\tcolor: #ffffff;\r\n\tfont-size: 11px;\r\n\tfont-weight: 100;\r\n\tpadding: 3px 0 0 0;\r\n}\r\n\r\n.winterSale2019_savings\r\n{\r\n\tfont-size: 11px;\t\r\n\ttext-align: right;\r\n\tfont-weight: 600;\r\n\tpadding-top: 4px;\r\n\tcolor: rgb(256, 256, 256);\r\n\ttext-shadow: 2px 2px 5px #000000;\t\r\n\twidth: 250px;\r\n\tpointer-events: none;\r\n\tuser-select: none;\t\r\n}\r\n\r\n.winterSale2019_icon01\r\n{\r\n\twidth: 150px;\r\n  \theight: 58px;\r\n\tposition: absolute;\r\n\tleft: -70px;\r\n\tbackground-image: url( '/public/images/v6/events/wintersale_2019/coin_discount.png?v=2' );\r\n\tbackground-size: contain;\r\n\tbackground-repeat: no-repeat;\r\n\tpointer-events: none;\r\n\tuser-select: none;\r\n}\r\n\r\n.winterSale2019_snow\r\n{\r\n\twidth: 5px;\r\n\theight: 5px;\r\n\tposition: absolute;\r\n\tborder-radius: 50%;\r\n\t\r\n\tbackground: -moz-radial-gradient(rgb(255,255,255) 20%,rgba(255,255,255,0) 70%); /* FF3.6-15 */\r\n\tbackground: -webkit-radial-gradient(rgb(255,255,255) 20%,rgba(255,255,255,0) 70%); /* Chrome10-25,Safari5.1-6 */\t\r\n\tbackground: radial-gradient(rgb(255,255,255) 20%,rgba(255,255,255,0) 70%)\r\n\tpointer-events: none;\r\n\tuser-select: none;\r\n\r\n\tanimation-name: let_it_snow;\r\n\tanimation-duration: 2s;\r\n\tanimation-timing-function: ease-in;\r\n\tanimation-iteration-count: infinite;\r\n\tanimation-fill-mode: both;\r\n}\r\n\r\n@keyframes let_it_snow {\r\n\tfrom {\r\n\t\topacity: 0;\r\n\t\ttransform: translateY(0) translateX(0) scale(1);\r\n\t}\r\n\t25% {\r\n\t\topacity: 1;\r\n\t}\r\n\tto {\r\n\t\topacity: 0;\r\n\t\ttransform: translateY(20em) translateX(4em) scale(0);\r\n\t}\r\n}\r\n\r\n.summerSale2019_giftActiveBar {\r\n\twidth: 100%;\r\n\theight: 45px;\r\n\tz-index: 400;\r\n\r\n\tposition: sticky;\r\n\ttop: 0;\r\n\r\n\tbackground: rgb(71, 116, 145);\r\n}\r\n\r\n.summerSale2019_contentContainer {\r\n\tmax-width: 940px;\r\n\theight: 100%;\r\n\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tmargin-left: auto;\r\n\tmargin-right: auto;\r\n\tposition: relative;\r\n\tjustify-content: space-between;\r\n\r\n\tbackground: -moz-linear-gradient(left, rgb(207, 58, 34) 0%, rgb(207, 58, 34) 70%, rgb(71, 116, 145) 100%); /* FF3.6-15 */\r\n\tbackground: -webkit-linear-gradient(left rgb(207, 58, 34) 0%,rgb(207, 58, 34) 70%,rgb(71, 116, 145) 100%); /* Chrome10-25,Safari5.1-6 */\r\n\tbackground: linear-gradient(to right, rgb(207, 58, 34) 0%,rgb(207, 58, 34), 70%,rgb(71, 116, 145) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\r\n\tfilter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#181C24', endColorstr='#597390',GradientType=1 ); /* IE6-9 */\r\n\r\n}\r\n\r\n.summerSale2019_title {\r\n\tfont-family: politica-expanded, sans-serif;\r\n\tfont-size: 16px;\r\n\tfont-weight: 900;\r\n\tfont-style: italic;\r\n\ttext-transform: uppercase;\r\n\tcolor: rgb(24, 28, 36);\r\n\theight: 36px;\r\n\tposition: absolute;\r\n\ttop: 4px;\r\n  left: -14px;\r\n\tpointer-events: none;\r\n\tuser-select: none;\r\n\tmargin-left: 32px;\r\n}\r\n\r\n.summerSale2019_title div\r\n{\r\n}\r\n\r\n.summerSale2019_title .subtitle\r\n{\r\n\tfont-size: 10px;\r\n\tpadding-top: 2px;\r\n\tpadding-left: 0px;\r\n}\r\n\r\n.summerSale2019_rightContent .summerSale2019_savings_expiration {\r\n\tcolor: #d0d3cf;\r\n\tfont-size: 12px;\r\n\tpadding: 3px 0 0 0;\r\n}\r\n\r\n.summerSale2019_savings\r\n{\r\n\tfont-size: 10px;\t\r\n\ttext-align: right;\r\n\tpadding-right: 25px;\r\n\tfont-family: politica-expanded, sans-serif;\r\n\tfont-weight: 900;\r\n\tfont-style: italic;\r\n\tpadding-top: 10px;\r\n\ttext-transform: uppercase;\r\n\tcolor: rgb(24, 28, 36);\r\n\twidth: 250px;\r\n\tpointer-events: none;\r\n\tuser-select: none;\t\r\n}\r\n\r\n.summerSale2019_icon01\r\n{\r\n\twidth: 76px;\r\n\theight: 45px;\r\n\tposition: absolute;\r\n\tleft: -70px;\r\n\tbackground-image: url( '/public/images/v6/events/summersale_2019/flaming_discount.png?v=1' );\r\n\tbackground-size: contain;\r\n\tbackground-repeat: no-repeat;\r\n\tpointer-events: none;\r\n\tuser-select: none;\r\n}\r\n\r\n.summerSale2019_ember\r\n{\r\n\twidth: 5px;\r\n\theight: 5px;\r\n\tposition: absolute;\r\n\tborder-radius: 50%;\r\n\t\r\n\tbackground: -moz-radial-gradient(rgb(255,80,0) 20%,rgba(255,80,0,0) 70%); /* FF3.6-15 */\r\n\tbackground: -webkit-radial-gradient(rgb(255,80,0) 20%,rgba(255,80,0,0) 70%); /* Chrome10-25,Safari5.1-6 */\t\r\n\tbackground: radial-gradient(rgb(255,80,0) 20%,rgba(255,80,0,0) 70%)\r\n\tpointer-events: none;\r\n\tuser-select: none;\r\n\r\n\tanimation-name: fan_the_flames;\r\n\tanimation-duration: 1s;\r\n\tanimation-timing-function: ease-in;\r\n\tanimation-iteration-count: infinite;\r\n\tanimation-fill-mode: both;\r\n}\r\n\r\n@keyframes fan_the_flames {\r\n\tfrom {\r\n\t\topacity: 0;\r\n\t\ttransform: translateX(0) scale(1);\r\n\t}\r\n\t25% {\r\n\t\topacity: 1;\r\n\t}\r\n\tto {\r\n\t\topacity: 0;\r\n\t\ttransform: translateX(-10em) scale(0);\r\n\t}\r\n}\r\n\r\n.summerSale2019_icon02\r\n{\r\n\twidth: 91px;\r\n  height: 70px;\r\n  position: absolute;\r\n  top: 0px;\r\n\tleft: 97%;\r\n\tbackground-image: url( '/public/images/v6/events/summersale_2019/coin_discount.png?v=1' );\r\n\tbackground-size: contain;\r\n\tbackground-repeat: no-repeat;\r\n\tpointer-events: none;\r\n\tuser-select: none;\r\n}\r\n\r\n.placeHolder_lunarSale2019_giftActiveBar {\r\n\tbackground-color: rgb(146, 31, 30);\r\n\twidth: 100%;\r\n\theight: 42px;\r\n\tz-index: 400;\r\n\r\n\tposition: sticky;\r\n\ttop: 0;\r\n\r\n\t\r\n\r\n\tbackground: rgb(148,24,24); /* Old browsers */\r\n\tbackground: -moz-linear-gradient(left, rgb(100, 13, 12) 0%, rgb(208,5,1) 45%, rgb(208,5,1) 55%, rgb(100, 13, 12) 100%); /* FF3.6-15 */\r\n\tbackground: -webkit-linear-gradient(left, rgb(100, 13, 12) 0%,rgb(208,5,1) 45%,rgb(208,5,1) 55%,rgb(100, 13, 12) 100%); /* Chrome10-25,Safari5.1-6 */\r\n\tbackground: linear-gradient(to right, rgb(100, 13, 12) 0%,rgb(208,5,1) 45%,rgb(208,5,1) 55%,rgb(100, 13, 12) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\r\n\tfilter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#640D0C', endColorstr='#640D0C',GradientType=1 ); /* IE6-9 */\r\n\r\n\tbackground-image: url(/public/images/v6/events/lunarsale_2020/discount_active_background.png?v=2);\r\n\tbackground-repeat-y: no-repeat;\r\n}\r\n\r\n.lunarSale2019_contentContainer {\r\n\tmax-width: 940px;\r\n\theight: 100%;\r\n\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tmargin-left: auto;\r\n\tmargin-right: auto;\r\n\tposition: relative;\r\n\tjustify-content: center;\r\n}\r\n\r\n.lunar_sale_spacer\r\n{\r\n\tflex: 1;\r\n}\r\n\r\n.lunar_sale_spacer.lunar_leftspacer\r\n{\r\n\tmin-width: 225px;\r\n}\r\n\r\n\r\n.lunar_sale_spacer.lunar_rightspacer\r\n{\r\n\tposition: relative;\r\n}\r\n\r\n.lunar_sale_title\r\n{\r\n\twidth: 205px;\r\n\theight: 36px;\r\n\tposition: absolute;\r\n\ttop: 4px;\r\n    left: -14px;\r\n\tpointer-events: none;\r\n\tuser-select: none;\r\n\tmargin-left: 32px;\r\n\tdisplay: none;\r\n}\r\n\r\n\r\n.lunar_sale_title img\r\n{\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tpointer-events: none;\r\n\tuser-select: none;\r\n\tcolor: #FFB321;\r\n\tfont-size: 14px;\r\n}\r\n\r\n.lunar_sale_title object\r\n{\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tpointer-events: none;\r\n\tuser-select: none;\r\n\tcolor: #FFB321;\r\n\tfont-size: 14px;\r\n}\r\n\r\n.lunar_sale_poinks01\r\n{\r\n\twidth: 128px;\r\n\theight: 128px;\r\n\tposition: absolute;\r\n\ttop: -28px;\r\n    left: -98px;\r\n\tbackground-image: url( '/public/images/v6/events/lunarsale_2020/ratcoins_01.png?v=1' );\r\n\tbackground-size: contain;\r\n\tbackground-repeat: no-repeat;\r\n\tpointer-events: none;\r\n\tuser-select: none;\r\n}\r\n\r\n\r\n.lunar_sale_poinks02\r\n{\r\n\twidth: 141px;\r\n    height: 64px;\r\n    position: absolute;\r\n    top: -13px;\r\n\tleft: 73%;\r\n\tbackground-image: url( '/public/images/v6/events/lunarsale_2020/ratcoins_02.png?v=1' );\r\n\tbackground-size: contain;\r\n\tbackground-repeat: no-repeat;\r\n\tpointer-events: none;\r\n\tuser-select: none;\r\n}\r\n\r\n.lunar_sale_supersavings_label\r\n{\r\n\twidth: fit-content;\r\n\tmin-width: fit-content;\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: bold; /* bold */\r\n\r\n\t\t\ttext-transform: uppercase;\r\n\tfont-size: 15px;\r\n\tpadding-top: 0px;\r\n\r\n}\r\n\r\n.lunar_sale_supersavings_label .highlight {\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: bold; /* bold */\r\n\r\n\t\t\ttext-transform: uppercase;\r\n\tcolor: #FFB321;\r\n\tfont-weight: bold;\r\n\ttext-align: center;\r\n}\r\n\r\n\r\n@keyframes savingsModeGlow\r\n{\r\n\t0%\r\n\t{\r\n\t\tcolor: #DC9B1D);\r\n\t\ttext-shadow: 0px 0px 4px #FFD33B00, 0px 0px 8px rgba(255, 200, 0, .5);\r\n\t}\r\n\r\n\t50%\r\n\t{\r\n\t\tcolor: #FFD990;\r\n\t\ttext-shadow: 0px 0px 14px rgb(255, 217, 44), 0px 0px 8x rgb(248, 173, 34, .9);\r\n\t}\r\n\r\n\t100%\r\n\t{   \r\n\t\tcolor: #DC9B1D);\r\n\t\ttext-shadow: 0px 0px 4px #FFD33B00, 0px 0px 8px rgba(255, 200, 0, .5);\r\n\t}\r\n\r\n}\r\n\r\n.lunar_sale_supersavings_label .subtitle {\r\n\tcolor: #ddd;\r\n\tfont-weight: 100;\r\n\tfont-size: 14px;\r\n\tline-height: 14px;\r\n\ttext-align: center;\r\n}\r\n\r\n\r\n.lunar_sale_sparkle {\r\n\tposition: relative;\r\n}\r\n\r\n.sparkleStar\r\n{\r\n\twidth: 64px;\r\n\theight: 64px;\r\n\tposition: absolute;\r\n\t\r\n\tbackground-image: url( '/public/images/v6/events/lunarsale_2020/poink_sparkle_01.png?v=1' );\r\n\tbackground-size: contain;\r\n\tbackground-repeat: no-repeat;\r\n\tpointer-events: none;\r\n\tuser-select: none;\r\n\r\n\tanimation-name: sparkle01;\r\n\tanimation-duration: 6s;\r\n\tanimation-timing-function: linear;\r\n\tanimation-iteration-count: infinite;\r\n\tanimation-fill-mode: both;\r\n}\r\n\r\n.sparkle01 .sparkleStar.star1 {\r\n\tleft: 10px;\r\n    top: -2px;\r\n\tanimation-delay: 1.35s;\r\n}\r\n\r\n.sparkle01 .sparkleStar.star2 {\r\n\tleft: 58px;\r\n    top: 38px;\r\n\tanimation-delay: 0.17s;\r\n}\r\n\r\n.sparkle01 .sparkleStar.star3 {\r\n\tleft: 15px;\r\n    top: 17px;\r\n\tanimation-delay: 4.07s;\r\n}\r\n\r\n.sparkle02 .sparkleStar.star1 {\r\n\tleft: 10px;\r\n    top: -5px;\r\n\tanimation-delay: 0.35s;\r\n}\r\n\r\n.sparkle02 .sparkleStar.star2 {\r\n\tleft: 15px;\r\n    top: 10px;\r\n\tanimation-delay: 2.97s;\r\n}\r\n\r\n.sparkle02 .sparkleStar.star3 {\r\n\tleft: 38px;\r\n    top: 19px;\r\n\tanimation-delay: 3.86s;\r\n}\r\n\r\n\r\n@keyframes sparkle01\r\n{\r\n\t0%\r\n\t{\r\n\t\topacity: 0;\r\n\t\ttransform: rotateZ(0deg) scale(.3);\r\n\t}\r\n\r\n\t20%\r\n\t{\r\n\t\topacity: 1;\r\n\t\ttransform: rotateZ(360deg) scale(1);\r\n\t}\r\n\r\n\t40%\r\n\t{   opacity: 0;\r\n\t\ttransform: rotateZ(720deg) scale(.3);\r\n\t}\r\n\r\n\t100%\r\n\t{   opacity: 0;\r\n\t\ttransform: rotateZ(720deg) scale(.3);\r\n\t}\r\n\r\n}\r\n\r\n.placeHolder_summerSale2020_promotionDetailsBar {\r\n\tbackground-color: #CE4C0E;\r\n\twidth: 100%;\r\n\tz-index: 400;\r\n\tposition: sticky;\r\n\ttop: 0;\r\n\tbackground-image: url('https://media.st.dl.pinyuncloud.com/store/promo/summer2020/tiling_orange.png?v=2');\r\n\tbackground-repeat: repeat;\r\n\r\n\tbox-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\r\n}\r\n\r\n\r\n.summerSale2020_contentContainer {\r\n\tmax-width: 940px;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tmargin-left: auto;\r\n\tmargin-right: auto;\r\n\tposition: relative;\r\n\tjustify-content: center;\r\n\tpadding: 5px;\r\n\tflex-wrap: wrap;\r\n\ttext-align: center;\r\n}\r\n\r\n.summersale2020_supersavings_title\r\n{\r\n\tflex: 1;\r\n\tmin-width: 225px;\r\n\tfont-family: \"Noto Sans SC\", sans-serif;\r\n\tfont-style: normal;\r\n\tfont-weight: normal;\r\n\tfont-size: 38px;\r\n\tcolor: #FBF6F0;\r\n\ttext-shadow: 2px 3px 0px #D35110;\r\n\ttext-align: center;\r\n}\r\n\r\n.summersale2020_supersavings_label\r\n{\r\n\twidth: fit-content;\r\n\tmin-width: fit-content;\r\n\tfont-family: \"Noto Sans SC\", sans-serif;\r\n\tword-spacing: .25em;\r\n\tfont-size: 15px;\r\n\talign-self: center;\r\n}\r\n\r\n.summersale2020_supersavings_label .highlight\r\n{\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: normal; /* normal */\r\n\r\n\t\t\tfont-size: 18px;\r\n\tfont-style: italic;\r\n\tcolor: #F8F7F2;\r\n\ttext-shadow: 2px 3px 0px #D35110;\r\n}\r\n\r\n.summersale2020_supersavings_label .subtitle\r\n{\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: normal; /* normal */\r\n\r\n\t\t\tfont-size: 14px;\r\n\tcolor: #F8F7F2;\r\n\ttext-shadow: 2px 3px 0px #D35110;\r\n\ttext-align: right;\r\n}\r\n\r\n@media screen and ( max-width: 910px )\r\n{\r\n\thtml.responsive .summersale2020_supersavings_label .highlight{\r\n\t\tfont-size: 14px;\r\n\t}\r\n\thtml.responsive .summersale2020_supersavings_label .subtitle {\r\n\t\tfont-size: 10px;\r\n\t\ttext-align: center;\r\n\t}\r\n\thtml.responsive .summersale2020_supersavings_title {\r\n\t\tfont-size: 24px;\r\n\t}\r\n}\r\n\r\n.cart_promo_banner_ctn {\r\n\tpadding-bottom: 26px;\r\n}\r\n\r\n.cart_promo_banner_position {\r\n\tposition: relative;\r\n\toverflow: visible;\r\n\theight: 145px;\r\n}\r\n\r\n.cart_promo_banner {\r\n\tbackground-repeat:no-repeat;\r\n\tbackground-position: top left;\r\n\tposition: absolute;\r\n\ttop: -34px;\r\n\tbottom: -6px;\r\n\tleft: 0;\r\n\theight: 189px;\r\n\twidth: 947px;\r\n}\r\n\r\n.cart_promo_banner_content {\r\n\tposition: relative;\r\n\tpadding-left: 4%;\r\n\tpadding-right: 4%;\r\n\tmax-width: 564px;\r\n\r\n\theight: 145px;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n}\r\n\r\n.cart_promo_banner_content .header {\r\n\tfont-family: \"Noto Sans SC\", sans-serif;\t\r\n\tfont-style: normal;\r\n\tfont-weight: normal;\r\n\tfont-size: 34px;\r\n\tline-height: 130.2%;\r\n\tletter-spacing: 0.02em;\r\n\tcolor: #e35e23;\r\n\ttext-shadow: 1px 1px 0px #681A15;\r\n\talign-self: center;\r\n}\r\n\r\n\r\n.cart_promo_banner_content .desc {\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: normal; /* normal */\r\n\r\n\t\t\tfont-size: 14px;\r\n\tline-height: 130.2%;\r\n\tletter-spacing: 0.02em;\r\n\tcolor: #E45A1F;\r\n\ttext-shadow: 1px 1px 0px #681A15, 1px 1px 0px #681A15, 1px 1px 0px #681A15;\r\n\tmargin-top: 10px;\r\n\talign-self: center;\r\n}\r\n\r\n.cart_promo_banner_content .pointscallout {\r\n\ttext-align: right;\r\n\tmargin-top: 20px;\r\n}\r\n\r\n.cart_promo_banner_content .promo_detail_link\r\n{\r\n\ttext-decoration: underline;\r\n\tcursor: pointer;\r\n\tcolor: #cb9b4f;\r\n}\r\n\r\n.cart_promo_banner_content .promo_detail_link:hover\r\n{\r\n\tcolor: #f5c551;\r\n}\r\n\r\n.cart_promo_gradient_text {\r\n\tcolor:\t#D5AD6D; /*if no support for background-clip*/\r\n\tbackground: -webkit-linear-gradient(top, #8f6B29, #FDE08D, #DF9F28);\r\n\tbackground: linear-gradient(top, #8f6B29, #FDE08D, #DF9F28);\r\n\t-webkit-background-clip: text;\r\n\t-webkit-text-fill-color: transparent;\r\n}\r\n\r\n\r\n@media screen and ( max-width: 910px )\r\n{\r\n\thtml.responsive .cart_promo_banner_ctn {\r\n\t\toverflow: hidden;\r\n\t}\r\n}\r\n\r\n.cart_item_cart_discount_header\r\n{\r\n\tfont-family: \"Noto Sans SC\", sans-serif;\t\r\n\tfont-style: normal;\r\n\tfont-weight: normal;\r\n\tfont-size: 24px;\r\n\tline-height: 130.2%;\r\n\tletter-spacing: 0.02em;\r\n\tcolor: #E35E23;\r\n\tpadding-left: 10px;\r\n}\r\n\r\n.sale_page_n_section_block.lunar2019 .promo_item_list .item {\r\n\toverflow: visible;\r\n}\r\n\r\n\r\n.sale_page_n_section_block.lunar2019 .promo_item_list .item .additional_cart_discount_container .basePriceStrikeout {\r\n\tleft: -63px;\r\n    top: 8px;\r\n    height: 11px;\r\n}\r\n\r\n\r\n.sale_page_n_section_block.lunar2019 .promo_item_list .item .additional_cart_discount{\r\n\ttop: -15px;\r\n\tmin-height: 24px;\r\n}\r\n\r\n\r\n.sale_page_n_section_block.lunar2019 .promo_item_list .item .additional_cart_discount .additional_cart_discount_amount{\r\n\tfont-size: 12px;\r\n\tmargin-top: 0px;\r\n}\r\n\r\n\r\n.sale_page_n_section_block.lunar2019 .promo_item_list .item .additional_cart_discount .additional_cart_discount_final{\r\n\tfont-size: 14px;\r\n\tmargin-top: 4px;\r\n}\r\n\r\n/* spotlight styles */\r\n.spotlight_img {\r\n    width: 306px;\r\n    overflow: hidden;\r\n    padding-left: 1px;\r\n    padding-top: 1px;\r\n}\r\n.home_area_spotlight {\r\n\tposition: relative;\r\n\theight: 395px;\r\n}\r\n\r\n.spotlight_scroll_ctn {\r\n    background: -webkit-linear-gradient( left, rgba(0,0,0,0.2) 5%,rgba(0,0,0,0.4) 95%);\r\n\tbackground: linear-gradient( to right, rgba(0,0,0,0.2) 5%,rgba(0,0,0,0.4) 95%);\r\n\tmargin-bottom: 4px;\r\n    height: 395px;\r\n}\r\n\r\n.spotlight_content {\r\n\tpadding: 8px 16px 12px 16px;\r\n\tcolor: #9099a1;\r\n\tfont-size: 12px;\r\n\tposition: absolute;\r\n\tbottom: 0;\r\n\twidth: 274px;\r\n\tmargin: 1px;\r\n\r\n\tbackground: url( '/public/images/v6/spotlight_background.jpg?v=1' ) bottom center no-repeat;\r\n}\r\n\r\n\r\n.spotlight_weeklong_ctn {\r\n\tbackground: url( '/public/images/v6/temp/spotlight_weeklong_deals.jpg?v=2' ) top center no-repeat;\r\n\twidth: 304px;\r\n\theight: 350px;\r\n\ttext-align: center;\r\n\tmargin: 0px;\r\n\tborder: 1px solid rgba(0, 0, 0, 0);\r\n\tposition: relative;\r\n\tz-index: 1;\r\n}\r\n.spotlight_weeklong_ctn:hover {\r\n\tborder: 1px solid rgba(171, 218, 244, 0.6);\r\n}\r\n\r\n.spotlight_weeklong_ctn .spotlight_text_overlay {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 304px;\r\n\theight: 350px;\r\n\tz-index: 2;\r\n}\r\n\r\n.spotlight_count {\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: bold; /* bold */\r\n\r\n\t\t\tcolor: #ffffff;\r\n\tfont-size: 40px;\r\n\r\n\tdisplay: block;\r\n\tposition: relative;\r\n\tz-index: 3;\r\n\tmargin-top: 224px;\r\n}\r\n\r\n.spotlight_weeklong_subtitle {\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 300; /* light */\r\n\r\n\t\t\tfont-size: 13px;\r\n\tcolor: #8f98a0;\r\n\ttext-align: center;\r\n\tmargin-top: 20px;\r\n}\r\n\r\n.login .spotlight_content {\r\n\tbackground: #15212e;\r\n}\r\n.spotlight_body {\r\n\r\n}\r\n.spotlight_body.spotlight_price {\r\n\tmargin-top: 10px;\r\n}\r\n\r\n.spotlight_block .spotlight_content>h2 {\r\n\tcolor: #c7d5e0;\r\n\tfont-size: 21px;\r\n\tfont-weight: normal;\r\n\tmargin: 0;\r\n}\r\n\r\n\r\n/*\r\n * TABS\r\n */\r\n\r\n.tab_item {\r\n\tposition: relative;\r\n\tdisplay: block;\r\n\tbackground: #202d39;\r\n\tbackground: rgba( 0, 0, 0, 0.2 );\r\n\r\n\theight: 69px;\r\n\r\n\tmargin-bottom: 5px;\r\n\tpadding-left: 198px;\r\n\r\n\ttext-size-adjust: none;\r\n\t-webkit-text-size-adjust: none;\r\n}\r\n\r\n.tab_item.episode {\r\n\tpadding-left: 158px;\r\n}\r\n\r\n.large .tab_item {\r\n    position: relative;\r\n    background: #202d39;\r\n    background: rgba( 0, 0, 0, 0.2 );\r\n\r\n    height: 87px;\r\n\r\n    margin-bottom: 4px;\r\n    padding-left: 244px;\r\n}\r\n\r\n.large .tab_item .ds_options {\r\n\tright: auto;\r\n\tleft: 210px;\r\n\tz-index: 4;\r\n}\r\n\r\n.tab_item:hover,\r\n.large .tab_item:hover {\r\n\tbackground: rgba( 0, 0, 0, 0.4 );\r\n}\r\n\r\n.tab_item_overlay {\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tz-index: 10;\r\n}\r\n\r\n.tab_item_overlay_hover {\r\n\tposition: absolute;\r\n\tdisplay: none;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tz-index: 2;\r\n}\r\n\r\n.tab_item:hover .tab_item_overlay_hover {\r\n\tdisplay: block\t;\r\n}\r\n\r\n.tab_item_overlay img {\r\n\tdisplay: block;\r\n\twidth: calc( 100% - 2px );\r\n\theight: 67px;\r\n    border: 1px solid rgba( 139, 185, 224, 0 );\r\n}\r\n.large .tab_item_overlay img {\r\n    height: 85px;\r\n}\r\n\r\n.tab_item_overlay img:hover, .large .tab_item_overlay img:hover {\r\n    border: 1px solid rgba( 139, 185, 224, 0.2 );\r\n}\r\n\r\n.tab_item_cap {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tz-index: 3;\r\n\tline-height: 69px;\r\n\r\n\ttransition: opacity 0.25s;\r\n}\r\n\r\n.sub .tab_item_cap {\r\n\twidth: 184px;\r\n}\r\n\r\n.large .tab_item_cap {\r\n    width: 231px;\r\n    height: 87px;\r\n\tline-height: 87px;\r\n}\r\n.large .tab_item_cap img {\r\n\twidth: 231px;\r\n\theight: 87px;\r\n}\r\n\r\n.tab_item_discount {\r\n\tdisplay: block;\r\n\tfloat: right;\r\n\tmargin-right: 16px;\r\n\tbackground: none;\r\n\r\n\tmargin-top: 23px;\r\n\r\n\twidth: 120px;\r\n\ttext-align: right;\r\n}\r\n\r\n.tab_item_discount.no_discount {\r\n\tmargin-top: 32px;\r\n\twidth: auto;\r\n}\r\n\r\n.tab_item_discount .bundle_base_discount {\r\n\tdisplay: none;\r\n}\r\n\r\n.tab_item_discount .discount_pct,\r\n.tab_item_discount.no_discount .bundle_base_discount {\r\n\tdisplay: block;\r\n\tfloat: left;\r\n\tfont-size: 14px;\r\n\tline-height: 18px;\r\n\tpadding: 0 4px;\r\n\tmargin-top: 8px;\r\n    border-radius: 1px;\r\n}\r\n\r\n.tab_item_discount .discount_final_price {\r\n\tcolor: #9099a1;\r\n\tfont-size: 13px;\r\n}\r\n\r\n.tab_item_content {\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\r\n\tpadding-top: 6px;\r\n\tfont-size: 12px;\r\n}\r\n\r\n.large .tab_item_content {\r\n\tpadding-top: 16px;\r\n}\r\n\r\n.home_tabs_content .tab_item_content {\r\n\r\n\tpadding-top: 7px;\r\n}\r\n\r\n.tab_item_name {\r\n\tcolor: #c7d5e0;\r\n\tfont-size: 1.25em;\r\n\tline-height: 18px;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n\tdisplay: block;\r\n\toverflow: hidden;\r\n\r\n\ttransition: color 0.25s;\r\n}\r\n\r\n.tab_item_details {\r\n\tcolor: #384959;\r\n\r\n\tline-height: 20px;\r\n}\r\n\r\n.tab_item_details span.platform_img {\r\n\tvertical-align: bottom;\r\n\topacity: 0.3;\r\n}\r\n\r\n\r\n.tab_item.ds_flagged:not(.ds_wishlist):not(:hover) .tab_item_cap {\r\n\topacity: 0.3;\r\n}\r\n\r\n\r\n.tab_item.ds_flagged:not(.ds_wishlist):not(:hover) .tab_item_content .tab_item_name {\r\n\tcolor: #62696e;\r\n}\r\n\r\n.tab_item_top_tags {\r\n\theight: 20px;\r\n\twhite-space: normal;\r\n\toverflow: hidden;\r\n}\r\n\r\n.tab_item_top_tags .top_tag {\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.tab_item .release_date {\r\n\twidth: 85px;\r\n\tcolor: #4c6c8c;\r\n\ttext-align: right;\r\n\tfont-size: 11px;\r\n\twhite-space: nowrap;\r\n\ttext-overflow: ellipsis;\r\n\toverflow: hidden;\r\n\tposition: absolute;\r\n\ttop: 7px;\r\n\tright: 16px;\r\n}\r\n.tab_item.focus .release_date {\r\n\tright: 30px;\r\n}\r\n\r\n\r\n/* Blurring for various filtered items */\r\n\r\n.tab_item.ds_flagged:not(.ds_wishlist):not(:hover):not(.ds_owned) .tab_item_cap img {\r\n\tfilter: blur(4px);\r\n}\r\n.bundle_contents_preview_item.ds_excluded_by_preferences img {\r\n\tfilter: blur(4px);\r\n\topacity: 0.3;\r\n}\r\n\r\n\r\n.dailydeal_ctn {\r\n\tpadding: 16px;\r\n\tbackground: -webkit-linear-gradient( top, #ffffff 5%, #abdaf4 95%);\r\n\tbackground: linear-gradient( to bottom, #ffffff 5%, #abdaf4 95%);\r\n\tposition: relative;\r\n\r\n\tmargin-bottom: 2px;\r\n}\r\n\r\n.dailydeal_cap {\r\n\tposition: relative;\r\n\tmargin-bottom: 3px;\r\n}\r\n\r\n.dailydeal_cap, .dailydeal_cap img {\r\n\twidth: 276px;\r\n\theight: 129px;\r\n}\r\n\r\n.daily_deal_discount {\r\n\tfloat: left;\r\n}\r\n\r\n.dailydeal_desc {\r\n\ttext-align: right;\r\n\tcolor: #abdaf4;\r\n\tfont-size: 11px;\r\n}\r\n\r\n.dailydeal_countdown {\r\n\tdisplay: inline-block;\r\n\tcolor: #282d33;\r\n\tfont-size: 10px;\r\n\tbackground: #ff7b00;\r\n\tline-height: 13px;\r\n\tpadding: 0 4px;\r\n\tmargin-top: 4px;\r\n}\r\n\r\nimg.category_icon {\r\n\twidth: 26px;\r\n\theight: 16px;\r\n\tvertical-align: top;\r\n}\r\n\r\n/*\r\n * FRIEND BLOCKS\r\n */\r\n\r\n.friend_activity {\r\n    position: relative;\r\n}\r\n\r\n.friend_game_block {\r\n    position: relative;\r\n}\r\n\r\n.home_friend_game_block {\r\n    padding-left: 132px;\r\n    padding-bottom: 18px;\r\n}\r\n\r\n.friend_game_block .friend_activity {\r\n    display: block;\r\n    width: 150px;\r\n    height: 40px;\r\n}\r\n\r\n.friend_game_block .friend_activity:hover {\r\n    text-decoration: none;\r\n    background: rgba( 103, 193, 245, 0.1 );\r\n}\r\n\r\n.friend_game_block .game_capsule {\r\n    position: absolute;\r\n    top: 0px;\r\n    right: 0px;\r\n    width: 120px;\r\n    height: 45px;\r\n}\r\n\r\n.home_friend_game_block .game_capsule {\r\n    right: auto;\r\n    left: 0;\r\n}\r\n\r\n.home_friend_game_block .game_capsule a {\r\n\tposition: relative;\r\n\tdisplay: block;\r\n\twidth: 120px;\r\n\theight: 45px;\r\n}\r\n\r\n.home_friend_game_block .game_capsule a.ds_flagged .ds_flag {\r\n\ttop: 18px;\r\n}\r\n\r\n.home_friend_game_block .game_capsule a.ds_flagged:not(.ds_wishlist) img {\r\n\topacity: 0.3;\r\n}\r\n\r\n.friend_activity .friend_block_text {\r\n    display: block;\r\n    position: absolute;\r\n    width: 96px;\r\n    top: 6px;\r\n    left: 48px;\r\n    font-size: 10px;\r\n}\r\n\r\n.ds_flag.ds_wishlist_flag {\r\n\tbox-shadow: 0 0 6px 0 #000000;\r\n}\r\n\r\n\r\n/*\r\n * platforms\r\n */\r\n\r\n\r\nspan.platform_img {\r\n\tdisplay: inline-block;\r\n\twidth: 20px;\r\n\theight: 20px;\r\n\tbackground-repeat: no-repeat;\r\n}\r\n\r\nspan.platform_img.steamplay {\r\n\twidth: 64px;\r\n\tbackground-image: url( '/public/images/v6/icon_steamplay.png' );\r\n\tpadding-right: 5px;\r\n}\r\n\r\nspan.platform_img.win {\r\n\tbackground-image: url( '/public/images/v6/icon_platform_win.png?v=3' );\r\n}\r\n\r\nspan.platform_img.mac {\r\n\tbackground-image: url( '/public/images/v6/icon_platform_mac.png' );\r\n}\r\n\r\nspan.platform_img.linux {\r\n\tbackground-image: url( '/public/images/v6/icon_platform_linux.png' );\r\n}\r\n\r\nspan.platform_img.streamingvideo {\r\n\tbackground-image: url('/public/images/v6/icon_streamingvideo_v6.png');\r\n}\r\n\r\nspan.platform_img.streamingvideoseries {\r\n\tbackground-image: url('/public/images/v6/icon_streamingvideoseries_v6.png');\r\n}\r\n\r\nspan.platform_img.streaming360video {\r\n\tbackground-image: url('/public/images/v6/icon_streaming360video_v6.png');\r\n}\r\n\r\nspan.platform_img.htcvive {\r\n\tbackground-image: url( '/public/images/v6/icon_platform_htcvive.png' );\r\n}\r\n\r\nspan.platform_img.oculusrift {\r\n\tbackground-image: url( '/public/images/v6/icon_platform_oculusrift.png' );\r\n}\r\n\r\nspan.platform_img.razerosvr {\r\n\tbackground-image: url( '/public/images/v6/icon_platform_razerosvr.png' );\r\n}\r\n\r\nspan.platform_img.windowsmr {\r\n\tbackground-image: url( '/public/images/v6/icon_platform_windowsmr.png' );\r\n}\r\nspan.platform_img.valveindex {\r\n\tbackground-image: url( '/public/images/v6/icon_platform_valveindex.png' );\r\n\twidth: 26px;\r\n}\r\n\r\nspan.platform_img.music {\r\n\tbackground-image: url( '/public/images/v6/icon_platform_music.png' );\r\n}\r\n\r\nspan.vr_supported,\r\nspan.vr_required {\r\n    vertical-align: top;\r\n    line-height: 21px;\r\n    margin-left: 4px;\r\n    font-size: 11px;\r\n}\r\n\r\n.hover_release span.platform_img.valveindex {\r\n\tbackground-image: url( '/public/images/v6/icon_platform_valveindex_dark.png' );\r\n\twidth: 26px;\r\n\theight: 19px;\r\n}\r\n\r\n.hover_release span.platform_img.htcvive {\r\n\tbackground-image: url( '/public/images/v6/icon_platform_htcvive_dark.png' );\r\n}\r\n\r\n.hover_release span.platform_img.oculusrift {\r\n\tbackground-image: url( '/public/images/v6/icon_platform_oculusrift_dark.png' );\r\n}\r\n\r\n.hover_release span.platform_img.razerosvr {\r\n\tbackground-image: url( '/public/images/v6/icon_platform_razerosvr_dark.png' );\r\n}\r\n\r\n.hover_release span.platform_img.windowsmr {\r\n\tbackground-image: url( '/public/images/v6/icon_platform_windowsmr_dark.png' );\r\n}\r\n\r\n\r\nspan.platform_img.hmd_separator {\r\n\tborder-left: 1px solid #CCC;\r\n\twidth: 1px;\r\n\tmargin: 0px 5px;\r\n}\r\n.promo_item_list .item .info .OS span.platform_img.streamingvideo {\r\n\tbackground-position: 0px 1px;\r\n}\r\n\r\n/* GLOBAL TAG STYLES */\r\n\r\n.app_tag {\r\n\tdisplay: inline-block;\r\n\tline-height: 19px;\r\n\tpadding: 0 7px;\r\n\tcolor: #b0aeac;\r\n\tbackground-color: #384959;\r\n\r\n\tmargin-right: 2px;\r\n\tborder-radius: 3px;\r\n\r\n\tbox-shadow: 1px 1px 0 0 #000000;\r\n\tcursor: pointer;\r\n\r\n\tmargin-bottom: 3px;\r\n\r\n\tmax-width: 200px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.app_tag.not_browseable {\r\n\topacity: 0.6;\r\n\tcursor: default;\r\n}\r\n\r\n/* HOVER */\r\n\r\n\r\ndiv.game_hover {\r\n\tposition: absolute;\r\n\tz-index: 1526;\r\n\ttop: 40px;\r\n\tleft: 400px;\r\n\tpadding: 5px 12px 0 12px;\r\n}\r\n\r\n.game_hover_iframe {\r\n\toverflow: hidden;\r\n\twidth: fit-content;\r\n\theight: fit-content;\r\n}\r\n\r\n.game_hover_box {\r\n    background: rgb(227,234,239); /* Old browsers */\r\n    background: -moz-linear-gradient(top,  rgba(227,234,239,1) 0%, rgba(199,213,224,1) 100%); /* FF3.6+ */\r\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(227,234,239,1)), color-stop(100%,rgba(199,213,224,1))); /* Chrome,Safari4+ */\r\n    background: -webkit-linear-gradient(top,  rgba(227,234,239,1) 0%,rgba(199,213,224,1) 100%); /* Chrome10+,Safari5.1+ */\r\n    background: -o-linear-gradient(top,  rgba(227,234,239,1) 0%,rgba(199,213,224,1) 100%); /* Opera 11.10+ */\r\n    background: -ms-linear-gradient(top,  rgba(227,234,239,1) 0%,rgba(199,213,224,1) 100%); /* IE10+ */\r\n    background: linear-gradient(to bottom,  rgba(227,234,239,1) 0%,rgba(199,213,224,1) 100%); /* W3C */\r\n    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#e3eaef', endColorstr='#c7d5e0',GradientType=0 ); /* IE6-9 */\r\n\r\n    width: 306px;\r\n\r\n\tcolor: #30455a;\r\n\tfont-size: 12px;\r\n\r\n\toverflow: hidden;\r\n\r\n\tbox-shadow: 0 0 12px #000000;\r\n}\r\n\r\n.game_hover_iframe .game_hover_box {\r\n\tmargin: 0;\r\n}\r\n\r\n.game_hover_box .content {\r\n\tpadding: 16px;\r\n}\r\n\r\n.game_hover_box .hover_top_area {\r\n\tmargin-bottom: 8px;\r\n\tfont-size: 10px;\r\n\tcolor: #82807C;\r\n}\r\n\r\n.hover_screenshots {\r\n\tposition: relative;\r\n\twidth: 274px;\r\n\theight: 153px;\r\n\tmargin: 5px 0;\r\n}\r\n\r\n.hover_screenshots .screenshot {\r\n\tposition: absolute;\r\n\twidth: 100%; /* Redundant ?? */\r\n\theight: 100%;\r\n\tbackground-size: cover;\r\n\tbackground-position: center center;\r\n\topacity: 0;\r\n\ttransition: opacity 300ms;\r\n\tanimation: screenshot_hover_fadein 4s linear;\r\n\tanimation-iteration-count:infinite;\r\n}\r\n\r\n.hover_screenshots .screenshot:nth-child(1) { animation-delay: 0s }\r\n.hover_screenshots .screenshot:nth-child(2) { animation-delay: 1s }\r\n.hover_screenshots .screenshot:nth-child(3) { animation-delay: 2s }\r\n.hover_screenshots .screenshot:nth-child(4) { animation-delay: 3s }\r\n\r\n@keyframes screenshot_hover_fadein {\r\n\t0% {\r\n\t\topacity: 0;\r\n\t}\r\n\t3% {\r\n\t\topacity: 1;\r\n\t}\r\n\t28% {\r\n\t\topacity: 1;\r\n\t}\r\n\r\n\t31% {\r\n\t\topacity: 0;\r\n\t}\r\n}\r\n\r\n#hover_screenshots .screenshot.active {\r\n\topacity: 1;\r\n}\r\n\r\n.game_hover_box h4.hover_title {\r\n\tcolor: #222d3d;\r\n\tfont-weight: normal;\r\n\tfont-size: 15px;\r\n\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: normal; /* normal */\r\n\r\n\t\t    text-transform: unset;\r\n    letter-spacing: 0px;\r\n    margin-top: -4px;\r\n    line-height: 17px;\r\n    margin-bottom: 4px;\r\n}\r\n\r\n.game_hover_box .hover_release {\r\n\tfont-size: 10px;\r\n\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.game_hover_box p, .game_hover_box {\r\n\tmargin-top: 8px;\r\n\tmargin-bottom: 8px;\r\n}\r\n\r\n.game_hover_box .rule {\r\n}\r\n\r\n.game_hover .hover_arrow_left, .game_hover .hover_arrow_right {\r\n\twidth: 7px;\r\n\theight: 15px;\r\n\tbackground: url( 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJlJREFUeNqc0k0KgCAQBlCdI0SLlkEtu4DLTt6yC7SN2hX0cwWbCQvDMa0PBhN9EsxIrbXgMs57RWueJR13Di+ooboeCEILpaZYDC/oCoshgLwYIhCL5TBtMcjOilUT1OJH6FdLrOWDobslYIN7/FCRmO4oMmCmIwbf6NGOAH4gZwA82EFnO7ghx14VuLRm6yAvtLDgEOUQYADt6VgCZRDsZgAAAABJRU5ErkJggg==' ) no-repeat top;\r\n\tposition: absolute;\r\n\ttop: 48px;\r\n}\r\n\r\n.game_hover .hover_arrow_left {\r\n\tbackground-position: left;\r\n\r\n\tleft: 5px;\r\n}\r\n\r\n.game_hover .hover_arrow_right {\r\n\tbackground-position: right;\r\n\r\n\tright: 5px;\r\n}\r\n\r\n.hover_body {\r\n\tmargin-bottom: 6px;\r\n}\r\n\r\n.hover_details_block, .hover_details_block_full {\r\n\tdisplay: block;\r\n\tborder-radius: 2px;\r\n\tmargin-right: 3px;\r\n\tbackground-color: #96a3ae;\r\n\tpadding: 4px;\r\n\r\n\tline-height: 20px;\r\n\theight: 20px;\r\n}\r\n\r\n.hover_details_block {\r\n\tfloat: left;\r\n}\r\n\r\n.hover_category_icon {\r\n\tdisplay: inline-block;\r\n\tline-height: 20px;\r\n\theight: 20px;\r\n\tvertical-align: middle;\r\n}\r\n\r\n.hover_friends_blocks {\r\n\tmargin-bottom: 8px;\r\n}\r\n\r\n.hover_tag_row {\r\n\toverflow: hidden;\r\n\theight: 19px;\r\n    margin-top: 2px;\r\n}\r\n\r\n.hover_tag_row .app_tag {\r\n\tbackground-color: #96a3ae;\r\n\tcolor: rgba(227,234,239,1);\r\n\tbox-shadow: none;\r\n\tpadding: 0 4px;\r\n    font-size: 11px;\r\n    border-radius: 2px;\r\n}\r\n\r\n.hover_details_specs {\r\n\theight: 26px;\r\n\tmargin-bottom: 2px;\r\n}\r\n\r\n.hover_details_specs .icon {\r\n\tfloat: left;\r\n\tleft: 0px;\r\n\twidth: 30px;\r\n\theight: 22px;\r\n\tpadding-top: 4px;\r\n\tpadding-left: 6px;\r\n\tbackground-color: #6a8caa;\r\n}\r\n\r\n.hover_details_specs .name {\r\n\tmargin-left: 2px;\r\n\theight: 22px;\r\n\tpadding-top: 4px;\r\n\tpadding-left: 8px;\r\n\tbackground-color: #6a8caa;\r\n}\r\n\r\n.hover_body .hover_review_summary {\r\n\tmargin-bottom: 10px;\r\n\tborder-radius: 2px;\r\n\tpadding: 4px;\r\n\tcolor: #c6d4df;\r\n\tbackground-color: rgba( 38, 54, 69, 0.6);\r\n}\r\n.review_anomaly_icon {\r\n\tvertical-align: sub;\r\n\tfont-size: 16px;\r\n\tcolor: #6f8695;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.review_score_icon.positive {\r\n\tbackground-image: url( '/public/images/v6/user_reviews_positive.png' );\r\n}\r\n\r\n.review_score_icon.mixed {\r\n\tbackground-image: url( '/public/images/v6/user_reviews_mixed.png' );\r\n}\r\n\r\n.review_score_icon.negative {\r\n\tbackground-image: url( '/public/images/v6/user_reviews_negative.png' );\r\n}\r\n\r\n\r\n.game_review_summary {\r\n\tcolor: #A34C25;\r\n}\r\n.game_review_summary.mixed {\r\n\tcolor: #B9A074;\r\n}\r\n.game_review_summary.positive {\r\n\tcolor: #66C0F4;\r\n}\r\n.game_review_summary.no_reviews, .game_review_summary.not_enough_reviews {\r\n\tcolor: #929396;\r\n}\r\n\r\n.friend_blocks_row {\r\n    margin-top: 2px;\r\n}\r\n\r\n.friend_blocks_row .playerAvatar {\r\n\tfloat: left;\r\n\tmargin-right: 5px;\r\n}\r\n.friend_blocks_row .friend_block_holder {\r\n    width: 40px;\r\n    height: 40px;\r\n}\r\n.friend_blocks_row .friend_block_holder, .friend_blocks_row .playerAvatar {\r\n    float: left;\r\n    margin-right: 5px;\r\n}\r\n\r\n\r\n/*\r\n * FRIENDS TODO: LEGACY\r\n */\r\n\r\n.friend_block_avatar {\r\n\twidth: 32px;\r\n\theight: 32px;\r\n\tbackground-repeat: no-repeat;\r\n\tpadding: 4px;\r\n\tmargin-right: 2px;\r\n}\r\n\r\n.friend_status_offline .friend_block_avatar {\r\n\tbackground-image: url( '/public/images/communitylink/iconholder_offline.jpg' );\r\n}\r\n\r\n.friend_status_online .friend_block_avatar {\r\n\tbackground-image: url( '/public/images/communitylink/iconholder_online.jpg' );\r\n}\r\n\r\n.friend_status_in-game .friend_block_avatar {\r\n\tbackground-image: url( '/public/images/communitylink/iconholder_ingame.jpg' );\r\n}\r\n\r\n\r\n.cluster_control_left, .cluster_control_right {\r\n\tposition: absolute;\r\n\ttop: 16px;\r\n\theight: 44px;\r\n\tcolor: #8bb9e0;\r\n\tbackground-color: #000000;\r\n\tpadding: 6px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.cluster_control_left img, .cluster_control_right img {\r\n\tvertical-align: middle;\r\n}\r\n\r\n.cluster_control_left {\r\n\tleft: 0px;\r\n\tpadding-right: 16px;\r\n}\r\n\r\n.cluster_control_right {\r\n\tright: 0px;\r\n\ttext-align: right;\r\n\tpadding-left: 16px;\r\n}\r\n\r\n.cluster_capsule {\r\n\tdisplay: block;\r\n\tfloat: left;\r\n\tmargin-right: 4px;\r\n\tposition: relative;\r\n}\r\n\r\na.cluster_capsule:hover {\r\n\ttext-decoration: none;\r\n}\r\n\r\n.large_cluster_content_twoup {\r\n\tposition: relative;\r\n\twidth: 940px;\r\n\theight: 254px;\r\n\toverflow: hidden;\r\n    margin-top: 15px;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.large_cluster_content_twoup .cluster_control_left {\r\n\tborder-left: 1px solid #4D4B49;\r\n}\r\n\r\n.large_cluster_content_twoup .cluster_control_right {\r\n\tborder-right: 1px solid #4D4B49;\r\n}\r\n\r\n.large_cap {\r\n\twidth: 467px;\r\n\theight: 252px;\r\n\tborder: 1px solid #4D4B49;\r\n}\r\n\r\n.cluster_capsule.large_cap {\r\n\tmargin-right: 2px;\r\n}\r\n\r\na.large_cap:hover {\r\n\ttext-decoration: none;\r\n}\r\n\r\nimg.large_cap {\r\n\twidth: 467px;\r\n\theight: 181px;\r\n\tposition: relative;\r\n}\r\n\r\n.large_cap_content {\r\n\tpadding: 13px 16px;\r\n}\r\n\r\n.large_cap_content h4 {\r\n\tmargin-bottom: 6px;\r\n}\r\n\r\n.large_cap_content p {\r\n\tcolor: #B0AEAC;\r\n\tfont-size: 12px;\r\n\theight: 32px;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.large_cap_discount {\r\n\tposition: absolute;\r\n\tright: 16px;\r\n\tbottom: 98px;\r\n}\r\n\r\n.large_cap_desc {\r\n\tposition: absolute;\r\n\tleft: 0px;\r\n\tbottom: 0px;\r\n\r\n\tbackground-color: #1a1a1a;\r\n\r\n\twidth: 467px;\r\n\theight: 71px;\r\n\toverflow: hidden;\r\n}\r\n\r\n.large_cap_price {\r\n\tposition: absolute;\r\n\tright: 16px;\r\n\tline-height: 14px;\r\n}\r\n\r\n/* Dark page cut */\r\n\r\nbody.v6 .page_content_ctn.dark {\r\n\tbackground-color: #000;\r\n\tpadding: 25px 0;\r\n}\r\n\r\nbody.v6 .page_content_ctn.dark:last-child {\r\n\tmargin-bottom: -52px;\r\n}\r\n\r\n.page_content_ctn.dark .pageheader:after {\r\n\tcontent: ' ';\r\n\tdisplay: block;\r\n\theight: 1px;\r\n\tmargin-top: 5px;\r\n\tbackground: -webkit-linear-gradient( left, #3b6e8c 5%,#000000 95%);\r\n\tbackground: linear-gradient( to right, #3b6e8c 5%,#000000 95%);\r\n}\r\n\r\n\r\n/* common discovery queue styles */\r\n\r\n.discovery_queue {\r\n\theight: 289px;\r\n\tposition: relative;\r\n}\r\n\r\n/* empty queue */\r\n.discover_queue_empty\r\n{\r\n\tpadding: 30px 20px 20px 20px;\r\n\ttext-align: center;\r\n\tbackground: rgba( 0, 0, 0, 0.2);\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 300; /* light */\r\n\r\n\t\t\tfont-weight: normal;\r\n\tmargin-bottom: 30px;\r\n\tmargin-top: 12px;\r\n\theight: 165px;\r\n}\r\nbody.v6 .discover_queue_empty>h3 {\r\n\tfont-size: 20px;\r\n\tcolor: #C6D4DF;\r\n\tmargin-bottom: 15px;\r\n}\r\n.discover_queue_empty>p {\r\n\tfont-size: 13px;\r\n\tcolor: #8F98A0;\r\n}\r\n.discover_queue_empty_refresh_btn\r\n{\r\n\tpadding-top: 20px;\r\n}\r\n\r\n.dq_item {\r\n\tposition: absolute;\r\n\tbox-shadow: 0 0 8px 0 #000000;\r\n}\r\n.dq_item,\r\n.dq_item div,\r\n.dq_item img {\r\n\t-webkit-user-select: none;  /* Chrome all / Safari all */\r\n\t-moz-user-select: none;     /* Firefox all */\r\n\t-ms-user-select: none;      /* IE 10+ */\r\n\tuser-select: none;\r\n}\r\n\r\n.dq_item .dq_item_cap {\r\n\twidth: 100%;\r\n\theight: auto;\r\n\tdisplay: block;\r\n}\r\n\r\n.dq_item_overlay {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tz-index: 10;\t/* keep it on top of ds_flag (z-index 5 ) */\r\n}\r\n\r\n.dq_item .ds_flag {\r\n\tbox-shadow: 0 0 4px 0 #000000;\r\n}\r\n\r\n.dq_item_price {\r\n\tposition: absolute;\r\n\tbottom: -39px;\r\n\tright: 0;\r\n\topacity: 0;\r\n}\r\n\r\n.dq_item_price.no_discount {\r\n\tbottom: -26px;\r\n}\r\n\r\n.dq_item_reason {\r\n\topacity: 0;\r\n\tfont-size: 17px;\r\n\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\tmargin-top: 4px;\r\n\tcolor: #fff;\r\n\twidth: 330px;\r\n}\r\n\r\n.dq_item.dq_active_link {\r\n\tz-index: 30;\r\n\tbox-shadow: none;\r\n}\r\n\r\n.dq_item.dq_active_link a {\r\n\tdisplay: block;\r\n\twidth: 460px;\r\n\theight: 215px;\r\n}\r\n\r\n#page_background_holder {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\tleft: 0px;\r\n\toverflow: hidden;\r\n\tz-index: -1;\r\n\tmin-width: 972px;\r\n}\r\n\r\n#page_background {\r\n\ttext-align: center;\r\n\tbackground-position: center top;\r\n\tbackground-repeat: no-repeat;\r\n\theight: 1024px;\r\n\tmin-width: 972px;\r\n}\r\n\r\n/* TEMPORARY */\r\n\r\n#v6takeover .flag {\r\n\tmargin: 0 0 -15px 0;\r\n\tz-index: 10;\r\n\tposition: relative;\r\n\theight: 36px;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: top left;\r\n}\r\n\r\n#v6takeover.closed .flag {\r\n\tmargin: 0 0 -15px -17px;\r\n\theight: 35px;\r\n}\r\n#v6takeover.closed {\r\n\tborder-bottom: 1px solid rgba( 0, 0, 0, 0 );\r\n}\r\n\r\n#v6takeover .avatar {\r\n\tborder: 5px solid #67c1f5;\r\n\twidth: 92px;\r\n\theight: 92px;\r\n\tbox-shadow: 0 0 5px #67c1f5;\r\n\tz-index: 5;\r\n\tdisplay: inline-block;\r\n\tvertical-align: top;\r\n\tmargin: 0 0 0 2px;\r\n}\r\n\r\n#v6takeover .avatar > img {\r\n\twidth: 92px;\r\n\theight: 92px;\r\n}\r\n\r\n#v6takeover .title {\r\n\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: bold; /* bold */\r\n\r\n\t\t\tfont-size: 44px;\r\n\tcolor: #fff;\r\n\r\n\ttext-transform: uppercase;\r\n\tline-height: 46px;\r\n\tdisplay: inline-block;\r\n\twidth: 770px;\r\n\tmargin: 18px 0 0 9px;\r\n\tvertical-align: top;\r\n}\r\n\r\n#v6takeover .title > div {\r\n\tcolor: #66c0f4;\r\n}\r\n\r\n#v6takeover .desc {\r\n\r\n\tfont-size: 16px;\r\n\tmargin: 10px 0 10px 0;\r\n}\r\n\r\n#v6takeover .close {\r\n\tposition: absolute;\r\n\ttop: 9px;\r\n\tright: 9px;\r\n\tz-index: 25;\r\n\tbackground-image: url( '/public/images/v6/close_btn.png' );\r\n\tbackground-repeat: no-repeat;\r\n\theight: 18px;\r\n\twidth: 18px;\r\n}\r\n#v6takeover.closed .close {\r\n\tbackground-image: url( '/public/images/v6/expand_btn.png?v=1' );\r\n}\r\n\r\n#v6takeover.closed .avatar, #v6takeover.closed .title, #v6takeover.closed .desc, #v6takeover.closed .btn_medium {\r\n\tdisplay: none;\r\n}\r\n\r\n#v6takeover {\r\n\tpadding: 0 15px 15px 15px;\r\n\tborder-bottom: 1px solid #305d7d;\r\n\tbackground: -webkit-linear-gradient( top, rgba(0,0,0,0) 5%, rgba(102,192,244,0.2) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(0,0,0,0) 5%, rgba(102,192,244,0.2) 95%);\r\n\tmargin-bottom: 15px;\r\n\tposition: relative;\r\n}\r\n#v6takeover.closed {\r\n\tbackground: rgba( 0, 0, 0, 0.2 );\r\n}\r\n\r\n/* END TEMPORARY */\r\n\r\n\r\n.dropcontainer ul {\r\n\tlist-style-type:none;\r\n\tline-height: 22px;\r\n\tmargin:0;\r\n\tposition:absolute;\r\n\ttop:0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tz-index: 900;\r\n\r\n\toverflow: auto;\r\n\toverflow-x: hidden;\r\n\r\n\tbox-shadow: 0 0 5px 0 #000000;\r\n\tbackground: #417A9B;\r\n}\r\n.dropdownhidden{\r\n\tdisplay: none;\r\n}\r\n.dropdownvisible{\r\n\tdisplay: block;\r\n}\r\n.dropcontainer ul li {\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n}\r\n.dropcontainer ul li.emptyvalue {\r\n\tfont-style: italic;\r\n}\r\n.dropcontainer ul a {\r\n\tpadding: 0 10px;\r\n\tdisplay:block;\r\n\ttext-decoration:none;\r\n\tcolor: #e5e4dc;\r\n\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.dropcontainer{\r\n\tposition:relative;\r\n}\r\n\r\n.dselect_container {\r\n\tfont-size: 12px;\r\n}\r\n\r\n.dselect_container {\r\n\tposition: relative;\r\n\r\n}\r\n.dselect_container a.trigger, .dselect_container a.activetrigger {\r\n\tdisplay: block;\r\n\tcolor: #67c1f5;\r\n\tpadding: 0 30px 0 8px;\r\n\tfont-size: 12px;\r\n\tline-height: 21px;\r\n\tborder: 0;\r\n\tborder-radius: 3px;\r\n\ttext-decoration: none;\r\n\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n\tposition:relative;\r\n}\r\n\r\n.dselect_container a.trigger {\r\n\tbackground: rgba( 103, 193, 245, 0.1 );\r\n}\r\n\r\n.dselect_container a.activetrigger, .dselect_container a.activetrigger:hover {\r\n\tcolor: #ffffff;\r\n\tbackground: #67c1f5;\r\n}\r\n\r\n\r\n.dselect_container a.activetrigger {\r\n\tborder-bottom-left-radius: 0;\r\n\tborder-bottom-right-radius: 0;\r\n\tz-index: 91;\r\n\tposition: relative;\r\n}\r\n\r\n.dselect_container a.trigger::after, .dselect_container a.activetrigger::after {\r\n\tposition: absolute;\r\n\tright: 0;\r\n\ttop: 0;\r\n\tbottom: 0;\r\n\twidth: 20px;\r\n\tbackground: url('/public/images/v6/ico/ico_arrow_dn_for_select.png') no-repeat left center;\r\n\tcontent: '';\r\n}\r\n\r\n.dselect_container a.trigger:hover,\r\n.dselect_container .dropcontainer a.highlighted_selection\r\n{\r\n\tcolor: #ffffff;\r\n\tbackground-color: #67c1f5; /* Old browsers */\r\n\tbackground: -webkit-linear-gradient( 150deg, #417a9b 5%,#67c1f5 95%);\r\n\tbackground: linear-gradient( -60deg, #417a9b 5%,#67c1f5 95%);\r\n}\r\n\r\n.promo_leftcol {\r\n\tmargin-right: 5px;\r\n\tpadding: 10px 20px 10px 20px;\r\n\tbackground-color: rgba( 0, 0, 0, 0.4 );\r\n}\r\n.promo_rightcol {\r\n\tmargin-left: 5px;\r\n\tpadding: 1px 15px 10px 15px;\r\n\tborder-radius: 4px;\r\n\tbackground: rgba( 0, 0, 0, 0.2 );\r\n}\r\n.promo_banner {\r\n\tbox-shadow: 0px 0px 5px #000;\r\n}\r\n\r\n/* Refund policy styles */\r\n.refund_policy .page_header_ctn {\r\n\tpadding-bottom: 74px;\r\n}\r\n.refund_policy h2 {\r\n\tpadding-top: 40px;\r\n}\r\n\r\n.refund_policy .header_ctn {\r\n\tmargin: 40px 0;\r\n}\r\n\r\nbody.v6.refund_policy {\r\n\tbackground: #212429;\r\n}\r\n\r\nbody.v6.refund_policy .page_content_ctn {\r\n\tfont-size: 14px;\r\n\tline-height: 18px;\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: normal; /* normal */\r\n\r\n\t\t\tcolor: #a4b0be;\r\n}\r\n\r\n.refund_policy #main_content h1 {\r\n\tcolor: #ffffff;\r\n\tfont-size: 26px;\r\n\ttext-shadow: 1px 1px 0 #000000;\r\n\tmargin: 32px 0px 8px 0px;\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 300; /* light */\r\n\r\n\t\t\tfont-weight: normal;\r\n\tline-height: normal;\r\n}\r\n\r\n.refund_policy #main_content h2 {\r\n\tpadding-top: 12px;\r\n\tmargin-bottom: 4px;\r\n\tline-height: 20px;\r\n}\r\n\r\n.refund_policy p {\r\n\tmargin-bottom: 16px;\r\n}\r\n\r\n.refund_policy ul {\r\n\tpadding-left: 20px;\r\n}\r\n\r\n.nonresponsive_hidden {\r\n\tdisplay: none;\r\n}\r\n\r\na.pulldown_desktop {\r\n\tdisplay: inline;\r\n\tcolor: inherit;\r\n}\r\n\r\na.pulldown_mobile {\r\n\tdisplay: none;\r\n}\r\n\r\n@media screen and (max-width: 910px)\r\n{\r\n\thtml.responsive body.v6 .page_content {\r\n\t\tmax-width: 940px;\r\n\t\twidth: auto;\r\n\t\tmargin: 0 2%;\r\n\t}\r\n\r\n\thtml.responsive body.v6 h2.pageheader {\r\n\t\tfont-size: 30px;\r\n\t\tword-wrap: break-word;\r\n\t}\r\n\r\n\thtml.responsive .leftcol,\r\n\thtml.responsive .rightcol {\r\n\t\tfloat: none;\r\n\t\twidth: auto;\r\n\t\tmargin-left: 0;\r\n\t}\r\n\r\n\thtml.responsive div#store_header,\r\n\thtml.responsive div#store_header .content {\r\n\t\tmin-width: 0;\r\n\t\twidth: auto;\r\n\t\theight: auto;\r\n\t\tmargin-bottom: 0;\r\n\t}\r\n\r\n\thtml.responsive .responsive_store_nav_ctn_spacer {\r\n\t\theight: 16px;\r\n\t}\r\n\r\n\thtml.responsive div#store_controls {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\thtml.responsive div#store_header #store_nav_area {\r\n\t\tposition: static;\r\n\t}\r\n\r\n\thtml.responsive #store_header {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\thtml.responsive #store_nav_area,\r\n\thtml.responsive #store_nav_area .store_nav_bg,\r\n\thtml.responsive #store_nav_area .store_nav {\r\n\t\theight: auto;\r\n\t\tmargin: 0;\r\n\t}\r\n\r\n\thtml.responsive #store_nav_area .store_nav .tab {\r\n\t\tfloat: none;\r\n\t\tdisplay: block;\r\n\t\tborder: none;\r\n\t}\r\n\r\n\thtml.responsive div#store_search {\r\n\t\tfloat: none;\r\n\t\tborder-left: none;\r\n\t}\r\n\r\n\thtml.responsive .searchbox {\r\n\t\twidth: auto;\r\n\t\theight: auto;\r\n\t\tbackground-image: none;\r\n\t\tbackground-color: rgba( 102, 192, 244, 0.5 );\r\n\t\tborder-radius: 4px;\r\n\t\tbox-shadow: inset 0 0 4px #000000;\r\n\t\tmargin: 1px;\r\n\t\tpadding: 0 6px;\r\n\t}\r\n\r\n\thtml.responsive .searchbox:hover {\r\n\t\tbackground-image: none;\r\n\t\tmargin: 0;\r\n\t\tborder: 1px solid #ffffff;\r\n\t}\r\n\r\n\thtml.responsive .searchbox input {\r\n\t\twidth: 100%;\r\n\t\tfont-size: 16px;\r\n\t\tmargin: 0;\r\n\t\tline-height: 28px;\r\n\t}\r\n\r\n\thtml.responsive .search_area {\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\thtml.responsive .search_area .search_suggest {\r\n\t\tleft: 4px;\r\n\t\tright: 4px;\r\n\t\ttop: 35px;\r\n\t\twidth: auto;\r\n\t}\r\n\r\n\thtml.responsive .tab_item {\r\n\t\tpadding-left: 0;\r\n\t}\r\n\r\n\thtml.responsive .tab_item_cap_ctn {\r\n\t\tfloat: left;\r\n\t\tmax-width: 33%;\r\n\t}\r\n\r\n\thtml.responsive .tab_item_cap {\r\n\t\tposition: static;\r\n\t\tfloat: left;\r\n\t\tmax-width: 33%;\r\n\t\tmargin-right: 3%;\r\n\t}\r\n\r\n\thtml.responsive .tab_item_cap_img {\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t\tvertical-align: middle;\r\n\t}\r\n\r\n\thtml.responsive a.pulldown_desktop {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\thtml.responsive a.pulldown_mobile {\r\n\t\tdisplay: inline;\r\n\t\tcolor: inherit;\r\n\t}\r\n}\r\n\r\n@media screen and (max-width: 600px)\r\n{\r\n\thtml.responsive body.v6 h2.pageheader {\r\n\t\tfont-size: 24px;\r\n\t}\r\n\r\n\thtml.responsive .tab_item_discount .discount_pct,\r\n\thtml.responsive .tab_item_discount.no_discount .bundle_base_discount {\r\n\t\tdisplay: inline-block;\r\n\t\tfloat: none;\r\n\t\tmargin-top: 0;\r\n\t}\r\n\r\n\thtml.responsive .tab_item_discount:not(.no_discount) {\r\n\t\tmargin-top: 10px;\r\n\t\twidth: auto;\r\n\t}\r\n\r\n\thtml.responsive .tab_item_discount .discount_prices {\r\n\t\tdisplay: block;\r\n\t}\r\n}\r\n\r\n\r\n/* main cluster rotation */\r\n\r\n.main_cluster_content {\r\n\twidth 616px;\r\n\theight: 395px;\r\n\toverflow: hidden;\r\n\tmargin-bottom: 4px;\r\n\tposition: relative;\r\n\r\n\t-webkit-overflow-scrolling: touch;\r\n}\r\n\r\nhtml.touch .main_cluster_content {\r\n\toverflow-x: scroll;\r\n}\r\n\r\n.main_cluster_content::-webkit-scrollbar {\r\n\tdisplay: none;\r\n}\r\n\r\n.cluster_scroll_area {\r\n\toverflow: hidden;\r\n}\r\n\r\n.main_cluster_content a.cluster_capsule  {\r\n\tdisplay: inline-block;\r\n\twidth: 616px;\r\n\theight: 395px;\r\n\tmargin-right: 4px;\r\n\tposition: relative;\r\n}\r\n\r\na.cluster_capsule:hover {\r\n\ttext-decoration: none;\r\n}\r\n\r\n.main_cluster_content .cluster_capsule_image {\r\n\twidth: 616px;\r\n\theight: 353px;\r\n\tdisplay: block;\r\n}\r\n\r\n.main_cluster_content .cluster_capsule .ds_flag {\r\n\tbox-shadow: 0 0 6px 0 #000000;\r\n}\r\n\r\n.main_cluster_content .cluster_maincap_fill {\r\n\twidth: auto;\r\n\tdisplay: block;\r\n\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n}\r\n\r\n.main_cluster_content img.cluster_maincap_fill_placeholder {\r\n\twidth: 100%;\r\n\theight: auto;\r\n}\r\n\r\n.cluster_maincap_fill .cluster_maincap_fill_bg {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tz-index: 1;\r\n\topacity: 0.5;\r\n\tfilter: blur(5px);\r\n\t-webkit-filter: blur(5px);\r\n\toverflow: hidden;\r\n}\r\n\r\n.cluster_maincap_fill .cluster_maincap_fill_header {\r\n\tposition: absolute;\r\n\tleft: 78px;\r\n\ttop: 69px;\r\n\tz-index: 2;\r\n\tbox-shadow: 0 0 16px 6px #000000;\r\n}\r\n\r\n.cluster_maincap_fill.package .cluster_maincap_fill_header {\r\n\twidth: 530px;\r\n\theight: 174px;\r\n\r\n\tleft: 43px;\r\n\ttop: 89px;\r\n}\r\n\r\n.cluster_maincap_fill.package .cluster_maincap_fill_bg.cluster_capsule_image  {\r\n\twidth: 1076px;\r\n\theight: 353px;\r\n\tleft: -230px;\r\n}\r\n\r\n.main_cap_discount, .main_cap_price {\r\n\tposition: absolute;\r\n\tright: 0;\r\n\tbottom: 42px;\r\n\tz-index: 3;\r\n}\r\n\r\n.corner_cap_discount {\r\n\tposition: absolute;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tz-index: 3;\r\n}\r\n\r\n/* Darken background */\r\n.store_capsule .discount_block.corner_cap_discount > .discount_prices {\r\n\tbackground-color: rgba(20,31,44,0.7);\r\n}\r\n\r\n.main_cap_price {\r\n\tbackground: #000000;\r\n\tfont-size: 13px;\r\n\tcolor: #b0aeac;\r\n\tline-height: 25px;\r\n\tpadding: 0 8px;\r\n}\r\n\r\n.main_cap_desc {\r\n\theight: 42px;\r\n\tline-height: 42px;\r\n\tbackground: rgba( 0, 0, 0, 0.2 );\r\n\tpadding: 0 12px;\r\n\toverflow: hidden;\r\n}\r\n\r\n.main_cap_platform_area {\r\n\tfloat: right;\r\n\tpadding-top: 5px;\r\n}\r\n\r\n.main_cap_status {\r\n\tcolor: #ffffff;\r\n\tfont-size: 21px;\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 300; /* light */\r\n\r\n\t\t\ttext-shadow: 1px 1px rgba( 0, 0, 0, 0.25 );\r\n\r\n}\r\n\r\n.main_cluster_ctn .home_btn.home_customize_btn {\r\n\tposition: absolute;\r\n\tright: 10px;\r\n\ttop: 10px;\r\n\tdisplay: none;\r\n\tbackground: rgba( 44, 75, 100, 0.8 );\r\n\tbox-shadow: 0 0 12px #000000;\r\n}\r\n.main_cluster_ctn .home_btn.home_customize_btn:hover {\r\n\tcolor: #ffffff;\r\n\tbackground: #67c1f5; /* Old browsers */\r\n\tbackground: -moz-linear-gradient(-60deg,  #67c1f5 0%, #417a9b 100%); /* FF3.6+ */\r\n\tbackground: -webkit-gradient(linear, left top, right bottom, color-stop(0%,#67c1f5), color-stop(100%,#417a9b)); /* Chrome,Safari4+ */\r\n\tbackground: -webkit-linear-gradient(-60deg,  #67c1f5 0%,#417a9b 100%); /* Chrome10+,Safari5.1+ */\r\n\tbackground: -o-linear-gradient(-60deg,  #67c1f5 0%,#417a9b 100%); /* Opera 11.10+ */\r\n\tbackground: -ms-linear-gradient(-60deg,  #67c1f5 0%,#417a9b 100%); /* IE10+ */\r\n\tbackground: linear-gradient(135deg,  #67c1f5 0%,#417a9b 100%); /* W3C */\r\n\tfilter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#67c1f5', endColorstr='#417a9b',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */\r\n}\r\n\r\n.main_cluster_ctn:hover .home_customize_btn,\r\n.main_cluster_ctn .home_btn.home_customize_btn.active {\r\n\tdisplay: block;\r\n}\r\n.main_cluster_ctn .home_btn.home_customize_btn.active {\r\n\tbox-shadow: none;\r\n}\r\n\r\n\r\n/*\r\n * Generic capsules\r\n */\r\n.store_capsule {\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\tvertical-align: top; /* Because browsers cannot be trusted to align things. */\r\n\r\n\twidth: 229px; /* Base width. Override with your own selector later. 229 * 4 + 8 * 3 = 940 */\r\n\tbackground: -webkit-linear-gradient( -45deg, rgba(64,121,153,1) 5%,rgba(42,62,89,1) 95%);\r\n\tbackground: linear-gradient( -45deg, rgba(64,121,153,1) 5%,rgba(42,62,89,1) 95%);\r\n}\r\n\r\n.store_capsule:not(:last-child) {\r\n\tmargin-right: 8px; /* Again, a default. Adjust to fit your container. */\r\n}\r\n\r\n.store_capsule:hover {\r\n\tbackground: -webkit-linear-gradient( left, rgba(56,107,135,1) 5%,rgba(68,130,163,1) 95%);\r\n\tbackground: linear-gradient( to right, rgba(56,107,135,1) 5%,rgba(68,130,163,1) 95%);\r\n\r\n\ttext-decoration: none;\r\n}\r\n\r\n.store_capsule .capsule {\r\n\tvertical-align: top;\r\n\tposition: relative;\r\n}\r\n\r\n.store_capsule .capsule > img {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\theight: auto;\r\n\tvertical-align: top;\r\n}\r\n\r\n.store_capsule .title {\r\n\tcolor: #c7d5e0;\r\n\tfont-size: 13px;\r\n\tpadding: 3px;\r\n}\r\n\r\n.store_capsule .discount_block {\r\n\tmargin: 0;\r\n\ttext-align: right;\r\n\tpadding: 5px;\r\n\tline-height: 17px;\r\n\tmin-height: 17px;\r\n\tfont-size: 12px;\r\n}\r\n\r\n.store_capsule .discount_block > .discount_prices {\r\n\tdisplay: inline-block;\r\n\tpadding: 0 3px;\r\n\tbackground-color: rgba(20,31,44,0.4);\r\n\tborder-radius: 1px;\r\n}\r\n\r\n.store_capsule .discount_block.daily_deal_discount  > .discount_prices {\r\n\tbackground-color: rgba(20,31,44,0.8);\r\n}\r\n\r\n/* Add more padding when we have no discount */\r\n.store_capsule .discount_block.no_discount .discount_final_price {\r\n\tpadding: 0 6px;\r\n}\r\n\r\n.store_capsule .discount_block .discount_final_price {\r\n\tcolor: #acdbf5;\r\n}\r\n\r\n.store_capsule .discount_block .discount_original_price {\r\n\tcolor: #577180;\r\n}\r\n\r\n.store_capsule .discount_block.discount_block_large .discount_prices {\r\n\tpadding: 4px 10px 4px 7px\r\n}\r\n\r\n.store_capsule .discount_block:not(.discount_block_large) .discount_pct {\r\n\tfont-size: 11px;\r\n}\r\n\r\n\r\n.store_capsule .ds_flag { /* May need further adjustment for your particular capsule style */\r\n\tleft: 0px;\r\n}\r\n\r\n.store_capsule.ds_flagged:not(.ds_wishlist):not(.broadcast_capsule) .capsule > img {\r\n\topacity: 0.3;\r\n}\r\n\r\n\r\n\r\n.store_capsule_container_scrolling {\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n}\r\n\r\n.store_capsule_frame {\r\n\tpadding: 11px 16px;\r\n\tmargin: 20px -17px;\r\n\tbackground: -webkit-linear-gradient( top, rgba(22,33,46,1.0) 5%, rgba(22,33,46,0) 95%);\r\n\tbackground: linear-gradient( to bottom, rgba(22,33,46,1.0) 5%, rgba(22,33,46,0) 95%);\r\n\tborder: 1px solid transparent;\r\n\tborder-bottom: none; /* Fixes a weird artifact where the bottom border is 0,0,0,0.1 or something? */\r\n\tborder-image: linear-gradient(to bottom, rgba(46,57,70,1) 5%, rgba(46,57,70,0) 95% ) 1;\r\n}\r\n\r\n/* Aspect ratios */\r\n.store_capsule > .capsule.header, .store_capsule > .capsule.headerv5, .store_capsule > .capsule.headerratio, .store_capsule > .capsule.smallcapsule {\r\n\tpadding-top: 46.57534246575342%;\r\n\toverflow: hidden;\r\n}\r\n.store_capsule > .capsule.main_capsule {\r\n\tpadding-top: 57.3051948051948%;\r\n}\r\n\r\n.store_capsule > .capsule.smallv5 {\r\n\tpadding-top: 37.5%\r\n}\r\n\r\n\r\n.store_capsule.price_inline .discount_block .discount_prices {\r\n\tbackground-color: rgba(0,0,0,0.8);\r\n}\r\n.store_capsule.price_inline .discount_block {\r\n\tposition: absolute;\r\n\tright: 3px;\r\n\tbottom: 3px;\r\n}\r\n\r\n.home_right_btn {\r\n\tfloat: right;\r\n\tmargin-top: 27px;\r\n}\r\n\r\n.live_streams_ctn {\r\n\tmargin-top: 50px;\r\n}\r\n\r\n.autumn2016_home .live_streams_ctn {\r\n\tmargin-top: 10px;\r\n\tmargin-bottom: 50px;\r\n}\r\n\r\n#live_streams_carousel {\r\n\tmargin-top: 10px;\r\n\tpadding-bottom: 5px;\r\n}\r\n#live_streams_carousel .carousel_items .store_capsule {\r\n\twidth: 306px;\r\n\tbackground: rgba(255,255,255,0.1);\r\n}\r\n\r\n#live_streams_carousel .title\r\n{\r\n\tmargin-top: 33px;\r\n\tpadding-bottom: 6px;\r\n\tmargin-left: 5px;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n}\r\n#live_streams_carousel .title > span.live_stream_app {\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n.live_stream_play_icon\r\n{\r\n\tposition: absolute !important;\r\n\ttop: 60px !important;\r\n\tleft: 115px !important;\r\n\twidth: 80px !important;\r\n\theight: 55px !important;\r\n\tz-index: 2;\r\n}\r\n\r\n.live_streams_ctn .home_right_btn {\r\n\tmargin-top: 2px;\r\n}\r\n.live_streams_ctn .store_capsule .title {\r\n\tline-height: 23px;\r\n}\r\n\r\n.live_streams_ctn .store_capsule:not(:last-child) {\r\n\tmargin-right: 5px; /* Again, a default. Adjust to fit your container. */\r\n\tmargin-bottom: 8px;\r\n}\r\n\r\n\r\n.live_steam_viewers\r\n{\r\n\tfont-size: 13px;\r\n\tmargin: 0px 5px 0px 0px;\r\n\tpadding-left: 28px;\r\n\r\n\tpointer-events: none;\r\n\tbackground-image: url('/public/shared/images/broadcast/icon_viewers.png' );\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position-x: left;\r\n\tbackground-position-y: 2px;\r\n\tline-height: 23px;\r\n\ttext-decoration: none;\r\n}\r\n\r\n/* ds_options defines the per-app prefernces dropdown */\r\n.ds_options {\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\r\n\ttop: 0px;\r\n\tright: -5px;\r\n\tcursor: pointer;\r\n\topacity: 0;\r\n\tpadding: 5px 5px 0 0;\r\n\ttransition: opacity 0.2s, right 0.2s;\r\n\tz-index: 15;\r\n}\r\n\r\n.ds_options > div {\r\n\twidth: 15px;\r\n\theight: 15px;\r\n\r\n\tbackground-color: #e5e5e5;\r\n\tbackground-image: url('/public/images/v6/icon_expand_dark.png');\r\n\tbackground-position: 4px 4px;\r\n\tborder-radius: 3px;\r\n\tbackground-repeat: no-repeat;\r\n\tbox-shadow: 0 0 3px #000;\r\n}\r\n\r\n.ds_options:hover > div {\r\n\tbackground-color: #67c1f5;\r\n\tcolor: #fff;\r\n\tbackground-image: url('/public/images/v6/icon_expand_white.png');\r\n}\r\n\r\n*:hover > .ds_options, .ds_hover.ds_options {\r\n\topacity: 1;\r\n\tright: 0px;\r\n}\r\n\r\n.ds_options_tooltip {\r\n\tbackground: -webkit-linear-gradient( top, #e3eaef 5%, #c7d5e0 95%);\r\n\tbackground: linear-gradient( to bottom, #e3eaef 5%, #c7d5e0 95%);\r\n\tpadding: 2px 8px;\r\n\tcolor: #fff;\r\n\tborder-radius: 3px;\r\n\tbox-shadow: 0 0 3px #000;\r\n}\r\n\r\n.ds_options_tooltip > .option  {\r\n\tmargin: 5px 0;\r\n\tdisplay: block;\r\n\tcursor: pointer;\r\n\tbackground-color: rgba(0,0,0,0.1);\r\n\tborder-radius: 2px;\r\n\tpadding: 4px 8px;\r\n\tline-height: normal;\r\n\tfont-size: 11px;\r\n\tcolor: #407898;\r\n}\r\n.ds_options_tooltip > .option:hover {\r\n\tcolor: #ffffff;\r\n\tbackground-color: #67c1f5;\r\n}\r\n\r\n/* Temporary state for when we want to hide something but don't want to force a reload or risk breaking the layout */\r\n.ds_ignored {\r\n\topacity: 0.3;\r\n}\r\n\r\n\r\nbody.v6 .store_capsule_frame h2 span.right {\r\n\tfloat: right;\r\n\ttext-transform: none;\r\n\tletter-spacing: normal;\r\n}\r\n\r\nbody.v6 .store_capsule_frame h3 {\r\n\tfont-size: 14px;\r\n\tletter-spacing: 2px;\r\n}\r\n\r\nbody.v6 .store_capsule_frame h2 > a {\r\n\tcolor: inherit;\r\n}\r\n\r\nbody.v6 .store_capsule_frame > h3, body.v6 .store_capsule_frame > h3 > a {\r\n\tcolor: #abdaf4;\r\n\tmargin: 0 0 10px;\r\n\tfont-size: 14px;\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 300; /* light */\r\n\r\n\t\t\tmargin-top: -6px;\r\n}\r\n\r\n@media screen and (max-width: 910px)\r\n{\r\n\thtml.responsive div.main_cluster_content {\r\n\t\twidth: auto;\r\n\t\theight: auto;\r\n\t}\r\n\r\n\thtml.responsive .main_cluster_content a.cluster_capsule {\r\n\t\twidth: auto;\t/* javascript will set */\r\n\t\theight: auto;\r\n\t}\r\n\r\n\thtml.responsive .main_cluster_content .cluster_capsule_image:not(.cluster_maincap_fill_bg) {\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t}\r\n\r\n\thtml.responsive .cluster_maincap_fill .cluster_maincap_fill_header {\r\n\t\tleft: 12%;\r\n\t\ttop: 19.5%;\r\n\t\twidth: 74%;\r\n\t\theight: auto;\r\n\t}\r\n\r\n\thtml.responsive .main_cluster_ctn {\r\n\t\tmax-width: 616px;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\r\n\thtml.responsive .main_cluster_ctn.large_cluster_responsive {\r\n\t\tmax-width: 462px;\r\n\t}\r\n}\r\n\r\n\r\n.game_page_background.game {\r\n\tbackground-position: center top;\r\n\tbackground-repeat: no-repeat;\r\n\tmin-width: 972px;\r\n}\r\n\r\n.mature_content_filtered {\r\n\tpadding: 10px;\r\n\tmargin-bottom: 10px;\r\n\tbackground-color: rgba( 0, 0, 0, 0.2 );\r\n}\r\n\r\n.mature_content_filtered.header {\r\n\tfont-size: 12px;\r\n\tdisplay: inline-block;\r\n\tfloat: right;\r\n\tbackground-color: transparent;\r\n\tpadding: 0;\r\n\tmargin: 0 15px 0 0;\r\n}\r\n\r\n.mature_content_filtered.sale {\r\n\tposition: absolute;\r\n\tright: 0px;\r\n\ttop: -25px;\r\n\tbackground-color: rgba( 0, 0, 0, 0.5 );\r\n}\r\n\r\n.mature_content_filtered a {\r\n\ttext-decoration: underline;\r\n\tcolor: #66c0f4;\r\n\tdisplay: contents;\r\n}\r\n\r\n.mature_content_filtered.search {\r\n\tfloat: right;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.no_results_filtered a {\r\n\ttext-decoration: underline;\r\n}\r\n\r\n@media screen and (max-width: 910px )\r\n{\r\n\thtml.responsive .game_page_background.game {\r\n\t\tmin-width: 0;\r\n\t}\r\n\r\n\thtml.responsive .game_page_background.sale_page_background {\r\n\t\tbackground-position: center -66px;\r\n\t}\r\n}\r\n/* store_v2.css */\r\n\r\n\r\nbody.v6 {\r\n\tbackground: #1b2838;\r\n}\r\n\r\n.page_header_ctn {\r\n\tbackground: url('/public/images//v6/temp/cluster_bg_2.png' ) bottom center no-repeat;\r\n}\r\n\r\ndiv#store_controls {\r\n\ttop: 8px;\r\n}\r\n\r\ndiv.store_header_btn {\r\n\tbox-shadow: 0 0 3px #000;\r\n}\r\n\r\n\r\n\r\n.store_capsule_frame.no_bg {\r\n\tbackground: none;\r\n\tborder: none;\r\n}\r\n\r\n.store_header_btn_gray {\r\n\tbackground-image: url( '/public/images/v6/storemenu/background_wishlist.jpg' );\r\n\tbackground-color: rgba( 255, 255, 255, 0.4 );\r\n\tbackground-position: -34px 20px;\r\n\tborder-radius: 1px;\r\n}\r\n\r\n.store_header_btn_green {\r\n\tbackground-image: url( '/public/images/v6/storemenu/background_cart.jpg' );\r\n\tbackground-color: rgba( 164, 208, 7, 0.4 );\r\n\tbackground-position: -34px 20px;\r\n}\r\n#cart_status_data .store_header_btn_green {\r\n\tbackground-position: -34px 30px;\r\n}\r\n\r\n#store_nav_area .store_nav_bg,\r\n.home_page_body_ctn.has_takeover #store_nav_area .store_nav_bg {\r\n\tbackground: rgba( 62, 126, 167, 0.8);\r\n\tbox-shadow: 0 0 3px rgba( 0, 0, 0, 0.4);\r\n}\r\n\r\n.store_nav .tab {\r\n\tborder-right: 1px solid rgba( 16, 21, 25, 0.3);\r\n}\r\n\r\n.store_nav .tab > span {\r\n\tcolor: #d9dadd;\r\n\tfont-size: 13px;\r\n\tline-height: 34px;\r\n\ttext-shadow: -1px -1px 0px rgba( 0, 0, 0, 0.25 );\r\n\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 300; /* light */\r\n\r\n\t\t}\r\n\r\n.store_nav .tab > span.pulldown > span {\r\n\tbackground-image: url( '/public/images/v6/btn_arrow_down_padded_white.png' );\r\n}\r\n\r\n\r\n.main_cluster_content .cluster_maincap_fill {\r\n\tbackground: #1b2838;\r\n}\r\n\r\n.cluster_maincap_fill .cluster_maincap_fill_bg {\r\n\t-webkit-filter: blur(10px);\r\n}\r\n\r\n.store_nav .tab img.foryou_avatar {\r\n\tmargin-left: -5px;\r\n}\r\n\r\n.store_nav .tab:hover > span,\r\n.store_nav .tab:hover,\r\n.store_nav .tab.focus > span,\r\n.store_nav .tab.focus {\r\nbackground: -webkit-linear-gradient( top, #e3eaef 5%, #c7d5e0 95%);\r\n\tbackground: linear-gradient( to bottom, #e3eaef 5%, #c7d5e0 95%);\r\n\tcolor: #000;\r\n\ttext-shadow: 1px 1px 0px rgba( 255, 255, 255, 0.25 );\r\n\theight: 33px;\r\n}\r\n\r\n.searchbox {\r\n\tbackground-image: none;\r\n\tbackground-color: #316282;\r\n\tborder-radius: 3px;\r\n\tborder: 1px solid rgba( 0, 0, 0, 0.3);\r\n\tbox-shadow: 1px 1px 0px rgba( 255, 255, 255, 0.2);\r\n\tcolor: #fff;\r\n\tmargin-bottom: 0px;\r\n\toutline: none;\r\n\theight: 27px;\r\n\tpadding: 0px 6px;\r\n}\r\n.searchbox:hover {\r\n\tbackground-image: none;\r\n\tborder: 1px solid #4c9acc;\r\n\tbox-shadow: 1px 1px 0px rgba( 255, 255, 255, 0.0);\r\n}\r\n.searchbox input.default {\r\n\tcolor: #0e1c25;\r\n\tfont-size: 14px;\r\n\tmargin-top: 1px;\r\n\ttext-shadow: 1px 1px 0px rgba( 255, 255, 255, 0.1);\r\n\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 300; /* light */\r\n\r\n\t\t}\r\n\r\n.searchbox input::placeholder {\r\n\tcolor: #0e1c25;\r\n}\r\n\r\na#store_search_link img {\r\n\twidth: 25px;\r\n\theight: 25px;\r\n\tposition: absolute;\r\n\ttop: 1px;\r\n\tright: -1px;\r\n\tbackground-image: url('/public/images/v6/search_icon_btn.png');\r\n}\r\na#store_search_link img:hover {\r\n\tbackground-image: url('/public/images/v6/search_icon_btn_over.png');\r\n}\r\n\r\n.page_header_ctn.tabs.capsules {\r\n\tmargin-bottom: -76px;\r\n}\r\n\r\nbody.v6 .recommendation_section h2,\r\nbody.v6 .recommendation_mainsection h2 {\r\n\ttext-transform: uppercase;\r\n\tcolor: #fff;\r\n\tmargin: 0 0 10px;\r\n\tfont-size: 17px;\r\n\tletter-spacing: 2px;\r\n\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\tfont-weight: normal;\r\n\tpadding-top: 2px;\r\n}\r\n\r\nbody.v6 .home_page_content h2 span.right,\r\nbody.v6 .recommendation_section h2 span.right,\r\nbody.v6 .recommendation_mainsection h2 span.right,\r\nbody.v6 .user_reviews_header span.right,\r\nbody.v6 .bucket h2 span.right{\r\n\tfloat: right;\r\n\ttext-transform: none;\r\n\tletter-spacing: normal;\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\ttop: -3px;\r\n}\r\n\r\nbody.v6 .broadcast_live_stream_icon {\r\n    height: 13px;\r\n    position: absolute;\r\n\ttop: 5px;\r\n\tleft: 5px;\r\n    overflow: hidden;\r\n\tbackground: url( 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAFMN540AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkQ4QTE5MTc3M0M4MTFFODkzODlBNzdDNUZEOUI2RUMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MkQ4QTE5MTg3M0M4MTFFODkzODlBNzdDNUZEOUI2RUMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyRDhBMTkxNTczQzgxMUU4OTM4OUE3N0M1RkQ5QjZFQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyRDhBMTkxNjczQzgxMUU4OTM4OUE3N0M1RkQ5QjZFQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqixHngAAAK7SURBVHjaYvz//z8DMmABEZuio2CiX8ACf378gCngAQv8/fHjM5DiDd26jREggBjRzWDcGBUpB6Qfgjh+S5cxsgD1P0RWwRS0dh0j0AyQOWABgACCm7ElLhauFQiW+yxaHAVXsDE8DNUmKPBfuYoR7Kzf37+vAFIR2BRhOBMdAAQQXgUsMAbQgX+AFDOIDXQcI1wnUqDBAdjzIMb/P38wjAT6ZgckMLFIAoEOWPLf798YMiGbNsswQRmM///+ZUDC0QS9AhBABAMCH2BB5myOjckHUhPwqP/vu3gJE4bNm6Ii/4KSAZGWKvgtW/4QbjMwRJhIcPEtIGaHa8YR1rhAHUaArfH1+QcSI6AxMmTzlhU4Q3uVlycolc8GYkcgfgXEU8K2be9AVwcQQBRFFRMDBYAFXQCY7peB/IUmDAoLRWA+eITT2cBEQiiui4CJpB8zkURHgcoYHiJcKw/MaI8QxVdUpDyRGkHgPiw7Q3Lq378zyQlkiOZ//xzIDu1///69AVLSZMUz0ObJQMxALEbRHLx+QydaMYIPr8BMYf//RzKAog0//g8sryKxJpLV3l5+oCIRhxe/AOsZXoIZA5irKoBUDhCLAfF+IM4E5qp7VM1VAAFGkWaq5khcYEt8HKhwiYIWLlpALAqqG4H4CbRqPQDEK30WLrpPsY83x8WCIm4JqDFAooe+AHGa76LFy0myeHNMdDioYUBEGUwIgAyP9F2ydCVBi4FF0VJokFITrAAWW5E4Ld4YEV4OpDpolJ4q/Fes7MRaVwDLh1xSyhIScS7OVA2UFKFhDhLFZ/FBIOVGI4v347M4HUjdpbS6xgJAZXwG3lQNbMqACoqrJNSVxORpbWDT5xFRBchqH29Q+7GPAt+DDC4N3bK1l6yyejWkHQbKBmFEOAIUpKuAuDx02/ZHg7KSYGIYIAAAG8jIJ8edBjIAAAAASUVORK5CYII=' ) #000;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: center center;\r\n\tbackground-size: 12px 12px;\r\n\tbackground-position-x: 4px;\r\n\ttext-transform: uppercase;\r\n\tletter-spacing: 1px;\r\n\tfont-size: 12px;\r\n\tpadding: 3px 6px 3px 20px;\r\n\tbox-shadow: 0 0 7px #a94847;\r\n\tz-index: 2;\r\n\r\n    transition: opacity 0.6s;\r\n}\r\n\r\n.cluster_maincap_grantingapp {\r\n\tposition: absolute;\r\n\tright: 0;\r\n\tbottom: 0;\r\n}\r\n\r\n.spotlight_content .grantedbymastersub {\r\n\tposition: absolute;\r\n\ttop: -33px;\r\n\tright: 0;\r\n}\r\n\r\n.capsule .grantedbymastersub {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n}\r\n\r\n.grantedbymastersub {\r\n\tbackground: linear-gradient(148deg, rgba(1, 1, 1, 0) 80%, #000000 100%);\r\n}\r\n\r\n.grantedbymastersub_app {\r\n\tposition: absolute;\r\n\tbottom: 4%;\r\n\tright: 1%;\r\n}\r\n\r\nbody.v6 .sale_capsule:hover .broadcast_live_stream_icon {\r\n    opacity: 0;\r\n}\r\n\r\n/* ===== from shared_global.css ====== */\r\nbody.v6 .store_nav .popup_block_new .popup_body,\r\nbody.v6 #footer_nav .popup_block_new .popup_body {\r\nbackground: -webkit-linear-gradient( top, #e3eaef 5%, #c7d5e0 95%);\r\n\tbackground: linear-gradient( to bottom, #e3eaef 5%, #c7d5e0 95%);\r\n\tpadding: 8px 5px 8px 5px;\r\n\r\n}\r\n\r\n\r\n.store_nav .popup_menu .popup_menu_item,\r\n.creator .responsive_page_template_content .popup_menu .popup_menu_item,\r\n.curator .responsive_page_template_content .popup_menu .popup_menu_item,\r\n.footer_content .popup_menu .popup_menu_item,\r\n.search_area .popup_body .match,\r\n.search_area .popup_body .match .match_name {\r\n\tcolor: #000;\r\n\tcursor: pointer;\r\n}\r\n\r\n.store_nav .popup_menu .popup_menu_item:hover,\r\n.store_nav .popup_menu .popup_menu_item.focus,\r\n.creator .popup_menu .popup_menu_item:hover,\r\n.creator .popup_menu .popup_menu_item.focus,\r\n.curator .popup_menu .popup_menu_item:hover,\r\n.curator .popup_menu .popup_menu_item.focus,\r\n.footer_content .popup_menu .popup_menu_item:hover,\r\n.footer_content .popup_menu .popup_menu_item.focus,\r\n.search_area .popup_body .match:hover,\r\n.search_area .popup_body .match:hover .match_name,\r\n.search_area .popup_body .match.focus,\r\n.search_area .popup_body .match.focus .match_name {\r\n\tcolor: #fff;\r\n\tbackground-color: #212d3d;\r\n}\r\nbody.v6 .store_nav .popup_menu .hr, body.v6 #footer_nav .popup_menu .hr {\r\n\tmargin: 5px 10px 5px 10px;\r\n\tbackground-color: #fff;\r\n}\r\nbody.v6 .spacer {\r\n    height: 8px;\r\n    width; 100%;\r\n    content: ' ';\r\n}\r\n\r\n\r\n\r\nbody.v6 .store_nav .popup_menu_subheader, body.v6 #footer_nav .popup_menu_subheader {\r\n\tcolor: #4f94bc;\r\n}\r\n\r\n.popup_menu_twocol,\r\n.popup_menu_twocol_new {\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n} \r\n\r\n.popup_menu_twocol > .popup_menu:not(:first-child):not(:nth-child(4))\r\n{\r\n\tmargin-left: 5px;\r\n\tborder-left: 1px solid #ffffff;\r\n\tpadding-left: 5px;\r\n}\r\n\r\n\r\n.popup_menu_twocol_new > .popup_menu:not(:first-child):not(:nth-child(3)):not(:nth-child(4))\r\n{\r\n\tmargin-left: 5px;\r\n\tborder-left: 1px solid #333333;\r\n\tpadding-left: 5px;\r\n}\r\n\r\n.popup_menu_twocol > .popup_menu\r\n{\r\n\tmin-width: 0;\r\n}\r\n\r\n.popup_menu_twocol_new > .popup_menu\r\n{\r\n\tmin-width: 0;\r\n}\r\n\r\n@media screen and ( max-width: 910px )\r\n{\r\n\thtml.responsive .popup_menu_twocol > .popup_menu\r\n\t{\r\n\t\tflex: 1;\r\n\t}\r\n}\r\n\r\n@media screen and ( max-width: 420px )\r\n{\r\n\thtml.responsive .popup_menu_twocol\r\n\t{\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\thtml.responsive .popup_menu_twocol > .popup_menu:not(:first-child)\r\n\t{\r\n\t\tmargin-left: 0;\r\n\t\tborder-left: none;\r\n\t\tpadding-left: 0;\r\n\t}\r\n}\r\n\r\n/* Large screenshot carousl */\r\n.screenshot_carousel .carousel_items {\r\n\tpadding-bottom: 43%;\r\n}\r\n\r\n.screenshot_carousel .carousel_items > div {\r\n\theight: 345px;\r\n\tpadding: 30px 18px;\r\n\tbox-shadow: 0 0 5px #000;\r\n\tbackground-color: #000;\r\n}\r\n\r\n.screenshot_carousel .background_img {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\topacity: 0.35;\r\n\tbackground-position: center center;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-size: cover;\r\n\tfilter: blur(3px);\r\n}\r\n.screenshot_carousel .layout_container {\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: space-between;\r\n\theight: 100%;\r\n}\r\n\r\n.screenshot_carousel .screenshot_container {\r\n\tdisplay: flex;\r\n\r\n}\r\n\r\n\r\n.screenshot_carousel .screenshot_container > * {\r\n\tflex-shrink: 1;\r\n\twidth: 25%;\r\n\tmargin-right: 10px;\r\n}\r\n\r\nbody.v6 .screenshot_carousel h2 {\r\n\tfont-size: 34px;\r\n\ttext-shadow: 1px 1px #000;\r\n\ttext-transform: none;\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 200; /* thin */\r\n\r\n\t\t}\r\n\r\n\r\n.screenshot_carousel .screenshot_container > *:last-child {\r\n\tmargin-right: 0px;\r\n}\r\n\r\n.screenshot_carousel .screenshot_container img {\r\n\twidth: 100%;\r\n\tbox-shadow: 0 0 3px #000;\r\n}\r\n\r\n.screenshot_carousel .recommended_curator {\r\n\tdisplay: flex;\r\n\tfont-size: 18px;\r\n\tcolor: #fff;\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 200; /* thin */\r\n\r\n\t\t}\r\n\r\n.screenshot_carousel .recommended_curator img {\r\n\twidth: 48px;\r\n\tmargin-right: 10px;\r\n\tmargin-bottom: 3px;\r\n}\r\n\r\n.screenshot_carousel .recommended_curator p {\r\n\tpadding-top: 2px;\r\n\ttext-shadow: 1px 1px #000;\r\n}\r\n\r\n.screenshot_carousel .recommended_curator p strong {\r\n\tfont-weight: 400;\r\n}\r\n\r\n/* Quad carousel */\r\n\r\n.quadscreenshot_carousel .carousel_items {\r\n\tpadding-bottom: 331px;\r\n}\r\n\r\n.quadscreenshot_carousel .carousel_items > * {\r\n\theight: 100%;\r\n\tbackground-color: #000;\r\n\tdisplay: block;\r\n}\r\n\r\n.quadscreenshot_carousel .taglist > span {\r\n\tdisplay: inline-block;\r\n\tmargin-right: 5px;\r\n\tfont-size: 10px;\r\n\tpadding: 2px 5px;\r\n\tbackground-color: rgba(255,255,255,0.15);\r\n\tcolor: #fff;\r\n\tborder-radius: 2px;\r\n}\r\n\r\n.quadscreenshot_carousel .main {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\theight: 330px;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: space-between;\r\n\r\n\tbackground-color: #0f1418;\r\n\tbox-shadow: 0 0 5px #000;\r\n\r\n}\r\n\r\n.quadscreenshot_carousel .bg {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tpadding-left: 45%;\r\n\theight: 266px;\r\n\tjustify-content: flex-end;\r\n}\r\n\r\n\r\n\r\n.quadscreenshot_carousel .bg > div {\r\n\tflex-shrink: 1;\r\n\theight: 50%;\r\n\twidth: 46%;\r\n\tbackground-size: cover;\r\n\tbox-shadow: 0 0 1px #101519 inset;\r\n}\r\n\r\n.quadscreenshot_carousel .appTitle {\r\n\twidth: 455px;\r\n\theight: 30px;\r\n\tposition: absolute;\r\n\tright: 8px;\r\n\ttop: 274px;\r\n}\r\n\r\nbody.v6 .quadscreenshot_carousel h2 {\r\n\tvisibility: collapse;\r\n\tfont-size: 26px;\r\n\ttext-shadow: 1px 1px 0px #000;\r\n\ttext-transform: none;\r\n\twhite-space: nowrap;\r\n\ttext-overflow: ellipsis;\r\n\toverflow: hidden;\r\n\tmargin: 4px 0 0 10px !important;\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 200; /* thin */\r\n\r\n\t\t\r\n\tdisplay: inline-block;\r\n\r\n\tborder-radius: 3px;\r\n\tpadding-right: 4px;\r\n\tletter-spacing: 0px;\r\n\r\n}\r\n\r\n\r\n.quadscreenshot_carousel .discount_block_large {\r\n\tmargin: 0px 0;\r\n\tposition: absolute;\r\n\tright: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.quadscreenshot_carousel .recommendation_reason {\r\n\tposition: absolute;\r\n\theight: 56px;\r\n\twidth: 475px;\r\n\ttop: 274px;\r\n\tleft: 8px;\r\n}\r\n\r\n.quadscreenshot_carousel .recommended_curator {\r\n\tdisplay: flex;\r\n\tfont-size: 18px;\r\n\tcolor: #fff;\r\n\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 200; /* thin */\r\n\r\n\t\t}\r\n\r\n.quadscreenshot_carousel .default {\r\n\tfont-size: 18px;\r\n\tcolor: #fff;\r\n\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 200; /* thin */\r\n\r\n\t\t}\r\n\r\n\r\n.quadscreenshot_carousel .recommended_curator img {\r\n\twidth: 48px;\r\n\tmargin-right: 10px;\r\n\tmargin-bottom: 3px;\r\n}\r\n\r\n.quadscreenshot_carousel .recommended_curator p {\r\n\tpadding-top: 2px;\r\n\ttext-shadow: 1px 1px #000;\r\n}\r\n\r\n.quadscreenshot_carousel .recommended_curator p strong {\r\n\tfont-weight: 400;\r\n}\r\n\r\n.quadscreenshot_carousel .main .maincap {\r\n\twidth: 465px;\r\n\r\n\r\n}\r\n\r\n@media screen and (max-width: 910px)\r\n{\r\n\t.quadscreenshot_carousel .main .maincap {\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t}\r\n\t.quadscreenshot_carousel .main {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.quadscreenshot_carousel.carousel_container .carousel_items:not(.no_paging) {\r\n\t\tpadding-bottom: 20px;\r\n\t}\r\n\r\n\t.quadscreenshot_carousel.carousel_container .carousel_items:not(.no_paging) > * {\r\n\t\tpadding-bottom: calc( 59% + 56px );\r\n\r\n\t}\r\n\r\n\t.quadscreenshot_carousel .bg {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t.quadscreenshot_carousel .recommendation_reason, .quadscreenshot_carousel .appTitle {\r\n\t\ttop: auto;\r\n\t\tbottom: 0px;\r\n\r\n\t}\r\n\r\n\tbody.v6 .quadscreenshot_carousel h2 {\r\n\t\twhite-space: normal;\r\n\t}\r\n}\r\n\r\n\r\n/* Generic fadey carousel code */\r\n\r\n.carousel_items {\r\n\tposition: relative;\r\n}\r\n\r\n {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.carousel_items.store_capsule_container > * > * {\r\n\tflex-shrink: 0;\r\n}\r\n\r\n.carousel_items:not(.no_paging) > * {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n}\r\n\r\n.carousel_items:not(.no_paging) > *.focus {\r\n\tposition: relative;\r\n}\r\n\r\n.carousel_container {\r\n\tposition: relative;\r\n}\r\n\r\n.carousel_container .carousel_items:not(.no_paging) > * {\r\n\topacity: 0;\r\n\tpointer-events: none;\r\n\ttransition: opacity 400ms;\r\n\twidth: 100%;\r\n\tbox-sizing: border-box;\r\n}\r\n.carousel_container.curator_cluster_expanded .carousel_items > .curator_page {\r\n\tpointer-events: auto;\r\n}\r\n\r\n.carousel_container.quadscreenshot_carousel .discount_block > .discount_prices {\r\n\tdisplay: inline-block;\r\n\tpadding: 4px 8px;\r\n\tbackground-color: rgba(20,31,44,0.4);\r\n\tborder-radius: 1px;\r\n}\r\n.carousel_container.quadscreenshot_carousel .discount_block_inline {\r\n\tfont-size: 15px;\r\n}\r\n.carousel_container.quadscreenshot_carousel .discount_block_inline .no_discount .discount_final_price {\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 300; /* light */\r\n\r\n\t\t\tcolor: #acdbf5;\r\n\tfont-size: 17px;\r\n}\r\n\r\n.carousel_items.no_paging .store_capsule {\r\n\tmargin: 0 6px 6px 0;\r\n\tmax-width: calc( 50% - 6px );\r\n}\r\n\r\n@media screen and (max-width: 910px)\r\n{\r\n\thtml.responsive .carousel_items.no_paging {\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\thtml.responsive .carousel_container .carousel_items > * {\r\n\t\tpointer-events: auto;\r\n\t\tflex-shrink: 0;\r\n\t}\r\n\r\n\r\n\thtml.responsive .carousel_container .carousel_items:not(.no_paging),\r\n\thtml.responsive .carousel_container.maincap .carousel_items:not(.no_paging) {\r\n\t\toverflow-x: scroll;\r\n\t\toverflow-y: hidden;\r\n\t\tbox-sizing:content-box;\r\n\r\n\r\n\t\tdisplay: -webkit-box; /* Very Old webkit */\r\n\t\tdisplay: -ms-flexbox; /* IE 10 */\r\n\t\tdisplay: -webkit-flex; /* Old webkit */\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: nowrap;\r\n\r\n\t\tpadding-bottom: 21px;\r\n\t}\r\n\r\n\thtml.responsive .carousel_container .carousel_thumbs {\r\n\t\tmargin-top: -1px;\r\n\t\theight: 25px;\r\n\t\tposition: relative;\r\n\t\tz-index: 1;\r\n\t\twidth: 100%;\r\n\t\tpadding: 5px;\r\n\t\tmargin-left: -5px;\r\n\t}\r\n\r\n\thtml.responsive .carousel_container .carousel_thumbs > div {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\thtml.responsive .carousel_container .arrow {\r\n\t\tbottom: 0px;\r\n\t\ttop: auto;\r\n\t\theight: 20px;\r\n\t\twidth: 20%;\r\n\t\tpadding: 5px;\r\n\t}\r\n\r\n\thtml.responsive .carousel_container .arrow > div {\r\n\t\twidth: 13px;\r\n\t\theight: 20px;\r\n\t\tbackground-size: cover;\r\n\t\tdisplay: inline-block;\r\n\t\tmargin: 0 10px;\r\n\t}\r\n\r\n\thtml.responsive .carousel_container .arrow.left {\r\n\t\tleft: 0;\r\n\t}\r\n\r\n\thtml.responsive .carousel_container .arrow.left > div {\r\n\t\tbackground-position-x: 13px;\r\n\t}\r\n\r\n\thtml.responsive .carousel_container .arrow.right {\r\n\t\tright: 0;\r\n\t\ttext-align: right;\r\n\t}\r\n\r\n\thtml.responsive .carousel_container .carousel_items > * {\r\n\t\tposition: relative;\r\n\t\ttop: auto;\r\n\t\tleft: auto;\r\n\t\topacity: 1;\r\n\t\tmargin-right: 11px;\r\n\t}\r\n\r\n\thtml.responsive .carousel_container .carousel_items:not(.no_paging) > *\t{\r\n\t\tmargin-bottom: -20px;\r\n\t}\r\n\r\n}\r\n\r\n.carousel_container .carousel_items > *.focus {\r\n\topacity: 1;\r\n\tpointer-events: auto;\r\n}\r\n\r\n\r\n.carousel_container .carousel_thumbs  {\r\n\ttext-align: center;\r\n\tmin-height: 37px;\r\n}\r\n\r\n.carousel_container .carousel_thumbs > div {\r\n\tdisplay: inline-block;\r\n\tmargin: 12px 2px;\r\n\twidth: 15px;\r\n\theight: 9px;\r\n\tborder-radius: 2px;\r\n\ttransition: background-color 0.2s;\r\n\tbackground-color: hsla(202,60%,100%,0.2);\r\n\tcursor: pointer;\r\n}\r\n\r\n.carousel_container .carousel_thumbs > div.focus {\r\n\tbackground-color: hsla(202,60%,100%,0.4);\r\n}\r\n\r\n.carousel_container.paging_capsules {\r\n}\r\n\r\n.carousel_container.paging_capsules .carousel_items > * {\r\n\ttransition: opacity 400ms;\r\n}\r\n\r\n/* Arrows */\r\n.carousel_container  .arrow {\r\n\tposition: absolute;\r\n\tbackground-color: rgba(0,0,0,0.3);\r\n\ttop: calc(50% - 54px);\r\n\r\n\twidth: 23px;\r\n\theight: 36px;\r\n\tpadding: 36px 11px;\r\n\tcursor: pointer;\r\n\tz-index: 3;\r\n}\r\n\r\n.carousel_container .arrow > div {\r\n\tbackground-image: url(/public/images/v6/arrows.png);\r\n\twidth: 23px;\r\n\theight: 36px;\r\n}\r\n\r\n.carousel_container .arrow.left {\r\n\tleft: -46px;\r\nbackground: -webkit-linear-gradient( left, rgba( 0, 0, 0, 0.3) 5%,rgba( 0, 0, 0, 0) 95%);\r\n\tbackground: linear-gradient( to right, rgba( 0, 0, 0, 0.3) 5%,rgba( 0, 0, 0, 0) 95%);\r\n}\r\n.carousel_container .arrow.left:hover {\r\nbackground: -webkit-linear-gradient( left, rgba( 171, 218, 244, 0.3) 5%,rgba( 171, 218, 244, 0) 95%);\r\n\tbackground: linear-gradient( to right, rgba( 171, 218, 244, 0.3) 5%,rgba( 171, 218, 244, 0) 95%);\r\n}\r\n\r\n.carousel_container .arrow.right {\r\n\tright: -46px;\r\nbackground: -webkit-linear-gradient( left, rgba( 0, 0, 0, 0) 5%,rgba( 0, 0, 0, 0.3) 95%);\r\n\tbackground: linear-gradient( to right, rgba( 0, 0, 0, 0) 5%,rgba( 0, 0, 0, 0.3) 95%);\r\n}\r\n.carousel_container .arrow.right:hover {\r\nbackground: -webkit-linear-gradient( left, rgba( 171, 218, 244, 0) 5%,rgba( 171, 218, 244, 0.3) 95%);\r\n\tbackground: linear-gradient( to right, rgba( 171, 218, 244, 0) 5%,rgba( 171, 218, 244, 0.3) 95%);\r\n}\r\n\r\n.carousel_container .arrow.left > div {\r\n\tbackground-position-x: 23px;\r\n}\r\n\r\n/* END CAROUSEL STUFF */\r\n\r\n/* Store curator capsule */\r\n\r\n#feature_curators_block {\r\n\tmin-height: 360px;\r\n}\r\n\r\n#feature_curators_block h2 {\r\n\tmargin-bottom: 10px;\r\n}\r\n\r\n#feature_curators_block .carousel_items .curator_page {\r\n\tbox-shadow: 0 0 5px #000000;\r\n}\r\n\r\n#feature_curators_block_ignored {\r\n\tdisplay: none;\r\n}\r\n\r\n.curator_page {\r\nbackground: -webkit-linear-gradient( 297deg, rgba( 255, 255, 255, 0.2) 5%,rgba( 255, 255, 255, 0.1) 95%);\r\n\tbackground: linear-gradient( 153deg, rgba( 255, 255, 255, 0.2) 5%,rgba( 255, 255, 255, 0.1) 95%);\r\n\tbox-shadow: inset 0 0 160px rgba(255, 255, 255, 0.2);\r\n\tpadding: 16px 13px;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: normal; /* normal */\r\n\r\n\t\t\tmin-height: 374px;\r\n}\r\n\r\n.curator_page .profile {\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tmargin-bottom: 20px;\r\n}\r\n\r\n.curator_page .info {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.curator_page .actions {\r\n\tdisplay: flex;\r\n\tpadding: 2px;\r\n\tmargin-top: 6px;\r\n\tbackground-color: rgba(0,0,0,0.2);\r\n\twidth: fit-content;\r\n}\r\n\r\n.curator_page .avatar {\r\n\tmargin-right: 12px;\r\n\twidth: 70px;\r\n\theight: 70px;\r\n}\r\n\r\n.curator_page .name {\r\n\tfont-size: 19px;\r\n\tfont-weight: 300;\r\n\tcolor: #c7d5e0;\r\n}\r\n\r\n.curator_page .name span {\r\n\tcolor: #eff3f6;\r\n}\r\n\r\n.curator_page .actions > div:not(:first-child) {\r\n\tmargin-left: 5px;\r\n}\r\n\r\n.curator_page .followers span {\r\n\tdisplay: block;\r\n\tfont-size: 15px;\r\n}\r\n\r\n.curator_recommendation_capsule .curator_page .followers {\r\n\tline-height: 16px;\r\n}\r\n.curator_recommendation_capsule .carousel_container.paging_capsules .curator_page .profile {\r\n\tbackground: -webkit-linear-gradient( 90deg, rgba(0,0,0,0.2) 5%,rgba(0,0,0,0) 20%);\r\n\tbackground: linear-gradient( 0deg, rgba(0,0,0,0.2) 5%,rgba(0,0,0,0) 20%);\r\n\tmargin-left: -13px;\r\n\tpadding-left: 13px;\r\n\tmargin-right: -13px;\r\n\tpadding-right: 13px;\r\n\tpadding-bottom: 12px;\r\n\tmargin-bottom: 14px;\r\n}\r\n\r\n.curator_page .socialmedia {\r\n\tdisplay: flex;\r\n\talign-items: flex-end;\r\n\tfont-size: 15px;\r\n\tcolor: #fff;\r\n\tpadding-bottom: 6px;\r\n\tmargin-right: 16px;\r\n}\r\n\r\n.curator_page .socialmedia > div {\r\n\tmargin-left: 16px;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.carousel_container.paging_capsules .carousel_items .curator_page .curations {\r\n\tdisplay: flex;\r\n\tmargin-right: 0px;\r\n}\r\n.carousel_container.paging_capsules .carousel_items .curator_page .curations > div {\r\n\tflex-grow: 1;\r\n\tflex-shrink: 1;\r\n\tflex-basis: 220px;\r\n\tmax-width: 225px;\r\n}\r\n.carousel_container.paging_capsules .carousel_items .curator_page .curations .store_capsule {\r\n\tbox-shadow: 0 0 3px rgba(0,0,0,0.6);\r\n}\r\n\r\n.carousel_container.paging_capsules .carousel_items .curator_page .curations > div > a {\r\n\twidth: 100%;\r\n\tmargin-bottom: 0px;\r\n\tmargin-right: 0px;\r\n}\r\n\r\n.curator_page .curations > div:not(:first-child) {\r\n\tmargin-left: 5px;\r\n}\r\n\r\n.curator_page .review_direction {\r\n\ttext-transform: uppercase;\r\n\tfont-size: 13px;\r\n\tletter-spacing: 2px;\r\n\tfont-weight: 300;\r\n\tline-height: 23px;\r\n}\r\n\r\n.curator_page .text {\r\n\tfont-weight: 300;\r\n\tline-height: 17px;\r\n\tpadding-right: 12px;\r\n\tword-wrap: break-word;\r\n}\r\n\r\n.curator_page .ignore_button_area {\r\n\tflex-grow: 1;\r\n\ttext-align: right;\r\n}\r\n.curator_page .ignore_button_area a {\r\n\ttext-decoration: underline;\r\n}\r\n\r\n.curator_page .ignored_banner {\r\n\tdisplay: none;\r\n}\r\n.curator_page.ignored .ignored_banner {\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tbackground-color: rgba( 0, 0, 0, 0.75 );\r\n\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tz-index: 5;\r\n\r\n\tfont-size: 12px;\r\n}\r\n\r\n.curator_page.ignored .ignored_banner .ignored_banner_title {\r\n\ttext-decoration: uppercase;\r\n\tfont-size: 14px;\r\n\tpadding-bottom: 10px;\r\n}\r\n.curator_page.ignored .ignored_banner .ignored_banner_desc {\r\n\tpadding-bottom: 30px;\r\n}\r\n\r\n.curator_page.followed .ignore_button_area,\r\n.curator_page.ignored .ignore_button_area {\r\n\tdisplay: none;\r\n}\r\n\r\n.color_recommended{\r\n\tcolor: #66c0f4;\r\n}\r\n.color_not_recommended {\r\n\tcolor: #f49866;\r\n}\r\n.color_informational {\r\n\tcolor: #f5df67;\r\n}\r\n\r\n.color_created {\r\n\tcolor: #ddd;\r\n}\r\n\r\n.curator_cluster_expanded .carousel_items.curator_featured_tags {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.curator_cluster_expanded.carousel_container .carousel_items > .curator_page {\r\n\tposition: relative;\r\n\topacity: 1;\r\n\tmargin-bottom: 40px;\r\n\tpadding: 12px 12px 16px 12px;\r\n}\r\n.curator_cluster_expanded.carousel_container .curator_page .socialmedia img {\r\n\tmargin-top: 3px;\r\n}\r\n\r\n.curator_cluster_expanded .arrow {\r\n\tdisplay: none;\r\n}\r\n\r\n.carousel_container.curator_cluster_expanded > .carousel_thumbs {\r\n\tdisplay: none;\r\n}\r\n\r\n.curator_page .socialmedia img {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tvertical-align: text-top;\r\n}\r\n\r\n.curator_ignored_all_recommended .description {\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: normal; /* normal */\r\n\r\n\t\t\tbackground: rgba(0,0,0,0.4);\r\n\tpadding: 16px;\r\n\tcolor: #8f98a0;\r\n\tfont-size: 12px;\r\n\tline-height: 16px;\r\n}\r\n.curator_ignored_all_recommended a {\r\n\tcolor: #8f98a0;\r\n\ttext-decoration: underline;\r\n}\r\n.curator_ignored_all_recommended a:hover {\r\n\tcolor: #fff;\r\n\ttext-decoration: underline;\r\n}\r\n\r\n.content_consumer_rights_notice\r\n{\r\n\tmargin-bottom: 25px;\r\n}\r\n\r\n.content_consumer_rights_notice a {\r\n\tdisplay: block;\r\n\tpadding: 25px;\r\n\tfont-size: 14pt;\r\n\tfont-family: 'Times New Roman';\r\n\tcolor: #000000;\r\n\tbackground-color: rgb( 154, 175, 200 );\r\n}\r\n\r\n.content_consumer_rights_notice a:hover {\r\n\tcolor: #67c1f5;\r\n\tbackground-color: rgb( 104, 125, 150 );\r\n}\r\n\r\n\r\n/* END Store curator capsule */\r\n\r\n.cart_item_qty .quantity.qty_invalid,\r\n.game_purchase_action_qty .quantity.qty_invalid,\r\n.quantity.qty_invalid\r\n{\r\n\tbackground-color: #5a0000;\r\n\toutline: #ff000091;\r\n\tcolor: red;\r\n}\r\n\r\n.btn_disabled,\r\n.btn_quantity_update[disabled]\r\n{\r\n\tpointer-events: none;\r\n}\r\n\r\n\r\n\r\n.range_container\r\n{\r\n\tpadding: 0 12px;\r\n\ttext-align: center;\r\n}\r\n\r\n.range_container_inner\r\n{\r\n\tdisplay: flex;\r\n}\r\n\r\n.range_input {\r\n\t-webkit-appearance: none;\r\n\tflex: 1;\r\n\tmargin: 4.45px 0;\r\n\tbackground-color: rgba(0, 0, 0, 0);\r\n\tmax-height: 5px;\r\n}\r\n\r\n.range_input {\r\n\t-webkit-appearance: none;\r\n\twidth: 100%;\r\n\tmargin: 4.45px 0;\r\n\tbackground-color: rgba(0, 0, 0, 0);\r\n\tmax-height: 5px; }\r\n\r\n.range_input:focus {\r\n\toutline: none;\r\n}\r\n\r\n.range_input::-webkit-slider-runnable-track {\r\n\twidth: 100%;\r\n\theight: 3.1px;\r\n\tcursor: pointer;\r\n\tbox-shadow: 0 0 0 #000000, 0 0 0 #0d0d0d;\r\n\tbackground: #67c1f5;\r\n\tborder-radius: 1.5px;\r\n\tborder: 0 solid #67c1f5;\r\n}\r\n\r\n.range_input::-webkit-slider-thumb {\r\n\tbox-shadow: 0 0 8px #000000, 0 0 3px #0d0d0d;\r\n\tborder: 0 solid #ffffff;\r\n\theight: 12px;\r\n\twidth: 12px;\r\n\tborder-radius: 6px;\r\n\tbackground: #ffffff;\r\n\tcursor: pointer;\r\n\t-webkit-appearance: none;\r\n\tmargin-top: -4.45px;\r\n}\r\n\r\n.range_input:focus::-webkit-slider-runnable-track {\r\n\tbackground: #7fcbf7; }\r\n\r\n.range_input::-moz-range-track {\r\n\twidth: 100%;\r\n\theight: 3.1px;\r\n\tcursor: pointer;\r\n\tbox-shadow: 0 0 0 #000000, 0 0 0 #0d0d0d;\r\n\tbackground: #67c1f5;\r\n\tborder-radius: 1.5px;\r\n\tborder: 0 solid #67c1f5; }\r\n\r\n.range_input::-moz-range-thumb {\r\n\tbox-shadow: 0 0 8px #000000, 0 0 3px #0d0d0d;\r\n\tborder: 0 solid #ffffff;\r\n\theight: 12px;\r\n\twidth: 12px;\r\n\tborder-radius: 6px;\r\n\tbackground: #ffffff;\r\n\tcursor: pointer; }\r\n\r\n.range_input::-ms-track {\r\n\twidth: 100%;\r\n\theight: 3.1px;\r\n\tcursor: pointer;\r\n\tbackground: transparent;\r\n\tborder-color: transparent;\r\n\tcolor: transparent; }\r\n\r\n.range_input::-ms-fill-lower {\r\n\tbackground: #4fb7f3;\r\n\tborder: 0 solid #67c1f5;\r\n\tborder-radius: 3px;\r\n\tbox-shadow: 0 0 0 #000000, 0 0 0 #0d0d0d; }\r\n\r\n.range_input::-ms-fill-upper {\r\n\tbackground: #67c1f5;\r\n\tborder: 0 solid #67c1f5;\r\n\tborder-radius: 3px;\r\n\tbox-shadow: 0 0 0 #000000, 0 0 0 #0d0d0d; }\r\n\r\n.range_input::-ms-thumb {\r\n\tbox-shadow: 0 0 8px #000000, 0 0 3px #0d0d0d;\r\n\tborder: 0 solid #ffffff;\r\n\theight: 12px;\r\n\twidth: 12px;\r\n\tborder-radius: 6px;\r\n\tbackground: #ffffff;\r\n\tcursor: pointer; }\r\n\r\n.range_input:focus::-ms-fill-lower {\r\n\tbackground: #67c1f5; }\r\n\r\n.range_input:focus::-ms-fill-upper {\r\n\tbackground: #7fcbf7; }\r\n\r\n.important_notice_ctn\r\n{\r\n\tpadding: 20px 40px 20px 40px;\r\n    display: flex;\r\n    flex-direction: row;\r\n\tbackground: linear-gradient(180deg, #3275A6 0%, #125280 100%);\r\n\tborder: 3px solid #4891C5;\r\n}\r\n\r\n.important_notice_ctn.important_notice_home\r\n{\r\n    margin-top: 80px;\r\n}\r\n\r\n.important_notice_ctn .important_notice_ctn_logo\r\n{\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: left;\r\n\twidth: 40px;\r\n    padding-right: 40px;\r\n}\r\n\r\n.important_notice_ctn .important_notice_ctn_logo img\r\n{\r\n\twidth: 40px;\r\n\theight: 40px;\r\n}\r\n\r\n.important_notice_ctn .important_notice_ctn_text\r\n{\r\n\tcolor: #ffffff;\r\n    line-height: 16px;\r\n\tfont-size: 13px;\r\n\tletter-spacing: 1px;\r\n}\r\n","Steam — 顶级在线游戏平台_files/styles_about.css":"\r\n/* CSS Document */\r\n\r\n/*fix global header z-index with video issue */\r\n#global_header {\r\n\tposition: relative;\r\n\tz-index: 9;\r\n}\r\n\r\nbody.v6 #footer_spacer {\r\n\theight: 210px;\r\n}\r\n\r\nbody.v6.chinaabout #footer_spacer {\r\n\theight: 265px;\r\n}\r\n\r\nbody .responsive_page_template_content, body.v6 .responsive_page_template_content {\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 500; /* medium */\r\n\r\n\t\t\tbackground: #1D2024;\r\n\tcolor: #fff;\r\n}\r\nhtml.responsive.touch .responsive_page_template_content {\r\n\tpadding-bottom: 0 !important;\r\n}\r\n\r\nimg {\r\n\tmax-width: 100%;\r\n}\r\n\r\nbody.v6 .responsive_page_template_content h2, body.v6 .responsive_page_template_content h1 {\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: bold; /* bold */\r\n\r\n\t\t\tfont-size: 8vw;\r\n\tline-height: 1.2;\r\n\ttext-transform: none;\r\n\tletter-spacing: normal;\r\n\tmargin-bottom: 2vw;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\tbody.v6 .responsive_page_template_content h2, body.v6 .responsive_page_template_content h1 {\r\n\t\tfont-size: 35px;\r\n\t\tmargin-bottom: 10px;\r\n\t\tline-height: 1;\r\n\t}\r\n}\r\n@media only screen and (min-width: 970px) {\r\n\tbody.v6 .responsive_page_template_content h2, body.v6 .responsive_page_template_content h1 {\r\n\t\tfont-size: 45px;\r\n\t\tmargin-bottom: 10px;\r\n\t\tline-height: 1;\r\n\t}\r\n}\r\n\r\nbody.v6 .responsive_page_template_content h3 {\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: bold; /* bold */\r\n\r\n\t\t\tfont-size: 6vw;\r\n\tmargin-bottom: 2vw;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\tbody.v6 .responsive_page_template_content h3 {\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: bold; /* bold */\r\n\r\n\t\t\t\tfont-size: 20px;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n}\r\n\r\n.about_area_inner_wrapper {\r\n\tmax-width: 940px;\r\n\tposition: relative;\r\n\tmargin: 0 auto;\r\n\tpadding-left: 6vw;\r\n\tpadding-right: 6vw;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t.about_area_inner_wrapper {\r\n\t\tpadding-left: 16px;\r\n\t\tpadding-right: 16px;\r\n\t}\r\n}\r\n@media only screen and (min-width: 970px) {\r\n\t.about_area_inner_wrapper {\r\n\t\tpadding-left: 0;\r\n\t\tpadding-right: 0;\r\n\t}\r\n}\r\n\r\n\r\n.about_subtitle, .cta_text, .feature_text {\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 300; /* light */\r\n\r\n\t\t\tfont-size: 4.5vw;\r\n\tcolor: #fff;\r\n\tfont-weight: 200;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t.about_subtitle {\r\n\t\tfont-size: 18px;\r\n\t}\r\n\t.cta_text, .feature_text {\r\n\t\tfont-size: 15px;\r\n\t}\r\n}\r\n@media only screen and (min-width: 970px) {\r\n\t.about_subtitle {\r\n\t\tfont-size: 20px;\r\n\t}\r\n\t.cta_text {\r\n\t\tfont-size: 18px;\r\n\t}\r\n}\r\n@media only screen and (min-width: 1300px) {\r\n\t.about_subtitle {\r\n\t\tfont-size: 24px;\r\n\t}\r\n\t.cta_text {\r\n\t\tfont-size: 20px;\r\n\t}\r\n}\r\n\r\n\r\n.cta_text, .feature_text {\r\n\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 300; /* light */\r\n\r\n\t\t}\r\n\r\n#about_header_area {\r\n\tpadding-bottom: 10vw;\r\n\toverflow: hidden;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t#about_header_area {\r\n\t\tmin-height: 60vw;\r\n\t\tpadding-bottom: 40px;\r\n\t\tposition: relative;\r\n\t}\r\n}\r\n@media only screen and (min-width: 970px) {\r\n\t#about_header_area {\r\n\t\tmin-height: 55vw;\r\n\t}\r\n}\r\n@media only screen and (min-width: 1300px) {\r\n\t#about_header_area {\r\n\t\tmin-height: 600px;\r\n\t\tpadding-bottom: 100px;\r\n\t}\r\n}\r\n\r\n\r\n#about_header {\r\n\tmargin: 0 auto;\r\n\toverflow: hidden;\r\n\tpadding-top: 80vw;\r\n\tpadding-bottom: 15vw;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t#about_header {\r\n\t\twidth: 50%;\r\n\t\tpadding-top: 10vw;\r\n\t\tfloat: left;\r\n\t\tpadding-bottom: 0;\r\n\t}\r\n\t#about_header:after {\r\n\t\tcontent: \"\";\r\n\t\tdisplay: table;\r\n\t\tclear: both;\r\n\t}\r\n\t#about_header:before {\r\n\t\tcontent: \"\";\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\tright: 70%;\r\n\t\ttop:0;\r\n\t\theight: 400px;\r\n\t\tbackground-image: radial-gradient(circle closest-side, rgba(0, 111, 255, 0.13), transparent);\r\n\t\tbackground-size: 100%;\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tbackground-position: center center;\r\n\t}\r\n}\r\n@media only screen and (min-width: 970px) {\r\n\t#about_header {\r\n\t\tmax-width: 500px;\r\n\t\tpadding-top: 120px;\r\n\t\tfloat: left;\r\n\t\tpadding-bottom: 0;\r\n\t}\r\n}\r\n\r\n#about_header:after {\r\n\tcontent: \"\";\r\n\tdisplay: table;\r\n\tclear: both;\r\n}\r\n\r\n#about_monitor_video {\r\n\tposition: absolute;\r\n\ttop: -12vw;\r\n\tright: 0;\r\n\tleft: -20vw;\r\n\twidth: 120vw;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t#about_monitor_video {\r\n\t\twidth: 60%;\r\n\t\tright: 0;\r\n\t\ttop: -5vw;\r\n\t\tleft: 40%;\r\n\t}\r\n}\r\n@media only screen and (min-width: 970px) {\r\n\t#about_monitor_video {\r\n\t\twidth: 800px;\r\n\t\ttop: -100px;\r\n\t\tleft: 35%;\r\n\t}\r\n}\r\n\r\n#about_monitor_video_gradient {\r\n\tbackground-image: radial-gradient(ellipse farthest-side, rgba(0, 111, 255, 0.15), transparent);\r\n\tbackground-size: 100%;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: center center;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tbottom: 0;\r\n\tright: 0;\r\n\tleft: -10%;\r\n\r\n}\r\n\r\n#about_greeting {\r\n\tposition: relative;\r\n}\r\n\r\n#about_greeting .about_install_wrapper {\r\n\tmargin-top: 7vw;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t#about_greeting .about_install_wrapper {\r\n\t\tmargin-top: 25px;\r\n\t}\r\n}\r\n\r\n\r\n.steam_logo {\r\n\twidth: 1000000vw;\r\n}\r\n@media only screen and (min-width: 102400px) {\r\n\t.steam_logo {\r\n\t\twidth: 1400000%;\r\n\t}\r\n}\r\n@media only screen and (min-width: 970000px) {\r\n\t.steam_logo {\r\n\t\twidth: 240000px;\r\n\t}\r\n}\r\n\r\n.about_subtitle {\r\n\tmargin-top: 5vw;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t.about_subtitle {\r\n\t\tmargin-top: 10px;\r\n\t}\r\n}\r\n\r\n#about_header_area .learn_more_btn {\r\n\ttext-align: center;\r\n\tdisplay: none;\r\n\tposition: relative;\r\n\tz-index: 3;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t#about_header_area .learn_more_btn {\r\n\t\tdisplay: block;\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\twidth: 100%;\r\n\t\tbottom: 40px;\r\n\t}\r\n}\r\n\r\n#about_header_area .learn_more_btn a {\r\n\tcolor: #6B6B6B;\r\n\tfont-size: 3.5vw;\r\n\ttext-transform: uppercase;\r\n\tletter-spacing: 1px;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t#about_header_area .learn_more_btn a {\r\n\t\tfont-size: 13px;\r\n\t}\r\n}\r\n\r\n#about_header_area .learn_more_btn .down_arrow {\r\n\tdisplay: block;\r\n\tmargin-top: 5px;\r\n}\r\n#about_header_area .learn_more_btn .down_arrow:after {\r\n\tcontent: \"\";\r\n\tborder: solid #707070;\r\n\tborder-width: 0 2px 2px 0;\r\n\tdisplay: inline-block;\r\n\tpadding: 5px;\r\n\ttransform: rotate(45deg);\r\n\t-webkit-transform: rotate(45deg);\r\n}\r\n\r\n/* Online Stats */\r\n.online_stats {\r\n\tmargin-top: 5vw;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t.online_stats {\r\n\t\tmargin-top: 18px;\r\n\t\tmargin-bottom: 25px;\r\n\t}\r\n}\r\n\r\n.online_stats:after {\r\n\tcontent: \"\";\r\n\tdisplay: table;\r\n\tclear: both;\r\n}\r\n\r\n.online_stat {\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 300; /* light */\r\n\r\n\t\t\tfloat: left;\r\n\twidth: 50%;\r\n\tfont-size: 6vw;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t.online_stat {\r\n\t\tfont-size: 24px;\r\n\t}\r\n}\r\n.online_stat_label {\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 500; /* medium */\r\n\r\n\t\t\tposition: relative;\r\n\tpadding-left: 4vw;\r\n\tcolor: #AEAEAE;\r\n\ttext-transform: uppercase;\r\n\tfont-size: 3vw;\r\n\tletter-spacing: 0.2vw;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t.online_stat_label {\r\n\t\tfont-size: 10px;\r\n\t\tletter-spacing: 1px;\r\n\t\tpadding-left: 15px;\r\n\t}\r\n}\r\n\r\n.online_stat_label:before {\r\n\tcontent: \"\";\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 1vw;\r\n\twidth: 2vw;\r\n\theight: 2vw;\r\n\tborder-radius: 50%;\r\n\tbackground-color: #fff;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t.online_stat_label:before {\r\n\t\twidth: 7px;\r\n\t\theight: 7px;\r\n\t\ttop: 3px;\r\n\t}\r\n}\r\n\r\n.online_stat_label.gamers_in_game:before {\r\n\tbackground-color: #BAFF2E;\r\n}\r\n\r\n.online_stat_label.gamers_online:before {\r\n\tbackground-color: #2EBFFF;\r\n}\r\n\r\n/* About Install */\r\n@media only screen and (min-width: 768px) {\r\n\t.about_install_wrapper {\r\n\t\twidth: 80%;\r\n\t}\r\n}\r\n@media only screen and (min-width: 970px) {\r\n\t.about_install_wrapper {\r\n\t\twidth: 260px;\r\n\t}\r\n}\r\n\r\n.about_install_steam_link {\r\n\tdisplay: block;\r\n\ttext-transform: uppercase;\r\n\twidth: calc(100% - 75px);\r\n\tpadding: 15px 50px 15px 25px;\r\n\tborder-radius: 3px;\r\n\tfilter: drop-shadow(0px 3px 6px rgba(0, 0, 0, 0.16));\r\n\tfont-size: 18px;\r\n\tline-height: 1;\r\n\tletter-spacing: 0.03em;\r\n\ttext-align: left;\r\n\tcolor: #fff;\r\n\tposition: relative;\r\n\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: normal; /* normal */\r\n\r\n\t\t\tbackground: linear-gradient(to right, #06bfff 50%, #2b74ff 100%);\r\n\tbackground-size: 200%;\r\n\tbackground-position: right 0;\r\n\ttransition: background-position 300ms ease-in;\r\n}\r\n.about_install_steam_link:hover {\r\n\tbackground-position: 0 0;\r\n}\r\n@-webkit-keyframes AnimationName {\r\n\t0%{background-position:0% 50%}\r\n\t50%{background-position:100% 50%}\r\n\t100%{background-position:0% 50%}\r\n}\r\n@-moz-keyframes AnimationName {\r\n\t0%{background-position:0% 50%}\r\n\t50%{background-position:100% 50%}\r\n\t100%{background-position:0% 50%}\r\n}\r\n@keyframes AnimationName {\r\n\t0%{background-position:0% 50%}\r\n\t50%{background-position:100% 50%}\r\n\t100%{background-position:0% 50%}\r\n}\r\n\r\n.about_install.mobile .about_install_steam_link {\r\n\twidth: calc( 100% - 50px );\r\n\tpadding-right: 25px;\r\n\ttext-align: center;\r\n}\r\n\r\n.about_install:not(.mobile) .about_install_steam_link:after {\r\n\tcontent: \"\";\r\n\tbackground-position: top right;\r\n\tbackground-size: auto 100%;\r\n\tbackground-repeat: no-repeat;\r\n\twidth: 18px;\r\n\theight: 18px;\r\n\tposition: absolute;\r\n\tright: 25px;\r\n}\r\n\r\n.about_install.win:not(.mobile) .about_install_steam_link:after {\r\n\tbackground-image: url('https://media.st.dl.pinyuncloud.com/store/about/icon-windows.svg');\r\n}\r\n\r\n.about_install.mac:not(.mobile) .about_install_steam_link:after {\r\n\tbackground-image: url('https://media.st.dl.pinyuncloud.com/store/about/icon-macos.svg');\r\n}\r\n\r\n.about_install.linux:not(.mobile) .about_install_steam_link:after {\r\n\tbackground-image: url('https://media.st.dl.pinyuncloud.com/store/about/icon-steamos.svg');\r\n}\r\n\r\na.about_install_steam_link:hover {\r\n\ttext-decoration: none;\r\n\tcolor: #fff;\r\n}\r\n\r\n.installer_list {\r\n\tmargin-top: 5vw;\r\n\topacity: 0.60;\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 300; /* light */\r\n\r\n\t\t\tfont-size: 3vw;\r\n\tline-height: 6vw;\r\n\tdisplay: flex;\r\n\tletter-spacing: 0.5px;\r\n\tflex-flow: row;\r\n\talign-content: center;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t.installer_list {\r\n\t\tmargin-top: 15px;\r\n\t\tfont-size: 12px;\r\n\t\tline-height: 20px;\r\n\t\topacity: 0.80;\r\n\t\tjustify-content: end;\r\n\t}\r\n}\r\n\r\n.installer_list .available_platforms {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.installer_list .platform_icon {\r\n\tdisplay: inline-block;\r\n\twidth: 4vw;\r\n\theight: auto;\r\n\tmargin-left: 3vw;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t.installer_list .platform_icon {\r\n\t\tdisplay: block;\r\n\t\twidth: 16px;\r\n\t\tmargin-left: 10px;\r\n\t}\r\n\t.installer_list .platform_icon:nth-child(2) {\r\n\t\tmargin-left: auto;\r\n\t}\r\n}\r\n\r\n.installer_list .platform_icon img {\r\n\tmax-width: 100%;\r\n\theight: auto;\r\n}\r\n\r\n/* CTAs */\r\n#about_games_cta  {\r\n\ttext-align: center;\r\n\tmargin-left: 2vw;\r\n\tmargin-right: 2vw;\r\n}\r\n#about_games_cta .cta_content {\r\n\tposition: relative;\r\n\tz-index: 99;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t#about_games_cta  {\r\n\t\twidth: 60%;\r\n\t\tmargin-left: 0;\r\n\t\tmargin-right: 0;\r\n\t}\r\n}\r\n\r\n@media only screen and (min-width: 768px) {\r\n\t#about_games_cta .cta_content {\r\n\t\tmax-width: 600px;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\t#about_games_cta .cta_content .cta_text {\r\n\t\twidth: 80%;\r\n\t\tmargin-left: auto;\r\n\t\tmargin-right: auto;\r\n\t}\r\n}\r\n\r\n\r\n#about_games_cta_area {\r\n\tposition: relative;\r\n\tpadding-bottom: 5vw;\r\n\tmargin-bottom: 15vw;\r\n\tpadding-top: 10vw;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t#about_games_cta_area {\r\n\t\tpadding-bottom: 200px;\r\n\t\tpadding-top: 200px;\r\n\t\tmargin-bottom: 40px;\r\n\t\tmin-height: 400px;\r\n\t}\r\n}\r\n\r\n#about_games_cta_area .about_games_cta_bg {\r\n\tbackground-image: radial-gradient(ellipse farthest-side, rgba(0, 111, 255, 0.15), transparent);\r\n\tbackground-size: 100%;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: center center;\r\n\tposition: absolute;\r\n\ttop: -15%;\r\n\tbottom: -20%;\r\n\tleft: 0;\r\n\tright: 0;\r\n}\r\n#about_games_cta_area .about_area_inner_wrapper {\r\n\toverflow: hidden;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t#about_games_cta_area .about_area_inner_wrapper {\r\n\t\tmax-width: none;\r\n\t\tpadding: 0;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t}\r\n}\r\n\r\n#about_games_hero {\r\n\tmin-height: 50vw;\r\n\tposition: relative;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t#about_games_hero {\r\n\t\tposition: absolute;\r\n\t\twidth: 100%;\r\n\t\tmin-height: 800px;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t}\r\n}\r\n\r\n.games_col {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tbottom: 0;\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\talign-content: center;\r\n\tjustify-content: center;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t.games_col {\r\n\t\theight: 100%;\r\n\t\twidth: 20%;\r\n\t}\r\n}\r\n@media only screen and (min-width: 1300px) {\r\n\t.games_col {\r\n\t width: 28vw;\r\n\t}\r\n}\r\n\r\n\r\n@media only screen and (min-width: 768px) {\r\n\t#games_col_left {\r\n\t\talign-items: flex-end;\r\n\t}\r\n}\r\n#games_col_right {\r\n\talign-items: flex-start;\r\n\tdisplay: none;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t#games_col_right {\r\n\t\tdisplay: flex;\r\n\t}\r\n}\r\n\r\n.game_image img {\r\n\twidth: 100%;\r\n\theight: auto;\r\n\tdisplay: block;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t.game_image img {\r\n\t\topacity: 0;\r\n\t\ttransition: opacity 600ms linear;\r\n\t}\r\n\t.game_image img.visible {\r\n\t\topacity: 1;\r\n\t}\r\n}\r\n\r\n.games_col .game_image {\r\n\tposition: absolute;\r\n}\r\n\r\n\r\n.games_col .game_image:nth-child(1),\r\n.games_col .game_image:nth-child(2),\r\n.games_col .game_image:nth-child(3) {\r\n\topacity: 0.4;\r\n\twidth: 15vw;\r\n\tdisplay: none;\r\n}\r\n.games_col .game_image:nth-child(1) img,\r\n.games_col .game_image:nth-child(2) img,\r\n.games_col .game_image:nth-child(3) img {\r\n\tbox-shadow: 0px 3px 5px 0px rgba(0,0,0,0.75);\r\n}\r\n\r\n@media only screen and (min-width: 768px) {\r\n\t.games_col .game_image:nth-child(1),\r\n\t.games_col .game_image:nth-child(2),\r\n\t.games_col .game_image:nth-child(3) {\r\n\t\twidth: 110px;\r\n\t\tdisplay: block;\r\n\t}\r\n}\r\n\r\n.games_col .game_image:nth-child(4)\r\n{\r\n\topacity: 0.6;\r\n\twidth: 18vw;\r\n\tdisplay: none;\r\n\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t.games_col .game_image:nth-child(4)\r\n\t{\r\n\t\twidth: 130px;\r\n\t\tdisplay: block;\r\n\t}\r\n}\r\n.games_col .game_image:nth-child(4) img\r\n{\r\n\tbox-shadow: 0px 3px 5px 0px rgba(0,0,0,0.75);\r\n}\r\n\r\n.games_col .game_image:nth-child(5),\r\n.games_col .game_image:nth-child(6) {\r\n\topacity: 0.7;\r\n\twidth: 32vw;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t.games_col .game_image:nth-child(5),\r\n\t.games_col .game_image:nth-child(6) {\r\n\t\twidth: 180px;\r\n\t}\r\n}\r\n.games_col .game_image:nth-child(5) img,\r\n.games_col .game_image:nth-child(6) img {\r\n\tbox-shadow: 0px 3px 7px 0px rgba(0,0,0,0.75);\r\n}\r\n\r\n.games_col .game_image:nth-child(7),\r\n.games_col .game_image:nth-child(8) {\r\n\topacity: 0.8;\r\n\twidth: 40vw;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t.games_col .game_image:nth-child(7),\r\n\t.games_col .game_image:nth-child(8) {\r\n\t\twidth: 220px;\r\n\t}\r\n}\r\n.games_col .game_image:nth-child(7) img,\r\n.games_col .game_image:nth-child(8) img {\r\n\tbox-shadow: 0px 3px 10px 0px rgba(0,0,0,0.75);\r\n}\r\n\r\n.games_col .game_image:nth-child(9) {\r\n\topacity: 1;\r\n\twidth: 50vw;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t.games_col .game_image:nth-child(9) {\r\n\t\twidth: 280px;\r\n\t}\r\n}\r\n.games_col .game_image:nth-child(9) img {\r\n\tbox-shadow: 0px 3px 20px 0px rgba(0,0,0,0.75);\r\n}\r\n\r\n\r\n#games_col_left .game_image:nth-child(5) {\r\n\ttop: auto;\r\n\tbottom: 0;\r\n\tleft: -5vw;\r\n}\r\n\r\n#games_col_left .game_image:nth-child(6) {\r\n\ttop: 3vw;\r\n\tright: 0;\r\n}\r\n\r\n#games_col_left .game_image:nth-child(7) {\r\n\ttop:21vw;\r\n}\r\n\r\n#games_col_left .game_image:nth-child(8) {\r\n\tbottom: 5vw;\r\n\tright: -15vw;\r\n}\r\n#games_col_left .game_image:nth-child(9) {\r\n\ttop: 0;\r\n\tleft: 0;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t#games_col_right .game_image:nth-child(1) {\r\n\t\tleft: -60px;\r\n\t\ttop: 650px;\r\n\t\tbottom: auto;\r\n\t}\r\n\r\n\t#games_col_right .game_image:nth-child(2) {\r\n\t\tleft: 300px;\r\n\t\ttop: 250px;\r\n\t\tbottom: auto;\r\n\t}\r\n\r\n\t#games_col_right .game_image:nth-child(3) {\r\n\t\tleft: 300px;\r\n\t\ttop: 500px;\r\n\t\tbottom: auto;\r\n\t}\r\n\r\n\t#games_col_right .game_image:nth-child(4) {\r\n\t\tleft: -40px;\r\n\t\ttop: 100px;\r\n\t\tbottom: auto;\r\n\t}\r\n\r\n\t#games_col_right .game_image:nth-child(5) {\r\n\t\tleft: 250px;\r\n\t\ttop: 580px;\r\n\t\tbottom: auto;\r\n\t}\r\n\r\n\t#games_col_right .game_image:nth-child(6) {\r\n\t\tleft: 180px;\r\n\t\ttop: 120px;\r\n\t\tbottom: auto;\r\n\t}\r\n\r\n\t#games_col_right .game_image:nth-child(7) {\r\n\t\tleft: 40px;\r\n\t\ttop: 280px;\r\n\t\tbottom: auto;\r\n\t}\r\n\r\n\t#games_col_right .game_image:nth-child(8) {\r\n\t\tleft: 0;\r\n\t\ttop: 500px;\r\n\t\tbottom: auto;\r\n\t}\r\n\r\n\t#games_col_right .game_image:nth-child(9) {\r\n\t\tleft: 60px;\r\n\t\ttop: 380px;\r\n\t\tbottom: auto;\r\n\t}\r\n\r\n\t#games_col_left .game_image:nth-child(1) {\r\n\t\tright: -60px;\r\n\t\ttop: 650px;\r\n\t\tbottom: auto;\r\n\t}\r\n\r\n\t#games_col_left .game_image:nth-child(2) {\r\n\t\tright: 300px;\r\n\t\ttop: 250px;\r\n\t\tbottom: auto;\r\n\t}\r\n\r\n\t#games_col_left .game_image:nth-child(3) {\r\n\t\tright: 300px;\r\n\t\ttop: 500px;\r\n\t\tbottom: auto;\r\n\t}\r\n\r\n\t#games_col_left .game_image:nth-child(4) {\r\n\t\tright: -40px;\r\n\t\ttop: 100px;\r\n\t\tbottom: auto;\r\n\t}\r\n\r\n\t#games_col_left .game_image:nth-child(5) {\r\n\t\tright: 250px;\r\n\t\ttop: 580px;\r\n\t\tbottom: auto;\r\n\t\tleft: auto;\r\n\t}\r\n\r\n\t#games_col_left .game_image:nth-child(6) {\r\n\t\tright: 180px;\r\n\t\ttop: 120px;\r\n\t\tbottom: auto;\r\n\t}\r\n\r\n\t#games_col_left .game_image:nth-child(7) {\r\n\t\tright: 40px;\r\n\t\ttop: 280px;\r\n\t\tbottom: auto;\r\n\t}\r\n\r\n\t#games_col_left .game_image:nth-child(8) {\r\n\t\tright: 0;\r\n\t\ttop: 500px;\r\n\t\tbottom: auto;\r\n\t}\r\n\r\n\t#games_col_left .game_image:nth-child(9) {\r\n\t\tright: 60px;\r\n\t\tleft: auto;\r\n\t\ttop: 380px;\r\n\t\tbottom: auto;\r\n\t}\r\n}\r\n\r\n\r\n#games_col_left {\r\n\tleft: 0;\r\n\tright: auto;\r\n}\r\n\r\n#games_col_right {\r\n\tright: 0;\r\n\tleft: auto;\r\n}\r\n\r\n#about_ctas_area {\r\n\tpadding-bottom: 15vw;\r\n\tpadding-top: 5vw;\r\n\tbackground: rgba(0,0,0,.21);\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t#about_ctas_area {\r\n\t\tpadding-bottom: 40px;\r\n\t\tpadding-top: 50px;\r\n\t}\r\n}\r\n\r\n.about_cta {\r\n\tmargin: 10vw 0 0;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t.about_cta {\r\n\t\tmargin: 100px 30px;\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row-reverse;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\t.about_cta:nth-of-type(2n) {\r\n\t\tflex-flow: row;\r\n\t}\r\n\r\n\t.about_cta .cta_content {\r\n\t\twidth: 45%;\r\n\t}\r\n\t.about_cta .cta_hero {\r\n\t\twidth: 45%;\r\n\t}\r\n}\r\n@media only screen and (min-width: 970px) {\r\n\t.about_cta {\r\n\t\tmargin-left: 0;\r\n\t\tmargin-right: 0;\r\n\r\n\t}\r\n\t.about_cta .cta_content {\r\n\t\twidth: 40%;\r\n\t}\r\n\t.about_cta .cta_hero {\r\n\t\twidth: 50%;\r\n\t}\r\n}\r\n.about_cta .cta_hero {\r\n\tposition: relative;\r\n}\r\n\r\n.about_cta .cta_hero img:not(.hero_complete) {\r\n\tdisplay: none;\r\n}\r\n\r\n@media only screen and (min-width: 768px) {\r\n\t.about_cta .cta_hero img.hero_complete {\r\n\t\tvisibility: hidden;\r\n\t}\r\n\r\n\t.about_cta .cta_hero img {\r\n\t\ttransition: opacity 300ms ease-out, top 500ms ease-out;\r\n\t\topacity: 0;\r\n\t}\r\n\t.about_cta .cta_hero img:nth-child(1) {\r\n\t\ttransition-delay: 150ms;\r\n\t}\r\n\t.about_cta .cta_hero img:nth-child(2) {\r\n\t\ttransition-delay: 350ms;\r\n\t}\r\n\t.about_cta .cta_hero img:nth-child(3) {\r\n\t\ttransition-delay: 550ms;\r\n\t}\r\n\t.about_cta .cta_hero img:nth-child(4) {\r\n\t\ttransition-delay: 750ms;\r\n\t}\r\n\t.about_cta .cta_hero img:not(.hero_complete) {\r\n\t\tposition: absolute;\r\n\t\ttop: 20%;\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.about_cta .cta_hero img.visible {\r\n\t\ttop: 0;\r\n\t\topacity: 1;\r\n\t}\r\n}\r\n\r\n\r\n.cta_btn a {\r\n\tcolor: #2EBFFF;\r\n\tfont-size: 4.5vw;\r\n\tdisplay: block;\r\n\tmargin: 5vw 0;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t.cta_btn a {\r\n\t\tfont-size: 20px;\r\n\t\tmargin: 15px 0;\r\n\t}\r\n}\r\n\r\n.cta_btn a:after {\r\n\tcontent: \"➜\";\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t.cta_btn a:after {\r\n\t\twidth: 40px;\r\n\t\tdisplay: inline-block;\r\n\t\ttext-align: left;\r\n\t\ttransition: padding 100ms ease-out, width 100ms ease-out;\r\n\t}\r\n\t.cta_btn a:hover:after {\r\n\t\twidth: 30px;\r\n\t\tpadding-left: 10px;\r\n\t}\r\n}\r\n\r\n.cta_hero {\r\n\tmargin-bottom: 5vw;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t.cta_hero {\r\n\t\tmargin-bottom: 0;\r\n\t}\r\n}\r\n\r\n#about_cta_steamworks .logo_steamworks {\r\n\twidth: 40vw;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t#about_cta_steamworks .logo_steamworks {\r\n\t\twidth: 120px;\r\n\t\tpadding-bottom: 10px;\r\n\t}\r\n}\r\n\r\n/* Features */\r\n\r\n#about_steam_features_area {\r\n\tbackground-color: #141414;\r\n\tpadding-top: 10vw;\r\n\tpadding-bottom: 10vw;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t#about_steam_features_area {\r\n\t\tpadding-top: 40px;\r\n\t\tpadding-bottom: 40px;\r\n\t}\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t#about_steam_features_area {\r\n\t\tpadding-top: 100px;\r\n\t\tpadding-bottom: 100px;\r\n\t}\r\n}\r\n@media only screen and (max-width: 1300px) {\r\n\t#about_steam_features_area .about_area_inner_wrapper {\r\n\t\tpadding: 0;\r\n\t}\r\n}\r\n\r\n\r\n#about_steam_features {\r\n\ttext-align: center;\r\n}\r\n\r\n#about_steam_feature_subtitle {\r\n\tmargin-left: 5vw;\r\n\tmargin-right: 5vw;\r\n\tfont-size: 4.5vw;\r\n\t\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 300; /* light */\r\n\r\n\t\t}\r\n@media only screen and (min-width: 768px) {\r\n\t#about_steam_feature_subtitle {\r\n\t\twidth: 375px;\r\n\t\tmargin-left: auto;\r\n\t\tmargin-right: auto;\r\n\t\tfont-size: 14px;\r\n\t}\r\n}\r\n@media only screen and (min-width: 970px) {\r\n\t#about_steam_feature_subtitle {\r\n\t\tfont-size: 20px;\r\n\t}\r\n}\r\n\r\n#about_steam_features_grid {\r\n\tmargin: 10vw 0 15vw;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t#about_steam_features_grid {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t\tmargin: 40px auto 70px;\r\n\t}\r\n\r\n\t#about_steam_features_grid .feature {\r\n\t\twidth: 40%;\r\n\t\tmargin: 20px 5% 0;\r\n\t}\r\n}\r\n@media only screen and (min-width: 970px) {\r\n\t#about_steam_features_grid .feature {\r\n\t\twidth: 30%;\r\n\t\tmargin: 20px 1.5% 0;\r\n\t}\r\n}\r\n\r\n#about_steam_features_grid .about_feature_icon {\r\n\tmargin: 0 auto -10vw;\r\n\tborder-radius: 50%;\r\n\tbackground-image: linear-gradient(to right, #06BFFF, #2B74FF);\r\n\twidth: 22vw;\r\n\theight: 22.5vw;\r\n\tdisplay: flex;\r\n\tflex-flow: row;\r\n\talign-content: center;\r\n\tjustify-content: center;\r\n\tz-index: 9;\r\n\tposition: relative;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t#about_steam_features_grid .about_feature_icon {\r\n\t\tbackground-color: rgba(62, 62, 62, .5);\r\n\t\tbackground-image: none;\r\n\t\tmargin: 0 auto -42px;\r\n\t\tborder-radius: 50%;\r\n\t\twidth: 85px;\r\n\t\theight: 85px;\r\n\t\ttransition: background-image 600ms ease;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t#about_steam_features_grid .about_feature_icon img {\r\n\t\tposition: relative;\r\n\t\tz-index: 5;\r\n\t}\r\n\t#about_steam_features_grid .about_feature_icon:after {\r\n\t\tbackground-image: linear-gradient(to right, #06BFFF, #2B74FF);\r\n\t\tposition: absolute;\r\n\t\ttop:0;\r\n\t\tleft:0;\r\n\t\tbottom:0;\r\n\t\tright:0;\r\n\t\tcontent: \"\";\r\n\t\topacity: 0;\r\n\t\ttransition: opacity 600ms ease;\r\n\t}\r\n\t#about_steam_features_grid .feature:hover .about_feature_icon:after {\r\n\t\topacity: 1;\r\n\t}\r\n}\r\n\r\n\r\n#about_steam_features_grid .about_feature_icon img {\r\n\twidth: 60%;\r\n\tdisplay: block;\r\n\theight: 100%;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t#about_steam_features_grid .about_feature_icon img {\r\n\t\twidth: 50%;\r\n\t}\r\n}\r\n\r\n.about_feature_content {\r\n\tbackground: rgba(42,44,45,.9);\r\n\tborder-radius: 10vw;\r\n\tpadding: 12vw 5vw 5vw;\r\n\tmargin-left: 2vw;\r\n\tmargin-right: 2vw;\r\n\theight: calc(100% - 13vw);\r\n\tbox-sizing: border-box;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t.about_feature_content {\r\n\t\tbackground: transparent;\r\n\t\tborder-radius: 30px;\r\n\t\tpadding: 50px 10px 30px;\r\n\t\tmargin-left: 15px;\r\n\t\tmargin-right: 15px;\r\n\t\theight: calc( 100% - 50px );\r\n\t\ttransition: background 600ms ease;\r\n\t}\r\n\r\n\t.feature:hover .about_feature_content {\r\n\t\tbackground: rgba(29, 32, 36, 0.9);\r\n\t}\r\n}\r\n\r\n.feature_btn {\r\n\tcolor: #2EBFFF;\r\n\tfont-size: 4vw;\r\n\tdisplay: block;\r\n\tmargin: 5vw 0 0;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t.feature_btn {\r\n\t\tfont-size: 14px;\r\n\t\tmargin: 10px 0 0 20px;\r\n\t\tvisibility: hidden;\r\n\t\ttransition: visibility 150ms linear;\r\n\t}\r\n\r\n\t.feature:hover .feature_btn {\r\n\t\tvisibility: visible;\r\n\t}\r\n}\r\n\r\n.feature_btn:after {\r\n\tcontent: \"➜\";\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t.feature_btn:after {\r\n\t\twidth: 40px;\r\n\t\tdisplay: inline-block;\r\n\t\ttext-align: left;\r\n\t\ttransition: padding 100ms ease-out, width 100ms ease-out;\r\n\t}\r\n\t.feature_btn:hover:after {\r\n\t\twidth: 30px;\r\n\t\tpadding-left: 10px;\r\n\t}\r\n}\r\n\r\n.slick-dots {\r\n\tmargin-top: 3vw;\r\n}\r\n\r\n.slick-dots li {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.slick-dots li button {\r\n\tall: unset;\r\n\toverflow: hidden;\r\n\tdisplay: block;\r\n\tborder: solid #fff 2px;\r\n\tborder-radius: 50%;\r\n\twidth: 2vw;\r\n\theight: 2vw;\r\n\ttext-indent: -9999px;\r\n\tmargin: 0 1vw;\r\n}\r\n\r\n.slick-dots li.slick-active button {\r\n\tmargin-top: 0;\r\n\tborder-color: transparent;\r\n\tbackground-image: linear-gradient(to right, #06BFFF, #2B74FF);\r\n\tbackground-size: calc( 100% + 8px );\r\n\tbackground-position: center center;\r\n}\r\n\r\n#about_features_more {\r\n\ttext-align: left;\r\n\tmargin-left: 7.5vw;\r\n\tmargin-right: 7.5vw;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t#about_features_more {\r\n\t\tmargin-left: 50px;\r\n\t\tmargin-right: 50px;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t}\r\n\r\n\t#about_features_more .content {\r\n\t\twidth: 40%;\r\n\t}\r\n\r\n}\r\n@media only screen and (min-width: 970px) {\r\n\t#about_features_more .content {\r\n\t\twidth: 50%;\r\n\t}\r\n}\r\n\r\n\r\n\r\n@media only screen and (min-width: 768px) {\r\n\t#about_features_more_title {\r\n\t\tfont-size: 30px;\r\n\t}\r\n}\r\n\r\n#about_features_more_text {\r\n\t\tfont-family: \"Motiva Sans\", Sans-serif;\r\n\t\tfont-weight: 300; /* light */\r\n\r\n\t\t\tfont-size: 4vw;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t#about_features_more_text {\r\n\t\tfont-size: 14px;\r\n\t}\r\n}\r\n@media only screen and (min-width: 970px) {\r\n\t#about_features_more_text {\r\n\t\tfont-size: 20px;\r\n\t}\r\n}\r\n\r\n#about_features_more .about_install_wrapper {\r\n\tmargin-top: 10vw;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n\t#about_features_more .about_install_wrapper {\r\n\t\tmargin-top: 0;\r\n\t\tmargin-left: auto;\r\n\t\twidth: 260px;\r\n\t}\r\n}\r\n\r\n@media only screen and (min-width: 768px) {\r\n\r\n}","Steam — 顶级在线游戏平台_files/tooltip.js":"/* Requires jQuery\r\n *\r\n * This plugin will create div.jsTooltip elements (or configure your own!) in body for every tooltip on the page. Some\r\n * basic CSS is applied automagically, but you'll want to style it on your own from there. This code will be applied to\r\n * every element in your .v_tooltip() selector, so giving it a common selector like '.tooltip' is ideal.\r\n *\r\n * Options:\r\n * - location: Where the tooltip should spawn in relation to it's parent\r\n * - offsetN: How many pixels to add\r\n * - trackMouse: Should we track the mouse cursor instead of the parent?\r\n * - suppressOnClick: Should we hide if a user clicks the target?\r\n * - suppressWhileToggled: Should we ignore events if the target has the 'toggled' class?\r\n * - tooltipClass: css class to apply to tooltip elements\r\n * - fadeSpeed:\tTime (in milliseconds) to spend fading in/out. Set to 0 to disable.\r\n * - allowHover: Should we keep the tooltip open if we mouse directly on to the tooltip? (Your tooltip will need to spawn inside it's owner's box for this to work)\r\n * - tooltipParent: More generally useless properties for supernav: Lets us specify which element to parent the tooltips to. YOU PROBABLY DON'T NEED THIS.\r\n * - correctForScreenSize: Adjust tooltip position to ensure it doesn't render outside of the viewport\r\n * - sizeCorrectionXPadding: How far we should keep the tooltip from the window edge\r\n * - useClickEvent: Should we use the mouse click event instead of hover?\r\n * - inheritParentMinWidth: Should we set min-width based on our parent's width?\r\n * - parentActiveCSSClass: What CSS class should we add to our parent while we're visible?\r\n * - childActiveCSSClass: What CSS class should we add to the tooltip when active (Mostly useful for triggering CSS transitions\r\n * - funcName: Global name of a function to call on hover (It searches the global window object; not safe inside \"use strict\"\r\n * - func: Actual JS code to run.\r\n */\r\n/* <script> */\r\n(function( $ ){\r\n\tvar methods = {\r\n\r\n\t\tinit : function( options ) {\r\n\r\n\t\t\tvar settings = $.extend( {\r\n\t\t\t\t'location'\t\t\t: 'top',\r\n\t\t\t\t'offsetX'\t\t\t: 0,\r\n\t\t\t\t'offsetY'\t\t\t: -10,\r\n\t\t\t\t'trackMouse'\t\t: false,\r\n\t\t\t\t'trackMouseCentered': true,\r\n\t\t\t\t'suppressOnClick'\t: true,\r\n\t\t\t\t'suppressWhileToggled': true,\r\n\t\t\t\t'tooltipClass'\t\t: 'jsTooltip',\r\n\t\t\t\t'fadeSpeed'\t\t\t: 150,\r\n\t\t\t\t'allowHover'\t\t: true,\r\n\t\t\t\t'tooltipParent'\t\t: 'body',\r\n\t\t\t\t'correctForScreenSize': true,\r\n\t\t\t\t'sizeCorrectionXPadding': 15,\r\n\t\t\t\t'sizeCorrectionYPadding': 10,\r\n\t\t\t\t'useClickEvent'\t\t: false,\r\n\t\t\t\t'useContextMenuEvent'\t: false,\r\n\t\t\t\t'useMouseEnterEvent'\t: true,\r\n\t\t\t\t'preventDefault'\t: true,\r\n\t\t\t\t'stopPropagation'\t: false,\r\n\t\t\t\t'inheritParentMinWidth'\t: false,\r\n\t\t\t\t'parentActiveCSSClass'\t: false,\r\n\t\t\t\t'dataName'\t\t\t: 'tooltipContent',\r\n\t\t\t\t'funcName'\t\t\t: 'tooltipFunc',\r\n\t\t\t\t'func'\t\t\t\t: false,\r\n\t\t\t\t'disableOnTouchDevice'\t: false,\r\n\t\t\t\t'childActiveCSSClass' : false,\r\n\t\t\t\t'destroyWhenDone': true,\r\n\t\t\t\t'createOnLoad': false,\r\n\t\t\t\t'replaceExisting': true, // should we stomp on existing tooltips?\r\n\t\t\t\t'defaultType': 'html', // default tooltip type if not specified.\r\n\t\t\t}, options);\r\n\r\n\r\n\r\n\r\n\t\t\treturn this.each(function(){\r\n\r\n\t\t\t\tvar $target = $(this);\r\n\r\n\t\t\t\tif( $target.data('tooltip.settings') && !settings.replaceExisting)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tif( settings.useClickEvent )\r\n\t\t\t\t{\r\n\t\t\t\t\t$target.bind('click.tooltip', methods.show);\r\n\t\t\t\t}\r\n\t\t\t\tif( settings.useContextMenuEvent )\r\n\t\t\t\t{\r\n\t\t\t\t\t$target.bind('contextmenu.tooltip', methods.show);\r\n\t\t\t\t}\r\n\t\t\t\tif( settings.useMouseEnterEvent )\r\n\t\t\t\t{\r\n\t\t\t\t\t$target.bind('mouseenter.tooltip', methods.show);\r\n\t\t\t\t}\r\n\t\t\t\t$target.bind('mouseleave.tooltip', methods.hide);\r\n\r\n\t\t\t\tif ( settings.disableOnTouchDevice )\r\n\t\t\t\t{\r\n\t\t\t\t\t// if we get a touch event, disable tooltip events on this object.  This fires before mouse events, so we\r\n\t\t\t\t\t//\tcan prevent the hover from showing.\r\n\t\t\t\t\t//\t(we could preventDefault(), but that will prevent the actual click event that's coming too)\r\n\t\t\t\t\t$target.bind('touchstart.tooltip', function(e) { $target.data('inTouchEvent', true); });\r\n\t\t\t\t\t$target.bind('mouseup.tooltip', function(e) { $target.data('inTouchEvent', false); });\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$target.data('tooltip.settings', settings);\r\n\r\n\t\t\t\tif( settings.createOnLoad )\r\n\t\t\t\t\tmethods.gettooltip( this, settings );\r\n\t\t\t});\r\n\r\n\t\t},\r\n\t\tdestroy : function() {\r\n\r\n\t\t\treturn this.each(function(){\r\n\t\t\t\t$(window).unbind('.tooltip');\r\n\t\t\t})\r\n\r\n\t\t},\r\n\t\tgettooltip : function( element, settings ) {\r\n\t\t\tvar $element= $(element);\r\n\t\t\tvar toolDiv = $element.data(\"tooltip.element\");\r\n\t\t\tif ( !toolDiv )\r\n\t\t\t{\r\n\t\t\t\ttoolDiv = $('<div />');\r\n\r\n\t\t\t\tif( settings.suppressOnClick )\r\n\t\t\t\t{\r\n\t\t\t\t\ttoolDiv.bind('click.tooltip', jQuery.proxy(methods.hide, element));\r\n\t\t\t\t}\r\n\t\t\t\ttoolDiv.hide();\r\n\t\t\t\ttoolDiv.addClass(settings.tooltipClass);\r\n\t\t\t\tif ( $element.data( 'tooltip-class' ) )\r\n\t\t\t\t{\r\n\t\t\t\t\ttoolDiv.addClass( $element.data( 'tooltip-class' ) );\r\n\t\t\t\t}\r\n\t\t\t\ttoolDiv.css({\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t'z-index': 1500\r\n\t\t\t\t});\r\n\t\t\t\tvar type = $element.data('tooltip-type');\r\n\t\t\t\tif( !type )\r\n\t\t\t\t\ttype = settings.defaultType;\r\n\r\n\t\t\t\tvar content = '';\r\n\t\t\t\tif ( settings.dataAttr )\r\n\t\t\t\t\tcontent = $element.attr( settings.dataAttr );\r\n\t\t\t\telse if ( settings.dataName )\r\n\t\t\t\t\tcontent = $element.data(settings.dataName);\r\n\r\n\t\t\t\tif( type == 'text')\r\n\t\t\t\t{\r\n\t\t\t\t\ttoolDiv.text( content );\r\n\t\t\t\t}\r\n\t\t\t\telse if ( type == 'selector' )\r\n\t\t\t\t{\r\n\t\t\t\t\tvar toolElement = $( content, $element.parent() );\r\n\t\t\t\t\ttoolDiv.data( 'originalParent', toolElement.parent() );\r\n\t\t\t\t\ttoolDiv.append( toolElement.show() );\r\n\t\t\t\t\ttoolDiv.data( 'preserveContent', true );\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\ttoolDiv.html( content );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( typeof( g_TextFilter ) !== 'undefined' && g_TextFilter != null )\r\n\t\t\t\t{\r\n\t\t\t\t\tg_TextFilter.FilterElement( toolDiv );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$( settings.tooltipParent || $element.parent() ).append(toolDiv);\r\n\t\t\t\t$element.data(\"tooltip.element\", toolDiv);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar funcName = settings.funcName && $(element).data( settings.funcName );\r\n\t\t\tif( funcName )\r\n\t\t\t{\r\n\t\t\t\tif( type == 'text')\r\n\t\t\t\t\ttoolDiv.text( window[funcName](element) );\r\n\t\t\t\telse\r\n\t\t\t\t\ttoolDiv.html( window[funcName](element) );\r\n\t\t\t}\r\n\r\n\t\t\tif( settings.func )\r\n\t\t\t\tsettings.func.bind(toolDiv)(element);\r\n\r\n\t\t\treturn toolDiv;\r\n\t\t},\r\n\t\tupdateposition : function() {\r\n\t\t    var newPosition = {};\r\n\t\t    var settings = $(this).data('tooltip.settings');\r\n\t\t    var toolDiv = methods.gettooltip( this, settings );\r\n\r\n\t\t    var parentPosition = $(this).offset();\r\n\t\t    if( settings.tooltipParent != 'body' )\r\n\t\t        parentPosition = $(this).position();\r\n\r\n\t\t    switch( settings.location )\r\n\t\t    {\r\n\t\t        case 'top':\r\n\t\t            newPosition = {\r\n\t\t                left: parentPosition.left + settings.offsetX,\r\n\t\t                top: parentPosition.top - toolDiv.outerHeight() + settings.offsetY\r\n\t\t            };\r\n\t\t            break;\r\n\r\n\t\t        case 'bottom':\r\n\t\t            newPosition = {\r\n\t\t                left: parentPosition.left + settings.offsetX,\r\n\t\t                top: parentPosition.top + $(this).outerHeight() + settings.offsetY\r\n\t\t            };\r\n\t\t            break;\r\n\r\n\t\t\t\tcase 'bottom left':\r\n\r\n\t\t\t\t\tnewPosition = {\r\n\t\t\t\t\t\tleft: parentPosition.left + settings.offsetX - toolDiv.outerWidth(),\r\n\t\t\t\t\t\ttop: parentPosition.top + $(this).outerHeight() + settings.offsetY\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tconsole.log(\"Invalid location passed to v_tooltip: %s\", settings.location);\r\n\t\t    }\r\n\t\t    // Correct for window size\r\n\t\t    if( settings.correctForScreenSize )\r\n\t\t    {\r\n\t\t        var rightEdge = newPosition.left + toolDiv.width();\r\n\t\t        var windowRightEdge = $(window).width() - settings.sizeCorrectionXPadding + $(window).scrollLeft();\r\n\t\t        var windowLeftEdge =  $(window).scrollLeft() + settings.sizeCorrectionXPadding;\r\n\r\n\t\t        if( rightEdge > windowRightEdge )\r\n\t\t            newPosition.left = windowRightEdge - toolDiv.width() - settings.sizeCorrectionXPadding;\r\n\r\n\t\t        if( newPosition.left < windowLeftEdge )\r\n\t\t            newPosition.left = windowLeftEdge;\r\n\r\n\t\t\t\tif ( newPosition.top < 0 )\r\n\t\t\t\t\tnewPosition.top = parentPosition.top + $(this).height() + settings.sizeCorrectionYPadding - settings.offsetY;\r\n\t\t    }\r\n\r\n\t\t    toolDiv.css(newPosition);\t\t},\r\n\t\treposition : function(event) {\r\n\t\t\tvar newPosition = {};\r\n\t\t\tvar settings = $(this).data('tooltip.settings');\r\n\t\t\tvar toolDiv = methods.gettooltip( this, settings );\r\n\r\n\t\t\tvar parentPosition = $(this).offset();\r\n\t\t\tif( settings.tooltipParent != 'body' )\r\n\t\t\t\tparentPosition = $(this).position();\r\n\r\n\t\t\tif( settings.trackMouse )\r\n\t\t\t{\r\n\t\t\t\tif ( settings.trackMouseCentered )\r\n\t\t\t\t\tnewPosition.left = event.pageX - toolDiv.outerWidth() / 2;\r\n\t\t\t\telse\r\n\t\t\t\t\tnewPosition.left = event.pageX + settings.offsetY;\r\n\r\n\t\t\t\tif ( settings.location == 'top' )\r\n\t\t\t\t\tnewPosition.top = event.pageY - toolDiv.outerHeight() + settings.offsetY;\r\n\t\t\t\telse\r\n\t\t\t\t\tnewPosition.top = event.pageY + settings.offsetY;\r\n\r\n\t\t\t} else {\r\n\t\t\t\tswitch( settings.location )\r\n\t\t\t\t{\r\n\t\t\t\t\tcase 'top':\r\n\t\t\t\t\t\tnewPosition = {\r\n\t\t\t\t\t\t\tleft: parentPosition.left + settings.offsetX,\r\n\t\t\t\t\t\t\ttop: parentPosition.top - toolDiv.outerHeight() + settings.offsetY\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'bottom':\r\n\t\t\t\t\t\tvar newLeft = parentPosition.left;\r\n\r\n\t\t\t\t\t\tnewLeft += settings.offsetX;\r\n\r\n\t\t\t\t\t\tnewPosition = {\r\n\t\t\t\t\t\t\tleft: newLeft,\r\n\t\t\t\t\t\t\ttop: parentPosition.top + $(this).outerHeight() + settings.offsetY\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'bottom left':\r\n\t\t\t\t\t\tnewPosition = {\r\n\t\t\t\t\t\t\tleft: parentPosition.left + settings.offsetX - toolDiv.outerWidth() + $J(this).outerWidth(),\r\n\t\t\t\t\t\t\ttop: parentPosition.top + $(this).outerHeight() + settings.offsetY\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'mouse':\r\n\t\t\t\t\t\tnewPosition = {\r\n\t\t\t\t\t\t\tleft: event.pageX + settings.offsetX,\r\n\t\t\t\t\t\t\ttop: event.pageY + settings.offsetY\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.log(\"Invalid location passed to v_tooltip: %s\", settings.location);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Correct for window size\r\n\t\t\tif( settings.correctForScreenSize )\r\n\t\t\t{\r\n\t\t\t\tvar rightEdge = newPosition.left + toolDiv.width();\r\n\t\t\t\tvar windowRightEdge = $(window).width() - settings.sizeCorrectionXPadding + $(window).scrollLeft();\r\n\t\t\t\tvar windowLeftEdge =  $(window).scrollLeft() + settings.sizeCorrectionXPadding;\r\n\r\n\t\t\t\tif( rightEdge > windowRightEdge )\r\n\t\t\t\t\tnewPosition.left = windowRightEdge - toolDiv.width() - settings.sizeCorrectionXPadding;\r\n\r\n\t\t\t\tif( newPosition.left < windowLeftEdge )\r\n\t\t\t\t\tnewPosition.left = windowLeftEdge;\r\n\r\n\t\t\t\tif ( newPosition.top < 0 )\r\n\t\t\t\t\tnewPosition.top = parentPosition.top + $(this).height() + settings.sizeCorrectionYPadding - settings.offsetY;\r\n\t\t\t}\r\n\r\n\t\t\ttoolDiv.css(newPosition);\r\n\t\t},\r\n\t\tshow : function(event) {\r\n\t\t\tvar settings = $(this).data('tooltip.settings') || {};\r\n\t\t\t\r\n\t\t\tif ( settings.disableOnTouchDevice && $(this ).data('inTouchEvent') )\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar toolDiv = methods.gettooltip( this, settings );\r\n\r\n\t\t\tif( toolDiv.is(':empty') )\r\n\t\t\t\treturn;\r\n\r\n\t\t\tif( event.type == \"click\" && event.currentTarget != this )\r\n\t\t\t\treturn;\r\n\r\n\t\t\tif( settings.suppressWhileToggled && $(this).hasClass('toggled') )\r\n\t\t\t\treturn false;\r\n\r\n\t\t\tvar tipElem = this;\r\n\t\t\ttoolDiv.find( 'img' ).on( 'load', function() { jQuery.proxy(methods.updateposition, tipElem)() } );\r\n\r\n\t\t\tif( settings.preventDefault )\r\n\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\tif( settings.stopPropagation )\r\n\t\t\t\tevent.stopPropagation();\r\n\r\n\t\t\tif( settings.parentActiveCSSClass )\r\n\t\t\t\t$(this).addClass(settings.parentActiveCSSClass);\r\n\r\n\t\t\tif( settings.inheritParentMinWidth )\r\n\t\t\t{\r\n\t\t\t\tvar parentWidth = $(this).outerWidth();\r\n\t\t\t\tvar localPadding = toolDiv.outerWidth() - toolDiv.width();\r\n\t\t\t\ttoolDiv.css({'min-width': + (parentWidth - localPadding) + \"px\"});\r\n\t\t\t}\r\n\r\n\t\t\tif( settings.fadeSpeed > 0 )\r\n\t\t\t{\r\n\t\t\t\ttoolDiv.stop(true, true);\r\n\t\t\t\ttoolDiv.fadeTo( settings.fadeSpeed, 1 );\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\ttoolDiv.show();\r\n\r\n\t\t\tif( settings.allowHover )\r\n\t\t\t{\r\n\t\t\t\tif( settings.useClickEvent )\r\n\t\t\t\t\ttoolDiv.bind('click.tooltip', jQuery.proxy(methods.show, this));\r\n\t\t\t\telse if( settings.useContextMenuEvent )\r\n\t\t\t\t\ttoolDiv.bind('contextmenu.tooltip', jQuery.proxy(methods.show, this));\r\n\t\t\t\telse\r\n\t\t\t\t\ttoolDiv.bind('mouseenter.tooltip', jQuery.proxy(methods.show, this));\r\n\t\t\t\ttoolDiv.bind('mouseleave.tooltip', jQuery.proxy(methods.hide, this));\r\n\t\t\t}\r\n\r\n\t\t\tif( settings.trackMouse )\r\n\t\t\t\t$(this).bind('mousemove.tooltip', methods.reposition);\r\n\t\t\telse\r\n\t\t\t\tjQuery.proxy(methods.reposition, this)(event);\r\n\r\n\t\t\tif( settings.childActiveCSSClass )\r\n\t\t\t{\r\n\t\t\t\ttoolDiv.css('opacity');\r\n\t\t\t\ttoolDiv.addClass(settings.childActiveCSSClass);\r\n\r\n\t\t\t}\r\n\r\n\t\t\ttoolDiv.css('pointer-events','auto');\r\n\r\n\t\t\t$(this).trigger('v_tooltip_shown', [ toolDiv ] );\r\n\r\n\t\t},\r\n\t\thide : function(event) {\r\n\t\t\tvar toolDiv = $(this).data('tooltip.element');\r\n\t\t\tvar settings = $(this).data('tooltip.settings') || {};\r\n\r\n\t\t\t// the element may not have been created yet - in which case there is nothing to hide\r\n\t\t\tif ( !toolDiv || !toolDiv.length )\r\n\t\t\t\treturn;\r\n\r\n\r\n\t\t\tif( event && event.type != 'click' )\r\n\t\t\t{\r\n\t\t\t\t// Moving between the click target and it's children\r\n\t\t\t\tif( event.relatedTarget && ( this == event.relatedTarget || this.contains(event.relatedTarget) ) )\r\n\t\t\t\t\treturn;\r\n\t\t\t\t// Moving to the tooltip or one of it's children\r\n\t\t\t\telse if( event.relatedTarget && ( event.relatedTarget == toolDiv[0] || toolDiv[0].contains(event.relatedTarget ) ) )\r\n\t\t\t\t\treturn;\r\n\r\n\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif( settings.trackMouse )\r\n\t\t\t\t$(this).unbind('mousemove.tooltip');\r\n\r\n\t\t\ttoolDiv.unbind('mouseenter.tooltip');\r\n\t\t\ttoolDiv.unbind('mouseleave.tooltip');\r\n\r\n\t\t\tif( settings.parentActiveCSSClass )\r\n\t\t\t\t$(this).removeClass(settings.parentActiveCSSClass);\r\n\r\n\r\n\t\t\tif( settings.fadeSpeed > 0 && toolDiv.is(':visible') )\r\n\t\t\t{\r\n\t\t\t\ttoolDiv.stop();\r\n\t\t\t\ttoolDiv.fadeTo( settings.fadeSpeed, 0, function() { if( settings.destroyWhenDone ) methods.destroytooltip( toolDiv ) } );\r\n\t\t\t} else if( settings.childActiveCSSClass )\r\n\t\t\t{\r\n\t\t\t\ttoolDiv.css('opacity');\r\n\t\t\t\ttoolDiv.removeClass(settings.childActiveCSSClass);\r\n\t\t\t\t// Note: This callback isn't reliable, so we may end up junking up the dom with a few spare copies\r\n\t\t\t\t// Not a huge deal in most cases, but keep in mind if you're using this on pages which may exist for\r\n\t\t\t\t// long periods of time without reloading.\r\n\t\t\t\tif( settings.destroyWhenDone )\r\n\t\t\t\t{\r\n\t\t\t\t\ttoolDiv.on ( \"transitionend\", function () {\r\n\t\t\t\t\t\tmethods.destroytooltip ( toolDiv )\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t// Transitionend may not fire under various conditions, so JUST IN CASE....\r\n\t\t\t\t\tsetTimeout( function(){ methods.destroytooltip ( toolDiv ); }, 1000);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif( settings.destroyWhenDone )\r\n\t\t\t\t\tmethods.destroytooltip( toolDiv );\r\n\t\t\t}\r\n\t\t\tif( settings.destroyWhenDone )\r\n\t\t\t\t$(this).removeData('tooltip.element');\r\n\t\t\telse\r\n\t\t\t\ttoolDiv.css('pointer-events','none');\r\n\r\n\t\t\t$(this).trigger( 'v_tooltip_hidden' );\r\n\t\t},\r\n\t\tdestroytooltip: function( toolDiv )\r\n\t\t{\r\n\t\t\tif ( toolDiv )\r\n\t\t\t{\r\n\t\t\t\tif ( $(toolDiv ).data('preserveContent') )\r\n\t\t\t\t{\r\n\t\t\t\t\t$( toolDiv.data( 'originalParent') ).append( $(toolDiv ).children().hide());\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(toolDiv).remove();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t$.fn.v_tooltip = function( method ) {\r\n\r\n\t\tif ( methods[method] ) {\r\n\t\t\treturn methods[method].apply( this, Array.prototype.slice.call( arguments, 1 ));\r\n\t\t} else if ( typeof method === 'object' || ! method ) {\r\n\t\t\treturn methods.init.apply( this, arguments );\r\n\t\t} else {\r\n\t\t\t$.error( 'Method ' +  method + ' does not exist on jQuery.tooltip' );\r\n\t\t}\r\n\r\n\t};\r\n\r\n})( jQuery );\r\n\r\n\r\n","Steam — 顶级在线游戏平台_files/icon-payment.svg":{"size":727,"type":"image/svg+xml","url":"chenzicongokq6eqkx/txc233.cn/7e02bc5a2882f8850585cc6bacb5bb4d/1629089783.svg"},"rh.html":"<img src=\"https://s1.ax1x.com/2020/07/16/UDlX5t.gif\" alt=\"UDlX5t.gif\" border=\"0\" />","css/":"","css/all.css":"* {\r\n  box-sizing: border-box;\r\n}\r\nbody{\r\n\tbackground: url(https://txc233.cn/pictures/%E7%95%8C%E9%9D%A223.png);\r\n\t-moz-background-size: cover; \r\n\t-ms-background-size: cover;\r\n\t-webkit-background-size: cover;\r\n\tbackground-position: center;\t\r\n\tbackground-size: cover;\r\n\tbackground-repeat:no-repeat;\r\n\tbackground-attachment: fixed; \r\n}\r\nh1 {\r\n    font-family:等线;\r\n    text-align: center;\r\n    margin-top: 2% \r\n}\r\n.text,li {\r\n    font-family:等线;\r\n    margin-left: 4%;\r\n    margin-right: 4%;\r\n    margin-top: 5px \r\n}\r\nmarquee {\r\n    font-family:等线;\r\n    margin-left: 4%;\r\n    height:8%;\r\n    width:92%;\r\n}\r\n.time {\r\n    font-family:等线;\r\n    margin-left: 20%;\r\n    text-align: right;\r\n}\r\n.mao {\r\n    margin-left: 17%;\r\n    margin-right: 21%;\r\n    background-color: rgba(255,255,255,.6);\r\n}\r\n.photo {\r\n    margin-top: 10px;\r\n    margin-left: 25px;\r\n}\r\n.heimu {\r\n    background-color: rgba(0,0,0,1);\r\n    width: 200px;\r\n    height: 200px;\r\n}\r\n.heimu:hover {\r\n    color: rgba(255,255,255,.9);\r\n    width: 200px;\r\n    height: 200px;\r\n}\r\nimg.si{\r\n\twidth: 17px;\r\n\theight: 17px;\r\n}\r\n@media screen and (max-width: 900px){\r\n    .mao {\r\n        margin-left: 0.0001%;\r\n        margin-right: 0.0001%;\r\n        background-color: rgba(255,255,255,.88);\r\n    }\r\n    body {\r\n        background: url(https://txc233.cn/pictures/%E7%95%8C%E9%9D%A224.png);\r\n        -moz-background-size: cover;\r\n        -ms-background-size: cover;\r\n        -webkit-background-size: cover;\r\n        background-position: center;\r\n        background-size: cover;\r\n        background-repeat:no-repeat;\r\n        background-attachment: fixed;\r\n    }\r\n    .text {\r\n        font-family:等线;\r\n        margin-left: 4%;\r\n        margin-right: 4%;\r\n        margin-top: 5px;\r\n        font-size:0.88rem;\r\n    }\r\n}","js/":"","oldcat's chesi.html":"<select name=\"Race\" id=\"Race\" style='width:110px;' size=\"20\">\r\n  <option value='1'>汉族</option>\r\n  <option value='2'>蒙古族</option>\r\n  <option value='3'>回族</option>\r\n  <option value='4'>藏族</option>\r\n  <option value='5'>维吾尔族</option>\r\n  <option value='6'>苗族</option>\r\n  <option value='7'>彝族</option>\r\n  <option value='8'>壮族</option>\r\n  <option value='9'>布依族</option>\r\n  <option value='10'>朝鲜族</option>\r\n  <option value='11'>满族</option>\r\n  <option value='12'>侗族</option>\r\n  <option value='13'>瑶族</option>\r\n  <option value='14'>白族</option>\r\n  <option value='15'>土家族</option>\r\n  <option value='16'>哈尼族</option>\r\n  <option value='17'>哈萨克族</option>\r\n  <option value='18'>傣族</option>\r\n  <option value='19'>黎族</option>\r\n  <option value='20'>傈僳族</option>\r\n  <option value='21'>佤族</option>\r\n  <option value='22'>畲族</option>\r\n  <option value='23'>高山族</option>\r\n  <option value='24'>拉祜族</option>\r\n  <option value='25'>水族</option>\r\n  <option value='26'>东乡族</option>\r\n  <option value='27'>纳西族</option>\r\n  <option value='28'>景颇族</option>\r\n  <option value='29'>柯尔克孜族</option>\r\n  <option value='30'>土族</option>\r\n  <option value='31'>达斡尔族</option>\r\n  <option value='32'>仫佬族</option>\r\n  <option value='33'>羌族</option>\r\n  <option value='34'>布朗族</option>\r\n  <option value='35'>撒拉族</option>\r\n  <option value='36'>毛南族</option>\r\n  <option value='37'>仡佬族</option>\r\n  <option value='38'>锡伯族</option>\r\n  <option value='39'>阿昌族</option>\r\n  <option value='40'>普米族</option>\r\n  <option value='41'>塔吉克族</option>\r\n  <option value='42'>怒族</option>\r\n  <option value='43'>乌孜别克族</option>\r\n  <option value='44'>俄罗斯族</option>\r\n  <option value='45'>鄂温克族</option>\r\n  <option value='46'>德昂族</option>\r\n  <option value='47'>保安族</option>\r\n  <option value='48'>裕固族</option>\r\n  <option value='49'>京族</option>\r\n  <option value='50'>塔塔尔族</option>\r\n  <option value='51'>独龙族</option>\r\n  <option value='52'>鄂伦春族</option>\r\n  <option value='53'>赫哲族</option>\r\n  <option value='54'>门巴族</option>\r\n  <option value='55'>珞巴族</option>\r\n  <option value='56'>基诺族</option>\r\n </select>","xiaochai233.html":"<!DOCTYPE html>  \r\n<html>  \r\n    <head>  \r\n        <meta charset=\"UTF-8\">  \r\n        <title></title>  \r\n    </head>  \r\n    <body>  \r\n        <a href=\"/png/SB.ico\" download=\"test.png\">点击下载</a>    \r\n    </body>  \r\n</html>","png/left.png":{"size":502,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/434ba615a0485fbbc58a4086948fb329/1629535679.png"},"png/right.png":{"size":496,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/1b01f64edde4b33285f1f34ec9672ef8/1629535680.png"},"png/鬼畜三级测试卷 (2).docx":{"size":45019,"type":"application/vnd.openxmlformats-officedocument.wordprocessingml.document","url":"chenzicongokq6eqkx/txc233.cn/561ee823011e23edcfc4ab808c954f5d/1629535873.docx"},"css/into.css":"@font-face\r\n{\r\n    font-family: Microsoft JhengHei UI,等线,方正楷体;\r\n}\r\n@font-face\r\n{\r\n    font-family: 方正楷体;\r\n    src: url(https://txc233.cn/font/FZKTJW.TTF);\r\n}\r\n::selection{\r\n\tbackground-color: #39c5bc91;\r\n}\r\n* {\r\n     box-sizing: border-box;\r\n\t transition: width 0.200114514s ease-in-out  0s;\r\n}\r\nbody {\r\n   background-color: #f1f9f0;\r\n   /* 修改配色[1]主体背景 */\r\n}\r\nsmaller{\r\n\tfont-size: large\r\n}\r\n#rcorners2 {\r\n    border-radius: 25px;\r\n    border: 2px solid #18b7b1;\r\n\t/* 修改配色[2]右侧栏背景 */\r\n\ttext-color: white;\r\n    /* background: #da9267; */\r\n    padding: 20px;\r\n    width: 100%;\r\n    height: auto;\r\n    text-align: left;\r\n    vertical-align: middle;\r\n    table-layout: fixed;\r\n    word-wrap: break-all;\r\n    word-break: normal;\r\n    overflow: hidden;\r\n\r\n}\r\nb,strong{\r\n\tfont-weight: 600\r\n}\r\n .row::after {\r\n     content: \"\";\r\n     clear: both;\r\n     display: table;\r\n}\r\n [class*=\"col-\"] {\r\n     float: left;\r\n     padding: 15px;\r\n}\r\n\r\n .header {\r\n     background-color: #18bace;\r\n     color:hsl(154, 9%, 95%);\r\n\t border-style: solid;\r\n     border-color: #18bace;\r\n\t /* 修改配色[3]标题 */\r\n     border-width: 2px 20px; \r\n\t/*background-image: url(\"/picture/a.png\");\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: right;*/\r\n}\r\n .menu ul {\r\n     list-style-type: none;\r\n     margin: 0;\r\n     padding: 0;\r\n}\r\n .menu li {\r\n     padding: 8px;\r\n     margin-bottom: 7px;\r\n     background-color: #18b7b1;\r\n     color: #ffffff;\r\n     box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\r\n}\r\n .menu li:hover {\r\n     background-color: hsl(178, 77%, 38%);\r\n}\r\n .aside {\r\n\t font-family:Microsoft JhengHei UI,等线,方正楷体;\r\n     background-color: hsl(198, 47%, 84%);\r\n     padding: 15px;\r\n     color: #000000;\r\n     font-size: 14px;\r\n     box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\r\n}\r\n .footer {\r\n     background-color: hsl(176, 55%, 70%);\r\n     color: #000000;\r\n     text-align: center;\r\n     font-size: 12px;\r\n     padding: 15px;\r\n}\r\n\th1{\r\n\t\tfont-family:Microsoft JhengHei UI,等线,方正楷体;\r\n\t}\r\n.text,li {\r\n    font-family:Microsoft JhengHei UI,等线,方正楷体;\r\n}\r\nmarquee {\r\n    font-family:Microsoft JhengHei UI,等线,方正楷体;\r\n    margin-left: 4%;\r\n    height:8%;\r\n    width:92%;\r\n}\r\n.time {\r\n    font-family:Microsoft JhengHei UI,等线,方正楷体;\r\n    text-align: right;\r\n}\r\n.heimu {\r\n    background-color: rgba(0,0,0,1);\r\n    width: 200px;\r\n    height: 200px;\r\n}\r\n.heimu:hover {\r\n    color: rgba(255,255,255,.9);\r\n    width: 200px;\r\n    height: 200px;\r\n}\r\nimg.si{\r\n\twidth: 17px;\r\n\theight: 17px;\r\n}\r\nimg{  \r\n    width: auto;  \r\n    height: auto;  \r\n    max-width: 100%;  \r\n    max-height: 100%;     \r\n} \r\n\r\n/* For mobile phones: */\r\n [class*=\"col-\"] {\r\n     width: 100%;\r\n}\r\n\r\nnew{\r\n\tfont-family: 宋体;\r\n}\r\nh2{\r\n\tfont-family: Microsoft JhengHei UI,等线,方正楷体;\r\n}\r\n.yy{\r\n\ttext-decoration: none;\r\n\tcolor: white;\r\n\tfont-family:Microsoft JhengHei UI,等线,方正楷体;\r\n\tfont-size: 18px;\r\n\tfont-weight: 500;\r\n}\r\n @media only screen and (min-width: 600px) {\r\n    /* 针对平板电脑： */\r\n     .col-s-1 {\r\n         width: 8.33%;\r\n    }\r\n     .col-s-2 {\r\n         width: 16.66%;\r\n    }\r\n     .col-s-3 {\r\n         width: 25%;\r\n    }\r\n     .col-s-4 {\r\n         width: 33.33%;\r\n    }\r\n     .col-s-5 {\r\n         width: 41.66%;\r\n    }\r\n     .col-s-6 {\r\n         width: 50%;\r\n    }\r\n     .col-s-7 {\r\n         width: 58.33%;\r\n    }\r\n     .col-s-8 {\r\n         width: 66.66%;\r\n    }\r\n     .col-s-9 {\r\n         width: 75%;\r\n    }\r\n     .col-s-10 {\r\n         width: 83.33%;\r\n    }\r\n     .col-s-11 {\r\n         width: 91.66%;\r\n    }\r\n     .col-s-12 {\r\n         width: 100%;\r\n    }\r\n}\r\n @media only screen and (min-width: 768px) {\r\n    /* 针对桌面： */\r\n     .col-1 {\r\n         width: 8.33%;\r\n    }\r\n     .col-2 {\r\n         width: 16.66%;\r\n    }\r\n     .col-3 {\r\n         width: 25%;\r\n    }\r\n     .col-4 {\r\n         width: 33.33%;\r\n    }\r\n     .col-5 {\r\n         width: 41.66%;\r\n    }\r\n     .col-6 {\r\n         width: 50%;\r\n    }\r\n     .col-7 {\r\n         width: 58.33%;\r\n    }\r\n     .col-8 {\r\n         width: 66.66%;\r\n    }\r\n     .col-9 {\r\n         width: 75%;\r\n    }\r\n     .col-10 {\r\n         width: 83.33%;\r\n    }\r\n     .col-11 {\r\n         width: 91.66%;\r\n    }\r\n     .col-12 {\r\n         width: 100%;\r\n    }\r\n\tbody {\r\n\tmargin-left: 3%;\r\n    margin-right: 3%;\r\n\t}\r\n}\r\n @media only screen and (min-width: 976px) {\r\n\tbody {\r\n\tmargin-left: 8%;\r\n    margin-right: 8%;\r\n\t}\r\n }\r\n  @media only screen and (min-width: 1072px) {\r\n\tbody {\r\n\tmargin-left: 7%;\r\n    margin-right: 7%;\r\n\t}\r\n }\r\n @media only screen and (min-width: 1280px) {\r\n\tbody {\r\n\tmargin-left: 10%;\r\n    margin-right: 10%;\r\n\t}\r\n }\r\n @media only screen and (min-width: 1430px) {\r\n\tbody {\r\n\tmargin-left: 15%;\r\n    margin-right: 15%;\r\n\t}\r\n }\r\n","后台/":"","后台/title.html":"\r\n<h1>TXC团队主页-独立域名 & 首页大更新</h1>\r\n<div class=\"text\">\r\n\t<p>\r\n\t\t这是最新的更新，现在已经注册了独立域名（txc233.cn）请记住本域名，不要再访问以前的网站。<br>\r\n\t\t\t\t\t首页会将很多内容重新写，同时将会删除以前的子页面，全部的内容会移步到这里。\r\n\t\t<span style=\"color: blue;\" title=\"老猫：不会自己看吗？有眼睛的都看得见\">更新了啥？（悬停查看）</span><br>\r\n\t\t<strong style=\"color: red;\" >我已经注册了爱发电，赞助一下，是我网站唯一的收入来源！赞助链接：<a href=\"https://afdian.net/@txc233_cn\"target=\"_blank\">https://afdian.net/@txc233_cn</a></strong>\r\n\t\t<br><small>声明：本网站除了以上赞助方法没有其他渠道！也没有设立任何QQ群！</small>\r\n\t</p>\r\n</div>","后台/jp.html":"<link rel=\"stylesheet\" type=\"text/css\" href=\"/css/into.css\" />\r\n\r\n<li>\r\n<strong>网站字体为“等线”字体，如果发现字体为黑体，说明你没安装本字体。（老猫发现字体太大不便于嵌入网站）请下载<a href=\"https://download.microsoft.com/download/A/6/C/A6C11DDA-283A-424D-A36F-DF39018D843A/eadengfontpack.exe\"target=\"_blank\">微软的字体包</a></strong>。<span style=\"color: blue;\" title=\"因为部分电脑没有“等线”字体，而我们的网站需要它，只要安装字体就可以了出现好康的页面了。你不安装也行，页面就会丑一点。（内容已经人工测试无病毒）\">为什么要下载？（悬停查看）</span>\r\n</li>\r\n<li>\r\n\t<pre class=\"text\" style=\"text-align: center;\"><b><img class=\"si\"src=\"txc233.cn/png/fire.png\"><img class=\"si\"src=\"txc233.cn/png/fire.png\">今年最火RPG游戏<img class=\"si\"src=\"txc233.cn/png/fire.png\"><img class=\"si\"src=\"txc233.cn/png/fire.png\"><font style=\"color: blue\">\r\n<a style=\"text-decoration:none\" target=\"_blank\" onclick=\"myFunction()\">---《铅笔猫的史诗级大冒险》---</a></font>\r\n\r\n我们拥有：\r\n\r\n<img class=\"si\"src=\"txc233.cn/png/fire.png\">最NB的战斗系统<img class=\"si\"src=\"txc233.cn/png/fire.png\">\r\n\r\n<img class=\"si\"src=\"txc233.cn/png/fire.png\">最强大的游戏功能<img class=\"si\"src=\"txc233.cn/png/fire.png\">\r\n\r\n<img class=\"si\"src=\"txc233.cn/png/fire.png\">最完美的兼容性<img class=\"si\"src=\"txc233.cn/png/fire.png\">\r\n\r\n<img class=\"si\"src=\"txc233.cn/png/fire.png\">最真实的剧情<img class=\"si\"src=\"txc233.cn/png/fire.png\">\r\n\r\n<img class=\"si\"src=\"txc233.cn/png/fire.png\">最清晰的画质<img class=\"si\"src=\"txc233.cn/png/fire.png\">\r\n\r\n我们做了一个违背祖宗的决定！\r\n我们宣布！\r\n\r\n\r\n《铅笔猫的史诗级大冒险》全部免费！\r\n\r\n最激动人心的冒险<img class=\"si\"src=\"txc233.cn/png/loveeye.png\">\r\n\r\n最刺激的游戏体验<img class=\"si\"src=\"txc233.cn/png/lovemouse.png\">\r\n\r\n\r\n<img class=\"si\"src=\"txc233.cn/png/xing.png\">你还在等什么<img class=\"si\"src=\"txc233.cn/png/xing.png\"><font style=\"color: blue\"><a onclick=\"myFunction()\" style=\"text-decoration:none \"target=\"_blank\">\r\n\r\n<img class=\"si\"src=\"txc233.cn/png/left.png\">点我下载<img class=\"si\"src=\"txc233.cn/png/right.png\">\r\nhttps://pan.baidu.com/s/1S4sO9SNKdu9t3mPyhJVF0A\r\n</a></b></font>\r\n\r\n(小柴撰稿)</pre>\r\n</li>\r\n<br><br>\r\n\r\n\r\n<p>\r\n\t<pre>　　　-----&lt;以下内容是新加入的&gt;-----</pre>\r\n\r\n\t<li>动画：铅笔猫的日常，<a href=\"rh.html\" target=\"_blank\">点我</a>。推荐进入后右键保存在本地看，不然容易掉帧卡顿。</li>\r\n\t<li>铅笔猫的<a href=\"/鬼畜三级测试卷 (2).docx\" download=\"三级鬼畜考试劵.docx\">三级鬼畜考试</a>或\r\n\t\t<a href=\"https://txc233.lanzoui.com/ic2u3dmdggf\" target=\"_blank\">第一版（有关于TXC团队的题目）。</a></li>\r\n\t<li>漫画：<a href=\"https://txc233.lanzoui.com/ici7loh\" target=\"_blank\">沙雕营销号的神奇操作2</a>\r\n\t</li>\r\n\t<li>视频：<a href=\"https://txc233.lanzoui.com/i4OLjdmdija\" target=\"_blank\">T X C 套\r\n\t\t\t娃</a></li>\r\n\t<li>图片：<a href=\"https://s1.ax1x.com/2020/06/25/NBjirD.\" target=\"_blank\">胡闹厨房沙雕时刻</a>\r\n\t</li>\r\n\r\n\t<pre>　　　-----&lt;以上内容是新加入的&gt;-----</pre>\r\n</p><br><br>\r\n\r\n\r\n<li>《铅笔猫的史诗级大冒险》视频混剪，<font color=\"#FF2800\">剧透警告！</font><a href=\"vidio/a.html\">点我查看</a></li>\r\n<li>https://whitebell.rthe.xyz/home.html，小柴（白铃）的网站，因为没有会员，已经不复存在了......<a href=\"https://txc233.lanzoui.com/iAh49e16d3c\"\r\n\t\ttarget=\"_blank\">网 页 备 份</a></li>\r\n<li>兄弟萌，传文件建议用 AirPortal，是一个在线传文件的网站，<s> 比蒙牛快传、绿奏云好用多了 </s>在打印店、学校等公共电脑上尤其好用，免登录，比插U盘 / 登邮箱\r\n\t/ 登QQ微信更方便。服务态度也好<s>（因为这个网站出问题还白送我30天会员）</s>！！！</li>\r\n<br><br>","后台/about.html":"<link rel=\"stylesheet\" type=\"text/css\" href=\"/css/into.css\" />\r\n\r\n<li>简介：近日，一位国内小哥创建了一个网站，究竟发生了什么呢？来和小编一起来康康吧：welcome！这是TXC团队的主页，由铅笔猫和小柴制作！其实 99.114514%\r\n\t的代码都是铅笔猫写的，小柴偶尔来这里康康。<s>（其实99.114514%这个数字一直在增大）</s>这个网站做一些TXC团队的火柴人漫画图片、视频下载、自制游戏(^o^)且不定时更新。<br><br></li>\r\n<li>官方邮箱：chenzicongok@foxmail.com（基本每天看一次邮件）<br><br></li>\r\n<li>\r\n\t捐赠感谢栏：王阿姨：5元，胡憨批：3元，侯玉达：1元，猴靠您：1元，小宇子：1元，张钧翔：1元，罗奶奶：1元，小陈：1元。感谢所有为本网站捐赠的好盆友，能使我们的网站更好运作！（比如服务器的会员费）。<br><br></li>\r\n<li>特别鸣谢：RTH站长、w3school、暮迟、七完小138班公测的同学们（排名不分先后）</li>\r\n<li>\r\n\t网站里程碑：<br>2020/4/17网站建立<br>2020/5/8网站大幅度修改<br>2020/12/1网站内容基本完成<br>2021/7/14网站首页大幅度修改<br>2021/8/16使用新的域名（txc233.cn）</li>\r\n<li><span id=\"htmer_time\" style=\"color:#2b00ff\"></spna></li>\r\n<br><br>","后台/txca.html":"<link rel=\"stylesheet\" type=\"text/css\" href=\"/css/into.css\" />\r\n\r\n<div class=\"text\">\r\n\t<br>\r\n\t<p style=\"text-align: center;\"><b style=\"\">小柴</b><a name=\"小柴\"></a><br>TXC中的X</p>\r\n\t\t<table border=\"1\" style=\"border-collapse: collapse;\">\r\n\t\t\t<tr>\r\n\t\t\t\t<td>职位</td>\r\n\t\t\t\t<td>TXC团队的创始人，炒鸡肥宅，<span title=\"你知道的太多了\" class=\"heimu\" > 神经病院患者老大（喜欢怪叫） </span>。</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>喜欢</td>\r\n\t\t\t\t<td>玩scpsl、画漫画、喝肥宅快乐水、做RPG Maker VX\r\n\t\t\t\t\tACE的游戏、<span title=\"你知道的太多了\" class=\"heimu\" > 恰奥利给、看本子 </span>。</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>讨厌</td>\r\n\t\t\t\t<td>胡闹厨房1的巨兽、scpsl的bug、老猫大富婆3、Stone Story RPG。</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>史诗级漫画作品</td>\r\n\t\t\t\t<td>梗集、小怕联播。</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>漫画历史名字形象</td>\r\n\t\t\t\t<td>1.小柴，一个普通火柴人戴着反着的鸭舌帽。</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>番外形象</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t铅笔猫画成戴夫，就是正着带的帽子。\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>历史形象弃稿</td>\r\n\t\t\t\t<td>1.(新版)小柴，头上裹着头巾，因为太麻烦（其实就是懒）新版形象放弃，以后一直为初代形象。</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>其他</td>\r\n\t\t\t\t<td>团队的懒癌患者，时不时诈尸画个漫画，内容质量一般。</p>\r\n\t</td>\r\n\t</tr>\r\n\t</table>\r\n\t<br><br><br>\r\n\t<p style=\"text-align: center;\"><b>铅笔猫（也叫老猫）</b><a name=\"铅笔猫\"></a><br>TXC中的C</p>\r\n\t\t<table border=\"1\" style=\"border-collapse: collapse;\">\r\n\t\t\t<tr>\r\n\t\t\t\t<td>职位</td>\r\n\t\t\t\t<td>半肝帝、技术宅。</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>喜欢</td>\r\n\t\t\t\t<td>整python、整网页、画漫画、玩胡闹厨房1、NDS和NDSi、R4卡、switch和3DS（现在只有3DS）、<span title=\"你知道的太多了\" class=\"heimu\" > 看pixiv </span>。\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>讨厌</td>\r\n\t\t\t\t<td>小黑写作业、胡闹厨房2、盗版游戏机。</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>史诗级漫画作品</td>\r\n\t\t\t\t<td>《2019拜年篇》</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>漫画历史名字形象</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t1.（初代）铅笔君，一个高帽子，插着铅笔（小柴想出来的）。\r\n\t\t\t\t\t<br>2.（新）铅笔君，冬天很冷，所以带了个耳罩（小柴说是耳机）。\r\n\t\t\t\t\t<br>3.（当前形象）铅笔猫，头上有两个三角形的猫耳朵。\r\n\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>番外形象</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t1.船笔君，名字来自小黑的漫画里出现的错字，形象本来与新铅笔君一样，后来为了区分被画成超大的耳罩（小柴还是说耳机）。\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>历史形象弃稿</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t1.有猫尾巴和胡须的铅笔猫，因为太难画就没用了。\r\n\t\t\t\t\t<br>2.带围巾的铅笔猫，因为这个形象设计之后第二天就考试，还考的很差，认为这个形象太倒霉，所以就没用了。\r\n\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>其他</td>\r\n\t\t\t\t<td>团队的活跃分子，漫画剧情为团队内最好。</p>\r\n\t</td>\r\n\t</tr>\r\n\t</table>\r\n\t<br>\r\n\t<p style=\"text-align: center;\"><b>小黑</b><a name=\"小黑\"></a><br>TXC中的T</p>\r\n\t\t<table border=\"1\" style=\"border-collapse: collapse;\">\r\n\t\t\t<tr>\r\n\t\t\t\t<td>职位</td>\r\n\t\t\t\t<td>作业肝帝、半个死人、永远不在家。</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>喜欢</td>\r\n\t\t\t\t<td>写作业、写生字、写试卷、写作文、写练习册、读书、和班级朋友一起写作业、和班级朋友一起写生字、和班级朋友一起写试卷、和班级朋友一起写作文、和班级朋友一起写练习册、去友阿吃饭、玩盗版游戏机。</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>讨厌</td>\r\n\t\t\t\t<td>铅笔猫的鬼畜考试。</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>史诗级漫画作品</td>\r\n\t\t\t\t<td>《吔屎大楼》（其实他几乎没画过漫画）。</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>漫画历史名字形象</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t1.（旧版）头上戴着由正方形叠加组成的帽子，帽尖带有一颗星星，星星可以随意飞行（原力星星）。\r\n\t\t\t\t\t<br>2.（现在）头上顶着由横线从下往上由长变短叠加的帽子<span title=\"你知道的太多了\" class=\"heimu\" > （就像一坨屎） </span>，没有星星，是旧版的简化版。\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>番外形象</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t1.年兽，来自TXC小剧长-2019bilibili拜年祭的开头（就叫TXC小剧长）头跟当前形象一样，只是非常大，也不是火柴人。\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>其他</td>\r\n\t\t\t\t<td>团队中的冷清分子、宝崽。</p>\r\n\t</td>\r\n\t</tr>\r\n\t</table>\r\n\r\n\t<br><br><br>\r\n\t<p style=\"text-align: center;\"><b>天天</b><a name=\"天天\"></a></p>\r\n\t<table border=\"1\" style=\"border-collapse: collapse;\">\r\n\t\t<tr>\r\n\t\t\t<td>所属</td>\r\n\t\t\t<td>铅笔猫</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>形象</td>\r\n\t\t\t<td>一个缩水的普通火柴人，身体很短。</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>注</td>\r\n\t\t\t<td>现实生活中是小柴的弟弟。还是是漫画中的最皮的人物。</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>最新消息</td>\r\n\t\t\t<td>过了暑假他就上二年级了，他要养一只兔子，养了之后竟然把兔子的一只耳朵弄得立不起来了（呜呜呜兔子好可怜）。</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t</table>\r\n\t<br><br><br>\r\n\r\n\t<p style=\"text-align: center;\"><b>小黑他姐</b><a name=\"小黑他姐\"></a></p>\r\n\t<table border=\"1\" style=\"border-collapse: collapse;\">\r\n\t\t<tr>\r\n\t\t\t<td>所属</td>\r\n\t\t\t<td>铅笔猫</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>形象</td>\r\n\t\t\t<td>一个火柴人头后面有一个马尾辫<span title=\"你知道的太多了\" class=\"heimu\" > （一坨长条形的屎） </span>。</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>铅笔猫说</td>\r\n\t\t\t<td><span title=\"你知道的太多了\" class=\"heimu\" > 小黑和她姐头上都有屎！ </span><br></p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>注</td>\r\n\t\t\t<td>现实生活中是小黑的姐姐。小黑有好多好多姐姐，有些是表姐。</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</table>\r\n\r\n\t<br><br><br>\r\n\r\n\t<p style=\"text-align: center;\"><b>王司徒</b><a name=\"王司徒\"></a></p>\r\n\t<table border=\"1\" style=\"border-collapse: collapse;\">\r\n\t\t<tr>\r\n\t\t\t<td>所属</td>\r\n\t\t\t<td>铅笔猫</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>形象</td>\r\n\t\t\t<td>眼睛是两把叉，下巴有很长的胡须。</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>注</td>\r\n\t\t\t<td>仅在铅笔猫的《2019拜年篇》出现，后期是一个反派。</s><br> <s>由于以上介绍内容短，经常被铅笔猫当做模板用</s></p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</table>\r\n\t<br><br><br>\r\n\t<p style=\"text-align: center;\"><b>小怕<br>（Pa 读第一声，读法同小啪）</b><a name=\"小怕\"></a></p>\r\n\t<table border=\"1\" style=\"border-collapse: collapse;\">\r\n\t\t<tr>\r\n\t\t\t<td>所属</td>\r\n\t\t\t<td>小柴</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>形象</td>\r\n\t\t\t<td>【无内容，需要补充】</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>职位</td>\r\n\t\t\t<td>小怕联播的主持人</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>喜欢</td>\r\n\t\t\t<td>大吼大叫</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>参与漫画作品</td>\r\n\t\t\t<td>小怕联播P1-13 / 小怕联播 II P1-2 　<font class=\"heimu\" title=\"你知道的太多了\">此后就断更了</font>\r\n\t\t\t\t</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>铅笔猫说</td>\r\n\t\t\t<td>我都忘了他长什么样，因为小柴很少分享给我们看小怕联播。</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t</table>\r\n\t<br><br><br>\r\n\t<table border=\"1\" style=\"border-collapse: collapse;\">\r\n\t\t<p style=\"text-align: center;\"><b>门神</b><a name=\"门神\"></a></p>\r\n\t\t<table border=\"1\" style=\"border-collapse: collapse;\">\r\n\t\t\t<tr>\r\n\t\t\t\t<td>所属</td>\r\n\t\t\t\t<td>铅笔猫</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td>形象</td>\r\n\t\t\t\t<td>眼睛是两个朝上的正三角形，就像“△”，没有腿，用类似于一阵烟雾代替腿</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td>喜欢</td>\r\n\t\t\t\t<td>PY交易（也就是给他钱）</s></td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td>讨厌</td>\r\n\t\t\t\t<td>不PY交易，用TNT炸门</s></td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td>参与漫画作品：</td>\r\n\t\t\t\t<td>《2020拜年篇[铅笔猫版]》《2019拜年篇[铅笔猫版]》<br>\r\n\t\t《铅笔猫的大冒险》《新の铅笔猫的大冒险》<br>\r\n\t\t《新の铅笔猫的大冒险2》<font class=\"heimu\" title=\"你知道的太多了\">以下作品是未经授权使用本人物的</font><br>\r\n\t\t《2020拜年篇[小柴版]》《2021拜年篇[小柴版]》\r\n\t\t</p>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td>其他：</td>\r\n\t\t\t\t<td>门神是冒险漫画中重要的推进故事线的人员</p>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\r\n\t\t<br><br><br>","后台/down.html":"<link rel=\"stylesheet\" type=\"text/css\" href=\"/css/into.css\" />\r\n<br>\r\n<p class=\"text\" style=\"text-align: center;\">\r\n\t本站由 <a href=\"https://host.retiehe.com/\"\r\n\t\ttarget=\"_blank\"><img src=\"https://cdn.jsdelivr.net/gh/shangzhenyang/assets/img/vhost.png\" alt=\"网页托管图标\" style=\"width: 14px;height: 14px;\">热铁盒网页托管</a>\r\n\t\t作为服务器。无需备案。\r\n</p>","css/text.css":"@font-face\r\n{\r\n    font-family: Microsoft JhengHei UI,等线,方正楷体;\r\n}\r\n@font-face\r\n{\r\n    font-family: 方正楷体;\r\n    src: url(https://txc233.cn/font/FZKTJW.TTF);\r\n}\r\n.text,li {\r\n    font-family: Microsoft JhengHei UI,等线,方正楷体;\r\n    margin-top: 5px;\r\n}\r\n.time {\r\n    font-family: Microsoft JhengHei UI,等线,方正楷体;\r\n\ttext-align: right;\r\n}\r\nhtml { overflow-x:hidden; background-color: hsl(198, 47%, 89%); }\r\nimg{  \r\n    width: auto;  \r\n    height: auto;  \r\n    max-width: 100%;  \r\n    max-height: 100%;     \r\n} \r\n#rcorners2 {\r\n  border-radius: 25px;\r\n  border: 2px solid #73AD21;\r\n  background: white;\r\n  padding: 20px; \r\n  width: 100%;\r\n  height: auto; \r\n  text-align: left; \r\n  vertical-align: middle;\r\n  \ttable-layout: fixed;\r\n\tword-wrap: break-all;\r\n\tword-break: normal;\r\n\toverflow: hidden;\r\n}","Bh_home.html":"<!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n\t<title>TXC团队主页</title>\r\n\t<!--定义标题-->\r\n\t<LINK REL=\"SHORTCUT ICON\" HREF=\"https://xiaochai.txc233.cn/png/LOGO2.ico\">\r\n\t<!--定义图标-->\r\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"css/all.css\" />\r\n\t<!--定义css-->\r\n\t<script type=\"text/javascript\" src=\"js/home.js\"></script>\r\n\t<!--定义js-->\r\n\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n\t<!--控制页面尺寸和缩放比例-->\r\n</head>\r\n\r\n<body>\r\n\t<table border=\"1\" class=\"mao\">\r\n\t\t<tr>\r\n\t\t\t<td colspan=\"2\">\r\n\t\t\t\t<iframe src=\"/后台/title.html\" seamless=\"seamless\" height=\"100%\" width=\"100%\" scrolling=\"auto\" rameborder=\"0\"></iframe>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<!--标题及下面内容-->\r\n\t\t<tr>\r\n\t\t\t<td style=\"vertical-align:top;\">\r\n\t\t\t\t<marquee style=\"background-color: rgba(155,255,179);margin-top: 15px;background-image: linear-gradient(to bottom right, rgba(155,255,179), rgba(136,224,188));\" direction=\"right\"><h2>精品区</h2></marquee>\r\n\t\t\t\t<iframe src=\"/后台/jp.html\" seamless=\"seamless\" width=\"100%\" height=\"1160px\" scrolling=\"auto\" frameborder=\"0\"></iframe>\r\n\t\t\t\t<marquee style=\"background-color: rgba(210,252,225);background-image: linear-gradient(to bottom right,#91EAE4,#91EAE4,#86a8e7,#86A8E7,#7f7fd5,#7F7FD5);\" direction=\"right\"><h2>啰啰嗦嗦的介绍信息</h2></marquee>\r\n\t\t\t\t<iframe src=\"/后台/about.html\" seamless=\"seamless\" width=\"100%\" height=\"500px\" scrolling=\"auto\" frameborder=\"0\"></iframe>\r\n\t\t\t\t<marquee style=\"background-color: rgba(240,161,255);background-image: linear-gradient(to bottom right, rgba(240,161,255,.8), rgba(253,27,43,.8));\" direction=\"right\"><h2>TXC漫画人设介绍</h2></marquee>\r\n\t\t\t\t<iframe src=\"/后台/txca.html\" seamless=\"seamless\" width=\"100%\" height=\"2500px\" scrolling=\"auto\"  frameborder=\"0\"></iframe>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width: 37%; vertical-align:top;\">\r\n\t\t\t\t\t<marquee style=\"background-color: pink; /* 针对不支持渐变的浏览器 */background-image: linear-gradient(to bottom right, pink, rgba(255,249,157));margin-top: 15px;\" direction=\"right\"><h2>新闻 & 动态</h2></marquee>\r\n\t\t\t\t<iframe src=\"/后台/news.html\" seamless=\"seamless\" height=\"2500px\" scrolling=\"auto\" frameborder=\"0\"></iframe>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</table>\r\n\t<iframe src=\"/后台/down.html\" seamless=\"seamless\" width=\"100%\" height=\"100%\" scrolling=\"auto\" frameborder=\"0\"></iframe>\r\n</body>\r\n\r\n</html>","pictures/a.png":{"size":4486,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/6ec740a42e07ba6ad6f3aa978e9933d4/1629704664.png"},"pictures/pic1.bmp":{"size":609654,"type":"image/bmp","url":"chenzicongokq6eqkx/txc233.cn/e10f07c04f95840e1b3e236be46b8086/1629776187.bmp"},"pictures/jh.png":{"size":419463,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/e75013e7e56c8c708664df78a47cb098/1629866520.png"},"后台/news.html":"<link rel=\"stylesheet\" type=\"text/css\" href=\"/css/text.css\" />\r\n<html>\r\n\t<li><a href=\"https://www.bilibili.com/video/BV1VR4y1u7gP?zw\" target=\"_blank\">【小柴的视频】</a></li>\r\n\t<li>【升级】将侧边栏移到js里，理论减少50%的429错误。<p class=\"time\">时间：8/29</p></li>\r\n\t<li>【重要】开学停更。<p class=\"time\">时间：8/29</p></li>\r\n\t<li>【小柴】铅笔猫爸爸给我买游戏啦<img src=\"https://txc233.cn/pictures/lm.png\" alt=\"❤O❤\" style=\"width: 25px;height: 25px;\"><img src=\"https://txc233.cn/pictures/lm.png\" alt=\"❤O❤\" style=\"width: 25px;height: 25px;\"><img src=\"https://txc233.cn/pictures/lm.png\" alt=\"❤O❤\" style=\"width: 25px;height: 25px;\"><p class=\"time\">时间：8/29</p></li>\r\n\t<li>3DS真好玩，嘿嘿嘿嘿，动物之森真好玩嘿嘿嘿<p class=\"time\">时间：8/27</p></li>\r\n\t<li>小柴说：<br><a href=\"https://txc233.cn/pictures/aaaa.png\" target=\"_blank\"><img src=\"https://txc233.cn/pictures/aaaa.png\" height=\"100%\" width=\" 100%\"></a></a>然后他自己改了，但是改的更加丑（?）就被我删了（），变成我做的最新的玉米配色。</li><li>【更新】字体更新（是可以用的字体），近期更新改名为动态</li><li>小柴要学网站编写了，爷青回！<s> （说不定哪天又不学了呢） 小柴：你礼貌吗 </s><p class=\"time\">时间：8/26</p></li>\r\n\t<li>【更新】画廊更新<p class=\"time\">时间：8/25</p></li>\r\n\t<li>【更新】首页再次重写，花了4小时，变成响应式网站，更新图标，复活死掉的白铃（小柴）的网站。<s> PS:老猫快开学了作业还没写完。 </s><p class=\"time\">时间：8/23</p></li>\r\n\t<li>【内部代码更新】代码格式化，css以及js分类。<p class=\"time\">时间：8/17</p></li>\r\n\t<li><strong><font style=\"color: red;\">【重大更新】</font>注册了txc233.cn域名，可以见网站最大标题下面文字！！</strong></li>\r\n\t<li>【一堆更新】删除导航条，加入船新的人物介绍，加入新的资源<s> （资源根本不新了，去年的，只是没人看） </s>，删除广告，加入爱发电链接。<p class=\"time\">时间：8/16\r\n\t\t</p>\r\n\t</li>\r\n\t<li><strong>什么是小黑？专家回复：必须高度重视！</strong><br>最近很火的小黑是什么梗？小黑是怎么火起来的呢？大家都知道，小黑最近很火，究竟是为什么很火呢？小黑到底是什么梗？相信大家对小黑都很熟悉，小黑就是我们每天都会经常遇到的，但是小黑是怎么回事呢？下面就让小编带大家一起了解一下小黑是怎么回事吧。小黑最近能火，其实就是小黑受到了大家的关注。大家可能会感到很惊讶，小黑为什么是这样的？小黑究竟为什么火起来了呢？但事实就是这样，小编也感到非常惊讶。希望小编精心整理的这篇内容能够帮助到你，本期教学结束了，欢迎大家在评论区和小编一起讨论哦。\r\n\t\t<p class=\"time\">时间：8/1</p>\r\n\t</li>\r\n\t<li>【日常】中国女排三年后再战！！</li>\r\n\t<li>【日常】老猫当召唤师 diao bao 了！<p class=\"time\">时间：7/18</p>\r\n\t</li>\r\n\t<li>【更新】把动态和新闻合并到一起了，然后分到了网站右边，这就意味着，铅笔猫要每天发一个动态。</li>\r\n\t<li>【日常】昨天老猫在泰拉瑞亚里当了召唤师，结果蜂王都没打过。小柴：你个彩笔</li>\r\n\t<li>【更新】把标题换成渐变的背景图，老浏览器看不到的，请换Chrome或Edge然后更新。</li>\r\n\t<li>【添加】精品区加入了一句<s> 拍马屁的 </s>话<p class=\"time\">时间：7/29</p>\r\n\t</li>\r\n\t<li>【增加】加入人物介绍<s> （就是把关于页面的东西搬过来炒冷饭，这也叫增加？？） </s>\r\n\t\t<p class=\"time\">时间：7/28</p>\r\n\t</li>\r\n\t<li>【更新】 <s> 加入必应背景每日自动换，加入白色毛玻璃效果（性能不好的电脑会有一点卡，没有毛玻璃的请换Chrome、Edge，然后更新自己的浏览器！） </s>\r\n\t\t　　<strong>据悉，加入大量毛玻璃效果会很卡，删除毛玻璃效果后性能大量提升，所以，老猫删除了毛玻璃效果并且换了背景图片，网站瞬间提升30倍的速度。</strong> <s>\r\n\t\t\t绝对不是因为这个背景图有TXC漫画人物 </s>\r\n\t\t<p class=\"time\">时间：7/25</p>\r\n\t</li>\r\n\t<li>【日常】　javascript　能　做　什　么<br>[已被删除]\r\n\t\t<p class=\"time\">时间：[已被删除]</p>\r\n\t</li>\r\n\t<li>【更新】加入导航条<p class=\"time\">时间：7/18</p>\r\n\t</li>\r\n\t<li>【发布】《铅笔猫的史诗级大冒险》视频混剪，<font color=\"#FF2800\">剧透警告！</font><a href=\"/vidio/a.html\">点我查看</a>\r\n\t\t<p class=\"time\">时间：7/17</p>\r\n\t</li>\r\n\t<li>【开坑】铅笔猫的史诗级大冒险２开始做了<p class=\"time\">时间：7/17</p>\r\n\t</li>\r\n\t<li>【恢复】现在已经恢复所有图片、js\r\n\t\t文件，出错的原因是网页托管那边服务器网络不好，没连上硬盘。如果出现丢失图片的网页，请发邮件至chenzicongok@foxmail.com</span>\r\n\t\t<p class=\"time\">时间：7/17</p>\r\n\t</li>\r\n\t<li>【更新】TXC团队主页，首页大更新，目前其他网页只可以输入网址查看<p class=\"time\">时间：7/14</p>\r\n\t</li>\r\n\t<li>【发布】《老猫大富婆５》正式发布，到时候发布电子稿<p class=\"time\">时间：7/14</p>\r\n\t</li>","font/":"","pictures/aaaa.png":{"size":37434,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/1ff744c026e7472f029aeae4cbc78cdf/1629977067.png"},"pictures/bg.png":{"size":781,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/5b327636f29acf08fd92ee706a81e37c/1629980615.png"},"png/ds.png":{"size":1286,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/d311c9367397b02f5e96da80a44df481/1629989328.png"},"pictures/lm.png":{"size":16118,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/a66da54f11f920ac82a8c32ee8549614/1630249815.png"},"png/dotap.png":{"size":3078,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/3bab2810d76094122492cb4270aca7b8/1631624777.png"},"font/FZHTJW.TTF":{"size":3190376,"type":"application/octet-stream","url":"chenzicongokq6eqkx/txc233.cn/b6eaac673e04d1ec0a0c1bb93e516945/1631942612.TTF"},"font/FZKTJW.TTF":{"size":3927980,"type":"application/octet-stream","url":"chenzicongokq6eqkx/txc233.cn/439f3503db71d84f6ed37645cca025da/1631942616.TTF"},"js/cat.js":"// 不同人物形象\r\n// 黑猫\r\nhijiki = \"https://unpkg.com/live2d-widget-model-hijiki@1.0.5/assets/hijiki.model.json\"\r\n// 白猫\r\ntororo = \"https://unpkg.com/live2d-widget-model-tororo@1.0.5/assets/tororo.model.json\"\r\n// 狗狗\r\nwanko = \"https://unpkg.com/live2d-widget-model-wanko@1.0.5/assets/wanko.model.json\"\r\n \r\n// 人物\r\nkoharu = \"https://unpkg.com/live2d-widget-model-koharu@1.0.5/assets/koharu.model.json\"\r\nshizuku = \"https://unpkg.com/live2d-widget-model-shizuku@1.0.5/assets/shizuku.model.json\"\r\nz16 = \"https://unpkg.com/live2d-widget-model-z16@1.0.5/assets/z16.model.json\"\r\n \r\n    L2Dwidget.init({\r\n        \"model\": {\r\n            // 在这里使用上面的人物名称替换“shizuku”，可以切换人物形象\r\n            jsonPath: hijiki,\r\n            \"scale\": 1\r\n        },\r\n        \"display\": {\r\n            \"position\": \"right\",\r\n            \"width\": 120,\r\n            \"height\": 150,\r\n            \"hOffset\": 0,\r\n            \"vOffset\": -20\r\n        },\r\n        \"mobile\": {\r\n            \"show\": true,\r\n            \"scale\": 0.5\r\n        },\r\n        \"react\": {\r\n            \"opacityDefault\": 0.7,\r\n            \"opacityOnHover\": 0.2\r\n        }\r\n    });","js/as.js":"var all = 35\r\ntips = new Array(all);\r\n//条目内容\r\ntips[0] = '请看我们的黑历史！';\r\ntips[1] = '小柴：没有任何的更新！';\r\ntips[2] = '老猫进军js领域！';\r\ntips[3] = '小黑只会摸鱼';\r\ntips[4] = 'CSS代码缺失分号！';\r\ntips[5] = '自己看不懂的代码必出错';\r\ntips[6] = '> ERROR!';\r\ntips[7] = '哦买路ki';\r\ntips[8] = '老猫：请叫我前端工程师';\r\ntips[9] = '出现乱码：Uncaught ReferenceError:';\r\ntips[10] = '图片未被加载！';\r\ntips[11] = '自从德国从二战胜利以来...';\r\ntips[12] = '你就不能把它写进CSS吗？！';\r\ntips[13] = 'C#的传说';\r\ntips[14] = 'doki doki';\r\ntips[15] = '你要“量子可控监狱”，还是“小黑的农场”？';\r\ntips[16] = '狗蛋儿传奇卖出了114514份！';\r\ntips[17] = '小黑的农场里面没有菜';\r\ntips[18] = '现在已经完全适配手机！';\r\ntips[19] = '∩M$1';\r\ntips[20] = '&lt;s&gt还是&lt;del&gt？&lt;b&gt还是&lt;strong&gt？';\r\ntips[21] = '页主队团CXT'\r\ntips[22] = '老猫会用js！'\r\ntips[23] = 'The suber more sers mers'\r\ntips[24] = '为什么不试试BNPsoft？'\r\ntips[25] = '<del>商业胡吹：</del> BNPsoft 太好用辣'\r\ntips[26] = '老猫：都给我捐助哇呜哇！！'\r\ntips[27] = '<del>热铝盒服务器又抽风了</del>'\r\ntips[28] = '.php 比 .html 好用！'\r\ntips[29] = '真相：页面加载太慢的原因是......'\r\ntips[30] = 'ask sb doing sth.'\r\ntips[31] = 'int 数据溢出！'\r\ntips[32] = '只有 ' + (100/all)/2+ '% 的可能抽到这条消息！'\r\ntips[33] = '谨 防 内 鬼 举 报 ！'\r\ntips[34] = 'put_file_content = 10TB数据'\r\ntips[35] = '“这不是正确的解决方案”'\r\nindex = Math.floor(Math.random() * tips.length);\r\nvar radm\r\nradm = Math.floor(Math.random() * 2);\r\nif (radm == 1)\r\n{\r\nfetch('https://v1.hitokoto.cn?c=i&encode=json')\r\n\t.then(response => response.json())\r\n\t.then(data => {\r\n\t\tconst hitokoto = document.getElementById('hitokoto_text')\r\n\t\thitokoto.href = 'https://hitokoto.cn/?uuid=' + data.uuid\r\n\t\thitokoto.innerText = data.hitokoto + '\\n——' + data.from_who + '《' + data.from + '》'\r\n\t})\r\n\t.catch(console.error)\r\n}\r\nelse{//<audio src=\"/vidio/ygsh.mp3\" controls=\"controls\">您的浏览器不支持 audio 标签。</audio>\r\ndocument.getElementById(\"title\").innerHTML = tips[index];}\r\n;\r\n\r\n/*\r\n###########控制台测试代码##############\r\n\r\nvar all = 32\r\ntips = new Array(all);\r\n//条目内容\r\ntips[0] = '请看我们的黑历史！';\r\ntips[1] = '小柴：没有任何的更新！';\r\ntips[2] = '老猫进军js领域！';\r\ntips[3] = '小黑只会摸鱼';\r\ntips[4] = 'CSS代码缺失分号！';\r\ntips[5] = '自己看不懂的代码必出错';\r\ntips[6] = '> ERROR!';\r\ntips[7] = '哦买路ki';\r\ntips[8] = '老猫：请叫我前端工程师';\r\ntips[9] = '出现乱码：Uncaught ReferenceError:';\r\ntips[10] = '图片未被加载！';\r\ntips[11] = '自从德国从二战胜利以来...';\r\ntips[12] = '你就不能把它写进CSS吗？！';\r\ntips[13] = 'C#的传说';\r\ntips[14] = 'doki doki';\r\ntips[15] = '你要“量子可控监狱”，还是“小黑的农场”？';\r\ntips[16] = '狗蛋儿传奇卖出了114514份！';\r\ntips[17] = '小黑的农场里面没有菜';\r\ntips[18] = '现在已经完全适配手机！';\r\ntips[19] = '∩M$1';\r\ntips[20] = '&lt;s&gt还是&lt;del&gt？&lt;b&gt还是&lt;strong&gt？';\r\ntips[21] = '页主队团CXT'\r\ntips[22] = '老猫会用js！'\r\ntips[23] = 'The suber more sers mers'\r\ntips[24] = '为什么不试试BNPsoft？'\r\ntips[25] = '<del>商业胡吹：</del> BNPsoft 太好用辣'\r\ntips[26] = '老猫：都给我捐助哇呜哇！！'\r\ntips[27] = '<del>热铝盒服务器又抽风了</del>'\r\ntips[28] = '.php 比 .html 好用！'\r\ntips[29] = '真相：页面加载太慢的原因是......'\r\ntips[30] = 'ask sb doing sth.'\r\ntips[31] = 'int 数据溢出！'\r\ntips[32] = '只有 ' + (100/all)/2+ '% 的可能抽到这条消息！'\r\nindex = Math.floor(Math.random() * tips.length);\r\ndocument.getElementById(\"title\").innerHTML = tips[index];\r\n;\r\n\r\n*/","font/a.ttf":{"size":3081292,"type":"application/octet-stream","url":"chenzicongokq6eqkx/txc233.cn/eb05abbf3ebe0be545cf022feda1778b/1633395639.ttf"},"vidio/ygsh.mp3":{"size":3228333,"type":"audio/mpeg","url":"chenzicongokq6eqkx/txc233.cn/23c2e79e600bcfcd035e5a5322c95c53/1635039784.mp3"},"js/onlyhome.js":"function secondToDate(second) {\r\n\tif (!second) {\r\n\t\treturn 0;\r\n\t}\r\n\tvar time = new Array(0, 0, 0, 0, 0);\r\n\tif (second >= 365 * 24 * 3600) {\r\n\t\ttime[0] = parseInt(second / (365 * 24 * 3600));\r\n\t\tsecond %= 365 * 24 * 3600;\r\n\t}\r\n\tif (second >= 24 * 3600) {\r\n\t\ttime[1] = parseInt(second / (24 * 3600));\r\n\t\tsecond %= 24 * 3600;\r\n\t}\r\n\tif (second >= 3600) {\r\n\t\ttime[2] = parseInt(second / 3600);\r\n\t\tsecond %= 3600;\r\n\t}\r\n\tif (second >= 60) {\r\n\t\ttime[3] = parseInt(second / 60);\r\n\t\tsecond %= 60;\r\n\t}\r\n\tif (second > 0) {\r\n\t\ttime[4] = second;\r\n\t}\r\n\treturn time;\r\n}\r\nfunction setTime() {\r\n\t/*此处为网站的创建时间*/\r\n\tvar create_time = Math.round(new Date(Date.UTC(2020, 03, 17, 13, 48, 01)).getTime() / 1000);\r\n\tvar timestamp = Math.round((new Date().getTime() + 8 * 60 * 60 * 1000) / 1000);\r\n\tcurrentTime = secondToDate((timestamp - create_time));\r\n\tcurrentTimeHtml = '本站已运行：' + currentTime[0] + '年' + currentTime[1] + '天'\r\n\t\t+ currentTime[2] + '小时' + currentTime[3] + '分' + currentTime[4]\r\n\t\t+ '秒';\r\n\tdocument.getElementById(\"htmer_time\").innerHTML = currentTimeHtml;\r\n\twindow.onload;\r\n}\r\nsetInterval(setTime, 1000);","css/onlybolg.css":"@font-face\r\n{\r\n    font-family: Myfont;\r\n    src: url(https://txc233.cn/font/a.ttf);\r\n}\r\n@font-face\r\n{\r\n    font-family: Myfont2;\r\n    src: url(https://txc233.cn/font/FZHTJW.TTF);\r\n}\r\n@font-face\r\n{\r\n    font-family: Myfont3;\r\n    src: url(https://txc233.cn/font/FZKTJW.TTF);\r\n}\r\n* {\r\n     box-sizing: border-box;\r\n}\r\nb,strong{\r\n\tfont-weight: 600\r\n}\r\n .row::after {\r\n     content: \"\";\r\n     clear: both;\r\n     display: table;\r\n}\r\n [class*=\"col-\"] {\r\n     float: left;\r\n     padding: 15px;\r\n}\r\ntt{\r\n    font-size: 1.17em;\r\n    font-weight: bold;\r\n}\r\n .header {\r\n     background-color: rgb(0, 158, 61);\r\n     color: #ffffff;\r\n\t border-style: solid;\r\n     border-color: rgb(0, 158, 61);\r\n     border-width: 2px 20px; \r\n\t/*background-image: url(\"/picture/a.png\");\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: right;*/\r\n}\r\n .menu ul {\r\n     list-style-type: none;\r\n     margin: 0;\r\n     padding: 0;\r\n}\r\n .menu li {\r\n     padding: 8px;\r\n     margin-bottom: 7px;\r\n     background-color: rgb(247, 213, 21);\r\n     color: #000000;\r\n     box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\r\n}\r\n .menu li:hover {\r\n     background-color: rgb(224, 193, 15);\r\n}\r\n .aside {\r\n\t font-family:Myfont2;\r\n     background-color: rgb(194, 255, 191);\r\n     padding: 15px;\r\n     color: #000000;\r\n     font-size: 14px;\r\n     box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\r\n}\r\n .footer {\r\n     background-color: rgb(255, 233, 107);\r\n     color: #000000;\r\n     text-align: center;\r\n     font-size: 12px;\r\n     padding: 15px;\r\n}\r\n\th1{\r\n\t\tfont-family:Myfont2;\r\n\t}\r\n.text,li {\r\n    font-family:Myfont2;\r\n}\r\nmarquee {\r\n    font-family:Myfont2;\r\n    margin-left: 4%;\r\n    height:8%;\r\n    width:92%;\r\n}\r\n.time {\r\n    font-family:Myfont2;\r\n    text-align: right;\r\n}\r\n.heimu {\r\n    background-color: rgba(0,0,0,1);\r\n    width: 200px;\r\n    height: 200px;\r\n}\r\n.heimu:hover {\r\n    color: rgba(255,255,255,.9);\r\n    width: 200px;\r\n    height: 200px;\r\n}\r\nimg.si{\r\n\twidth: 17px;\r\n\theight: 17px;\r\n}\r\nimg{  \r\n    width: auto;  \r\n    height: auto;  \r\n    max-width: 100%;  \r\n    max-height: 100%;     \r\n} \r\n#rcorners2 {\r\n  border-radius: 25px;\r\n  border: 2px solid #82D3BD;\r\n  padding: 20px; \r\n  width: 100%;\r\n  height: 150px; \r\n  text-align: center; \r\n  vertical-align: middle;\r\n}\r\n/* For mobile phones: */\r\n [class*=\"col-\"] {\r\n     width: 100%;\r\n}\r\n\r\nnew{\r\n\tfont-family: Myfont;\r\n}\r\nh2{\r\n\tfont-family: Myfont3;\r\n}\r\n.yy{\r\n\ttext-decoration: none;\r\n\tcolor: white;\r\n\tfont-family:Myfont3;\r\n\tfont-size: 18px;\r\n\tfont-weight: 500;\r\n}\r\n#rcorners2 {\r\n  border-radius: 25px;\r\n  border: 2px solid #73AD21;\r\n  background: white;\r\n  padding: 20px; \r\n  width: 100%;\r\n  height: auto; \r\n  text-align: left; \r\n  vertical-align: middle;\r\n  \ttable-layout: fixed;\r\n\tword-wrap: break-all;\r\n\tword-break: normal;\r\n\toverflow: hidden;\r\n}\r\n @media only screen and (min-width: 600px) {\r\n    /* 针对平板电脑： */\r\n     .col-s-1 {\r\n         width: 8.33%;\r\n    }\r\n     .col-s-2 {\r\n         width: 16.66%;\r\n    }\r\n     .col-s-3 {\r\n         width: 25%;\r\n    }\r\n     .col-s-4 {\r\n         width: 33.33%;\r\n    }\r\n     .col-s-5 {\r\n         width: 41.66%;\r\n    }\r\n     .col-s-6 {\r\n         width: 50%;\r\n    }\r\n     .col-s-7 {\r\n         width: 58.33%;\r\n    }\r\n     .col-s-8 {\r\n         width: 66.66%;\r\n    }\r\n     .col-s-9 {\r\n         width: 75%;\r\n    }\r\n     .col-s-10 {\r\n         width: 83.33%;\r\n    }\r\n     .col-s-11 {\r\n         width: 91.66%;\r\n    }\r\n     .col-s-12 {\r\n         width: 100%;\r\n    }\r\n}\r\n @media only screen and (min-width: 768px) {\r\n    /* 针对桌面： */\r\n     .col-1 {\r\n         width: 8.33%;\r\n    }\r\n     .col-2 {\r\n         width: 16.66%;\r\n    }\r\n     .col-3 {\r\n         width: 25%;\r\n    }\r\n     .col-4 {\r\n         width: 33.33%;\r\n    }\r\n     .col-5 {\r\n         width: 41.66%;\r\n    }\r\n     .col-6 {\r\n         width: 50%;\r\n    }\r\n     .col-7 {\r\n         width: 58.33%;\r\n    }\r\n     .col-8 {\r\n         width: 66.66%;\r\n    }\r\n     .col-9 {\r\n         width: 75%;\r\n    }\r\n     .col-10 {\r\n         width: 83.33%;\r\n    }\r\n     .col-11 {\r\n         width: 91.66%;\r\n    }\r\n     .col-12 {\r\n         width: 100%;\r\n    }\r\n\tbody {\r\n\tmargin-left: 3%;\r\n    margin-right: 3%;\r\n\t}\r\n}\r\n @media only screen and (min-width: 976px) {\r\n\tbody {\r\n\tmargin-left: 8%;\r\n    margin-right: 8%;\r\n\t}\r\n }\r\n  @media only screen and (min-width: 1072px) {\r\n\tbody {\r\n\tmargin-left: 7%;\r\n    margin-right: 7%;\r\n\t}\r\n }\r\n @media only screen and (min-width: 1280px) {\r\n\tbody {\r\n\tmargin-left: 10%;\r\n    margin-right: 10%;\r\n\t}\r\n }\r\n @media only screen and (min-width: 1430px) {\r\n\tbody {\r\n\tmargin-left: 15%;\r\n    margin-right: 15%;\r\n\t}\r\n }\r\n","GoodAds.php":"<!DOCTYPE html>\r\n<html>\r\n<body>\r\n<strong>\r\n<?php\r\n$ads = json_decode(file_get_contents(\"https://api.bnpo.xyz/ads/index.php\"));\r\necho $ads;\r\n?>\r\n</strong>\r\n</body>\r\n</html>\r\n","png/logo-light.png":{"size":14244,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/f09d021f617a4202fb9c4afaf9e246cf/1641101336.png"},"png/logo-dark.png":{"size":15632,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/4e411a94d831bb7a8fc52f54b911830a/1641101534.png"},"home.php":"<!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n\t<title>TXC团队主页</title>\r\n\t<!--定义标题-->\r\n\t<LINK REL=\"SHORTCUT ICON\" HREF=\"https://xiaochai.txc233.cn/png/LOGO2.ico\">\r\n\t<!--定义图标-->\r\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"css/into.css\" />\r\n\t<!--定义css-->\r\n\t<script type=\"text/javascript\" src=\"js/home.js\"></script>\r\n\t<!--定义js-->\r\n\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n\t<!--控制页面尺寸和缩放比例-->\r\n\t<meta name=\"baidu-site-verification\" content=\"code-63Sev9upYt\" />\r\n\t<!--BD收录-->\r\n\t<script src=\"https://eqcn.ajz.miesnfu.com/wp-content/plugins/wp-3d-pony/live2dw/lib/L2Dwidget.min.js\"></script>\r\n\t<script type=\"text/javascript\" src=\"js/cat.js\"></script>\r\n\t<!--看板猫-->\r\n</head>\r\n\r\n<body>\r\n\r\n\t<div class=\"header\">\r\n\t\t<h1>TXC 团队主页<smaller>-夏日配色限定</smaller><br></h1>\r\n\t\t<p id=\"hitokoto\"><a class='yy'href=\"#\" id=\"hitokoto_text\"></a></p>\r\n\t\t<p id=\"title\" class='yy'></p>\r\n\t\t<script type=\"text/javascript\" src=\"js/as.js\"></script>\r\n\t</div>\r\n\t<div class=\"row\">\r\n\t\t<div class=\"col-3 col-s-3 menu\">\r\n\t\t\t<ul>\r\n\t\t\t\t<a href=\"/home\" style=\"text-decoration:none\"><li>▶介绍</li></a>\r\n\t\t\t\t<a href=\"/things\" style=\"text-decoration:none\"><li>作品</li></a>\r\n\t\t\t\t<a href=\"/about\" style=\"text-decoration:none\"><li>人设</li></a>\r\n\t\t\t\t<a href=\"/pic\" style=\"text-decoration:none\"><li>画廊</li></a>\r\n\t\t\t\t<a href=\"/blog\" style=\"text-decoration:none\"><li>新闻</li></a>\r\n\t\t\t\t<a href=\"/oldhome\" style=\"text-decoration:none\"><li>黑历史</li></a>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"col-6 col-s-9\">\r\n\t\t\t<h1>网站介绍</h1>\r\n\t\t\t<p>\r\n\r\n\t\t\t\t<li>近日，一位国内小哥创建了一个网站，究竟发生了什么呢？来和小编一起来康康吧。welcome！这是TXC团队的主页，由铅笔猫和小柴制作！其实 99.114514%\r\n\t\t\t\t\t的代码都是铅笔猫写的，小柴偶尔来这里康康。<s>（其实99.114514%这个数字一直在增大）</s>这个网站做一些TXC团队的火柴人漫画图片、视频下载、自制游戏(^o^)且不定时更新。<br><br></li>\r\n\t\t\t\t<li>官方邮箱：oldcatmiku@qq.com 或 chenzicongok@foxmail.com（基本每天看一次邮件）<br><br></li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t捐赠感谢栏：<p style=\"text-align: center;\">\r\n\t\t\t\t\t寄吧　：5元<br>\r\n\t\t\t\t\t王阿姨：5元<br>\r\n\t\t\t\t\t胡憨批：3元<br>\r\n\t\t\t\t\t侯玉达：1元<br>\r\n\t\t\t\t\t猴靠您：1元<br>\r\n\t\t\t\t\t小宇子：1元<br>\r\n\t\t\t\t\t张钧翔：1元<br>\r\n\t\t\t\t\t罗奶奶：1元<br>\r\n\t\t\t\t\t小陈　：1元<br>\r\n\t\t\t\t\t</p>感谢所有为本网站捐赠的好盆友，能使我们的网站更好运作！（比如服务器的会员费）。<br><br></li>\r\n\t\t\t\t<li>特别鸣谢：RTH站长、w3school、暮迟、七完小138班公测的同学们（排名不分先后）</li><br>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t网站里程碑：\r\n\t\t\t\t\t<br>2020/4/17网站建立\r\n\t\t\t\t\t<br>2020/5/8网站大幅度修改\r\n\t\t\t\t\t<br>2020/12/1网站内容基本完成\r\n\t\t\t\t\t<br>2021/7/14网站首页大幅度修改\r\n\t\t\t\t\t<br>2021/8/16使用新的域名（txc233.cn）\r\n\t\t\t\t\t<br>2021/8/23所有页面变成响应式网站，适配移动、平板端\r\n\t\t\t\t\t<br>2021/10/24网站被必应收录\r\n\t\t\t\t\t<br>2022/1/2与BNPsoft合作</li>\r\n\t\t\t\t<li><span id=\"htmer_time\" style=\"color:#2b00ff\"></span></li>\r\n\t\t\t\t<script type=\"text/javascript\" src=\"js/onlyhome.js\"></script>\r\n<br><br></p>\r\n\t\t</div>\r\n\r\n\r\n<div class=\"col-3 col-s-12\">\r\n\t<div class=\"aside\">\r\n\t\t<h2>关于</h2>\r\n\t\t<p>\r\n\t\t\t<div class=\"text\">\r\n\t\t\t\t这是最新的更新，现在已经注册了独立域名（txc233.cn）请记住本域名，不要再访问以前的网站。<br><strong style=\"color: red;\" >我已经注册了爱发电，赞助一下，是我网站唯一的收入来源！赞助链接：<a href=\"https://afdian.net/@txc233_cn\"target=\"_blank\">https://afdian.net/@txc233_cn</a></strong><small><br>或者扫描二维码：<br><img src=\"https://txc233.cn/pictures/bg.png\"><br>声明：本网站除了以上赞助方法没有其他渠道！也没有设立任何QQ群！</small>\r\n\t\t\t\t<p><button style=\"text-decoration:none\" target=\"_blank\" onclick=\"myFunction()\">《铅笔猫的史诗级大冒险》<br>游戏下载</button>\r\n\t\t\t\t</p>\r\n\t\t\t\t<h2>合作伙伴</h2>\r\n\t\t\t\t<a href=\"https://vasebit.com/\" target=\"_blank\">\r\n\t\t\t\t<img height=\"100%\" width=\"100%\" src=\"pictures/vasebit.png\"></a><strong>\r\n\t\t\t\t<?php\r\n\t\t\t\t// $ads = json_decode(file_get_contents(\"https://api.bnpo.xyz/ads/index.php\"));\r\n\t\t\t\t// echo $ads;\r\n\t\t\t\t// ?>\r\n</strong>\r\n\t\t\t</div>\r\n\t\t</p>\r\n\t\t<h2>帮助</h2>\r\n\t\t<div class=\"text\">\r\n\t\t\t<p><b>如果网站出现“429”、“超出访问频率限制”、“刷新”等字样，点刷新按钮即可。</b></p>\r\n\t\t\t<p><br>如果你在浏览网页的途中有什么问题（比如图片显示问题、手机适配问题、字打错）都可以向我报告，获得一些帮助。</p>\r\n\t\t</div>\r\n\t\t<h2>动态</h2><iframe src=\"/后台/news.html\" seamless=\"seamless\" height=\"200px\" width=\"100%\" scrolling=\"auto\"\r\n\t\t\tframeborder=\"1\" style=\"overflow-x:hidden\"></iframe>\r\n\t\t<h2>友情链接</h2>\r\n\t\t<ul>\r\n\t\t\t<li><a href=\"https://vasebit.com\" target=\"_blank\">Vasebit</a></li>\r\n\t\t\t<li><a href=\"https://xiaochai.txc233.cn\" target=\"_blank\">小柴（白铃）的网站</a></li>\r\n\t\t\t<li><a href=\"https://txcxiaochai.666forum.com\" target=\"_blank\">小柴的论坛</a></li>\r\n\t\t\t<li><a href=\"https://oldcat.666forum.com\" target=\"_blank\">老猫的论坛</a></li>\r\n\t\t</ul>\r\n\t</div>\r\n</div> \r\n\r\n\r\n\t</div>\r\n\r\n\t<div class=\"footer\">\r\n\t\t<p class=\"text\" style=\"text-align: center;\">本站由 <a href=\"https://host.retiehe.com/\"target=\"_blank\" style=\"color: black\">热铁盒网页托管</a> 作为服务器，无需备案。<br>网站内容版权归于TXC团队成员，部分使用的字体版权归方正字体公司和其他公司。网站图标属于小柴对于手鼓猫的二次创作（版权共有）。转载请注明网址。<br><a href=\"https://icp.gov.moe/?keyword=20219964\" target=\"_blank\">萌ICP备20219964号</a></p>\r\n\t</div>\r\n\r\n</body>\r\n\r\n</html>","about.php":"<!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n\t<title>TXC团队主页</title>\r\n\t<!--定义标题-->\r\n\t<LINK REL=\"SHORTCUT ICON\" HREF=\"https://xiaochai.txc233.cn/png/LOGO2.ico\">\r\n\t<!--定义图标-->\r\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"css/into.css\" />\r\n\t<!--定义css-->\r\n\t<script type=\"text/javascript\" src=\"js/home.js\"></script>\r\n\t<!--定义js-->\r\n\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n\t<!--控制页面尺寸和缩放比例-->\r\n\t<script src=\"https://eqcn.ajz.miesnfu.com/wp-content/plugins/wp-3d-pony/live2dw/lib/L2Dwidget.min.js\"></script>\r\n\t<script type=\"text/javascript\" src=\"js/cat.js\"></script>\r\n\t<!--看板猫-->\r\n</head>\r\n\r\n<body>\r\n\t<div class=\"header\">\r\n\t\t<h1>TXC 团队主页<br></h1>\r\n\t\t<p id=\"hitokoto\"><a class='yy'href=\"#\" id=\"hitokoto_text\"></a></p>\r\n\t\t<p id=\"title\" class='yy'></p>\r\n\t\t<script type=\"text/javascript\" src=\"js/as.js\"></script>\r\n\t</div>\r\n\r\n\t<div class=\"row\">\r\n\t\t<div class=\"col-3 col-s-3 menu\">\r\n\t\t\t<ul>\r\n\t\t\t\t<a href=\"/home\" style=\"text-decoration:none\"><li>介绍</li></a>\r\n\t\t\t\t<a href=\"/things\" style=\"text-decoration:none\"><li>作品</li></a>\r\n\t\t\t\t<a href=\"/about\" style=\"text-decoration:none\"><li>▶人设</li></a>\r\n\t\t\t\t<a href=\"/pic\" style=\"text-decoration:none\"><li>画廊</li></a>\r\n\t\t\t\t<a href=\"/blog\" style=\"text-decoration:none\"><li>新闻</li></a>\r\n\t\t\t\t<a href=\"/oldhome\" style=\"text-decoration:none\"><li>黑历史</li></a>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"col-6 col-s-9\">\r\n\t\t\t<h1>TXC漫画中的人设介绍</h1>\r\n\t\t\t\r\n<div class=\"text\">\r\n\t<br>\r\n\t<p style=\"text-align: center;\"><b style=\"\">小柴</b><a name=\"小柴\"></a><br>TXC中的X</p>\r\n\t\t<table border=\"1\" style=\"border-collapse: collapse;\">\r\n\t\t\t<tr>\r\n\t\t\t\t<td>职位</td>\r\n\t\t\t\t<td>TXC团队的创始人，炒鸡肥宅，<span title=\"你知道的太多了\" class=\"heimu\" > 万粉女装区UP主 </span>。</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>喜欢</td>\r\n\t\t\t\t<td>玩CS:GO、喝肥宅快乐水、玩红石音乐<span title=\"你知道的太多了\" class=\"heimu\" > 看本子 </span>。</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>讨厌</td>\r\n\t\t\t\t<td>老猫大富婆3、timing侠、老六</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>史诗级漫画作品</td>\r\n\t\t\t\t<td>《拜年篇2020-2021》《梗集》《小怕联播》</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>漫画历史名字形象</td>\r\n\t\t\t\t<td>1.小柴，一个普通火柴人戴着反着的鸭舌帽</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>番外形象</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t铅笔猫画成戴夫，就是正着带的帽子。\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>历史形象弃稿</td>\r\n\t\t\t\t<td>1.(新版)小柴，头上裹着头巾，因为太麻烦（其实就是懒）新版形象放弃，以后一直为初代形象。</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>其他</td>\r\n\t\t\t\t<td>团队的懒癌患者，时不时诈尸画个漫画，内容质量一般。</p>\r\n\t</td>\r\n\t</tr>\r\n\t</table>\r\n\t<br><br><br>\r\n\t<p style=\"text-align: center;\"><b>铅笔猫（也叫老猫）</b><a name=\"铅笔猫\"></a><br>TXC中的C</p>\r\n\t\t<table border=\"1\" style=\"border-collapse: collapse;\">\r\n\t\t\t<tr>\r\n\t\t\t\t<td>职位</td>\r\n\t\t\t\t<td>半肝帝、技术宅。</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>喜欢</td>\r\n\t\t\t\t<td>Miku!!!、整网页、画漫画、玩胡闹厨房1、NDS和NDSi、R4卡、switch和3DS（现在都有！）、<span title=\"你知道的太多了\" class=\"heimu\" > 看pixiv </span>。\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>讨厌</td>\r\n\t\t\t\t<td>小黑写作业、胡闹厨房2、盗版游戏机。</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>史诗级漫画作品</td>\r\n\t\t\t\t<td>《2019拜年篇》</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>漫画历史名字形象</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t1.（初代）铅笔君，一个高帽子，插着铅笔（小柴想出来的）。\r\n\t\t\t\t\t<br>2.（新）铅笔君，冬天很冷，所以带了个耳罩（小柴说是耳机）。\r\n\t\t\t\t\t<br>3.（当前形象）铅笔猫，头上有两个三角形的猫耳朵。\r\n\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>番外形象</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t1.船笔君，名字来自小黑的漫画里出现的错字，形象本来与新铅笔君一样，后来为了区分被画成超大的耳罩（小柴还是说耳机）。\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>历史形象弃稿</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t1.有猫尾巴和胡须的铅笔猫，因为太难画就没用了。\r\n\t\t\t\t\t<br>2.带围巾的铅笔猫，因为这个形象设计之后第二天就考试，还考的很差，认为这个形象太倒霉，所以就没用了。\r\n\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>其他</td>\r\n\t\t\t\t<td>团队的活跃分子，漫画剧情为团队内最好。</p>\r\n\t</td>\r\n\t</tr>\r\n\t</table>\r\n\t<br>\r\n\t<p style=\"text-align: center;\"><b>小黑</b><a name=\"小黑\"></a><br>TXC中的T</p>\r\n\t\t<table border=\"1\" style=\"border-collapse: collapse;\">\r\n\t\t\t<tr>\r\n\t\t\t\t<td>职位</td>\r\n\t\t\t\t<td>作业肝帝、半个死人、永远不在家。</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>喜欢</td>\r\n\t\t\t\t<td>写作业、写生字、写试卷、写作文、写练习册、读书、和班级朋友一起写作业、和班级朋友一起写生字、和班级朋友一起写试卷、和班级朋友一起写作文、和班级朋友一起写练习册、去友阿吃饭、玩盗版游戏机。</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>讨厌</td>\r\n\t\t\t\t<td>铅笔猫的鬼畜考试。</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>史诗级漫画作品</td>\r\n\t\t\t\t<td>《吔屎大楼》（其实他几乎没画过漫画）。</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>漫画历史名字形象</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t1.（旧版）头上戴着由正方形叠加组成的帽子，帽尖带有一颗星星，星星可以随意飞行（原力星星）。\r\n\t\t\t\t\t<br>2.（现在）头上顶着由横线从下往上由长变短叠加的帽子<span title=\"你知道的太多了\" class=\"heimu\" > （就像一坨屎） </span>，没有星星，是旧版的简化版。\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>番外形象</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t1.年兽，来自TXC小剧长-2019bilibili拜年祭的开头（就叫TXC小剧长）头跟当前形象一样，只是非常大，也不是火柴人。\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>其他</td>\r\n\t\t\t\t<td>团队中的冷清分子、宝崽。</p>\r\n\t</td>\r\n\t</tr>\r\n\t</table>\r\n\t<br><br><br>\r\n<pre>----------&lt;以下内容是配角&gt;----------</pre>\r\n\t<br><br><br>\r\n\t<p style=\"text-align: center;\"><b>天天</b><a name=\"天天\"></a></p>\r\n\t<table border=\"1\" style=\"border-collapse: collapse;\">\r\n\t\t<tr>\r\n\t\t\t<td>所属</td>\r\n\t\t\t<td>铅笔猫</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>形象</td>\r\n\t\t\t<td>一个缩水的普通火柴人，身体很短。</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>注</td>\r\n\t\t\t<td>现实生活中是小柴的弟弟。还是是漫画中的最皮的人物。</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>最新消息</td>\r\n\t\t\t<td>过了暑假他就上二年级了，他要养一只兔子，养了之后竟然把兔子的一只耳朵弄得立不起来了（呜呜呜兔子好可怜）。</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t</table>\r\n\t<br><br><br>\r\n\r\n\t<p style=\"text-align: center;\"><b>小黑他姐</b><a name=\"小黑他姐\"></a></p>\r\n\t<table border=\"1\" style=\"border-collapse: collapse;\">\r\n\t\t<tr>\r\n\t\t\t<td>所属</td>\r\n\t\t\t<td>铅笔猫</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>形象</td>\r\n\t\t\t<td>一个火柴人头后面有一个马尾辫<span title=\"你知道的太多了\" class=\"heimu\" > （一坨长条形的屎） </span>。</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>铅笔猫说</td>\r\n\t\t\t<td><span title=\"你知道的太多了\" class=\"heimu\" > 小黑和她姐头上都有屎！ </span><br></p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>注</td>\r\n\t\t\t<td>现实生活中是小黑的姐姐。小黑有好多好多姐姐，有些是表姐。</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</table>\r\n\r\n\t<br><br><br>\r\n\r\n\t<p style=\"text-align: center;\"><b>王司徒</b><a name=\"王司徒\"></a></p>\r\n\t<table border=\"1\" style=\"border-collapse: collapse;\">\r\n\t\t<tr>\r\n\t\t\t<td>所属</td>\r\n\t\t\t<td>铅笔猫</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>形象</td>\r\n\t\t\t<td>眼睛是两把叉，下巴有很长的胡须。</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>注</td>\r\n\t\t\t<td>仅在铅笔猫的《2019拜年篇》出现，后期是一个反派。</s><br> <s>由于以上介绍内容短，经常被铅笔猫当做模板用</s></p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</table>\r\n\t<br><br><br>\r\n\t<p style=\"text-align: center;\"><b>小怕<br>（Pa 读第一声，读法同小啪）</b><a name=\"小怕\"></a></p>\r\n\t<table border=\"1\" style=\"border-collapse: collapse;\">\r\n\t\t<tr>\r\n\t\t\t<td>所属</td>\r\n\t\t\t<td>小柴</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>形象</td>\r\n\t\t\t<td>【无内容，需要补充】</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>职位</td>\r\n\t\t\t<td>小怕联播的主持人</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>喜欢</td>\r\n\t\t\t<td>大吼大叫</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>参与漫画作品</td>\r\n\t\t\t<td>小怕联播P1-13 / 小怕联播 II P1-2 　<font class=\"heimu\" title=\"你知道的太多了\">此后就断更了</font>\r\n\t\t\t\t</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t\t<tr>\r\n\t\t\t<td>铅笔猫说</td>\r\n\t\t\t<td>我都忘了他长什么样，因为小柴很少分享给我们看小怕联播。</p>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\r\n\t</table>\r\n\t<br><br><br>\r\n\t\t<p style=\"text-align: center;\"><b>门神</b><a name=\"门神\"></a></p>\r\n\t\t<table border=\"1\" style=\"border-collapse: collapse;\">\r\n\t\t\t<tr>\r\n\t\t\t\t<td>所属</td>\r\n\t\t\t\t<td>铅笔猫</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td>形象</td>\r\n\t\t\t\t<td>眼睛是两个朝上的正三角形，就像“△”，没有腿，用类似于一阵烟雾代替腿</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td>喜欢</td>\r\n\t\t\t\t<td>PY交易（也就是给他钱）</s></td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td>讨厌</td>\r\n\t\t\t\t<td>不PY交易，用TNT炸门</s></td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td>参与漫画作品：</td>\r\n\t\t\t\t<td>《2020拜年篇[铅笔猫版]》《2019拜年篇[铅笔猫版]》<br>\r\n\t\t《铅笔猫的大冒险》《新の铅笔猫的大冒险》<br>\r\n\t\t《新の铅笔猫的大冒险2》<font class=\"heimu\" title=\"你知道的太多了\">以下作品是未经授权使用本人物的</font><br>\r\n\t\t《2020拜年篇[小柴版]》《2021拜年篇[小柴版]》\r\n\t\t</p>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\r\n\t\t\t<tr>\r\n\t\t\t\t<td>其他：</td>\r\n\t\t\t\t<td>门神是冒险漫画中重要的推进故事线的人员</p>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\r\n<br><br></p>\r\n\t\t</div></div>\r\n\r\n<div class=\"col-3 col-s-12\">\r\n\t<div class=\"aside\">\r\n\t\t<h2>关于</h2>\r\n\t\t<p>\r\n\t\t\t<div class=\"text\">\r\n\t\t\t\t这是最新的更新，现在已经注册了独立域名（txc233.cn）请记住本域名，不要再访问以前的网站。<br><strong style=\"color: red;\" >我已经注册了爱发电，赞助一下，是我网站唯一的收入来源！赞助链接：<a href=\"https://afdian.net/@txc233_cn\"target=\"_blank\">https://afdian.net/@txc233_cn</a></strong><small><br>或者扫描二维码：<br><img src=\"https://txc233.cn/pictures/bg.png\"><br>声明：本网站除了以上赞助方法没有其他渠道！也没有设立任何QQ群！</small>\r\n\t\t\t\t<p><button style=\"text-decoration:none\" target=\"_blank\" onclick=\"myFunction()\">《铅笔猫的史诗级大冒险》<br>游戏下载</button>\r\n\t\t\t\t</p>\r\n\t\t\t\t<h2>合作伙伴</h2>\r\n\t\t\t\t<a href=\"https://vasebit.com/\" target=\"_blank\">\r\n\t\t\t\t<img height=\"100%\" width=\"100%\" src=\"pictures/vasebit.png\"></a><strong>\r\n\t\t\t\t<?php\r\n\t\t\t\t// $ads = json_decode(file_get_contents(\"https://api.bnpo.xyz/ads/index.php\"));\r\n\t\t\t\t// echo $ads;\r\n\t\t\t\t// ?>\r\n</strong>\r\n\t\t\t</div>\r\n\t\t</p>\r\n\t\t<h2>帮助</h2>\r\n\t\t<div class=\"text\">\r\n\t\t\t<p><b>如果网站出现“429”、“超出访问频率限制”、“刷新”等字样，点刷新按钮即可。</b></p>\r\n\t\t\t<p><br>如果你在浏览网页的途中有什么问题（比如图片显示问题、手机适配问题、字打错）都可以向我报告，获得一些帮助。</p>\r\n\t\t</div>\r\n\t\t<h2>动态</h2><iframe src=\"/后台/news.html\" seamless=\"seamless\" height=\"200px\" width=\"100%\" scrolling=\"auto\"\r\n\t\t\tframeborder=\"1\" style=\"overflow-x:hidden\"></iframe>\r\n\t\t<h2>友情链接</h2>\r\n\t\t<ul>\r\n\t\t\t<li><a href=\"https://vasebit.com\" target=\"_blank\">Vasebit</a></li>\r\n\t\t\t<li><a href=\"https://xiaochai.txc233.cn\" target=\"_blank\">小柴（白铃）的网站</a></li>\r\n\t\t\t<li><a href=\"https://txcxiaochai.666forum.com\" target=\"_blank\">小柴的论坛</a></li>\r\n\t\t\t<li><a href=\"https://oldcat.666forum.com\" target=\"_blank\">老猫的论坛</a></li>\r\n\t\t</ul>\r\n\t</div>\r\n</div> \r\n\r\n\r\n\t</div>\r\n\r\n\t<div class=\"footer\">\r\n\t\t<p class=\"text\" style=\"text-align: center;\">本站由 <a href=\"https://host.retiehe.com/\"target=\"_blank\" style=\"color: black\">热铁盒网页托管</a> 作为服务器，无需备案。<br>网站内容版权归于TXC团队成员，部分使用的字体版权归方正字体公司和其他公司。网站图标属于小柴对于手鼓猫的二次创作（版权共有）。转载请注明网址。<br><a href=\"https://icp.gov.moe/?keyword=20219964\" target=\"_blank\">萌ICP备20219964号</a></p>\r\n\t</div>\r\n\r\n</body>\r\n\r\n</html>","blog.php":"<!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n\t<title>TXC团队主页</title>\r\n\t<!--定义标题-->\r\n\t<LINK REL=\"SHORTCUT ICON\" HREF=\"https://xiaochai.txc233.cn/png/LOGO2.ico\">\r\n\t<!--定义图标-->\r\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"css/onlybolg.css\" />\r\n\t<!--定义css-->\r\n\t<script type=\"text/javascript\" src=\"js/home.js\"></script>\r\n\t<!--定义js-->\r\n\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n\t<!--控制页面尺寸和缩放比例-->\r\n\t<meta name=\"baidu-site-verification\" content=\"code-63Sev9upYt\" />\r\n\t<!--BD收录-->\r\n\t<script src=\"https://eqcn.ajz.miesnfu.com/wp-content/plugins/wp-3d-pony/live2dw/lib/L2Dwidget.min.js\"></script>\r\n\t<script type=\"text/javascript\" src=\"js/cat.js\"></script>\r\n\t<!--看板猫-->\r\n</head>\r\n\r\n<body>\r\n\r\n\t<div class=\"header\">\r\n\t\t<h1>假新闻，别信！</h1>\r\n\t</div>\r\n\r\n\t<div class=\"row\">\r\n\t\t<div class=\"col-3 col-s-3 menu\">\r\n\t\t\t<ul>\r\n\t\t\t\t<a href=\"/home\" style=\"text-decoration:none\"><li>介绍</li></a>\r\n\t\t\t\t<a href=\"/things\" style=\"text-decoration:none\"><li>作品</li></a>\r\n\t\t\t\t<a href=\"/about\" style=\"text-decoration:none\"><li>人设</li></a>\r\n\t\t\t\t<a href=\"/pic\" style=\"text-decoration:none\"><li>画廊</li></a>\r\n\t\t\t\t<a href=\"/blog\" style=\"text-decoration:none\"><li>▶新闻</li></a>\r\n\t\t\t\t<a href=\"/oldhome\" style=\"text-decoration:none\"><li>黑历史</li></a>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"col-6 col-s-9\">\r\n\t\t\t<h1>新闻？</h1>\r\n\t\t\t<p>\r\n\t\t\t\t<li><h3 style=\"text-align:center;\">小柴表明多走路对身体有好处</h3>\r\n\t\t\t\t<strong>铁线虫报社老猫记者九月三十日电</strong><new> 猫国 Dr.Xiao_Chai 博士的研究表明多走路对身体有好处。博士小柴说：“多走路，身体好，健健康康我最屌。多走一步长一岁，走了万步长万岁。” 记者对此表示：因为博士小柴在往日的上学途中，无钱坐车，自行发明的口诀。这句话翻译成英文就是“More walking, healthier. I'm healthy I'm best. More walking is healthier, the most walking is the healthiest.”至此，我们呼吁大家尽量少久坐，多走路。</new>\r\n\t\t\t\t</li>\r\n\t\t\t</p>\r\n<br><br>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"col-3 col-s-12\">\r\n\t\t\t<div class=\"aside\">\r\n\t\t<h2>What's this?</h2>\r\n\t\t<p>这是一个：<br><del> 瞎编的新闻页面，内容均不可信。 </del>\r\n\t\t\t\t<h2>合作伙伴</h2>\r\n\t\t\t\t<a href=\"https://vasebit.com/\" target=\"_blank\">\r\n\t\t\t\t<img height=\"100%\" width=\"100%\" src=\"pictures/vasebit.png\"></a><strong>\r\n</strong>\r\n\t</div>\r\n\t</div>\r\n\t</div>\r\n\r\n\t<div class=\"footer\">\r\n\t\t<p class=\"text\" style=\"text-align: center;\">本站由 <a href=\"https://host.retiehe.com/\"target=\"_blank\" style=\"color: black\">热铁盒网页托管</a> 作为服务器，无需备案。<br>网站内容版权归于TXC团队成员，部分使用的字体版权归方正字体公司和其他公司。网站图标属于小柴对于手鼓猫的二次创作（版权共有）。转载请注明网址。<br><a href=\"https://icp.gov.moe/?keyword=20219964\" target=\"_blank\">萌ICP备20219964号</a></p>\r\n\t</div>\r\n\r\n</body>\r\n\r\n</html>","pic.php":"<!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n\t<title>TXC团队主页</title>\r\n\t<!--定义标题-->\r\n\t<LINK REL=\"SHORTCUT ICON\" HREF=\"https://xiaochai.txc233.cn/png/LOGO2.ico\">\r\n\t<!--定义图标-->\r\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"css/into.css\" />\r\n\t<!--定义css-->\r\n\t<script type=\"text/javascript\" src=\"js/home.js\"></script>\r\n\t<!--定义js-->\r\n\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n\t<!--控制页面尺寸和缩放比例-->\r\n\t<script src=\"https://eqcn.ajz.miesnfu.com/wp-content/plugins/wp-3d-pony/live2dw/lib/L2Dwidget.min.js\"></script>\r\n\t<script type=\"text/javascript\" src=\"js/cat.js\"></script>\r\n\t<!--看板猫-->\r\n</head>\r\n\r\n<body>\r\n\r\n\t<div class=\"header\">\r\n\t\t<h1>TXC 团队主页<br></h1>\r\n\t\t<p id=\"hitokoto\"><a class='yy'href=\"#\" id=\"hitokoto_text\"></a></p>\r\n\t\t<p id=\"title\" class='yy'></p>\r\n\t\t<script type=\"text/javascript\" src=\"js/as.js\"></script>\r\n\t</div>\r\n\r\n\t<div class=\"row\">\r\n\t\t<div class=\"col-3 col-s-3 menu\">\r\n\t\t\t<ul>\r\n\t\t\t\t<a href=\"/home\" style=\"text-decoration:none\"><li>介绍</li></a>\r\n\t\t\t\t<a href=\"/things\" style=\"text-decoration:none\"><li>作品</li></a>\r\n\t\t\t\t<a href=\"/about\" style=\"text-decoration:none\"><li>人设</li></a>\r\n\t\t\t\t<a href=\"/pic\" style=\"text-decoration:none\"><li>▶画廊</li></a>\r\n\t\t\t\t<a href=\"/blog\" style=\"text-decoration:none\"><li>新闻</li></a>\r\n\t\t\t\t<a href=\"/oldhome\" style=\"text-decoration:none\"><li>黑历史</li></a>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"col-6 col-s-9\">\r\n\t\t\t<h1>画廊</h1>\r\n\t\t\t<p>\r\n\t\t\t\t<div class=\"text\">\r\n\t\t\t\t<table border=\"1\" style=\"border-collapse: collapse;\">\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<img height=\"100%\" width=\"100%\" src=\"pictures/pic1.bmp\">\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t3DS浏览本网站珍贵照片<br>（3ds浏览器不能正常显示中文）\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<img height=\"100%\" width=\"100%\" src=\"https://z3.ax1x.com/2021/08/25/hEqdAA.jpg\">\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t3DS上的『老猫系统』（其实是一个壁纸）\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<img height=\"100%\" width=\"100%\" src=\"https://z3.ax1x.com/2021/08/25/hE7FfK.gif\">\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t老猫的动画（三篇中唯一拿的出手的）\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<img height=\"170%\" width=\"170%\" src=\"https://z3.ax1x.com/2021/08/25/hETxOJ.jpg\">\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t在小柴家电脑上运行的老猫第一个游戏《狗蛋儿传奇》（ndsi拍摄）\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t【字体版权原因，图片已被删除】\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t网站之前的大LOGO\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<img height=\"100%\" width=\"100%\" src=\"https://txc233.cn/pictures/%E7%95%8C%E9%9D%A23.png\">\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t没有使用过的背景图\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<img height=\"100%\" width=\"100%\" src=\"https://txc233.cn/pictures/jh.png\">\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t主页进化史（图片较大，可以右键/长按看原图）\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n<br><br></p>\r\n\t\t</div>\r\n\r\n\t\t</div>\r\n\r\n<div class=\"col-3 col-s-12\">\r\n\t<div class=\"aside\">\r\n\t\t<h2>关于</h2>\r\n\t\t<p>\r\n\t\t\t<div class=\"text\">\r\n\t\t\t\t这是最新的更新，现在已经注册了独立域名（txc233.cn）请记住本域名，不要再访问以前的网站。<br><strong style=\"color: red;\" >我已经注册了爱发电，赞助一下，是我网站唯一的收入来源！赞助链接：<a href=\"https://afdian.net/@txc233_cn\"target=\"_blank\">https://afdian.net/@txc233_cn</a></strong><small><br>或者扫描二维码：<br><img src=\"https://txc233.cn/pictures/bg.png\"><br>声明：本网站除了以上赞助方法没有其他渠道！也没有设立任何QQ群！</small>\r\n\t\t\t\t<p><button style=\"text-decoration:none\" target=\"_blank\" onclick=\"myFunction()\">《铅笔猫的史诗级大冒险》<br>游戏下载</button>\r\n\t\t\t\t</p>\r\n\t\t\t\t<h2>合作伙伴</h2>\r\n\t\t\t\t<a href=\"https://vasebit.com/\" target=\"_blank\">\r\n\t\t\t\t<img height=\"100%\" width=\"100%\" src=\"pictures/vasebit.png\"></a><strong>\r\n\t\t\t\t<?php\r\n\t\t\t\t// $ads = json_decode(file_get_contents(\"https://api.bnpo.xyz/ads/index.php\"));\r\n\t\t\t\t// echo $ads;\r\n\t\t\t\t// ?>\r\n</strong>\r\n\t\t\t</div>\r\n\t\t</p>\r\n\t\t<h2>帮助</h2>\r\n\t\t<div class=\"text\">\r\n\t\t\t<p><b>如果网站出现“429”、“超出访问频率限制”、“刷新”等字样，点刷新按钮即可。</b></p>\r\n\t\t\t<p><br>如果你在浏览网页的途中有什么问题（比如图片显示问题、手机适配问题、字打错）都可以向我报告，获得一些帮助。</p>\r\n\t\t</div>\r\n\t\t<h2>动态</h2><iframe src=\"/后台/news.html\" seamless=\"seamless\" height=\"200px\" width=\"100%\" scrolling=\"auto\"\r\n\t\t\tframeborder=\"1\" style=\"overflow-x:hidden\"></iframe>\r\n\t\t<h2>友情链接</h2>\r\n\t\t<ul>\r\n\t\t\t<li><a href=\"https://vasebit.com\" target=\"_blank\">Vasebit</a></li>\r\n\t\t\t<li><a href=\"https://xiaochai.txc233.cn\" target=\"_blank\">小柴（白铃）的网站</a></li>\r\n\t\t\t<li><a href=\"https://txcxiaochai.666forum.com\" target=\"_blank\">小柴的论坛</a></li>\r\n\t\t\t<li><a href=\"https://oldcat.666forum.com\" target=\"_blank\">老猫的论坛</a></li>\r\n\t\t</ul>\r\n\t</div>\r\n</div> \r\n\r\n\r\n\t</div>\r\n\r\n\t<div class=\"footer\">\r\n\t\t<p class=\"text\" style=\"text-align: center;\">本站由 <a href=\"https://host.retiehe.com/\"target=\"_blank\" style=\"color: black\">热铁盒网页托管</a> 作为服务器，无需备案。<br>网站内容版权归于TXC团队成员，部分使用的字体版权归方正字体公司和其他公司。网站图标属于小柴对于手鼓猫的二次创作（版权共有）。转载请注明网址。<br><a href=\"https://icp.gov.moe/?keyword=20219964\" target=\"_blank\">萌ICP备20219964号</a></p>\r\n\t</div>\r\n\r\n</body>\r\n\r\n</html>","things.php":"<!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n\t<title>TXC团队主页</title>\r\n\t<!--定义标题-->\r\n\t<LINK REL=\"SHORTCUT ICON\" HREF=\"https://xiaochai.txc233.cn/png/LOGO2.ico\">\r\n\t<!--定义图标-->\r\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"css/into.css\" />\r\n\t<!--定义css-->\r\n\t<script type=\"text/javascript\" src=\"js/home.js\"></script>\r\n\t<!--定义js-->\r\n\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n\t<!--控制页面尺寸和缩放比例-->\r\n\t<script src=\"https://eqcn.ajz.miesnfu.com/wp-content/plugins/wp-3d-pony/live2dw/lib/L2Dwidget.min.js\"></script>\r\n\t<script type=\"text/javascript\" src=\"js/cat.js\"></script>\r\n\t<!--看板猫-->\r\n</head>\r\n\r\n<body>\r\n\r\n\t<div class=\"header\">\r\n\t\t<h1>TXC 团队主页<br></h1>\r\n\t\t<p id=\"hitokoto\"><a class='yy'href=\"#\" id=\"hitokoto_text\"></a></p>\r\n\t\t<p id=\"title\" class='yy'></p>\r\n\t\t<script type=\"text/javascript\" src=\"js/as.js\"></script>\r\n\t</div>\r\n\r\n\t<div class=\"row\">\r\n\t\t<div class=\"col-3 col-s-3 menu\">\r\n\t\t\t<ul>\r\n\t\t\t\t<a href=\"/home\" style=\"text-decoration:none\"><li>介绍</li></a>\r\n\t\t\t\t<a href=\"/things\" style=\"text-decoration:none\"><li>▶作品</li></a>\r\n\t\t\t\t<a href=\"/about\" style=\"text-decoration:none\"><li>人设</li></a>\r\n\t\t\t\t<a href=\"/pic\" style=\"text-decoration:none\"><li>画廊</li></a>\r\n\t\t\t\t<a href=\"/blog\" style=\"text-decoration:none\"><li>新闻</li></a>\r\n\t\t\t\t<a href=\"/oldhome\" style=\"text-decoration:none\"><li>黑历史</li></a>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"col-6 col-s-9\">\r\n\t\t\t<h1>我们的作品</h1>\r\n\t\t\t<p>\r\n\t\t\t\t<li>老猫自建自用起始页 <a href=\"limestart.html\" >点我进入</a><br><br></li>\r\n\t\t\t\t<li>公告：《铅笔猫的史诗级大冒险 2》不会再发布，将会作为 DLC 加入《铅笔猫的史诗级大冒险 Plus》，最终命名暂为《铅笔猫的史诗级大冒险：黄金版》。（那我什么时候开始做呢？打个比方，中考后？）</li>\r\n<li><i>\r\n\t<pre class=\"text\" style=\"text-align: center;\"><img class=\"si\"src=\"https://txc233.cn/png/fire.png\"><img class=\"si\"src=\"https://txc233.cn/png/fire.png\">今年最火RPG游戏<img class=\"si\"src=\"https://txc233.cn/png/fire.png\"><img class=\"si\"src=\"https://txc233.cn/png/fire.png\">\r\n<a style=\"text-decoration:none\" target=\"_blank\" onclick=\"myFunction()\">---<span style=\"color:blue;font-size:20px\">《铅笔猫的史诗级大冒险》</span>---</a>\r\n\r\n我们拥有：\r\n\r\n<img class=\"si\"src=\"https://txc233.cn/png/fire.png\">最NB的战斗系统<img class=\"si\"src=\"https://txc233.cn/png/fire.png\">\r\n\r\n<img class=\"si\"src=\"https://txc233.cn/png/fire.png\">最强大的游戏功能<img class=\"si\"src=\"https://txc233.cn/png/fire.png\">\r\n\r\n<img class=\"si\"src=\"https://txc233.cn/png/fire.png\">最完美的兼容性<img class=\"si\"src=\"https://txc233.cn/png/fire.png\">\r\n\r\n<img class=\"si\"src=\"https://txc233.cn/png/fire.png\">最真实的剧情<img class=\"si\"src=\"https://txc233.cn/png/fire.png\">\r\n\r\n<img class=\"si\"src=\"https://txc233.cn/png/fire.png\">最清晰的画质<img class=\"si\"src=\"https://txc233.cn/png/fire.png\">\r\n\r\n我们做了一个违背祖宗的决定！\r\n我们宣布！\r\n\r\n\r\n《铅笔猫的史诗级大冒险》全部免费！\r\n\r\n最激动人心的冒险<img class=\"si\"src=\"https://txc233.cn/png/loveeye.png\">\r\n最刺激的游戏体验<img class=\"si\"src=\"https://txc233.cn/png/lovemouse.png\">\r\n\r\n<img class=\"si\"src=\"https://txc233.cn/png/right.png\">暂停下载中, 请联系oldcatmiku@qq.com<img class=\"si\"src=\"https://txc233.cn/png/left.png\">\r\n\r\n\r\n(小柴写的)</pre>\r\n</i></li>\r\n<br><br>\r\n\r\n<li><a href=\"/oldcatks.html\">老猫口算（不适配手机）</a></li>\r\n\t<li>动画：铅笔猫的日常，<a href=\"rh.html\" target=\"_blank\">点我</a>。推荐进入后右键保存在本地看，不然容易掉帧卡顿。</li>\r\n\t<li>铅笔猫的<a href=\"/鬼畜三级测试卷 (2).docx\" download=\"三级鬼畜考试劵.docx\">三级鬼畜考试</a>或\r\n\t\t<a href=\"https://txc233.lanzoui.com/ic2u3dmdggf\" target=\"_blank\">第一版（有关于TXC团队的题目）。</a></li>\r\n\t<li>漫画：<a href=\"https://txc233.lanzoui.com/ici7loh\" target=\"_blank\">沙雕营销号的神奇操作2</a>\r\n\t</li>\r\n\t<li>视频：<a href=\"https://txc233.lanzoui.com/i4OLjdmdija\" target=\"_blank\">T X C 套\r\n\t\t\t娃</a></li>\r\n\t<li>图片：<a href=\"https://s1.ax1x.com/2020/06/25/NBjirD.\" target=\"_blank\">胡闹厨房沙雕时刻</a>\r\n\t</li><li>《铅笔猫的史诗级大冒险》视频混剪，<font color=\"#FF2800\">剧透警告！</font><a href=\"vidio/a.html\">点我查看</a></li>\r\n\r\n\t<br><br>\r\n<h1>推荐</h1>\r\n<li><s>老猫从这个游戏里抽到了 Switch </s></li>\r\n\r\n<iframe src=\"https://store.steampowered.com/widget/1832640/\" frameborder=\"0\" width=\"646\" height=\"190\" style=\"width:100%;margin: 0 8px\"></iframe>\r\n\r\n<br><br></p>\r\n\t\t</div>\r\n\r\n<div class=\"col-3 col-s-12\">\r\n\t<div class=\"aside\">\r\n\t\t<h2>关于</h2>\r\n\t\t<p>\r\n\t\t\t<div class=\"text\">\r\n\t\t\t\t这是最新的更新，现在已经注册了独立域名（txc233.cn）请记住本域名，不要再访问以前的网站。<br><strong style=\"color: red;\" >我已经注册了爱发电，赞助一下，是我网站唯一的收入来源！赞助链接：<a href=\"https://afdian.net/@txc233_cn\"target=\"_blank\">https://afdian.net/@txc233_cn</a></strong><small><br>或者扫描二维码：<br><img src=\"https://txc233.cn/pictures/bg.png\"><br>声明：本网站除了以上赞助方法没有其他渠道！也没有设立任何QQ群！</small>\r\n\t\t\t\t<p><button style=\"text-decoration:none\" target=\"_blank\" onclick=\"myFunction()\">《铅笔猫的史诗级大冒险》<br>游戏下载</button>\r\n\t\t\t\t</p>\r\n\t\t\t\t<h2>合作伙伴</h2>\r\n\t\t\t\t<a href=\"https://vasebit.com/\" target=\"_blank\">\r\n\t\t\t\t<img height=\"100%\" width=\"100%\" src=\"pictures/vasebit.png\"></a><strong>\r\n\t\t\t\t<?php\r\n\t\t\t\t// $ads = json_decode(file_get_contents(\"https://api.bnpo.xyz/ads/index.php\"));\r\n\t\t\t\t// echo $ads;\r\n\t\t\t\t// ?>\r\n</strong>\r\n\t\t\t</div>\r\n\t\t</p>\r\n\t\t<h2>帮助</h2>\r\n\t\t<div class=\"text\">\r\n\t\t\t<p><b>如果网站出现“429”、“超出访问频率限制”、“刷新”等字样，点刷新按钮即可。</b></p>\r\n\t\t\t<p><br>如果你在浏览网页的途中有什么问题（比如图片显示问题、手机适配问题、字打错）都可以向我报告，获得一些帮助。</p>\r\n\t\t</div>\r\n\t\t<h2>动态</h2><iframe src=\"/后台/news.html\" seamless=\"seamless\" height=\"200px\" width=\"100%\" scrolling=\"auto\"\r\n\t\t\tframeborder=\"1\" style=\"overflow-x:hidden\"></iframe>\r\n\t\t<h2>友情链接</h2>\r\n\t\t<ul>\r\n\t\t\t<li><a href=\"https://vasebit.com\" target=\"_blank\">Vasebit</a></li>\r\n\t\t\t<li><a href=\"https://xiaochai.txc233.cn\" target=\"_blank\">小柴（白铃）的网站</a></li>\r\n\t\t\t<li><a href=\"https://txcxiaochai.666forum.com\" target=\"_blank\">小柴的论坛</a></li>\r\n\t\t\t<li><a href=\"https://oldcat.666forum.com\" target=\"_blank\">老猫的论坛</a></li>\r\n\t\t</ul>\r\n\t</div>\r\n</div> \r\n\r\n\t</div>\r\n\r\n\t<div class=\"footer\">\r\n\t\t<p class=\"text\" style=\"text-align: center;\">本站由 <a href=\"https://host.retiehe.com/\"target=\"_blank\" style=\"color: black\">热铁盒网页托管</a> 作为服务器，无需备案。<br>网站内容版权归于TXC团队成员，部分使用的字体版权归方正字体公司和其他公司。网站图标属于小柴对于手鼓猫的二次创作（版权共有）。转载请注明网址。<br><a href=\"https://icp.gov.moe/?keyword=20219964\" target=\"_blank\">萌ICP备20219964号</a></p>\r\n\t</div>\r\n\r\n</body>\r\n\r\n</html>","as.php":"<div class=\"col-3 col-s-12\">\r\n\t<div class=\"aside\">\r\n\t\t<h2>关于</h2>\r\n\t\t<p>\r\n\t\t\t<div class=\"text\">\r\n\t\t\t\t这是最新的更新，现在已经注册了独立域名（txc233.cn）请记住本域名，不要再访问以前的网站。<br><strong style=\"color: red;\" >我已经注册了爱发电，赞助一下，是我网站唯一的收入来源！赞助链接：<a href=\"https://afdian.net/@txc233_cn\"target=\"_blank\">https://afdian.net/@txc233_cn</a></strong><small><br>或者扫描二维码：<br><img src=\"https://txc233.cn/pictures/bg.png\"><br>声明：本网站除了以上赞助方法没有其他渠道！也没有设立任何QQ群！</small>\r\n\t\t\t\t<p><button style=\"text-decoration:none\" target=\"_blank\" onclick=\"myFunction()\">《铅笔猫的史诗级大冒险》<br>游戏下载</button>\r\n\t\t\t\t</p>\r\n\t\t\t\t<h2></h2>\r\n\t\t\t\t<p id=\"rcorners2\"><img height=\"100%\" width=\"100%\" src=\"png/logo-dark.png\"></p>\r\n\t\t\t</div>\r\n\t\t</p>\r\n\t\t<h2>帮助</h2>\r\n\t\t<div class=\"text\">\r\n\t\t\t<p><b>如果网站出现“429”、“超出访问频率限制”、“刷新”等字样，点刷新按钮即可。</b></p>\r\n\t\t\t<p><br>如果你在浏览网页的途中有什么问题（比如图片显示问题、手机适配问题、字打错）都可以向我报告，获得一些帮助。</p>\r\n\t\t</div>\r\n\t\t<h2>动态</h2><iframe src=\"/后台/news.html\" seamless=\"seamless\" height=\"200px\" width=\"100%\" scrolling=\"auto\"\r\n\t\t\tframeborder=\"1\" style=\"overflow-x:hidden\"></iframe>\r\n\t\t<h2>广告位招租</h2>\r\n\t\t<p id=\"rcorners2\">Please Email chenzicongok@foxmail.</p>\r\n\t\t<h2>友情链接</h2>\r\n\t\t<ul>\r\n\t\t\t<li><a href=\"https://xiaochai.txc233.cn\" target=\"_blank\">小柴（白铃）的网站</a></li>\r\n\t\t\t<li><a href=\"https://txcxiaochai.666forum.com\" target=\"_blank\">小柴的论坛</a></li>\r\n\t\t\t<li><a href=\"https://oldcat.666forum.com\" target=\"_blank\">老猫的论坛</a></li>\r\n\t\t</ul>\r\n\t</div>\r\n</div> ","png/logo.jpeg":{"size":9418,"type":"image/jpeg","url":"chenzicongokq6eqkx/txc233.cn/c785f1cd42cc47ef6f27ec4cfd2d8d3d/1641103825.jpeg"},"js/home.js":"function myFunction() {\r\n  var txt;\r\n  if (confirm(\"现在已经暂停下载,请联系oldcatmiku@qq.com\")) {\r\n\t  txt = '';\r\n  } else {\r\n\t  txt = '';\r\n  }\r\n}","css/light.css":"*{\r\n\tfbox-sizing: border-box;\r\n\toutline: 0\r\n}\r\n\r\na{\r\n\tcolor: inherit;\r\n}\r\n\r\nbody{\r\n\tbackground-color: #1e1e1e;\r\n\tcolor: #fff;\r\n\tcursor: default;\r\n\tfont-family: Helvetica,sans-serif;\r\n\tfont-size: 16px;\r\n\tmargin: 57px 15px 15px;\r\n\t-webkit-tap-highlight-color: transparent;\r\n}\r\n\r\nheader{\r\n\t-webkit-backdrop-filter: blur(10px);\r\n\tbackdrop-filter: blur(10px);\r\n\tbackground-color: rgba(255,255,255,.1);\r\n\tbox-shadow: 0 2px 2px rgba(0,0,0,.2);\r\n\tleft: 0;\r\n\tline-height: 22px;\r\n\tpadding: 10px 15px;\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\t-webkit-user-select: none;\r\n\tuser-select: none;\r\n\twidth: 100%\r\n}\r\n\r\nh1{\r\n\tmargin: 15px 0\r\n}\r\n\r\nmain{\r\n\tdisplay: block;\r\n}\r\n\r\n.bg-img{\r\n\tbackground-attachment: fixed;\r\n\tbackground-image: url(https: //assets.retiehe.com/inukshuk-q50.webp);\r\n\tbackground-position: center;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-size: cover;\r\n\t-webkit-filter: blur(10px);\r\n\tfilter: blur(10px);\r\n\theight: 100%;\r\n\tleft: 0;\r\n\topacity: .5;\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\ttransform: scale(1.1);\r\n\twidth: 100%;\r\n\tz-index: -1;\r\n}\r\n\r\n","css/daan.css":"h1{\r\n  text-align: center;\r\n}\r\np{\r\n  text-align: center;\r\n}\r\nbody{background-color: rgba(0, 0, 0, 0.192);\r\n   background:url(https://txc233.cn/pictures/daan.jpg);\r\n\tbackground-position: center;\t\r\n\tbackground-repeat:no-repeat;\r\n\tbackground-attachment: fixed;\r\n\t\r\n\t}\r\n.box{\r\n   margin-top: 10%;\r\n  \tmargin-left: 10%;\r\n   margin-right: 10%;\r\n   text-align: center;\r\n   border: 3px solid green;\r\n\tpadding:auto,auto;\r\n\tbackground:rgb(238, 238, 238, 0.4);\r\n\tfilter:blur(5px);\r\n\tborder-radius:25px;\r\n   box-shadow: 10px 10px 5px hsla(0, 0%, 53%);\r\n   position:relative;\r\n}","pictures/daan.jpg":{"size":2077231,"type":"image/jpeg","url":"chenzicongokq6eqkx/txc233.cn/4adaa2d28d11223f234ed6c5124bf4e8/1641992297.jpg"},"daan.html":"<script>\r\nwindow.location.href=\"https://bnpsft.oss-cn-hangzhou.aliyuncs.com/202201121645.pdf\"\r\n</script>","lie.html":"\r\n<script>\r\nwindow.location.href=\"//www.bilibili.com/video/BV1GJ411x7h7\"\r\n</script>","gyhj.html":"<script>\r\nwindow.location.href=\"//ngy.kexinshe.com\"\r\n</script>","limestart.html":"<!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n\t<meta charset=\"utf-8\">\r\n\t<link REL=\"SHORTCUT ICON\" HREF=\"https://limestart{$rthSuffix}/Orange_Logo.png\">\r\n\t<link href=\"https://limestart{$rthSuffix}/light.css\" rel=\"stylesheet\" type=\"text/css\" id=\"ss\" />\r\n\t<script type=\"text/javascript\" src=\"https://limestart{$rthSuffix}/js.js\"></script>\r\n\t<title>老猫起始页</title>\r\n</head>\r\n\r\n<body>\r\n\t<main>\r\n\t\t<div style=\"font-family: 'Myfont2';\">\r\n\t\t\t<div id=\"Date\" class=\"a\" onclick=\"cst()\">开始</div>\r\n\t\t\t   <div class=\"container\">\r\n\t\t<form id=\"bdfm\" target=\"_blank\" action=\"https://cn.bing.com/search\" class=\"parent\">\r\n\t\t\t<input type=\"text\" class=\"search\" autocomplete=\"off\" autofocus=\"autofocus\" placeholder=\"搜索\" id=\"search1\" name=\"q\">\r\n\t\t\t<input type=\"submit\" class=\"btn\" id=\"search1\" value=\"\">\r\n\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t</div>\r\n\t</main>\r\n\t<nomain>\r\n\t\t<div style=\"font-family: Myfont2;\">\r\n\t\t\t<div class=\"b\" id=\"hitokoto\">\r\n\t\t\t\t<a href=\"#\" class=\"b\" id=\"hitokoto_text\" style=\"text-decoration: none;\" title=\"由【一言】提供接口\">:D 获取中...</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</nomain>\r\n\r\n</body>\r\n\r\n</html>","long.html":"<!DOCTYPE html>\r\n<style>\r\n\r\n\tp{margin: 1*100px }\r\n\t</style>\r\n\t<p>a</p>","pictures/gg.png":{"size":271,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/65fa72a7952b9b2dfff027b88276dc73/1660825734.png"},"pictures/vasebit-2.png":{"size":20307,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/b9127554d3a61d250cacf7929f2a036a/1660834351.png"},"pictures/vasebit.png":{"size":2870,"type":"image/png","url":"chenzicongokq6eqkx/txc233.cn/6471fd71be432d8411729697252d04ec/1660870752.png"}}